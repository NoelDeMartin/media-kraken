(function(t){self["webpackChunk"]=function(e,n){for(var i in n)t[i]=n[i];while(e.length)r[e.pop()]=1};var e={},r={0:1};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.e=function(t){var e=[];return e.push(Promise.resolve().then((function(){r[t]||importScripts(n.p+"js/"+({"authentication-inrupt":"authentication-inrupt","authentication-legacy":"authentication-legacy"}[t]||t)+"."+{"authentication-inrupt":"695f942d","authentication-legacy":"2a02f0bd"}[t]+".worker.js")}))),Promise.all(e)},n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/media-kraken/",n(n.s="d685")})({0:function(t,e){},"0067":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordContext=void 0;const n=r("e6e5"),i=r("f232");class o extends i.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(t,e,r,i,o,a){t.streamingProfile&&(t.processingStack[a]||t.processingType[a]||void 0!==t.idStack[a])&&t.emitError(new n.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const s=t.getContext(i),u=t.parseContext(o,(await s).getContextRaw());t.contextTree.setContext(i.slice(0,-1),u),t.emitContext(o),await t.validateContext(await u)}}e.EntryHandlerKeywordContext=o},"00ee":function(t,e,r){var n=r("b622"),i=n("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},"0366":function(t,e,r){var n=r("1c0b");t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},"0481":function(t,e,r){"use strict";var n=r("23e7"),i=r("a2bf"),o=r("7b0b"),a=r("50c4"),s=r("a691"),u=r("65f0");n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),r=a(e.length),n=u(e,0);return n.length=i(n,e,e,r,0,void 0===t?1:s(t)),n}})},"0538":function(t,e,r){"use strict";var n=r("1c0b"),i=r("861d"),o=[].slice,a={},s=function(t,e,r){if(!(e in a)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";a[e]=Function("C,a","return new C("+n.join(",")+")")}return a[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=o.call(arguments,1),a=function(){var n=r.concat(o.call(arguments));return this instanceof a?s(e,n.length,n):e.apply(t,n)};return i(e.prototype)&&(a.prototype=e.prototype),a}},"057f":function(t,e,r){var n=r("fc6a"),i=r("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(n(t))}},"06cf":function(t,e,r){var n=r("83ab"),i=r("d1e7"),o=r("5c6c"),a=r("fc6a"),s=r("c04e"),u=r("5135"),c=r("0cfb"),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(r){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},"07ac":function(t,e,r){var n=r("23e7"),i=r("6f53").values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},"0960":function(t,e,r){t.exports=r("b19a")},"0aac":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerType=void 0;const n=r("bfb1"),i=r("882b");class o{canCombineWithGraph(){return!1}async handle(t,e,r,o,a,s){if(!Array.isArray(a)){if("string"===typeof a){const t=await e.getContext(o),n=i.Util.getContextValueType(t,o[s-1]),u="@vocab"===n?await r.createVocabOrBaseTerm(t,a):await r.resourceToTerm(t,a);if(u){const t={"@id":"NamedNode"===u.termType?u.value:a};await e.newOnValueJob(o.slice(0,o.length-1),t,s-1,!0),e.idStack[s+1]=[u]}}else{const t=!!e.idStack[s+1];t||delete e.idStack[s],await e.newOnValueJob(o.slice(0,o.length-1),a,s-1,!0),t||(e.idStack[s+1]=e.idStack[s])}const t=await r.getContainerKey(o[s],o,s),u=null!==t?r.createVocabOrBaseTerm(await e.getContext(o),t):null;u&&await n.EntryHandlerPredicate.handlePredicateObject(e,r,o,s+1,r.rdfType,u,!1),await e.handlePendingContainerFlushBuffers()}e.emittedStack[s]=!1}}e.ContainerHandlerType=o},"0bc7":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},"0ccb":function(t,e,r){var n=r("50c4"),i=r("1148"),o=r("1d80"),a=Math.ceil,s=function(t){return function(e,r,s){var u,c,l=String(o(e)),f=l.length,h=void 0===s?" ":String(s),d=n(r);return d<=f||""==h?l:(u=d-f,c=i.call(h,a(u/h.length)),c.length>u&&(c=c.slice(0,u)),t?l+c:c+l)}};t.exports={start:s(!1),end:s(!0)}},"0cfb":function(t,e,r){var n=r("83ab"),i=r("d039"),o=r("cc12");t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d3b":function(t,e,r){var n=r("d039"),i=r("b622"),o=r("c430"),a=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e["delete"]("b"),r+=n+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},1:function(t,e){},1065:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdParser=void 0;const n=r("c13b"),i=r("e6e5"),o=r("d485"),a=r("56f4"),s=r("af6b"),u=r("72a3"),c=r("bfb1"),l=r("0067"),f=r("88de"),h=r("c317"),d=r("c154"),p=r("2019"),v=r("9d5a"),y=r("c28b"),g=r("1be5"),b=r("202f"),m=r("882b"),w=r("c7e2");class _ extends o.Transform{constructor(t){super({readableObjectMode:!0}),t=t||{},this.options=t,this.parsingContext=new b.ParsingContext(Object.assign({parser:this},t)),this.util=new m.Util({dataFactory:t.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new n,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners()}static fromHttpResponse(t,e,r,n){let o,a;if("application/ld+json"!==e){if("application/json"!==e&&!e.endsWith("+json"))throw new i.ErrorCoded("Unsupported JSON-LD media type "+e,i.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(r&&r.has("Link")&&r.forEach((e,r)=>{if("link"===r){const r=w.parse(e);for(const e of r.get("rel","http://www.w3.org/ns/json-ld#context")){if(o)throw new i.ErrorCoded("Multiple JSON-LD context link headers were found on "+t,i.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);o=e.uri}}}),!o&&!(null===n||void 0===n?void 0:n.ignoreMissingContextLinkHeader))throw new i.ErrorCoded(`Missing context link header for media type ${e} on ${t}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}if(r&&r.has("Content-Type")){const t=r.get("Content-Type"),e=/; *profile=([^"]*)/.exec(t);e&&"http://www.w3.org/ns/json-ld#streaming"===e[1]&&(a=!0)}return new _(Object.assign({baseIRI:t,context:o,streamingProfile:a},n||{}))}import(t){const e=new o.PassThrough({readableObjectMode:!0});t.on("error",t=>r.emit("error",t)),t.on("data",t=>e.push(t)),t.on("end",()=>e.push(null));const r=e.pipe(new _(this.options));return r}_transform(t,e,r){this.jsonParser.write(t),this.lastOnValueJob.then(()=>r(),t=>r(t))}async newOnValueJob(t,e,r,n){let o=!0;if(n&&r<this.lastDepth){const t=this.parsingContext.listPointerStack[this.lastDepth];t&&(t.value&&this.emit("data",this.util.dataFactory.quad(t.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),t.listId.listHead=!0,this.parsingContext.idStack[t.listRootDepth+1]=[t.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await s.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),o=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const a=await this.util.unaliasKeyword(t[r],t,r),u=await this.util.unaliasKeywordParent(t,r);this.parsingContext.emittedStack[r]=!0;let c=!0;i.Util.isValidKeyword(a)&&"@reverse"===u&&this.emit("error",new i.ErrorCoded(`Found the @id '${e}' inside an @reverse property`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let l=!1;this.parsingContext.validationStack.length>1&&(l=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let i=Math.max(1,this.parsingContext.validationStack.length-1);i<t.length-1;i++){const e=this.parsingContext.validationStack[i]||(this.parsingContext.validationStack[i]=await this.validateKey(t.slice(0,i+1),i,l));if(!e.valid){this.parsingContext.emittedStack[r]=!1,c=!1;break}!l&&e.property&&(l=!0)}if(this.util.isLiteral(r)&&(c=!1),c)for(const i of _.ENTRY_HANDLERS){const n=await i.test(this.parsingContext,this.util,a,t,r);if(n){await i.handle(this.parsingContext,this.util,a,t,e,r,n),i.isStackProcessor()&&(this.parsingContext.processingStack[r]=!0);break}}0===r&&Array.isArray(e)&&await this.util.validateValueIndexes(e),o&&r<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=r,this.lastKeys=t,this.parsingContext.unaliasedKeywordCacheStack.splice(r-1)}flushStacks(t){this.parsingContext.processingStack.splice(t,1),this.parsingContext.processingType.splice(t,1),this.parsingContext.emittedStack.splice(t,1),this.parsingContext.idStack.splice(t,1),this.parsingContext.graphStack.splice(t+1,1),this.parsingContext.graphContainerTermStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1),this.parsingContext.validationStack.splice(t-1,2),this.parsingContext.literalStack.splice(t,this.parsingContext.literalStack.length-t)}async flushBuffer(t,e){let r=this.parsingContext.idStack[t];r||(r=this.parsingContext.idStack[t]=[this.util.dataFactory.blankNode()]);const n=this.parsingContext.unidentifiedValuesBuffer[t];if(n){for(const i of r){const r=await this.util.getDepthOffsetGraph(t,e),o=this.parsingContext.graphStack[t]||r>=0?this.parsingContext.idStack[t-r-1]:[await this.util.getGraphContainerValue(e,t)];if(o)for(const e of o){this.parsingContext.emittedStack[t]=!0;for(const r of n)r.reverse?this.parsingContext.emitQuad(t,this.util.dataFactory.quad(r.object,r.predicate,i,e)):this.parsingContext.emitQuad(t,this.util.dataFactory.quad(i,r.predicate,r.object,e))}else{const r=this.parsingContext.getUnidentifiedGraphBufferSafe(t-await this.util.getDepthOffsetGraph(t,e)-1);for(const t of n)t.reverse?r.push({object:i,predicate:t.predicate,subject:t.object}):r.push({object:t.object,predicate:t.predicate,subject:i})}}this.parsingContext.unidentifiedValuesBuffer.splice(t,1),this.parsingContext.literalStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1)}const i=this.parsingContext.unidentifiedGraphsBuffer[t];if(i){for(const e of r){const r=1!==t||"BlankNode"!==e.termType||this.parsingContext.topLevelProperties?e:this.util.getDefaultGraph();this.parsingContext.emittedStack[t]=!0;for(const e of i)this.parsingContext.emitQuad(t,this.util.dataFactory.quad(e.subject,e.predicate,e.object,r))}this.parsingContext.unidentifiedGraphsBuffer.splice(t,1)}}async validateKey(t,e,r){for(const n of _.ENTRY_HANDLERS)if(await n.validate(this.parsingContext,this.util,t,e,r))return{valid:!0,property:r||n.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=t=>{const e=this.jsonParser.stack.length,r=new Array(e+1).fill(0).map((t,r)=>r===e?this.jsonParser.key:this.jsonParser.stack[r].key);if(!this.isParsingContextInner(e)){const n=()=>this.newOnValueJob(r,t,e,!0);if(this.parsingContext.streamingProfile||this.parsingContext.contextTree.getContext(r.slice(0,-1)))this.lastOnValueJob=this.lastOnValueJob.then(n);else if("@context"===r[e]){let t=this.contextJobs[e];t||(t=this.contextJobs[e]=[]),t.push(n)}else"@type"===r[e]||"number"===typeof r[e]&&"@type"===r[e-1]?this.typeJobs.push({job:n,keys:r.slice(0,r.length-1)}):this.contextAwaitingJobs.push({job:n,keys:r});this.parsingContext.streamingProfile||0!==e||(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=t=>{this.emit("error",t)}}isParsingContextInner(t){for(let e=t;e>0;e--)if("@context"===this.jsonParser.stack[e-1].key)return!0;return!1}async executeBufferedJobs(){for(const t of this.contextJobs)if(t)for(const e of t)await e();this.parsingContext.unaliasedKeywordCacheStack.splice(0);for(const t of this.contextAwaitingJobs){if(this.typeJobs.length>0){const e=[],r=[];for(let o=0;o<this.typeJobs.length;o++){const n=this.typeJobs[o];m.Util.isPrefixArray(n.keys,t.keys)&&(e.push(n),r.push(o))}const n=e.sort((t,e)=>t.keys.length-e.keys.length);for(const t of n)await t.job();const i=r.sort().reverse();for(const t of i)this.typeJobs.splice(t,1)}await t.job()}}}e.JsonLdParser=_,_.DEFAULT_PROCESSING_MODE="1.1",_.ENTRY_HANDLERS=[new a.EntryHandlerArrayValue,new l.EntryHandlerKeywordContext,new h.EntryHandlerKeywordId,new d.EntryHandlerKeywordIncluded,new f.EntryHandlerKeywordGraph,new p.EntryHandlerKeywordNest,new v.EntryHandlerKeywordType,new g.EntryHandlerKeywordValue,new s.EntryHandlerContainer,new y.EntryHandlerKeywordUnknownFallback,new c.EntryHandlerPredicate,new u.EntryHandlerInvalidFallback]},1148:function(t,e,r){"use strict";var n=r("a691"),i=r("1d80");t.exports="".repeat||function(t){var e=String(i(this)),r="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(r+=e);return r}},1276:function(t,e,r){"use strict";var n=r("d784"),i=r("44e7"),o=r("825a"),a=r("1d80"),s=r("4840"),u=r("8aa5"),c=r("50c4"),l=r("14c3"),f=r("9263"),h=r("d039"),d=[].push,p=Math.min,v=4294967295,y=!h((function(){return!RegExp(v,"y")}));n("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(a(this)),o=void 0===r?v:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!i(t))return e.call(n,t,o);var s,u,c,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,y=new RegExp(t.source,h+"g");while(s=f.call(y,n)){if(u=y.lastIndex,u>p&&(l.push(n.slice(p,s.index)),s.length>1&&s.index<n.length&&d.apply(l,s.slice(1)),c=s[0].length,p=u,l.length>=o))break;y.lastIndex===s.index&&y.lastIndex++}return p===n.length?!c&&y.test("")||l.push(""):l.push(n.slice(p)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=a(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,r):n.call(String(i),e,r)},function(t,i){var a=r(n,t,this,i,n!==e);if(a.done)return a.value;var f=o(t),h=String(this),d=s(f,RegExp),g=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(y?"y":"g"),m=new d(y?f:"^(?:"+f.source+")",b),w=void 0===i?v:i>>>0;if(0===w)return[];if(0===h.length)return null===l(m,h)?[h]:[];var _=0,x=0,E=[];while(x<h.length){m.lastIndex=y?x:0;var S,O=l(m,y?h:h.slice(x));if(null===O||(S=p(c(m.lastIndex+(y?0:x)),h.length))===_)x=u(h,x,g);else{if(E.push(h.slice(_,x)),E.length===w)return E;for(var I=1;I<=O.length-1;I++)if(E.push(O[I]),E.length===w)return E;x=_=S}}return E.push(h.slice(_)),E}]}),!y)},"131a":function(t,e,r){var n=r("23e7"),i=r("d2bb");n({target:"Object",stat:!0},{setPrototypeOf:i})},"13d5":function(t,e,r){"use strict";var n=r("23e7"),i=r("d58f").left,o=r("a640"),a=r("ae40"),s=o("reduce"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"13f1":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const n=r("7096"),i=r("3e6b"),o=r("8ce0"),a=r("9935"),s=r("8026"),u=r("a22a");let c=0;class l{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${c++}_`}namedNode(t){return new a.NamedNode(t)}blankNode(t){return new n.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,e){return new o.Literal(t,e)}variable(t){return new u.Variable(t)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(t,e,r,n){return new s.Quad(t,e,r,n||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(o.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}}e.DataFactory=l},"14c3":function(t,e,r){var n=r("c6b6"),i=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var o=r.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,r){var n=r("da84"),i=r("fdbc"),o=r("17c2"),a=r("9112");for(var s in i){var u=n[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(l){c.forEach=o}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,i=r("a640"),o=r("ae40"),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"191b":function(t,e,r){"use strict";r("d3b7"),r("96cf");var n,i,o=r("c964"),a=r("276c"),s=r("e954"),u=r("2197"),c=r("d709"),l=r("fbd1");(function(t){t["LoggedIn"]="logged-in",t["LoggingIn"]="logging-in",t["Failed"]="failed"})(n||(n={})),function(t){t["Inrupt"]="inrupt",t["Legacy"]="legacy"}(i||(i={}));var f,h=i.Inrupt,d=r("fc11"),p=r("92a6"),v=r("920b"),y=(r("caad"),r("d81d"),r("2532"),r("3ca3"),r("ddb0"),r("f3f3")),g=function(){function t(){Object(a["a"])(this,t),this.listeners=Object(u["arr"])([])}return Object(s["a"])(t,[{key:"boot",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.booted){t.next=2;break}return t.abrupt("return",this.booted);case 2:return this.booted=new u["PromisedValue"],t.next=5,this.startSession();case 5:this.booted.resolve();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"addListener",value:function(t){var e=this;return this.listeners.includes(t)||this.listeners.push(t),function(){e.removeListener(t)}}},{key:"removeListener",value:function(t){this.listeners.includes(t)&&this.listeners.remove(t)}},{key:"onSessionStarted",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.listeners.toArray().map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,null===(i=n.onSessionStarted)||void 0===i?void 0:i.call(n,Object(y["a"])({authenticator:r},e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onSessionEnded",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.listeners.toArray().map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,null===(r=e.onSessionEnded)||void 0===r?void 0:r.call(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),b=function(){function t(){Object(a["a"])(this,t),this.listeners={}}return Object(s["a"])(t,[{key:"on",value:function(t,e){var r=this;return t in this.listeners||(this.listeners[t]=Object(u["arr"])([])),this.listeners[t].push(e),function(){return r.off(t,e)}}},{key:"off",value:function(t,e){t in this.listeners&&(this.listeners[t].remove(e),this.listeners[t].isEmpty()&&delete this.listeners[t])}},{key:"once",value:function(t,e){var r=this.on(t,(function(t){e(t),r()}))}},{key:"emit",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e in this.listeners){t.next=2;break}return t.abrupt("return");case 2:return n=this.listeners[e],t.next=5,Promise.all(n.map((function(t){return t(r)})));case 5:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"until",value:function(t){var e=this;return new Promise((function(r){return e.once(t,r)}))}}]),t}(),m=new b,w=function(t){Object(v["a"])(i,t);var e=Object(p["a"])(i);function i(){return Object(a["a"])(this,i),e.apply(this,arguments)}return Object(s["a"])(i,[{key:"startSession",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.e("authentication-inrupt").then(r.bind(null,"239e"));case 2:return e=t.sent,n=e.default,i=n.fetch,o=n.handleIncomingRedirect,a=n.login,s=n.logout,this.fetch=i,this._login=a,this._logout=s,t.next=13,o(window.location.href);case 13:if(u=t.sent,!(null===u||void 0===u?void 0:u.isLoggedIn)){t.next=19;break}return t.next=17,m.emit("authenticated-fetch-ready",i);case 17:return t.next=19,this.onSessionStarted({webId:u.webId});case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._login({oidcIssuer:e,clientName:"Media Kraken",redirectUrl:window.location.href});case 2:return t.abrupt("return",n.LoggingIn);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._logout();case 2:return t.next=4,this.onSessionEnded();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),i}(g),_=new w,x=function(t){Object(v["a"])(i,t);var e=Object(p["a"])(i);function i(){return Object(a["a"])(this,i),e.apply(this,arguments)}return Object(s["a"])(i,[{key:"startSession",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.promisedClient){t.next=4;break}return t.next=3,this.promisedClient;case 3:return t.abrupt("return");case 4:return n=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=r||null,(null===(n=r)||void 0===n?void 0:n.webId)!==e){t.next=3;break}return t.abrupt("return");case 3:if(e=null===(i=r)||void 0===i?void 0:i.webId,!e){t.next=9;break}return t.next=7,s.onSessionStarted({webId:e});case 7:t.next=11;break;case 9:return t.next=11,s.onSessionEnded();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.promisedClient=new u["PromisedValue"],t.next=8,r.e("authentication-legacy").then(r.bind(null,"81a1"));case 8:return i=t.sent,a=i.default,this.promisedClient.resolve(a),t.next=13,a.currentSession().then(n);case 13:a.trackSession(n);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.startSession();case 2:return t.next=4,this.promisedClient.value.login(e);case 4:return r=t.sent,t.abrupt("return",r?n.LoggedIn:n.LoggingIn);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.startSession();case 2:return t.next=4,this.promisedClient.value.logout();case 4:u["Storage"].remove("solid-auth-client");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"fetch",get:function(){var t,e=null===(t=this.promisedClient)||void 0===t?void 0:t.value;return e?e.fetch.bind(e):window.fetch}}]),i}(g),E=new x,S=(f={},Object(d["a"])(f,i.Inrupt,_),Object(d["a"])(f,i.Legacy,E),f),O=S,I="media-kraken-solid-auth",R=function(){function t(){Object(a["a"])(this,t)}return Object(s["a"])(t,[{key:"setFetch",value:function(t){this._fetch=t}},{key:"boot",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.listener=e,this.authenticatorListener={onSessionStarted:this.onSessionStarted.bind(this),onSessionEnded:this.onSessionEnded.bind(this)},u["Storage"].has(I)){t.next=4;break}return t.abrupt("return");case 4:return this._previousLogin=u["Storage"].get(I),t.prev=5,t.next=8,this.useAuthenticator(this._previousLogin.authenticationMethod);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](5),e.onError(t.t0);case 13:case"end":return t.stop()}}),t,this,[[5,10]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var i,o,a,s,l,f,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.session){t.next=2;break}return t.abrupt("return",n.LoggedIn);case 2:return r=null!==(i=r)&&void 0!==i?i:h,t.next=5,Object(c["fetchLoginUserProfile"])(e);case 5:return s=t.sent,l=null!==(o=null===s||void 0===s?void 0:s.oidcIssuerUrl)&&void 0!==o?o:Object(u["urlRoot"])(null!==(a=null===s||void 0===s?void 0:s.webId)&&void 0!==a?a:e),f={loginUrl:e,authenticationMethod:r},u["Storage"].set(I,f),t.prev=9,t.next=12,this.useAuthenticator(r);case 12:return d=t.sent,t.next=15,d.login(l);case 15:if(p=t.sent,p!==n.LoggingIn){t.next=19;break}return t.next=19,Object(u["after"])({seconds:10});case 19:return t.abrupt("return",p);case 22:return t.prev=22,t.t0=t["catch"](9),u["Storage"].remove(I),t.abrupt("return",n.Failed);case 26:case"end":return t.stop()}}),t,this,[[9,22]])})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u["Storage"].has(I)&&u["Storage"].remove(I),this._previousLogin&&delete this._previousLogin,t.next=4,null===(e=this.authenticator)||void 0===e?void 0:e.logout();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"useAuthenticator",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.authenticator&&(this.authenticator.removeListener(this.authenticatorListener),delete this.authenticator),this.authenticator=O[e],this.authenticator.addListener(this.authenticatorListener),t.prev=3,t.next=6,this.authenticator.boot();case 6:t.next=13;break;case 8:throw t.prev=8,t.t0=t["catch"](3),this.authenticator.removeListener(this.authenticatorListener),delete this.authenticator,t.t0;case 13:return t.abrupt("return",this.authenticator);case 14:case"end":return t.stop()}}),t,this,[[3,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onSessionStarted",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.webId!==(null===(r=this.session)||void 0===r?void 0:r.webId)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(c["fetchLoginUserProfile"])(e.webId,e.authenticator.fetch);case 4:n=t.sent,i=new l["a"](n),this.session=e,this.listener.onUserUpdated(i);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onSessionEnded",value:function(){this.session&&(delete this.session,this.listener.onUserUpdated(null))}},{key:"fetch",get:function(){var t,e,r;return null!==(t=null!==(e=this._fetch)&&void 0!==e?e:null===(r=this.session)||void 0===r?void 0:r.authenticator.fetch)&&void 0!==t?t:window.fetch.bind(window)}},{key:"previousLogin",get:function(){var t;return null!==(t=this._previousLogin)&&void 0!==t?t:null}}]),t}();e["a"]=new R},"19aa":function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},"1be4":function(t,e,r){var n=r("d066");t.exports=n("document","documentElement")},"1be5":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordValue=void 0;const n=r("f232");class i extends n.EntryHandlerKeyword{constructor(){super("@value")}async test(t,e,r,n,i){return"@value"===await e.unaliasKeyword(n[i],n.slice(0,n.length-1),i-1,!0)}async handle(t,e,r,n,i,o){t.literalStack[o]=!0,delete t.unidentifiedValuesBuffer[o],delete t.unidentifiedGraphsBuffer[o],t.emittedStack[o]=!1}}e.EntryHandlerKeywordValue=i},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,r){var n=r("b622"),i=n("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(u){}return r}},"1cdc":function(t,e,r){var n=r("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,r){var n=r("d039"),i=r("b622"),o=r("2d00"),a=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[],r=e.constructor={};return r[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1fb5":function(t,e,r){"use strict";e.byteLength=l,e.toByteArray=h,e.fromByteArray=v;for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function l(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n}function f(t,e,r){return 3*(e+r)/4-r}function h(t){var e,r,n=c(t),a=n[0],s=n[1],u=new o(f(t,a,s)),l=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[l++]=255&e),1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u}function d(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function p(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(d(n));return i.join("")}function v(t){for(var e,r=t.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(p(t,s,s+a>u?u:s+a));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2019:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordNest=void 0;const n=r("e6e5"),i=r("f232");class o extends i.EntryHandlerKeyword{constructor(){super("@nest")}async handle(t,e,r,i,o,a){"object"!==typeof o&&t.emitError(new n.ErrorCoded(`Found invalid @nest entry for '${r}': '${o}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await e.unaliasKeywords(o,i,a,await t.getContext(i))&&t.emitError(new n.ErrorCoded(`Found an invalid @value node for '${r}'`,n.ERROR_CODES.INVALID_NEST_VALUE)),t.emittedStack[a]=!1}}e.EntryHandlerKeywordNest=o},"202f":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParsingContext=void 0;const n=r("e6e5"),i=r("56af"),o=r("c826"),a=r("1065");class s{constructor(t){this.contextParser=new n.ContextParser({documentLoader:t.documentLoader}),this.streamingProfile=!!t.streamingProfile,this.baseIRI=t.baseIRI,this.produceGeneralizedRdf=!!t.produceGeneralizedRdf,this.allowSubjectList=!!t.allowSubjectList,this.processingMode=t.processingMode||a.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!t.strictValues,this.validateValueIndexes=!!t.validateValueIndexes,this.defaultGraph=t.defaultGraph,this.rdfDirection=t.rdfDirection,this.normalizeLanguageTags=t.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=t.streamingProfileAllowOutOfOrderPlainType,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new o.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=t.parser,t.context?(this.rootContext=this.parseContext(t.context),this.rootContext.then(t=>this.validateContext(t))):this.rootContext=Promise.resolve(new n.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(t,e,r){return this.contextParser.parse(t,{baseIRI:this.baseIRI,ignoreProtection:r,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:e,processingMode:this.activeProcessingMode})}validateContext(t){const e=t.getContextRaw()["@version"];if(e){if(this.activeProcessingMode&&e>this.activeProcessingMode)throw new i.ErrorCoded(`Unsupported JSON-LD version '${e}' under active processing mode ${this.activeProcessingMode}.`,i.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&e<this.activeProcessingMode)throw new i.ErrorCoded(`Invalid JSON-LD version ${e} under active processing mode ${this.activeProcessingMode}.`,i.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=e}}async getContext(t,e=1){const r=t;while("number"===typeof t[t.length-1])t=t.slice(0,t.length-1);e&&(t=t.slice(0,-e));const i=await this.getContextPropagationAware(t),o=i.context;let a=o.getContextRaw();for(let s=i.depth;s<r.length-e;s++){const t=r[s],i=a[t];if(i&&"object"===typeof i&&"@context"in i){const o=(await this.parseContext(i,a,!0)).getContextRaw(),u=!(t in o)||o[t]["@context"]["@propagate"];!1===u&&s!==r.length-1-e||(a=o,delete a["@propagate"],a[t]=Object.assign({},a[t]),"@id"in i&&(a[t]["@id"]=i["@id"]),delete a[t]["@context"],!1!==u&&this.contextTree.setContext(r.slice(0,s+e),Promise.resolve(new n.JsonLdContextNormalized(a))))}}return new n.JsonLdContextNormalized(a)}async getContextPropagationAware(t){const e=t.length;let r,i=null;do{r=!1,i&&"@__propagateFallback"in i.context.getContextRaw()?i.context=new n.JsonLdContextNormalized(i.context.getContextRaw()["@__propagateFallback"]):(i&&(t=t.slice(0,i.depth-1)),i=await this.contextTree.getContext(t)||{context:await this.rootContext,depth:0});const e=t[t.length-1];if(e in i.context.getContextRaw()){const t=i.context.getContextRaw()[e];t&&"object"===typeof t&&"@context"in t&&(r=!0)}}while(i.depth>0&&!1===i.context.getContextRaw()["@propagate"]&&i.depth!==e&&!r);return 0===i.depth&&!1===i.context.getContextRaw()["@propagate"]&&i.depth!==e&&(i.context=new n.JsonLdContextNormalized({})),i}async newOnValueJob(t,e,r,n){await this.parser.newOnValueJob(t,e,r,n)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const t of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(t.depth,t.keys),this.parser.flushStacks(t.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}return!1}emitQuad(t,e){1===t&&(this.topLevelProperties=!0),this.parser.push(e)}emitError(t){this.parser.emit("error",t)}emitContext(t){this.parser.emit("context",t)}getUnidentifiedValueBufferSafe(t){let e=this.unidentifiedValuesBuffer[t];return e||(e=[],this.unidentifiedValuesBuffer[t]=e),e}getUnidentifiedGraphBufferSafe(t){let e=this.unidentifiedGraphsBuffer[t];return e||(e=[],this.unidentifiedGraphsBuffer[t]=e),e}getExpandOptions(){return s.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(t,e){const r=this.idStack[t+e];if(r&&(this.idStack[t]=r,this.emittedStack[t]=!0,delete this.idStack[t+e]),this.pendingContainerFlushBuffers.length)for(const n of this.pendingContainerFlushBuffers)n.depth>=t+e&&(n.depth-=e,n.keys.splice(t,e));this.unidentifiedValuesBuffer[t+e]&&(this.unidentifiedValuesBuffer[t]=this.unidentifiedValuesBuffer[t+e],delete this.unidentifiedValuesBuffer[t+e])}}e.ParsingContext=s,s.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}},2197:function(t,e,r){(function(t){!function(t,r){r(e)}(0,(function(e){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function n(t){var e={exports:{}};return t(e,e.exports),e.exports}var i=function(t){return t&&t.Math==Math&&t},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r&&r)||function(){return this}()||Function("return this")(),a=function(t){try{return!!t()}catch(t){return!0}},s=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,l={f:c&&!u.call({1:2},1)?function(t){var e=c(this,t);return!!e&&e.enumerable}:u},f=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h={}.toString,d=function(t){return h.call(t).slice(8,-1)},p="".split,v=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==d(t)?p.call(t,""):Object(t)}:Object,y=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return v(y(t))},b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,e){if(!b(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!b(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,_=function(t,e){return w.call(t,e)},x=o.document,E=b(x)&&b(x.createElement),S=function(t){return E?x.createElement(t):{}},O=!s&&!a((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),I=Object.getOwnPropertyDescriptor,R={f:s?I:function(t,e){if(t=g(t),e=m(e,!0),O)try{return I(t,e)}catch(t){}if(_(t,e))return f(!l.f.call(t,e),t[e])}},j=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},k=Object.defineProperty,T={f:s?k:function(t,e,r){if(j(t),e=m(e,!0),j(r),O)try{return k(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},A=s?function(t,e,r){return T.f(t,e,f(1,r))}:function(t,e,r){return t[e]=r,t},C=function(t,e){try{A(o,t,e)}catch(n){o[t]=e}return e},P="__core-js_shared__",D=o[P]||C(P,{}),N=Function.toString;"function"!=typeof D.inspectSource&&(D.inspectSource=function(t){return N.call(t)});var L,M,U,F=D.inspectSource,B=o.WeakMap,V="function"==typeof B&&/native code/.test(F(B)),q=!1,G=n((function(t){(t.exports=function(t,e){return D[t]||(D[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.0",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),$=0,J=Math.random(),z=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++$+J).toString(36)},H=G("keys"),K=function(t){return H[t]||(H[t]=z(t))},W={},Y=o.WeakMap;if(V){var Q=D.state||(D.state=new Y),X=Q.get,Z=Q.has,tt=Q.set;L=function(t,e){return e.facade=t,tt.call(Q,t,e),e},M=function(t){return X.call(Q,t)||{}},U=function(t){return Z.call(Q,t)}}else{var et=K("state");W[et]=!0,L=function(t,e){return e.facade=t,A(t,et,e),e},M=function(t){return _(t,et)?t[et]:{}},U=function(t){return _(t,et)}}var rt,nt,it={set:L,get:M,has:U,enforce:function(t){return U(t)?M(t):L(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=M(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},ot=n((function(t){var e=it.get,r=it.enforce,n=String(String).split("String");(t.exports=function(t,e,i,a){var s,u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||_(i,"name")||A(i,"name",e),(s=r(i)).source||(s.source=n.join("string"==typeof e?e:""))),t!==o?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=i:A(t,e,i)):c?t[e]=i:C(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||F(this)}))})),at=o,st=function(t){return"function"==typeof t?t:void 0},ut=function(t,e){return arguments.length<2?st(at[t])||st(o[t]):at[t]&&at[t][e]||o[t]&&o[t][e]},ct=Math.ceil,lt=Math.floor,ft=function(t){return isNaN(t=+t)?0:(t>0?lt:ct)(t)},ht=Math.min,dt=function(t){return t>0?ht(ft(t),9007199254740991):0},pt=Math.max,vt=Math.min,yt=function(t,e){var r=ft(t);return r<0?pt(r+e,0):vt(r,e)},gt=function(t){return function(e,r,n){var i,o=g(e),a=dt(o.length),s=yt(n,a);if(t&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===r)return t||s||0;return!t&&-1}},bt={includes:gt(!0),indexOf:gt(!1)},mt=bt.indexOf,wt=function(t,e){var r,n=g(t),i=0,o=[];for(r in n)!_(W,r)&&_(n,r)&&o.push(r);for(;e.length>i;)_(n,r=e[i++])&&(~mt(o,r)||o.push(r));return o},_t=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xt=_t.concat("length","prototype"),Et={f:Object.getOwnPropertyNames||function(t){return wt(t,xt)}},St={f:Object.getOwnPropertySymbols},Ot=ut("Reflect","ownKeys")||function(t){var e=Et.f(j(t)),r=St.f;return r?e.concat(r(t)):e},It=function(t,e){for(var r=Ot(e),n=T.f,i=R.f,o=0;o<r.length;o++){var a=r[o];_(t,a)||n(t,a,i(e,a))}},Rt=/#|\.prototype\./,jt=function(t,e){var r=Tt[kt(t)];return r==Ct||r!=At&&("function"==typeof e?a(e):!!e)},kt=jt.normalize=function(t){return String(t).replace(Rt,".").toLowerCase()},Tt=jt.data={},At=jt.NATIVE="N",Ct=jt.POLYFILL="P",Pt=jt,Dt=R.f,Nt=function(t,e){var r,n,i,a,s,u=t.target,c=t.global,l=t.stat;if(r=c?o:l?o[u]||C(u,{}):(o[u]||{}).prototype)for(n in e){if(a=e[n],i=t.noTargetGet?(s=Dt(r,n))&&s.value:r[n],!Pt(c?n:u+(l?".":"#")+n,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;It(a,i)}(t.sham||i&&i.sham)&&A(a,"sham",!0),ot(r,n,a,t)}},Lt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Mt=function(t){return Object(y(t))},Ut=function(t){return function(e,r,n,i){Lt(r);var o=Mt(e),a=v(o),s=dt(o.length),u=t?s-1:0,c=t?-1:1;if(n<2)for(;;){if(u in a){i=a[u],u+=c;break}if(u+=c,t?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:s>u;u+=c)u in a&&(i=r(i,a[u],u,o));return i}},Ft={left:Ut(!1),right:Ut(!0)},Bt=function(t,e){var r=[][t];return!!r&&a((function(){r.call(null,e||function(){throw 1},1)}))},Vt=ut("navigator","userAgent")||"",qt=o.process,Gt=qt&&qt.versions,$t=Gt&&Gt.v8;$t?nt=(rt=$t.split("."))[0]+rt[1]:Vt&&(!(rt=Vt.match(/Edge\/(\d+)/))||rt[1]>=74)&&(rt=Vt.match(/Chrome\/(\d+)/))&&(nt=rt[1]);var Jt=nt&&+nt,zt="process"==d(o.process),Ht=Ft.left,Kt=Bt("reduce");Nt({target:"Array",proto:!0,forced:!Kt||!zt&&Jt>79&&Jt<83},{reduce:function(t){return Ht(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Wt=T.f,Yt=Function.prototype,Qt=Yt.toString,Xt=/^\s*function ([^ (]*)/,Zt="name";function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(Object(r),!0).forEach((function(e){ue(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ie(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ne(o,n,i,a,s,"next",t)}function s(t){ne(o,n,i,a,s,"throw",t)}a(void 0)}))}}function oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function se(t,e,r){return e&&ae(t.prototype,e),r&&ae(t,r),t}function ue(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ce(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function de(t,e,r){return(de=he()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&fe(i,r.prototype),i}).apply(null,arguments)}function pe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ve(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pe(t)}function ye(t){var e=he();return function(){var r,n=le(t);if(e){var i=le(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ve(this,r)}}function ge(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,e)||me(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(t){return function(t){if(Array.isArray(t))return we(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||me(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(t,e){if(t){if("string"==typeof t)return we(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(t,e):void 0}}function we(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _e(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=me(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function xe(){return"undefined"!=typeof t?t:"undefined"!=typeof globalThis?globalThis:window}s&&!(Zt in Yt)&&Wt(Yt,Zt,{configurable:!0,get:function(){try{return Qt.call(this).match(Xt)[1]}catch(e){return""}}}),Nt({global:!0},{globalThis:o});var Ee,Se=function(t){ce(r,t);var e=ye(r);function r(t){var n;return oe(this,r),(n=e.call(this,t)).name=(this instanceof r?this.constructor:void 0).name,Object.setPrototypeOf(pe(n),(this instanceof r?this.constructor:void 0).prototype),n}return r}(xe().Error),Oe=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),Ie=Oe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Re=Array.isArray||function(t){return"Array"==d(t)},je=Object.keys||function(t){return wt(t,_t)},ke=s?Object.defineProperties:function(t,e){j(t);for(var r,n=je(e),i=n.length,o=0;i>o;)T.f(t,r=n[o++],e[r]);return t},Te=ut("document","documentElement"),Ae=K("IE_PROTO"),Ce=function(){},Pe=function(t){return"<script>"+t+"<\/script>"},De=function(){try{Ee=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;De=Ee?function(t){t.write(Pe("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Ee):((e=S("iframe")).style.display="none",Te.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Pe("document.F=Object")),t.close(),t.F);for(var r=_t.length;r--;)delete De.prototype[_t[r]];return De()};W[Ae]=!0;var Ne=Object.create||function(t,e){var r;return null!==t?(Ce.prototype=j(t),r=new Ce,Ce.prototype=null,r[Ae]=t):r=De(),void 0===e?r:ke(r,e)},Le=Et.f,Me={}.toString,Ue="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Fe={f:function(t){return Ue&&"[object Window]"==Me.call(t)?function(t){try{return Le(t)}catch(t){return Ue.slice()}}(t):Le(g(t))}},Be=G("wks"),Ve=o.Symbol,qe=Ie?Ve:Ve&&Ve.withoutSetter||z,Ge=function(t){return _(Be,t)||(Oe&&_(Ve,t)?Be[t]=Ve[t]:Be[t]=qe("Symbol."+t)),Be[t]},$e={f:Ge},Je=T.f,ze=function(t){var e=at.Symbol||(at.Symbol={});_(e,t)||Je(e,t,{value:$e.f(t)})},He=T.f,Ke=Ge("toStringTag"),We=function(t,e,r){t&&!_(t=r?t:t.prototype,Ke)&&He(t,Ke,{configurable:!0,value:e})},Ye=function(t,e,r){if(Lt(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},Qe=Ge("species"),Xe=function(t,e){var r;return Re(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!Re(r.prototype)?b(r)&&null===(r=r[Qe])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},Ze=[].push,tr=function(t){var e=1==t,r=2==t,n=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,f){for(var h,d,p=Mt(u),y=v(p),g=Ye(c,l,3),b=dt(y.length),m=0,w=f||Xe,_=e?w(u,b):r||a?w(u,0):void 0;b>m;m++)if((s||m in y)&&(d=g(h=y[m],m,p),t))if(e)_[m]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:Ze.call(_,h)}else switch(t){case 4:return!1;case 7:Ze.call(_,h)}return o?-1:n||i?i:_}},er={forEach:tr(0),map:tr(1),filter:tr(2),some:tr(3),every:tr(4),find:tr(5),findIndex:tr(6),filterOut:tr(7)},rr=er.forEach,nr=K("hidden"),ir="Symbol",or=Ge("toPrimitive"),ar=it.set,sr=it.getterFor(ir),ur=Object.prototype,cr=o.Symbol,lr=ut("JSON","stringify"),fr=R.f,hr=T.f,dr=Fe.f,pr=l.f,vr=G("symbols"),yr=G("op-symbols"),gr=G("string-to-symbol-registry"),br=G("symbol-to-string-registry"),mr=G("wks"),wr=o.QObject,_r=!wr||!wr.prototype||!wr.prototype.findChild,xr=s&&a((function(){return 7!=Ne(hr({},"a",{get:function(){return hr(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=fr(ur,e);n&&delete ur[e],hr(t,e,r),n&&t!==ur&&hr(ur,e,n)}:hr,Er=function(t,e){var r=vr[t]=Ne(cr.prototype);return ar(r,{type:ir,tag:t,description:e}),s||(r.description=e),r},Sr=Ie?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof cr},Or=function(t,e,r){t===ur&&Or(yr,e,r),j(t);var n=m(e,!0);return j(r),_(vr,n)?(r.enumerable?(_(t,nr)&&t[nr][n]&&(t[nr][n]=!1),r=Ne(r,{enumerable:f(0,!1)})):(_(t,nr)||hr(t,nr,f(1,{})),t[nr][n]=!0),xr(t,n,r)):hr(t,n,r)},Ir=function(t,e){j(t);var r=g(e),n=je(r).concat(Tr(r));return rr(n,(function(e){s&&!Rr.call(r,e)||Or(t,e,r[e])})),t},Rr=function(t){var e=m(t,!0),r=pr.call(this,e);return!(this===ur&&_(vr,e)&&!_(yr,e))&&(!(r||!_(this,e)||!_(vr,e)||_(this,nr)&&this[nr][e])||r)},jr=function(t,e){var r=g(t),n=m(e,!0);if(r!==ur||!_(vr,n)||_(yr,n)){var i=fr(r,n);return!i||!_(vr,n)||_(r,nr)&&r[nr][n]||(i.enumerable=!0),i}},kr=function(t){var e=dr(g(t)),r=[];return rr(e,(function(t){_(vr,t)||_(W,t)||r.push(t)})),r},Tr=function(t){var e=t===ur,r=dr(e?yr:g(t)),n=[];return rr(r,(function(t){!_(vr,t)||e&&!_(ur,t)||n.push(vr[t])})),n};if(Oe||(ot((cr=function(){if(this instanceof cr)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=z(t),r=function(t){this===ur&&r.call(yr,t),_(this,nr)&&_(this[nr],e)&&(this[nr][e]=!1),xr(this,e,f(1,t))};return s&&_r&&xr(ur,e,{configurable:!0,set:r}),Er(e,t)}).prototype,"toString",(function(){return sr(this).tag})),ot(cr,"withoutSetter",(function(t){return Er(z(t),t)})),l.f=Rr,T.f=Or,R.f=jr,Et.f=Fe.f=kr,St.f=Tr,$e.f=function(t){return Er(Ge(t),t)},s&&(hr(cr.prototype,"description",{configurable:!0,get:function(){return sr(this).description}}),ot(ur,"propertyIsEnumerable",Rr,{unsafe:!0}))),Nt({global:!0,wrap:!0,forced:!Oe,sham:!Oe},{Symbol:cr}),rr(je(mr),(function(t){ze(t)})),Nt({target:ir,stat:!0,forced:!Oe},{for:function(t){var e=String(t);if(_(gr,e))return gr[e];var r=cr(e);return gr[e]=r,br[r]=e,r},keyFor:function(t){if(!Sr(t))throw TypeError(t+" is not a symbol");if(_(br,t))return br[t]},useSetter:function(){_r=!0},useSimple:function(){_r=!1}}),Nt({target:"Object",stat:!0,forced:!Oe,sham:!s},{create:function(t,e){return void 0===e?Ne(t):Ir(Ne(t),e)},defineProperty:Or,defineProperties:Ir,getOwnPropertyDescriptor:jr}),Nt({target:"Object",stat:!0,forced:!Oe},{getOwnPropertyNames:kr,getOwnPropertySymbols:Tr}),Nt({target:"Object",stat:!0,forced:a((function(){St.f(1)}))},{getOwnPropertySymbols:function(t){return St.f(Mt(t))}}),lr){var Ar=!Oe||a((function(){var t=cr();return"[null]"!=lr([t])||"{}"!=lr({a:t})||"{}"!=lr(Object(t))}));Nt({target:"JSON",stat:!0,forced:Ar},{stringify:function(t,e,r){for(var n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e,(b(e)||void 0!==t)&&!Sr(t))return Re(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Sr(e))return e}),i[1]=e,lr.apply(null,i)}})}cr.prototype[or]||A(cr.prototype,or,cr.prototype.valueOf),We(cr,ir),W[nr]=!0;var Cr=T.f,Pr=o.Symbol;if(s&&"function"==typeof Pr&&(!("description"in Pr.prototype)||void 0!==Pr().description)){var Dr={},Nr=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Nr?new Pr(t):void 0===t?Pr():Pr(t);return""===t&&(Dr[e]=!0),e};It(Nr,Pr);var Lr=Nr.prototype=Pr.prototype;Lr.constructor=Nr;var Mr=Lr.toString,Ur="Symbol(test)"==String(Pr("test")),Fr=/^Symbol\((.*)\)[^)]+$/;Cr(Lr,"description",{configurable:!0,get:function(){var t=b(this)?this.valueOf():this,e=Mr.call(t);if(_(Dr,t))return"";var r=Ur?e.slice(7,-1):e.replace(Fr,"$1");return""===r?void 0:r}}),Nt({global:!0,forced:!0},{Symbol:Nr})}ze("iterator");var Br=Ge("unscopables"),Vr=Array.prototype;null==Vr[Br]&&T.f(Vr,Br,{configurable:!0,value:Ne(null)});var qr,Gr,$r,Jr=function(t){Vr[Br][t]=!0},zr={},Hr=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Kr=K("IE_PROTO"),Wr=Object.prototype,Yr=Hr?Object.getPrototypeOf:function(t){return t=Mt(t),_(t,Kr)?t[Kr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Wr:null},Qr=Ge("iterator"),Xr=!1;[].keys&&("next"in($r=[].keys())?(Gr=Yr(Yr($r)))!==Object.prototype&&(qr=Gr):Xr=!0),(null==qr||a((function(){var t={};return qr[Qr].call(t)!==t})))&&(qr={}),_(qr,Qr)||A(qr,Qr,(function(){return this}));var Zr={IteratorPrototype:qr,BUGGY_SAFARI_ITERATORS:Xr},tn=Zr.IteratorPrototype,en=function(){return this},rn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return j(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),nn=Zr.IteratorPrototype,on=Zr.BUGGY_SAFARI_ITERATORS,an=Ge("iterator"),sn="keys",un="values",cn="entries",ln=function(){return this},fn=function(t,e,r,n,i,o,a){!function(t,e,r){var n=e+" Iterator";t.prototype=Ne(tn,{next:f(1,r)}),We(t,n,!1),zr[n]=en}(r,e,n);var s,u,c,l=function(t){if(t===i&&y)return y;if(!on&&t in p)return p[t];switch(t){case sn:case un:case cn:return function(){return new r(this,t)}}return function(){return new r(this)}},h=e+" Iterator",d=!1,p=t.prototype,v=p[an]||p["@@iterator"]||i&&p[i],y=!on&&v||l(i),g="Array"==e&&p.entries||v;if(g&&(s=Yr(g.call(new t)),nn!==Object.prototype&&s.next&&(Yr(s)!==nn&&(rn?rn(s,nn):"function"!=typeof s[an]&&A(s,an,ln)),We(s,h,!0))),i==un&&v&&v.name!==un&&(d=!0,y=function(){return v.call(this)}),p[an]!==y&&A(p,an,y),zr[e]=y,i)if(u={values:l(un),keys:o?y:l(sn),entries:l(cn)},a)for(c in u)(on||d||!(c in p))&&ot(p,c,u[c]);else Nt({target:e,proto:!0,forced:on||d},u);return u},hn="Array Iterator",dn=it.set,pn=it.getterFor(hn),vn=fn(Array,"Array",(function(t,e){dn(this,{type:hn,target:g(t),index:0,kind:e})}),(function(){var t=pn(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");zr.Arguments=zr.Array,Jr("keys"),Jr("values"),Jr("entries");var yn=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),gn=n((function(t){var e=T.f,r=z("meta"),n=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,r,{value:{objectID:"O"+ ++n,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!b(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!_(t,r)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[r].objectID},getWeakData:function(t,e){if(!_(t,r)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[r].weakData},onFreeze:function(t){return yn&&a.REQUIRED&&i(t)&&!_(t,r)&&o(t),t}};W[r]=!0})),bn=Ge("iterator"),mn=Array.prototype,wn={};wn[Ge("toStringTag")]="z";var _n="[object z]"===String(wn),xn=Ge("toStringTag"),En="Arguments"==d(function(){return arguments}()),Sn=_n?d:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),xn))?r:En?d(e):"Object"==(n=d(e))&&"function"==typeof e.callee?"Arguments":n},On=Ge("iterator"),In=function(t){if(null!=t)return t[On]||t["@@iterator"]||zr[Sn(t)]},Rn=function(t){var e=t.return;if(void 0!==e)return j(e.call(t)).value},jn=function(t,e){this.stopped=t,this.result=e},kn=function(t,e,r){var n,i,o,a,s,u,c,l,f=r&&r.that,h=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_ITERATOR),p=!(!r||!r.INTERRUPTED),v=Ye(e,f,1+h+p),y=function(t){return n&&Rn(n),new jn(!0,t)},g=function(t){return h?(j(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(d)n=t;else{if("function"!=typeof(i=In(t)))throw TypeError("Target is not iterable");if(void 0!==(l=i)&&(zr.Array===l||mn[bn]===l)){for(o=0,a=dt(t.length);a>o;o++)if((s=g(t[o]))&&s instanceof jn)return s;return new jn(!1)}n=i.call(t)}for(u=n.next;!(c=u.call(n)).done;){try{s=g(c.value)}catch(t){throw Rn(n),t}if("object"==typeof s&&s&&s instanceof jn)return s}return new jn(!1)},Tn=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},An=Ge("iterator"),Cn=!1;try{var Pn=0,Dn={next:function(){return{done:!!Pn++}},return:function(){Cn=!0}};Dn[An]=function(){return this},Array.from(Dn,(function(){throw 2}))}catch(e){}var Nn=function(t,e){if(!e&&!Cn)return!1;var r=!1;try{var n={};n[An]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Ln=function(t,e,r){var n,i;return rn&&"function"==typeof(n=e.constructor)&&n!==r&&b(i=n.prototype)&&i!==r.prototype&&rn(t,i),t},Mn=function(t,e,r){var n=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),s=n?"set":"add",u=o[t],c=u&&u.prototype,l=u,f={},h=function(t){var e=c[t];ot(c,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!b(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!b(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!b(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(Pt(t,"function"!=typeof u||!(i||c.forEach&&!a((function(){(new u).entries().next()})))))l=r.getConstructor(e,t,n,s),gn.REQUIRED=!0;else if(Pt(t,!0)){var d=new l,p=d[s](i?{}:-0,1)!=d,v=a((function(){d.has(1)})),y=Nn((function(t){new u(t)})),g=!i&&a((function(){for(var t=new u,e=5;e--;)t[s](e,e);return!t.has(-0)}));y||((l=e((function(e,r){Tn(e,l,t);var i=Ln(new u,e,l);return null!=r&&kn(r,i[s],{that:i,AS_ENTRIES:n}),i}))).prototype=c,c.constructor=l),(v||g)&&(h("delete"),h("has"),n&&h("get")),(g||p)&&h(s),i&&c.clear&&delete c.clear}return f[t]=l,Nt({global:!0,forced:l!=u},f),We(l,t),i||r.setStrong(l,t,n),l},Un=function(t,e,r){for(var n in e)ot(t,n,e[n],r);return t},Fn=Ge("species"),Bn=function(t){var e=ut(t),r=T.f;s&&e&&!e[Fn]&&r(e,Fn,{configurable:!0,get:function(){return this}})},Vn=T.f,qn=gn.fastKey,Gn=it.set,$n=it.getterFor,Jn={getConstructor:function(t,e,r,n){var i=t((function(t,o){Tn(t,i,e),Gn(t,{type:e,index:Ne(null),first:void 0,last:void 0,size:0}),s||(t.size=0),null!=o&&kn(o,t[n],{that:t,AS_ENTRIES:r})})),o=$n(e),a=function(t,e,r){var n,i,a=o(t),c=u(t,e);return c?c.value=r:(a.last=c={index:i=qn(e,!0),key:e,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=c),n&&(n.next=c),s?a.size++:t.size++,"F"!==i&&(a.index[i]=c)),t},u=function(t,e){var r,n=o(t),i=qn(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return Un(i.prototype,{clear:function(){for(var t=o(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,s?t.size=0:this.size=0},delete:function(t){var e=this,r=o(e),n=u(e,t);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),s?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=o(this),n=Ye(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!u(this,t)}}),Un(i.prototype,r?{get:function(t){var e=u(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),s&&Vn(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=$n(e),o=$n(n);fn(t,e,(function(t,e){Gn(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),Bn(e)}},zn=(Mn("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Jn),_n?{}.toString:function(){return"[object "+Sn(this)+"]"});_n||ot(Object.prototype,"toString",zn,{unsafe:!0});var Hn=function(t){return function(e,r){var n,i,o=String(y(e)),a=ft(r),s=o.length;return a<0||a>=s?t?"":void 0:(n=o.charCodeAt(a))<55296||n>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):n:t?o.slice(a,a+2):i-56320+(n-55296<<10)+65536}},Kn={codeAt:Hn(!1),charAt:Hn(!0)},Wn=Kn.charAt,Yn="String Iterator",Qn=it.set,Xn=it.getterFor(Yn);fn(String,"String",(function(t){Qn(this,{type:Yn,string:String(t),index:0})}),(function(){var t,e=Xn(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Wn(r,n),e.index+=t.length,{value:t,done:!1})}));var Zn=gn.getWeakData,ti=it.set,ei=it.getterFor,ri=er.find,ni=er.findIndex,ii=0,oi=function(t){return t.frozen||(t.frozen=new ai)},ai=function(){this.entries=[]},si=function(t,e){return ri(t.entries,(function(t){return t[0]===e}))};ai.prototype={get:function(t){var e=si(this,t);if(e)return e[1]},has:function(t){return!!si(this,t)},set:function(t,e){var r=si(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=ni(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var ui={getConstructor:function(t,e,r,n){var i=t((function(t,o){Tn(t,i,e),ti(t,{type:e,id:ii++,frozen:void 0}),null!=o&&kn(o,t[n],{that:t,AS_ENTRIES:r})})),o=ei(e),a=function(t,e,r){var n=o(t),i=Zn(j(e),!0);return!0===i?oi(n).set(e,r):i[n.id]=r,t};return Un(i.prototype,{delete:function(t){var e=o(this);if(!b(t))return!1;var r=Zn(t);return!0===r?oi(e).delete(t):r&&_(r,e.id)&&delete r[e.id]},has:function(t){var e=o(this);if(!b(t))return!1;var r=Zn(t);return!0===r?oi(e).has(t):r&&_(r,e.id)}}),Un(i.prototype,r?{get:function(t){var e=o(this);if(b(t)){var r=Zn(t);return!0===r?oi(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),i}},ci=(n((function(t){var e,r=it.enforce,n=!o.ActiveXObject&&"ActiveXObject"in o,i=Object.isExtensible,a=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},s=t.exports=Mn("WeakMap",a,ui);if(V&&n){e=ui.getConstructor(a,"WeakMap",!0),gn.REQUIRED=!0;var u=s.prototype,c=u.delete,l=u.has,f=u.get,h=u.set;Un(u,{delete:function(t){if(b(t)&&!i(t)){var n=r(this);return n.frozen||(n.frozen=new e),c.call(this,t)||n.frozen.delete(t)}return c.call(this,t)},has:function(t){if(b(t)&&!i(t)){var n=r(this);return n.frozen||(n.frozen=new e),l.call(this,t)||n.frozen.has(t)}return l.call(this,t)},get:function(t){if(b(t)&&!i(t)){var n=r(this);return n.frozen||(n.frozen=new e),l.call(this,t)?f.call(this,t):n.frozen.get(t)}return f.call(this,t)},set:function(t,n){if(b(t)&&!i(t)){var o=r(this);o.frozen||(o.frozen=new e),l.call(this,t)?h.call(this,t,n):o.frozen.set(t,n)}else h.call(this,t,n);return this}})}})),function(){for(var t,e=j(this),r=Lt(e.delete),n=!0,i=0,o=arguments.length;i<o;i++)t=r.call(e,arguments[i]),n=n&&t;return!!n});Nt({target:"Map",proto:!0,real:!0,forced:q},{deleteAll:function(){return ci.apply(this,arguments)}});var li=function(t){return Map.prototype.entries.call(t)};Nt({target:"Map",proto:!0,real:!0,forced:q},{every:function(t){var e=j(this),r=li(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3);return!kn(r,(function(t,r,i){if(!n(r,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var fi=Ge("species"),hi=function(t,e){var r,n=j(t).constructor;return void 0===n||null==(r=j(n)[fi])?e:Lt(r)};Nt({target:"Map",proto:!0,real:!0,forced:q},{filter:function(t){var e=j(this),r=li(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3),i=new(hi(e,ut("Map"))),o=Lt(i.set);return kn(r,(function(t,r){n(r,t,e)&&o.call(i,t,r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{find:function(t){var e=j(this),r=li(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3);return kn(r,(function(t,r,i){if(n(r,t,e))return i(r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{findKey:function(t){var e=j(this),r=li(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3);return kn(r,(function(t,r,i){if(n(r,t,e))return i(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{includes:function(t){return kn(li(j(this)),(function(e,r,n){if((i=r)===(o=t)||i!=i&&o!=o)return n();var i,o}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{keyOf:function(t){return kn(li(j(this)),(function(e,r,n){if(r===t)return n(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{mapKeys:function(t){var e=j(this),r=li(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3),i=new(hi(e,ut("Map"))),o=Lt(i.set);return kn(r,(function(t,r){o.call(i,n(r,t,e),r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{mapValues:function(t){var e=j(this),r=li(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3),i=new(hi(e,ut("Map"))),o=Lt(i.set);return kn(r,(function(t,r){o.call(i,t,n(r,t,e))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{merge:function(t){for(var e=j(this),r=Lt(e.set),n=0;n<arguments.length;)kn(arguments[n++],r,{that:e,AS_ENTRIES:!0});return e}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{reduce:function(t){var e=j(this),r=li(e),n=arguments.length<2,i=n?void 0:arguments[1];if(Lt(t),kn(r,(function(r,o){n?(n=!1,i=o):i=t(i,o,r,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),n)throw TypeError("Reduce of empty map with no initial value");return i}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{some:function(t){var e=j(this),r=li(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3);return kn(r,(function(t,r,i){if(n(r,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Nt({target:"Map",proto:!0,real:!0,forced:q},{update:function(t,e){var r=j(this),n=arguments.length;Lt(e);var i=r.has(t);if(!i&&n<3)throw TypeError("Updating absent value");var o=i?r.get(t):Lt(n>2?arguments[2]:void 0)(t,r);return r.set(t,e(o,t,r)),r}}),Nt({target:"WeakMap",proto:!0,real:!0,forced:q},{deleteAll:function(){return ci.apply(this,arguments)}});var di={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},pi=Ge("iterator"),vi=Ge("toStringTag"),yi=vn.values;for(var gi in di){var bi=o[gi],mi=bi&&bi.prototype;if(mi){if(mi[pi]!==yi)try{A(mi,pi,yi)}catch(e){mi[pi]=yi}if(mi[vi]||A(mi,vi,gi),di[gi])for(var wi in vn)if(mi[wi]!==vn[wi])try{A(mi,wi,vn[wi])}catch(e){mi[wi]=vn[wi]}}}n((function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new j(n||[]);return o._invoke=function(t,e,r){var n=f;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return T()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function b(){}var m={};m[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(k([])));_&&_!==r&&n.call(_,o)&&(m=_);var x=b.prototype=y.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function O(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function k(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return g.prototype=x.constructor=b,b.constructor=g,g.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new S(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),u(x,s,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));var _i=er.some,xi=Bt("some");Nt({target:"Array",proto:!0,forced:!xi},{some:function(t){return _i(this,t,arguments.length>1?arguments[1]:void 0)}});var Ei=l.f,Si=function(t){return function(e){for(var r,n=g(e),i=je(n),o=i.length,a=0,u=[];o>a;)r=i[a++],s&&!Ei.call(n,r)||u.push(t?[r,n[r]]:n[r]);return u}},Oi={entries:Si(!0),values:Si(!1)},Ii=Oi.entries;Nt({target:"Object",stat:!0},{entries:function(t){return Ii(t)}});var Ri=a((function(){je(1)}));Nt({target:"Object",stat:!0,forced:Ri},{keys:function(t){return je(Mt(t))}});var ji=Array.isArray.bind(Array);function ki(t){return"function"==typeof(null==t?void 0:t[Symbol.iterator])}function Ti(t){return"object"===re(t)&&null!==t}function Ai(t){return"string"==typeof t||t instanceof String}var Ci,Pi=Object.entries.bind(Object);function Di(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ni(t,e){var r;return Di(t,e)&&Ti(r=t[e])&&r.constructor===Object}function Li(t,e){var r=t[e];return delete t[e],r}function Mi(t,e){var r,n=ee({},t),i=_e(e);try{for(i.s();!(r=i.n()).done;)delete n[r.value]}catch(t){i.e(t)}finally{i.f()}return n}function Ui(t){return String(t)}Ci=Symbol.iterator;var Fi=function(){function t(e){oe(this,t),ue(this,"keysToItems",void 0),ue(this,"itemsToKeys",void 0),ue(this,"getKey",void 0),this.keysToItems=new Map,this.itemsToKeys=new WeakMap,this.getKey=null!=e?e:function(t){return Ui(t)}}return se(t,[{key:Ci,value:regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.keysToItems,"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"items",value:function(){return this.keysToItems.values()}},{key:"keys",value:function(){return this.keysToItems.keys()}},{key:"entries",value:function(){return this.keysToItems.entries()}},{key:"add",value:function(t){var e=this.getKey(t);this.keysToItems.set(e,t),this.itemsToKeys.set(t,e)}},{key:"require",value:function(t){return this.keysToItems.get(t)||fail("Couldn't find item with '".concat(t,"' key"))}},{key:"get",value:function(t){return this.keysToItems.get(t)}},{key:"getKeys",value:function(){return be(this.keysToItems.keys())}},{key:"getItems",value:function(){return be(this.keysToItems.values())}},{key:"hasKey",value:function(t){return this.keysToItems.has(t)}},{key:"hasItem",value:function(t){return this.itemsToKeys.has(t)}},{key:"delete",value:function(t){var e=this.itemsToKeys.get(t);e&&(this.itemsToKeys.delete(t),this.keysToItems.delete(e))}},{key:"clear",value:function(){this.itemsToKeys=new WeakMap,this.keysToItems.clear()}}],[{key:"createFromArray",value:function(e,r){var n,i=new t("string"==typeof r?function(t){return t[r]}:r),o=_e(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.add(a)}}catch(t){o.e(t)}finally{o.f()}return i}}]),t}();ze("toStringTag"),We(o.JSON,"JSON",!0),We(Math,"Math",!0);var Bi,Vi,qi,Gi=o.Promise,$i=/(iphone|ipod|ipad).*applewebkit/i.test(Vt),Ji=o.location,zi=o.setImmediate,Hi=o.clearImmediate,Ki=o.process,Wi=o.MessageChannel,Yi=o.Dispatch,Qi=0,Xi={},Zi="onreadystatechange",to=function(t){if(Xi.hasOwnProperty(t)){var e=Xi[t];delete Xi[t],e()}},eo=function(t){return function(){to(t)}},ro=function(t){to(t.data)},no=function(t){o.postMessage(t+"",Ji.protocol+"//"+Ji.host)};zi&&Hi||(zi=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return Xi[++Qi]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Bi(Qi),Qi},Hi=function(t){delete Xi[t]},zt?Bi=function(t){Ki.nextTick(eo(t))}:Yi&&Yi.now?Bi=function(t){Yi.now(eo(t))}:Wi&&!$i?(qi=(Vi=new Wi).port2,Vi.port1.onmessage=ro,Bi=Ye(qi.postMessage,qi,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&Ji&&"file:"!==Ji.protocol&&!a(no)?(Bi=no,o.addEventListener("message",ro,!1)):Bi=Zi in S("script")?function(t){Te.appendChild(S("script")).onreadystatechange=function(){Te.removeChild(this),to(t)}}:function(t){setTimeout(eo(t),0)});var io,oo,ao,so,uo,co,lo,fo,ho={set:zi,clear:Hi},po=/web0s(?!.*chrome)/i.test(Vt),vo=R.f,yo=ho.set,go=o.MutationObserver||o.WebKitMutationObserver,bo=o.document,mo=o.process,wo=o.Promise,_o=vo(o,"queueMicrotask"),xo=_o&&_o.value;xo||(io=function(){var t,e;for(zt&&(t=mo.domain)&&t.exit();oo;){e=oo.fn,oo=oo.next;try{e()}catch(t){throw oo?so():ao=void 0,t}}ao=void 0,t&&t.enter()},$i||zt||po||!go||!bo?wo&&wo.resolve?(lo=wo.resolve(void 0),fo=lo.then,so=function(){fo.call(lo,io)}):so=zt?function(){mo.nextTick(io)}:function(){yo.call(o,io)}:(uo=!0,co=bo.createTextNode(""),new go(io).observe(co,{characterData:!0}),so=function(){co.data=uo=!uo}));var Eo,So,Oo,Io,Ro=xo||function(t){var e={fn:t,next:void 0};ao&&(ao.next=e),oo||(oo=e,so()),ao=e},jo=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Lt(e),this.reject=Lt(r)},ko={f:function(t){return new jo(t)}},To=function(t,e){if(j(t),b(e)&&e.constructor===t)return e;var r=ko.f(t);return(0,r.resolve)(e),r.promise},Ao=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Co=ho.set,Po=Ge("species"),Do="Promise",No=it.get,Lo=it.set,Mo=it.getterFor(Do),Uo=Gi,Fo=o.TypeError,Bo=o.document,Vo=o.process,qo=ut("fetch"),Go=ko.f,$o=Go,Jo=!!(Bo&&Bo.createEvent&&o.dispatchEvent),zo="function"==typeof PromiseRejectionEvent,Ho="unhandledrejection",Ko=Pt(Do,(function(){if(F(Uo)===String(Uo)){if(66===Jt)return!0;if(!zt&&!zo)return!0}if(Jt>=51&&/native code/.test(Uo))return!1;var t=Uo.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Po]=e,!(t.then((function(){}))instanceof e)})),Wo=Ko||!Nn((function(t){Uo.all(t).catch((function(){}))})),Yo=function(t){var e;return!(!b(t)||"function"!=typeof(e=t.then))&&e},Qo=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;Ro((function(){for(var n=t.value,i=1==t.state,o=0;r.length>o;){var a,s,u,c=r[o++],l=i?c.ok:c.fail,f=c.resolve,h=c.reject,d=c.domain;try{l?(i||(2===t.rejection&&ea(t),t.rejection=1),!0===l?a=n:(d&&d.enter(),a=l(n),d&&(d.exit(),u=!0)),a===c.promise?h(Fo("Promise-chain cycle")):(s=Yo(a))?s.call(a,f,h):f(a)):h(n)}catch(t){d&&!u&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Zo(t)}))}},Xo=function(t,e,r){var n,i;Jo?((n=Bo.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),o.dispatchEvent(n)):n={promise:e,reason:r},!zo&&(i=o["on"+t])?i(n):t===Ho&&function(t,e){var r=o.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},Zo=function(t){Co.call(o,(function(){var e,r=t.facade,n=t.value;if(ta(t)&&(e=Ao((function(){zt?Vo.emit("unhandledRejection",n,r):Xo(Ho,r,n)})),t.rejection=zt||ta(t)?2:1,e.error))throw e.value}))},ta=function(t){return 1!==t.rejection&&!t.parent},ea=function(t){Co.call(o,(function(){var e=t.facade;zt?Vo.emit("rejectionHandled",e):Xo("rejectionhandled",e,t.value)}))},ra=function(t,e,r){return function(n){t(e,n,r)}},na=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,Qo(t,!0))},ia=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw Fo("Promise can't be resolved itself");var n=Yo(e);n?Ro((function(){var r={done:!1};try{n.call(e,ra(ia,r,t),ra(na,r,t))}catch(e){na(r,e,t)}})):(t.value=e,t.state=1,Qo(t,!1))}catch(e){na({done:!1},e,t)}}};Ko&&(Uo=function(t){Tn(this,Uo,Do),Lt(t),Eo.call(this);var e=No(this);try{t(ra(ia,e),ra(na,e))}catch(t){na(e,t)}},(Eo=function(t){Lo(this,{type:Do,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Un(Uo.prototype,{then:function(t,e){var r=Mo(this),n=Go(hi(this,Uo));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=zt?Vo.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Qo(r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),So=function(){var t=new Eo,e=No(t);this.promise=t,this.resolve=ra(ia,e),this.reject=ra(na,e)},ko.f=Go=function(t){return t===Uo||t===Oo?new So(t):$o(t)},"function"==typeof Gi&&(Io=Gi.prototype.then,ot(Gi.prototype,"then",(function(t,e){var r=this;return new Uo((function(t,e){Io.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof qo&&Nt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return To(Uo,qo.apply(o,arguments))}}))),Nt({global:!0,wrap:!0,forced:Ko},{Promise:Uo}),We(Uo,Do,!1),Bn(Do),Oo=ut(Do),Nt({target:Do,stat:!0,forced:Ko},{reject:function(t){var e=Go(this);return e.reject.call(void 0,t),e.promise}}),Nt({target:Do,stat:!0,forced:Ko},{resolve:function(t){return To(this,t)}}),Nt({target:Do,stat:!0,forced:Wo},{all:function(t){var e=this,r=Go(e),n=r.resolve,i=r.reject,o=Ao((function(){var r=Lt(e.resolve),o=[],a=0,s=1;kn(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,r.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=Go(e),n=r.reject,i=Ao((function(){var i=Lt(e.resolve);kn(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var oa,aa=!!Gi&&a((function(){Gi.prototype.finally.call({then:function(){}},(function(){}))}));Nt({target:"Promise",proto:!0,real:!0,forced:aa},{finally:function(t){var e=hi(this,ut("Promise")),r="function"==typeof t;return this.then(r?function(r){return To(e,t()).then((function(){return r}))}:t,r?function(r){return To(e,t()).then((function(){throw r}))}:t)}}),"function"!=typeof Gi||Gi.prototype.finally||ot(Gi.prototype,"finally",ut("Promise").prototype.finally),oa=Symbol.toStringTag;var sa=function(){function t(){oe(this,t),ue(this,"_value",void 0),ue(this,oa,void 0),this.initPromise()}return se(t,[{key:"value",get:function(){return this._value||null}},{key:"isResolved",value:function(){return"_value"in this}},{key:"then",value:function(t,e){return this.promise.then(t,e)}},{key:"catch",value:function(t){return this.promise.catch(t)}},{key:"finally",value:function(t){return this.promise.finally(t)}},{key:"resolve",value:function(t){this.isResolved()&&this.initPromise(),this._value=t,this._resolve(t)}},{key:"reject",value:function(t){this._reject(t)}},{key:"initPromise",value:function(){var t=this;this.promise=new Promise((function(e,r){t._resolve=e,t._reject=r}))}}],[{key:"from",value:function(e){var r=new t;return e.then(r.resolve.bind(r)).catch(r.reject.bind(r)),r}}]),t}(),ua=er.forEach,ca=Bt("forEach")?[].forEach:function(t){return ua(this,t,arguments.length>1?arguments[1]:void 0)};Nt({target:"Array",proto:!0,forced:[].forEach!=ca},{forEach:ca}),Mn("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Jn);var la=function(){for(var t=j(this),e=Lt(t.add),r=0,n=arguments.length;r<n;r++)e.call(t,arguments[r]);return t};Nt({target:"Set",proto:!0,real:!0,forced:q},{addAll:function(){return la.apply(this,arguments)}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{deleteAll:function(){return ci.apply(this,arguments)}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{difference:function(t){var e=j(this),r=new(hi(e,ut("Set")))(e),n=Lt(r.delete);return kn(t,(function(t){n.call(r,t)})),r}});var fa=function(t){return Set.prototype.values.call(t)};for(var ha in Nt({target:"Set",proto:!0,real:!0,forced:q},{every:function(t){var e=j(this),r=fa(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3);return!kn(r,(function(t,r){if(!n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{filter:function(t){var e=j(this),r=fa(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3),i=new(hi(e,ut("Set"))),o=Lt(i.add);return kn(r,(function(t){n(t,t,e)&&o.call(i,t)}),{IS_ITERATOR:!0}),i}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{find:function(t){var e=j(this),r=fa(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3);return kn(r,(function(t,r){if(n(t,t,e))return r(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{intersection:function(t){var e=j(this),r=new(hi(e,ut("Set"))),n=Lt(e.has),i=Lt(r.add);return kn(t,(function(t){n.call(e,t)&&i.call(r,t)})),r}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{isDisjointFrom:function(t){var e=j(this),r=Lt(e.has);return!kn(t,(function(t,n){if(!0===r.call(e,t))return n()}),{INTERRUPTED:!0}).stopped}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{isSubsetOf:function(t){var e=function(t){var e=In(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return j(e.call(t))}(this),r=j(t),n=r.has;return"function"!=typeof n&&(r=new(ut("Set"))(t),n=Lt(r.has)),!kn(e,(function(t,e){if(!1===n.call(r,t))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{isSupersetOf:function(t){var e=j(this),r=Lt(e.has);return!kn(t,(function(t,n){if(!1===r.call(e,t))return n()}),{INTERRUPTED:!0}).stopped}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{join:function(t){var e=j(this),r=fa(e),n=void 0===t?",":String(t),i=[];return kn(r,i.push,{that:i,IS_ITERATOR:!0}),i.join(n)}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{map:function(t){var e=j(this),r=fa(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3),i=new(hi(e,ut("Set"))),o=Lt(i.add);return kn(r,(function(t){o.call(i,n(t,t,e))}),{IS_ITERATOR:!0}),i}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{reduce:function(t){var e=j(this),r=fa(e),n=arguments.length<2,i=n?void 0:arguments[1];if(Lt(t),kn(r,(function(r){n?(n=!1,i=r):i=t(i,r,r,e)}),{IS_ITERATOR:!0}),n)throw TypeError("Reduce of empty set with no initial value");return i}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{some:function(t){var e=j(this),r=fa(e),n=Ye(t,arguments.length>1?arguments[1]:void 0,3);return kn(r,(function(t,r){if(n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{symmetricDifference:function(t){var e=j(this),r=new(hi(e,ut("Set")))(e),n=Lt(r.delete),i=Lt(r.add);return kn(t,(function(t){n.call(r,t)||i.call(r,t)})),r}}),Nt({target:"Set",proto:!0,real:!0,forced:q},{union:function(t){var e=j(this),r=new(hi(e,ut("Set")))(e);return kn(t,Lt(r.add),{that:r}),r}}),di){var da=o[ha],pa=da&&da.prototype;if(pa&&pa.forEach!==ca)try{A(pa,"forEach",ca)}catch(e){pa.forEach=ca}}var va=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;oe(this,t),ue(this,"count",void 0),ue(this,"listeners",void 0),this.count=e,this.listeners=new Set}var e,r,n;return se(t,[{key:"acquire",value:(n=ie(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitAvailable();case 2:this.count=Math.max(this.count-1,0);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"release",value:function(){this.count++,this.notifyAvailable()}},{key:"run",value:(r=ie(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.acquire();case 2:return t.next=4,e();case 4:return r=t.sent,this.release(),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"waitAvailable",value:(e=ie(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.count){t.next=5;break}return t.next=3,new Promise((function(t){e.listeners.add((function r(){e.listeners.delete(r),t(null)}))}));case 3:t.next=0;break;case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"notifyAvailable",value:function(){this.listeners.forEach((function(t){return t()}))}}]),t}(),ya={},ga=function(){function t(){oe(this,t)}return se(t,[{key:"set",value:function(t,e){void 0===e&&(e="__undefined__"),localStorage.setItem(t,JSON.stringify(e))}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=localStorage.getItem(t);return null===r?e:"__undefined__"!==r?JSON.parse(r):void 0}},{key:"require",value:function(t){var e=this.get(t,ya);if(e===ya)throw new Error("Failed getting required key from local storage: '".concat(t,"'"));return e}},{key:"has",value:function(t){return null!==localStorage.getItem(t)}},{key:"remove",value:function(t){localStorage.removeItem(t)}},{key:"pull",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.has(t))return e;var r=this.get(t);return this.remove(t),r}}],[{key:"instance",get:function(){var e;return this._instance=null!==(e=this._instance)&&void 0!==e?e:new t}}]),t}();ue(ga,"_instance",void 0);var ba=ga.instance,ma=Ge("species"),wa=function(t){return Jt>=51||!a((function(){var e=[];return(e.constructor={})[ma]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},_a=er.filter,xa=wa("filter");Nt({target:"Array",proto:!0,forced:!xa},{filter:function(t){return _a(this,t,arguments.length>1?arguments[1]:void 0)}});var Ea=function(t,e,r,n,i,o,a,s){for(var u,c=i,l=0,f=!!a&&Ye(a,s,3);l<n;){if(l in r){if(u=f?f(r[l],l,e):r[l],o>0&&Re(u))c=Ea(t,e,u,dt(u.length),c,o-1)-1;else{if(c>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[c]=u}c++}l++}return c},Sa=Ea;Nt({target:"Array",proto:!0},{flatMap:function(t){var e,r=Mt(this),n=dt(r.length);return Lt(t),(e=Xe(r,0)).length=Sa(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Oa=bt.includes;Nt({target:"Array",proto:!0},{includes:function(t){return Oa(this,t,arguments.length>1?arguments[1]:void 0)}}),Jr("includes");var Ia=bt.indexOf,Ra=[].indexOf,ja=!!Ra&&1/[1].indexOf(1,-0)<0,ka=Bt("indexOf");Nt({target:"Array",proto:!0,forced:ja||!ka},{indexOf:function(t){return ja?Ra.apply(this,arguments)||0:Ia(this,t,arguments.length>1?arguments[1]:void 0)}});var Ta=er.map,Aa=wa("map");Nt({target:"Array",proto:!0,forced:!Aa},{map:function(t){return Ta(this,t,arguments.length>1?arguments[1]:void 0)}});var Ca=function(t,e,r){var n=m(e);n in t?T.f(t,n,f(0,r)):t[n]=r},Pa=wa("slice"),Da=Ge("species"),Na=[].slice,La=Math.max;Nt({target:"Array",proto:!0,forced:!Pa},{slice:function(t,e){var r,n,i,o=g(this),a=dt(o.length),s=yt(t,a),u=yt(void 0===e?a:e,a);if(Re(o)&&("function"!=typeof(r=o.constructor)||r!==Array&&!Re(r.prototype)?b(r)&&null===(r=r[Da])&&(r=void 0):r=void 0,r===Array||void 0===r))return Na.call(o,s,u);for(n=new(void 0===r?Array:r)(La(u-s,0)),i=0;s<u;s++,i++)s in o&&Ca(n,i,o[s]);return n.length=i,n}});var Ma=wa("splice"),Ua=Math.max,Fa=Math.min,Ba=9007199254740991,Va="Maximum allowed length exceeded";Nt({target:"Array",proto:!0,forced:!Ma},{splice:function(t,e){var r,n,i,o,a,s,u=Mt(this),c=dt(u.length),l=yt(t,c),f=arguments.length;if(0===f?r=n=0:1===f?(r=0,n=c-l):(r=f-2,n=Fa(Ua(ft(e),0),c-l)),c+r-n>Ba)throw TypeError(Va);for(i=Xe(u,n),o=0;o<n;o++)(a=l+o)in u&&Ca(i,o,u[a]);if(i.length=n,r<n){for(o=l;o<c-n;o++)s=o+r,(a=o+n)in u?u[s]=u[a]:delete u[s];for(o=c;o>c-n+r;o--)delete u[o-1]}else if(r>n)for(o=c-n;o>l;o--)s=o+r-1,(a=o+n-1)in u?u[s]=u[a]:delete u[s];for(o=0;o<r;o++)u[o+l]=arguments[o+2];return u.length=c-n+r,i}}),Jr("flatMap");var qa="\t\n\v\f\r                　\u2028\u2029\ufeff",Ga="["+qa+"]",$a=RegExp("^"+Ga+Ga+"*"),Ja=RegExp(Ga+Ga+"*$"),za=function(t){return function(e){var r=String(y(e));return 1&t&&(r=r.replace($a,"")),2&t&&(r=r.replace(Ja,"")),r}},Ha={start:za(1),end:za(2),trim:za(3)},Ka=Et.f,Wa=R.f,Ya=T.f,Qa=Ha.trim,Xa="Number",Za=o.Number,ts=Za.prototype,es=d(Ne(ts))==Xa,rs=function(t){var e,r,n,i,o,a,s,u,c=m(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=Qa(c)).charCodeAt(0))||45===e){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>i)return NaN;return parseInt(o,n)}return+c};if(Pt(Xa,!Za(" 0o1")||!Za("0b1")||Za("+0x1"))){for(var ns,is=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof is&&(es?a((function(){ts.valueOf.call(r)})):d(r)!=Xa)?Ln(new Za(rs(e)),r,is):rs(e)},os=s?Ka(Za):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),as=0;os.length>as;as++)_(Za,ns=os[as])&&!_(is,ns)&&Ya(is,ns,Wa(Za,ns));is.prototype=ts,ts.constructor=is,ot(o,Xa,is)}var ss=Oi.values;Nt({target:"Object",stat:!0},{values:function(t){return ss(t)}});var us=Ge("match"),cs=function(t){var e;return b(t)&&(void 0!==(e=t[us])?!!e:"RegExp"==d(t))},ls=function(t){if(cs(t))throw TypeError("The method doesn't accept regular expressions");return t},fs=Ge("match"),hs=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[fs]=!1,"/./"[t](e)}catch(t){}}return!1};function ds(t,e){return t>e?1:e>t?-1:0}function ps(t){t.splice(0,t.length)}function vs(t,e){var r,n=t.slice(0),i=[],o=_e(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=n.indexOf(a);-1!==s?n.splice(s,1):i.push(a)}}catch(t){o.e(t)}finally{o.f()}return{added:i,removed:n}}function ys(t,e){return e?t.filter(e):t.filter((function(t){return!!t}))}function gs(t,e){var r,n=_e(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(e(i))return i}}catch(t){n.e(t)}finally{n.f()}return null}function bs(t,e){return be(t.entries()).flatMap((function(t){var r=ge(t,2),n=r[0],i=r[1];return e(i,n)}))}function ms(t){return 0===t.length}function ws(t,e){return t.map((function(t){return t[e]}))}function _s(t,e){var r=t[e];return t.splice(e,1),r}function xs(t,e){var r=t.indexOf(e);return-1!==r&&(t.splice(r,1),!0)}function Es(t,e){return t.splice(Number(e),1).length>0}function Ss(t,e,r){var n=t.indexOf(e);return-1!==n&&(t[n]=r,!0)}function Os(t,e,r){var n="string"!=typeof e?e:"desc"===r?function(t,r){return ds(r[e],t[e])}:function(t,r){return ds(t[e],r[e])},i=t.slice(0);return i.sort(n),i}function Is(t,e){return e?Object.values(t.reduce((function(t,r){var n,i=e(r);return t[i]=null!==(n=t[i])&&void 0!==n?n:r,t}),{})):be(new Set(t))}function Rs(t,e,r){return t.filter((function(t){var n=t[e],i="function"==typeof n?n.call(t):n;return r?i===r:!!i}))}function js(t,e){return ys(t,(function(t){return-1===e.indexOf(t)}))}function ks(t,e){return t.map((function(t,e){return[t,e]})).filter((function(t){var r=ge(t,2),n=(r[0],r[1]);return!e.includes(n)})).map((function(t){return ge(t,1)[0]}))}function Ts(t){return Array.isArray(t)?t.slice(0):ki(t)&&!Ai(t)?be(t):[t]}Nt({target:"String",proto:!0,forced:!hs("includes")},{includes:function(t){return!!~String(y(this)).indexOf(ls(t),arguments.length>1?arguments[1]:void 0)}});var As=function(){var t=j(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Cs(t,e){return RegExp(t,e)}var Ps={UNSUPPORTED_Y:a((function(){var t=Cs("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:a((function(){var t=Cs("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Ds=RegExp.prototype.exec,Ns=String.prototype.replace,Ls=Ds,Ms=function(){var t=/a/,e=/b*/g;return Ds.call(t,"a"),Ds.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),Us=Ps.UNSUPPORTED_Y||Ps.BROKEN_CARET,Fs=void 0!==/()??/.exec("")[1];(Ms||Fs||Us)&&(Ls=function(t){var e,r,n,i,o=this,a=Us&&o.sticky,s=As.call(o),u=o.source,c=0,l=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),r=new RegExp("^(?:"+u+")",s)),Fs&&(r=new RegExp("^"+u+"$(?!\\s)",s)),Ms&&(e=o.lastIndex),n=Ds.call(a?r:o,l),a?n?(n.input=n.input.slice(c),n[0]=n[0].slice(c),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:Ms&&n&&(o.lastIndex=o.global?n.index+n[0].length:e),Fs&&n&&n.length>1&&Ns.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n});var Bs=Ls;Nt({target:"RegExp",proto:!0,forced:/./.exec!==Bs},{exec:Bs});var Vs="toString",qs=RegExp.prototype,Gs=qs.toString,$s=a((function(){return"/a/b"!=Gs.call({source:"a",flags:"b"})})),Js=Gs.name!=Vs;($s||Js)&&ot(RegExp.prototype,Vs,(function(){var t=j(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in qs)?As.call(t):r)}),{unsafe:!0});var zs=Ge("species"),Hs=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Ks="$0"==="a".replace(/./,"$0"),Ws=Ge("replace"),Ys=!!/./[Ws]&&""===/./[Ws]("a","$0"),Qs=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Xs=function(t,e,r,n){var i=Ge(t),o=!a((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),s=o&&!a((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[zs]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return e=!0,null},r[i](""),!e}));if(!o||!s||"replace"===t&&(!Hs||!Ks||Ys)||"split"===t&&!Qs){var u=/./[i],c=r(i,""[t],(function(t,e,r,n,i){return e.exec===Bs?o&&!i?{done:!0,value:u.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:Ks,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ys}),l=c[0],f=c[1];ot(String.prototype,t,l),ot(RegExp.prototype,i,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}n&&A(RegExp.prototype[i],"sham",!0)},Zs=Kn.charAt,tu=function(t,e,r){return e+(r?Zs(t,e).length:1)},eu=Math.floor,ru="".replace,nu=/\$([$&'`]|\d\d?|<[^>]*>)/g,iu=/\$([$&'`]|\d\d?)/g,ou=function(t,e,r,n,i,o){var a=r+t.length,s=n.length,u=iu;return void 0!==i&&(i=Mt(i),u=nu),ru.call(o,u,(function(o,u){var c;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(a);case"<":c=i[u.slice(1,-1)];break;default:var l=+u;if(0===l)return o;if(l>s){var f=eu(l/10);return 0===f?o:f<=s?void 0===n[f-1]?u.charAt(1):n[f-1]+u.charAt(1):o}c=n[l-1]}return void 0===c?"":c}))},au=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==d(t))throw TypeError("RegExp#exec called on incompatible receiver");return Bs.call(t,e)},su=Math.max,uu=Math.min;function cu(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,cu)}Xs("replace",2,(function(t,e,r,n){var i=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=n.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(r,n){var i=y(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!i&&o||"string"==typeof n&&-1===n.indexOf(a)){var s=r(e,t,this,n);if(s.done)return s.value}var u=j(t),c=String(this),l="function"==typeof n;l||(n=String(n));var f=u.global;if(f){var h=u.unicode;u.lastIndex=0}for(var d=[];;){var p=au(u,c);if(null===p)break;if(d.push(p),!f)break;""===String(p[0])&&(u.lastIndex=tu(c,dt(u.lastIndex),h))}for(var v,y="",g=0,b=0;b<d.length;b++){p=d[b];for(var m=String(p[0]),w=su(uu(ft(p.index),c.length),0),_=[],x=1;x<p.length;x++)_.push(void 0===(v=p[x])?v:String(v));var E=p.groups;if(l){var S=[m].concat(_,w,c);void 0!==E&&S.push(E);var O=String(n.apply(void 0,S))}else O=ou(m,c,w,_,E,n);w>=g&&(y+=c.slice(g,w)+O,g=w+m.length)}return y+c.slice(g)}]}));var lu=Ge("isConcatSpreadable"),fu=9007199254740991,hu="Maximum allowed index exceeded",du=Jt>=51||!a((function(){var t=[];return t[lu]=!1,t.concat()[0]!==t})),pu=wa("concat"),vu=function(t){if(!b(t))return!1;var e=t[lu];return void 0!==e?!!e:Re(t)};Nt({target:"Array",proto:!0,forced:!du||!pu},{concat:function(t){var e,r,n,i,o,a=Mt(this),s=Xe(a,0),u=0;for(e=-1,n=arguments.length;e<n;e++)if(vu(o=-1===e?a:arguments[e])){if(u+(i=dt(o.length))>fu)throw TypeError(hu);for(r=0;r<i;r++,u++)r in o&&Ca(s,u,o[r])}else{if(u>=fu)throw TypeError(hu);Ca(s,u++,o)}return s.length=u,s}});var yu=Object.assign,gu=Object.defineProperty,bu=!yu||a((function(){if(s&&1!==yu({b:1},yu(gu({},"a",{enumerable:!0,get:function(){gu(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=yu({},t)[r]||je(yu({},e)).join("")!=n}))?function(t,e){for(var r=Mt(t),n=arguments.length,i=1,o=St.f,a=l.f;n>i;)for(var u,c=v(arguments[i++]),f=o?je(c).concat(o(c)):je(c),h=f.length,d=0;h>d;)u=f[d++],s&&!a.call(c,u)||(r[u]=c[u]);return r}:yu;Nt({target:"Object",stat:!0,forced:Object.assign!==bu},{assign:bu}),Nt({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){for(var e,r,n=g(t),i=R.f,o=Ot(n),a={},s=0;o.length>s;)void 0!==(r=i(n,e=o[s++]))&&Ca(a,e,r);return a}});var mu=a((function(){Yr(1)}));Nt({target:"Object",stat:!0,forced:mu,sham:!Hr},{getPrototypeOf:function(t){return Yr(Mt(t))}});var wu=Object.getPrototypeOf(Object);function _u(t,e){var r=function(t){ce(n,t);var r=ye(n);function n(){var t;oe(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];t=r.call.apply(r,[this].concat(o));var s,u=_e(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=de(c,o);Object.assign(pe(t),l)}}catch(t){u.e(t)}finally{u.f()}return ve(t,pe(t))}return n}(t);return Eu(r,e),r}function xu(t,e){if(e!==Object){var r=e;do{for(var n=Mi(Object.getOwnPropertyDescriptors(r.prototype),["constructor"]),i=0,o=Object.entries(n);i<o.length;i++){var a=ge(o[i],2),s=a[0],u=a[1];Object.defineProperty(t.prototype,s,u)}r=Object.getPrototypeOf(r)}while(r!==wu)}}function Eu(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=_e(r);try{for(n.s();!(e=n.n()).done;){var i=e.value;xu(t,i)}}catch(t){n.e(t)}finally{n.f()}}function Su(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Array.isArray(t)?Object:t,n=Array.isArray(t)?t:e;return _u(r,n)}var Ou=[].join,Iu=v!=Object,Ru=Bt("join",",");Nt({target:"Array",proto:!0,forced:Iu||!Ru},{join:function(t){return Ou.call(g(this),void 0===t?",":t)}});var ju=T.f,ku=Et.f,Tu=it.set,Au=Ge("match"),Cu=o.RegExp,Pu=Cu.prototype,Du=/a/g,Nu=/a/g,Lu=new Cu(Du)!==Du,Mu=Ps.UNSUPPORTED_Y;if(s&&Pt("RegExp",!Lu||Mu||a((function(){return Nu[Au]=!1,Cu(Du)!=Du||Cu(Nu)==Nu||"/a/i"!=Cu(Du,"i")})))){for(var Uu=function(t,e){var r,n=this instanceof Uu,i=cs(t),o=void 0===e;if(!n&&i&&t.constructor===Uu&&o)return t;Lu?i&&!o&&(t=t.source):t instanceof Uu&&(o&&(e=As.call(t)),t=t.source),Mu&&(r=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=Ln(Lu?new Cu(t,e):Cu(t,e),n?this:Pu,Uu);return Mu&&r&&Tu(a,{sticky:r}),a},Fu=function(t){t in Uu||ju(Uu,t,{configurable:!0,get:function(){return Cu[t]},set:function(e){Cu[t]=e}})},Bu=ku(Cu),Vu=0;Bu.length>Vu;)Fu(Bu[Vu++]);Pu.constructor=Uu,Uu.prototype=Pu,ot(o,"RegExp",Uu)}Bn("RegExp");var qu=[].push,Gu=Math.min,$u=4294967295,Ju=!a((function(){return!RegExp($u,"y")}));Xs("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(y(this)),i=void 0===r?$u:r>>>0;if(0===i)return[];if(void 0===t)return[n];if(!cs(t))return e.call(n,t,i);for(var o,a,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=new RegExp(t.source,c+"g");(o=Bs.call(f,n))&&!((a=f.lastIndex)>l&&(u.push(n.slice(l,o.index)),o.length>1&&o.index<n.length&&qu.apply(u,o.slice(1)),s=o[0].length,l=a,u.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===n.length?!s&&f.test("")||u.push(""):u.push(n.slice(l)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=y(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,r):n.call(String(i),e,r)},function(t,i){var o=r(n,t,this,i,n!==e);if(o.done)return o.value;var a=j(t),s=String(this),u=hi(a,RegExp),c=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Ju?"y":"g"),f=new u(Ju?a:"^(?:"+a.source+")",l),h=void 0===i?$u:i>>>0;if(0===h)return[];if(0===s.length)return null===au(f,s)?[s]:[];for(var d=0,p=0,v=[];p<s.length;){f.lastIndex=Ju?p:0;var y,g=au(f,Ju?s:s.slice(p));if(null===g||(y=Gu(dt(f.lastIndex+(Ju?0:p)),s.length))===d)p=tu(s,p,c);else{if(v.push(s.slice(d,p)),v.length===h)return v;for(var b=1;b<=g.length-1;b++)if(v.push(g[b]),v.length===h)return v;p=d=y}}return v.push(s.slice(d)),v}]}),!Ju);var zu=Ha.trim;function Hu(t){return t.split("").reverse().join("")}function Ku(t){return t.split(/_|-|\s|(?=[A-Z])/)}function Wu(t){var e=Ku(t);return e[0].toLowerCase()+e.slice(1).map((function(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()})).join("")}function Yu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t=t.trim().normalize("NFD").replace(/_|-/g," ").replace(/[\u0300-\u036f]/g,"").replace(/[^\d\w\s]/g,"").toLowerCase().replace(/\s+/g,e),e.length>0&&(t=t.replace(new RegExp("".concat(e,"+"),"g"),e)),t}function Qu(t){return Ku(t).map((function(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()})).join("")}Nt({target:"String",proto:!0,forced:function(t){return a((function(){return!!qa[t]()||"​᠎"!="​᠎"[t]()||qa[t].name!==t}))}("trim")},{trim:function(){return zu(this)}});var Xu=Math.min,Zu=[].lastIndexOf,tc=!!Zu&&1/[1].lastIndexOf(1,-0)<0,ec=Bt("lastIndexOf"),rc=tc||!ec?function(t){if(tc)return Zu.apply(this,arguments)||0;var e=g(this),r=dt(e.length),n=r-1;for(arguments.length>1&&(n=Xu(n,ft(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:Zu;Nt({target:"Array",proto:!0,forced:rc!==[].lastIndexOf},{lastIndexOf:rc});var nc,ic=R.f,oc="".endsWith,ac=Math.min,sc=hs("endsWith"),uc=!(sc||(nc=ic(String.prototype,"endsWith"),!nc||nc.writable));Nt({target:"String",proto:!0,forced:!uc&&!sc},{endsWith:function(t){var e=String(y(this));ls(t);var r=arguments.length>1?arguments[1]:void 0,n=dt(e.length),i=void 0===r?n:ac(dt(r),n),o=String(t);return oc?oc.call(e,o,i):e.slice(i-o.length,i)===o}}),Xs("match",1,(function(t,e,r){return[function(e){var r=y(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var i=j(t),o=String(this);if(!i.global)return au(i,o);var a=i.unicode;i.lastIndex=0;for(var s,u=[],c=0;null!==(s=au(i,o));){var l=String(s[0]);u[c]=l,""===l&&(i.lastIndex=tu(o,dt(i.lastIndex),a)),c++}return 0===c?null:u}]}));var cc=R.f,lc="".startsWith,fc=Math.min,hc=hs("startsWith"),dc=!hc&&!!function(){var t=cc(String.prototype,"startsWith");return t&&!t.writable}();function pc(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.shift();e.length>0;){var i=e.shift();i.startsWith("/")?n=vc(n)+i:i.startsWith("http://")||i.startsWith("https://")?n=i:n.endsWith("/")?n+=i:n+="/"+i}return n}function vc(t){var e=t.indexOf("://")+3,r=t.substr(e).indexOf("/");return-1!==r?t.substring(0,e+r):t}function yc(t){if(t.endsWith("/")&&(t=t.substring(0,t.length-1)),vc(t)===t)return null;var e=t.lastIndexOf("/");return-1!==e?t.substr(0,e+1):null}function gc(t){var e;t.endsWith("/")||(t=null!==(e=yc(t))&&void 0!==e?e:t+"/");var r=t.slice(0,-1);return vc(t)===r?null:bc(r)}function bc(t){var e=t.lastIndexOf("/");return-1!==e?t.substr(e+1):""}function mc(t){var e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;var r=e[4]||"",n=ge(-1===r.indexOf(":")?[r]:r.split(":"),2),i=n[0],o=n[1];return{protocol:e[2]||void 0,domain:i||void 0,port:o||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}}function wc(t,e){var r,n,i=mc(t);if(!i)return t;for(var o=0,a=Object.entries(i);o<a.length;o++){var s=ge(a[o],2),u=s[0],c=s[1];i[u]=!1!==e[u]&&c||""}return[i.protocol?"".concat(i.protocol,"://"):"",null!==(r=i.domain)&&void 0!==r?r:"",i.port?":".concat(i.port):"",null!==(n=i.path)&&void 0!==n?n:"",i.query?"?".concat(i.query):"",i.fragment?"#".concat(i.fragment):""].join("")}function _c(t,e){for(var r=t.prototype,n=function(){var t=ge(o[i],2),e=t[0],n=t[1];r[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=n.apply(void 0,[this.value].concat(e));return this.chain(i)}},i=0,o=Object.entries(e);i<o.length;i++)n()}function xc(t,e){for(var r=t.prototype,n=Object.getOwnPropertyDescriptors(e.prototype),i=function(){var t=ge(a[o],2),e=t[0],n=t[1];return e in r?"continue":"function"!=typeof n.value?(Object.defineProperty(r,e,{get:function(){return this.chain(this.value[e])}}),"continue"):void(r[e]=function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=(t=n.value).call.apply(t,[this.value].concat(r));return this.chain(o)})},o=0,a=Object.entries(n);o<a.length;o++)i()}Nt({target:"String",proto:!0,forced:!dc&&!hc},{startsWith:function(t){var e=String(y(this));ls(t);var r=dt(fc(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return lc?lc.call(e,n,r):e.slice(r,r+n.length)===n}});var Ec=function(){function t(e){oe(this,t),ue(this,"value",void 0),this.value=e}return se(t,[{key:"create",value:function(t){return new(0,this.constructor)(t)}},{key:"chain",value:function(t){return this.isPrimitive(t)?this.create(t):t}}],[{key:"isPrimitive",value:function(t){return this.prototype.isPrimitive(t)}}]),t}(),Sc={clear:ps,diff:vs,filter:ys,first:gs,flatMap:bs,isEmpty:ms,project:ws,remove:xs,removeIndex:Es,replace:Ss,sorted:Os,unique:Is,where:Rs,without:js,withoutIndexes:ks},Oc=function(t){ce(r,t);var e=ye(r);function r(){return oe(this,r),e.apply(this,arguments)}return se(r,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.value,"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"get",value:function(t){return this.value[t]}},{key:"toArray",value:function(){return this.value.slice(0)}},{key:"isPrimitive",value:function(t){return Array.isArray(t)}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.prototype;return e.create(t)}}]),r}(Ec);_c(Oc,Sc),xc(Oc,Array);var Ic={reverse:Hu,toCamelCase:Wu,toSlug:Yu,toStudlyCase:Qu},Rc=function(t){ce(r,t);var e=ye(r);function r(){return oe(this,r),e.apply(this,arguments)}return se(r,[{key:"toString",value:function(){return this.value}},{key:"isPrimitive",value:function(t){return"string"==typeof t}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.prototype;return e.create(t)}}]),r}(Ec);_c(Rc,Ic),xc(Rc,String),Nt({target:"Reflect",stat:!0},{get:function t(e,r){var n,i,o=arguments.length<3?e:arguments[2];return j(e)===o?e[r]:(n=R.f(e,r))?_(n,"value")?n.value:void 0===n.get?void 0:n.get.call(o):b(i=Yr(e))?t(i,r,o):void 0}});var jc=[Oc,Rc];function kc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Oc.create(Ts(t))}e.Error=Se,e.FluentArrayDefinition=Oc,e.FluentObjectDefinition=Ec,e.FluentStringDefinition=Rc,e.ObjectsMap=Fi,e.PromisedValue=sa,e.Semaphore=va,e.Storage=ba,e.StorageSingleton=ga,e.after=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(){return(t.milliseconds||t.ms||0)+1e3*(t.seconds||0)};return new Promise((function(t){return setTimeout(t,e())}))},e.afterAnimationFrame=function(){return new Promise((function(t){return requestAnimationFrame((function(){return t()}))}))},e.applyMixins=Eu,e.arr=kc,e.arrayChunk=function(t,e){for(var r=[],n=0;n<t.length;n+=e)r.push(t.slice(n,n+e));return r},e.arrayClear=ps,e.arrayDiff=vs,e.arrayFilter=ys,e.arrayFirst=gs,e.arrayFlatMap=bs,e.arrayFrom=Ts,e.arrayIsEmpty=ms,e.arrayProject=ws,e.arrayPull=_s,e.arrayRemove=xs,e.arrayRemoveIndex=Es,e.arrayReplace=Ss,e.arraySorted=Os,e.arrayUnique=Is,e.arrayWhere=Rs,e.arrayWithout=js,e.arrayWithoutIndexes=ks,e.arrayZip=function(){for(var t=[],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var i=function(e){t.push(r.map((function(t){return t[e]})))},o=0;o<r[0].length;o++)i(o);return t},e.catchError=function(t){try{return t(),null}catch(t){return t}},e.compare=ds,e.debounce=function(t,e){var r,n=function n(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n.cancel(),r=setTimeout((function(){return t.apply(void 0,o)}),e)};return n.cancel=function(){return clearTimeout(r)},n},e.deepEquals=function t(e,r){return e===r||!(!Ti(e)||!Ti(r))&&(e instanceof Date&&r instanceof Date?e.getTime()===r.getTime():Object.keys(e).length===Object.keys(r).length&&!Object.keys(e).some((function(n){return!t(e[n],r[n])})))},e.fail=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong",e="string"==typeof t?Error:t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];throw de(e,be("string"==typeof t?[t]:n))},e.fluent=function(t){var e=kc(jc).first((function(e){return e.isPrimitive(t)}));return e?e.create(t):null},e.fluentStringHelpers=Ic,e.invert=function(t){return Object.entries(t).reduce((function(t,e){var r=ge(e,2),n=r[0];return t[r[1]]=n,t}),{})},e.isArray=ji,e.isEmpty=function(t){return null==t||(Array.isArray(t)||"string"==typeof t?0===t.length:"object"===re(t)&&0===Object.keys(t).length)},e.isIterable=ki,e.isNullable=function(t){return null==t},e.isObject=Ti,e.isPromise=function(t){return"then"in t},e.isString=Ai,e.isValidDateString=function(t){if("string"!=typeof t)return!1;var e=new Date(t);return!isNaN(e.getTime())},e.map=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(t)||"string"!=typeof t[0])return Fi.createFromArray(t,e);var r=e;return t.reduce((function(t,e){return t[e]=r(e),t}),{})},e.mixed=Su,e.mixedWithoutTypes=function(){return Su.apply(void 0,arguments)},e.objectDeepClone=function t(e){for(var r in e=ee({},e))Ni(e,r)&&(e[r]=t(e[r]));return e},e.objectEntries=Pi,e.objectHasOwnProperty=Di,e.objectOnly=function(t,e){var r,n={},i=_e(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o in t&&(n[o]=t[o])}}catch(t){i.e(t)}finally{i.f()}return n},e.objectPropertyIsObject=Ni,e.objectPull=Li,e.objectWithout=Mi,e.objectWithoutEmpty=function(t){for(var e={},r=0,n=Object.entries(t);r<n.length;r++){var i=ge(n[r],2),o=i[0],a=i[1];null!=a&&(e[o]=a)}return e},e.once=function(t){var e={};return function(){return"result"in e?e.result:e.result=t.apply(void 0,arguments)}},e.parseDate=function(t){if(!t)return null;try{var e=new Date(t),r=e.getTime();return isNaN(r)||0===r?null:e}catch(t){return null}},e.pull=function(t,e){return Array.isArray(t)?_s(t,e):Li(t,e)},e.range=function(t){for(var e=[],r=0;r<t;r++)e.push(r);return e},e.requireUrlDirectoryName=function(t){var e;return null!==(e=gc(t))&&void 0!==e?e:fail("Failed getting directory name from '".concat(t,"'"))},e.requireUrlParentDirectory=function(t){var e;return null!==(e=yc(t))&&void 0!==e?e:fail("Failed getting parent directory from '".concat(t,"'"))},e.requireUrlParse=function(t){var e;return null!==(e=mc(t))&&void 0!==e?e:fail("Failed parsing url from '".concat(t,"'"))},e.runtimeGlobal=xe,e.seconds=function t(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0===e?t(Date.now(),r):"number"==typeof e?(e/=1e3,r?Math.round(e):e):t(e.getTime(),r)},e.silenced=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"function"!=typeof t?t.catch((function(){return e})):ie(regeneratorRuntime.mark((function r(){var n=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.apply(void 0,n);case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),r.abrupt("return",e||null);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))},e.str=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Rc.create(t)},e.stringReverse=Hu,e.stringSplitWords=Ku,e.stringToCamelCase=Wu,e.stringToSlug=Yu,e.stringToStudlyCase=Qu,e.tap=function(t,e){if(!e)return function(t){var e=new Proxy(t,{get:function(t,r,n){var i=Reflect.get(t,r,n);return"function"!=typeof i?i:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return i.call.apply(i,[t].concat(n)),e}}});return e}(t);var r=e(t);return r instanceof Promise?r.then((function(){return t})):t},e.toString=Ui,e.tt=function(){return function(){return expect(!0).toBe(!0)}},e.urlClean=wc,e.urlDirectoryName=gc,e.urlFileName=bc,e.urlParentDirectory=yc,e.urlParse=mc,e.urlResolve=pc,e.urlResolveDirectory=function(){var t=pc.apply(void 0,arguments);return t.endsWith("/")?t:t+"/"},e.urlRoot=vc,e.urlRoute=function(t){return wc(t,{protocol:!0,domain:!0,port:!0,path:!0,query:!1,fragment:!1})},e.uuid=function(){return cu()},e.value=function(t){return"function"==typeof t?t():t},e.when=function(t,e){var r="function"==typeof e?e(t):!!e;return new Proxy(t,{get:function(t,e,n){return r?Reflect.get(t,e,n):function(){}}})},Object.defineProperty(e,"__esModule",{value:!0})}))}).call(this,r("c8ba"))},"21ee":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2266:function(t,e,r){var n=r("825a"),i=r("e95a"),o=r("50c4"),a=r("0366"),s=r("35a1"),u=r("9bdd"),c=function(t,e){this.stopped=t,this.result=e},l=t.exports=function(t,e,r,l,f){var h,d,p,v,y,g,b,m=a(e,r,l?2:1);if(f)h=t;else{if(d=s(t),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(p=0,v=o(t.length);v>p;p++)if(y=l?m(n(b=t[p])[0],b[1]):m(t[p]),y&&y instanceof c)return y;return new c(!1)}h=d.call(t)}g=h.next;while(!(b=g.call(h)).done)if(y=u(h,m,b.value,l),"object"==typeof y&&y&&y instanceof c)return y;return new c(!1)};l.stop=function(t){return new c(!0,t)}},"23cb":function(t,e,r){var n=r("a691"),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},"23e7":function(t,e,r){var n=r("da84"),i=r("06cf").f,o=r("9112"),a=r("6eeb"),s=r("ce4e"),u=r("e893"),c=r("94ca");t.exports=function(t,e){var r,l,f,h,d,p,v=t.target,y=t.global,g=t.stat;if(l=y?n:g?n[v]||s(v,{}):(n[v]||{}).prototype,l)for(f in e){if(d=e[f],t.noTargetGet?(p=i(l,f),h=p&&p.value):h=l[f],r=c(y?f:v+(g?".":"#")+f,t.forced),!r&&void 0!==h){if(typeof d===typeof h)continue;u(d,h)}(t.sham||h&&h.sham)&&o(d,"sham",!0),a(l,f,d,t)}}},"23ef":function(t,e,r){var n={"./MediaContainer":"b0d7","./MediaContainer.ts":"b0d7","./Movie":"6ea5","./Movie.ts":"6ea5","./TypeRegistration":"3349","./TypeRegistration.ts":"3349","./WatchAction":"e423","./WatchAction.ts":"e423"};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id="23ef"},"241c":function(t,e,r){var n=r("ca84"),i=r("7839"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},2532:function(t,e,r){"use strict";var n=r("23e7"),i=r("5a34"),o=r("1d80"),a=r("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,r){"use strict";var n=r("6eeb"),i=r("825a"),o=r("d039"),a=r("ad6d"),s="toString",u=RegExp.prototype,c=u[s],l=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=s;(l||f)&&n(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),r=t.flags,n=String(void 0===r&&t instanceof RegExp&&!("flags"in u)?a.call(t):r);return"/"+e+"/"+n}),{unsafe:!0})},2626:function(t,e,r){"use strict";var n=r("d066"),i=r("9bf2"),o=r("b622"),a=r("83ab"),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},"276c":function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return n}))},"27bf":function(t,e,r){"use strict";t.exports=a;var n=r("b19a"),i=Object.create(r("3a7c"));function o(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);n.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"===typeof this._flush?this._flush((function(e,r){u(t,e,r)})):u(this,null,null)}function u(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r("3fb5"),i.inherits(a,n),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},"2b3d":function(t,e,r){"use strict";r("3ca3");var n,i=r("23e7"),o=r("83ab"),a=r("0d3b"),s=r("da84"),u=r("37e8"),c=r("6eeb"),l=r("19aa"),f=r("5135"),h=r("60da"),d=r("4df4"),p=r("6547").codeAt,v=r("5fb2"),y=r("d44e"),g=r("9861"),b=r("69f3"),m=s.URL,w=g.URLSearchParams,_=g.getState,x=b.set,E=b.getterFor("URL"),S=Math.floor,O=Math.pow,I="Invalid authority",R="Invalid scheme",j="Invalid host",k="Invalid port",T=/[A-Za-z]/,A=/[\d+\-.A-Za-z]/,C=/\d/,P=/^(0x|0X)/,D=/^[0-7]+$/,N=/^\d+$/,L=/^[\dA-Fa-f]+$/,M=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,U=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,V=function(t,e){var r,n,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return j;if(r=G(e.slice(1,-1)),!r)return j;t.host=r}else if(X(t)){if(e=v(e),M.test(e))return j;if(r=q(e),null===r)return j;t.host=r}else{if(U.test(e))return j;for(r="",n=d(e),i=0;i<n.length;i++)r+=Y(n[i],z);t.host=r}},q=function(t){var e,r,n,i,o,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),e=u.length,e>4)return t;for(r=[],n=0;n<e;n++){if(i=u[n],""==i)return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=P.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?N:8==o?D:L).test(i))return t;a=parseInt(i,o)}r.push(a)}for(n=0;n<e;n++)if(a=r[n],n==e-1){if(a>=O(256,5-e))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*O(256,3-n);return s},G=function(t){var e,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,h=function(){return t.charAt(f)};if(":"==h()){if(":"!=t.charAt(1))return;f+=2,c++,l=c}while(h()){if(8==c)return;if(":"!=h()){e=r=0;while(r<4&&L.test(h()))e=16*e+parseInt(h(),16),f++,r++;if("."==h()){if(0==r)return;if(f-=r,c>6)return;n=0;while(h()){if(i=null,n>0){if(!("."==h()&&n<4))return;f++}if(!C.test(h()))return;while(C.test(h())){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[c++]=e}else{if(null!==l)return;f++,c++,l=c}}if(null!==l){a=c-l,c=7;while(0!=c&&a>0)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s}else if(8!=c)return;return u},$=function(t){for(var e=null,r=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(e=n,r=i),e},J=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=$(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=t[r].toString(16),r<7&&(e+=":")));return"["+e+"]"}return t},z={},H=h({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),K=h({},H,{"#":1,"?":1,"{":1,"}":1}),W=h({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(t,e){var r=p(t,0);return r>32&&r<127&&!f(e,t)?t:encodeURIComponent(t)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(t){return f(Q,t.scheme)},Z=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var r;return 2==t.length&&T.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!e&&"|"==r)},rt=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},nt=function(t){var e=t.path,r=e.length;!r||"file"==t.scheme&&1==r&&et(e[0],!0)||e.pop()},it=function(t){return"."===t||"%2e"===t.toLowerCase()},ot=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},at={},st={},ut={},ct={},lt={},ft={},ht={},dt={},pt={},vt={},yt={},gt={},bt={},mt={},wt={},_t={},xt={},Et={},St={},Ot={},It={},Rt=function(t,e,r,i){var o,a,s,u,c=r||at,l=0,h="",p=!1,v=!1,y=!1;r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(F,"")),e=e.replace(B,""),o=d(e);while(l<=o.length){switch(a=o[l],c){case at:if(!a||!T.test(a)){if(r)return R;c=ut;continue}h+=a.toLowerCase(),c=st;break;case st:if(a&&(A.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(r)return R;h="",c=ut,l=0;continue}if(r&&(X(t)!=f(Q,h)||"file"==h&&(Z(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,r)return void(X(t)&&Q[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?c=mt:X(t)&&i&&i.scheme==t.scheme?c=ct:X(t)?c=dt:"/"==o[l+1]?(c=lt,l++):(t.cannotBeABaseURL=!0,t.path.push(""),c=St)}break;case ut:if(!i||i.cannotBeABaseURL&&"#"!=a)return R;if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,c=It;break}c="file"==i.scheme?mt:ft;continue;case ct:if("/"!=a||"/"!=o[l+1]){c=ft;continue}c=pt,l++;break;case lt:if("/"==a){c=vt;break}c=Et;continue;case ft:if(t.scheme=i.scheme,a==n)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==a||"\\"==a&&X(t))c=ht;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",c=Ot;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),c=Et;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=It}break;case ht:if(!X(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,c=Et;continue}c=vt}else c=pt;break;case dt:if(c=pt,"/"!=a||"/"!=h.charAt(l+1))continue;l++;break;case pt:if("/"!=a&&"\\"!=a){c=vt;continue}break;case vt:if("@"==a){p&&(h="%40"+h),p=!0,s=d(h);for(var g=0;g<s.length;g++){var b=s[g];if(":"!=b||y){var m=Y(b,W);y?t.password+=m:t.username+=m}else y=!0}h=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&X(t)){if(p&&""==h)return I;l-=d(h).length+1,h="",c=yt}else h+=a;break;case yt:case gt:if(r&&"file"==t.scheme){c=_t;continue}if(":"!=a||v){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&X(t)){if(X(t)&&""==h)return j;if(r&&""==h&&(Z(t)||null!==t.port))return;if(u=V(t,h),u)return u;if(h="",c=xt,r)return;continue}"["==a?v=!0:"]"==a&&(v=!1),h+=a}else{if(""==h)return j;if(u=V(t,h),u)return u;if(h="",c=bt,r==gt)return}break;case bt:if(!C.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&X(t)||r){if(""!=h){var w=parseInt(h,10);if(w>65535)return k;t.port=X(t)&&w===Q[t.scheme]?null:w,h=""}if(r)return;c=xt;continue}return k}h+=a;break;case mt:if(t.scheme="file","/"==a||"\\"==a)c=wt;else{if(!i||"file"!=i.scheme){c=Et;continue}if(a==n)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==a)t.host=i.host,t.path=i.path.slice(),t.query="",c=Ot;else{if("#"!=a){rt(o.slice(l).join(""))||(t.host=i.host,t.path=i.path.slice(),nt(t)),c=Et;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=It}}break;case wt:if("/"==a||"\\"==a){c=_t;break}i&&"file"==i.scheme&&!rt(o.slice(l).join(""))&&(et(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),c=Et;continue;case _t:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&et(h))c=Et;else if(""==h){if(t.host="",r)return;c=xt}else{if(u=V(t,h),u)return u;if("localhost"==t.host&&(t.host=""),r)return;h="",c=xt}continue}h+=a;break;case xt:if(X(t)){if(c=Et,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(c=Et,"/"!=a))continue}else t.fragment="",c=It;else t.query="",c=Ot;break;case Et:if(a==n||"/"==a||"\\"==a&&X(t)||!r&&("?"==a||"#"==a)){if(ot(h)?(nt(t),"/"==a||"\\"==a&&X(t)||t.path.push("")):it(h)?"/"==a||"\\"==a&&X(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(a==n||"?"==a||"#"==a))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==a?(t.query="",c=Ot):"#"==a&&(t.fragment="",c=It)}else h+=Y(a,K);break;case St:"?"==a?(t.query="",c=Ot):"#"==a?(t.fragment="",c=It):a!=n&&(t.path[0]+=Y(a,z));break;case Ot:r||"#"!=a?a!=n&&("'"==a&&X(t)?t.query+="%27":t.query+="#"==a?"%23":Y(a,z)):(t.fragment="",c=It);break;case It:a!=n&&(t.fragment+=Y(a,H));break}l++}},jt=function(t){var e,r,n=l(this,jt,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=x(n,{type:"URL"});if(void 0!==i)if(i instanceof jt)e=E(i);else if(r=Rt(e={},String(i)),r)throw TypeError(r);if(r=Rt(s,a,null,e),r)throw TypeError(r);var u=s.searchParams=new w,c=_(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},o||(n.href=Tt.call(n),n.origin=At.call(n),n.protocol=Ct.call(n),n.username=Pt.call(n),n.password=Dt.call(n),n.host=Nt.call(n),n.hostname=Lt.call(n),n.port=Mt.call(n),n.pathname=Ut.call(n),n.search=Ft.call(n),n.searchParams=Bt.call(n),n.hash=Vt.call(n))},kt=jt.prototype,Tt=function(){var t=E(this),e=t.scheme,r=t.username,n=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",Z(t)&&(c+=r+(n?":"+n:"")+"@"),c+=J(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},At=function(){var t=E(this),e=t.scheme,r=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&X(t)?e+"://"+J(t.host)+(null!==r?":"+r:""):"null"},Ct=function(){return E(this).scheme+":"},Pt=function(){return E(this).username},Dt=function(){return E(this).password},Nt=function(){var t=E(this),e=t.host,r=t.port;return null===e?"":null===r?J(e):J(e)+":"+r},Lt=function(){var t=E(this).host;return null===t?"":J(t)},Mt=function(){var t=E(this).port;return null===t?"":String(t)},Ut=function(){var t=E(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ft=function(){var t=E(this).query;return t?"?"+t:""},Bt=function(){return E(this).searchParams},Vt=function(){var t=E(this).fragment;return t?"#"+t:""},qt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&u(kt,{href:qt(Tt,(function(t){var e=E(this),r=String(t),n=Rt(e,r);if(n)throw TypeError(n);_(e.searchParams).updateSearchParams(e.query)})),origin:qt(At),protocol:qt(Ct,(function(t){var e=E(this);Rt(e,String(t)+":",at)})),username:qt(Pt,(function(t){var e=E(this),r=d(String(t));if(!tt(e)){e.username="";for(var n=0;n<r.length;n++)e.username+=Y(r[n],W)}})),password:qt(Dt,(function(t){var e=E(this),r=d(String(t));if(!tt(e)){e.password="";for(var n=0;n<r.length;n++)e.password+=Y(r[n],W)}})),host:qt(Nt,(function(t){var e=E(this);e.cannotBeABaseURL||Rt(e,String(t),yt)})),hostname:qt(Lt,(function(t){var e=E(this);e.cannotBeABaseURL||Rt(e,String(t),gt)})),port:qt(Mt,(function(t){var e=E(this);tt(e)||(t=String(t),""==t?e.port=null:Rt(e,t,bt))})),pathname:qt(Ut,(function(t){var e=E(this);e.cannotBeABaseURL||(e.path=[],Rt(e,t+"",xt))})),search:qt(Ft,(function(t){var e=E(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Rt(e,t,Ot)),_(e.searchParams).updateSearchParams(e.query)})),searchParams:qt(Bt),hash:qt(Vt,(function(t){var e=E(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Rt(e,t,It)):e.fragment=null}))}),c(kt,"toJSON",(function(){return Tt.call(this)}),{enumerable:!0}),c(kt,"toString",(function(){return Tt.call(this)}),{enumerable:!0}),m){var Gt=m.createObjectURL,$t=m.revokeObjectURL;Gt&&c(jt,"createObjectURL",(function(t){return Gt.apply(m,arguments)})),$t&&c(jt,"revokeObjectURL",(function(t){return $t.apply(m,arguments)}))}y(jt,"URL"),i({global:!0,forced:!a,sham:!o},{URL:jt})},"2c63":function(t,e,r){t.exports=r("dc14")},"2ca0":function(t,e,r){"use strict";var n=r("23e7"),i=r("06cf").f,o=r("50c4"),a=r("5a34"),s=r("1d80"),u=r("ab13"),c=r("c430"),l="".startsWith,f=Math.min,h=u("startsWith"),d=!c&&!h&&!!function(){var t=i(String.prototype,"startsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!d&&!h},{startsWith:function(t){var e=String(s(this));a(t);var r=o(f(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return l?l.call(e,n,r):e.slice(r,r+n.length)===n}})},"2cf4":function(t,e,r){var n,i,o,a=r("da84"),s=r("d039"),u=r("c6b6"),c=r("0366"),l=r("1be4"),f=r("cc12"),h=r("1cdc"),d=a.location,p=a.setImmediate,v=a.clearImmediate,y=a.process,g=a.MessageChannel,b=a.Dispatch,m=0,w={},_="onreadystatechange",x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},E=function(t){return function(){x(t)}},S=function(t){x(t.data)},O=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){var e=[],r=1;while(arguments.length>r)e.push(arguments[r++]);return w[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(m),m},v=function(t){delete w[t]},"process"==u(y)?n=function(t){y.nextTick(E(t))}:b&&b.now?n=function(t){b.now(E(t))}:g&&!h?(i=new g,o=i.port2,i.port1.onmessage=S,n=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(O)?n=_ in f("script")?function(t){l.appendChild(f("script"))[_]=function(){l.removeChild(this),x(t)}}:function(t){setTimeout(E(t),0)}:(n=O,a.addEventListener("message",S,!1))),t.exports={set:p,clear:v}},"2d00":function(t,e,r){var n,i,o=r("da84"),a=r("342f"),s=o.process,u=s&&s.versions,c=u&&u.v8;c?(n=c.split("."),i=n[0]+n[1]):a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(i=n[1]))),t.exports=i&&+i},3349:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return u}));var n=r("276c"),i=r("92a6"),o=r("920b"),a=r("ddbf"),s=r("dfab"),u=function(t){Object(o["a"])(r,t);var e=Object(i["a"])(r);function r(){return Object(n["a"])(this,r),e.apply(this,arguments)}return r}(s["SolidModel"]);u.ldpResource=!1,u.rdfContexts={solid:"http://www.w3.org/ns/solid/terms#"},u.rdfsClasses=["solid:TypeRegistration"],u.timestamps=!1,u.fields={forClass:{type:a["FieldType"].Key,rdfProperty:"solid:forClass",required:!0},instanceContainer:{type:a["FieldType"].Key,rdfProperty:"solid:instanceContainer",required:!0}}},3410:function(t,e,r){var n=r("23e7"),i=r("d039"),o=r("7b0b"),a=r("e163"),s=r("e177"),u=i((function(){a(1)}));n({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},"342f":function(t,e,r){var n=r("d066");t.exports=n("navigator","userAgent")||""},"34b3":function(t,e,r){"use strict";r("d3b7"),r("ac1f"),r("25f0"),r("5319");var n=r("276c"),i=r("e954"),o=function(){function t(){Object(n["a"])(this,t)}return Object(i["a"])(t,[{key:"generate",value:function(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,this.generate)}}]),t}();e["a"]=new o},"35a1":function(t,e,r){var n=r("f5df"),i=r("3f8c"),o=r("b622"),a=o("iterator");t.exports=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||i[n(t)]}},"37e8":function(t,e,r){var n=r("83ab"),i=r("9bf2"),o=r("825a"),a=r("df75");t.exports=n?Object.defineProperties:function(t,e){o(t);var r,n=a(e),s=n.length,u=0;while(s>u)i.f(t,r=n[u++],e[r]);return t}},"3a7c":function(t,e,r){(function(t){function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===y(t)}function n(t){return"boolean"===typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"===typeof t}function s(t){return"string"===typeof t}function u(t){return"symbol"===typeof t}function c(t){return void 0===t}function l(t){return"[object RegExp]"===y(t)}function f(t){return"object"===typeof t&&null!==t}function h(t){return"[object Date]"===y(t)}function d(t){return"[object Error]"===y(t)||t instanceof Error}function p(t){return"function"===typeof t}function v(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function y(t){return Object.prototype.toString.call(t)}e.isArray=r,e.isBoolean=n,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=s,e.isSymbol=u,e.isUndefined=c,e.isRegExp=l,e.isObject=f,e.isDate=h,e.isError=d,e.isFunction=p,e.isPrimitive=v,e.isBuffer=t.isBuffer}).call(this,r("b639").Buffer)},"3bbe":function(t,e,r){var n=r("861d");t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,r){"use strict";var n=r("6547").charAt,i=r("69f3"),o=r("7dd0"),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=u(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},"3e6b":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&"DefaultGraph"===t.termType}}e.DefaultGraph=n,n.INSTANCE=new n},"3f8c":function(t,e){t.exports={}},"3fb5":function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},4069:function(t,e,r){var n=r("44d2");n("flat")},4160:function(t,e,r){"use strict";var n=r("23e7"),i=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"424d":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdContextNormalized=void 0;const n=r("e43f"),i=r("4f5c"),o=r("56af"),a=r("5bc9");class s{constructor(t){this.contextRaw=t}getContextRaw(){return this.contextRaw}expandTerm(t,e,r=i.defaultExpandOptions){const s=this.contextRaw[t];if(null===s||s&&null===s["@id"])return null;let u=!0;if(s&&e){const e=a.Util.getContextValueId(s);if(e&&e!==t){if("string"===typeof e&&(a.Util.isValidIri(e)||a.Util.isValidKeyword(e)))return e;a.Util.isPotentialKeyword(e)||(u=!1)}}const c=a.Util.getPrefix(t,this.contextRaw),l=this.contextRaw["@vocab"],f=(!!l||""===l)&&l.indexOf(":")<0,h=this.contextRaw["@base"],d=a.Util.isPotentialKeyword(t);if(c){const e=this.contextRaw[c],n=a.Util.getContextValueId(e);if(n){if("string"!==typeof e&&r.allowPrefixForcing){if("_"!==n[0]&&!d&&!e["@prefix"]&&!(t in this.contextRaw))return t}else if(!a.Util.isSimpleTermDefinitionPrefix(n,r))return t;return n+t.substr(c.length+1)}}else{if(e&&(l||""===l||r.allowVocabRelativeToBase&&h&&f)&&!d&&!a.Util.isCompactIri(t)){if(f){if(r.allowVocabRelativeToBase)return n.resolve(l,h)+t;throw new o.ErrorCoded(`Relative vocab expansion for term '${t}' with vocab '${l}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}return l+t}if(!e&&h&&!d&&!a.Util.isCompactIri(t))return n.resolve(t,h)}if(u)return t;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${t}': '${JSON.stringify(s)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(t,e){if(e&&this.contextRaw["@vocab"]&&t.startsWith(this.contextRaw["@vocab"]))return t.substr(this.contextRaw["@vocab"].length);if(!e&&this.contextRaw["@base"]&&t.startsWith(this.contextRaw["@base"]))return t.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:t};for(const n in this.contextRaw){const i=this.contextRaw[n];if(i&&!a.Util.isPotentialKeyword(n)){const o=a.Util.getContextValueId(i);if(t.startsWith(o)){const i=t.substr(o.length);if(i)i.length<r.suffix.length&&(r.prefix=n,r.suffix=i);else if(e)return n}}}return r.prefix?r.prefix+":"+r.suffix:t}}e.JsonLdContextNormalized=s},"428f":function(t,e,r){var n=r("da84");t.exports=n},"429b":function(t,e,r){t.exports=r("faa1").EventEmitter},4362:function(t,e,r){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,n="/";e.cwd=function(){return n},e.chdir=function(e){t||(t=r("df7c")),n=t.resolve(e,n)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43e4":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeparatorType=void 0;class n{constructor(t){this.label=t}}e.SeparatorType=n,n.COMMA=new n(","),n.OBJECT_START=new n("{"),n.OBJECT_END=new n("}"),n.OBJECT_END_COMMA=new n("},"),n.ARRAY_START=new n("["),n.ARRAY_END=new n("]"),n.ARRAY_END_COMMA=new n("],"),n.GRAPH_FIELD_NONCOMPACT=new n('"@graph": ['),n.GRAPH_FIELD_COMPACT=new n('"@graph":['),n.CONTEXT_FIELD=new n('"@context":')},"44ad":function(t,e,r){var n=r("d039"),i=r("c6b6"),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"44d2":function(t,e,r){var n=r("b622"),i=r("7c73"),o=r("9bf2"),a=n("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},"44de":function(t,e,r){var n=r("da84");t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},"44e7":function(t,e,r){var n=r("861d"),i=r("c6b6"),o=r("b622"),a=o("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},"45fc":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").some,o=r("a640"),a=r("ae40"),s=o("some"),u=a("some");n({target:"Array",proto:!0,forced:!s||!u},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"466d":function(t,e,r){"use strict";var n=r("d784"),i=r("825a"),o=r("50c4"),a=r("1d80"),s=r("8aa5"),u=r("14c3");n("match",1,(function(t,e,r){return[function(e){var r=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var a=i(t),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;var f,h=[],d=0;while(null!==(f=u(a,c))){var p=String(f[0]);h[d]=p,""===p&&(a.lastIndex=s(c,o(a.lastIndex),l)),d++}return 0===d?null:h}]}))},4681:function(t,e,r){"use strict";var n=r("966d");function i(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(n.nextTick(a,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(t,e){t.emit("error",e)}t.exports={destroy:i,undestroy:o}},4840:function(t,e,r){var n=r("825a"),i=r("1c0b"),o=r("b622"),a=o("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||void 0==(r=n(o)[a])?e:i(r)}},4930:function(t,e,r){var n=r("d039");t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"498a":function(t,e,r){"use strict";var n=r("23e7"),i=r("58a8").trim,o=r("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},"4ae1":function(t,e,r){var n=r("23e7"),i=r("d066"),o=r("1c0b"),a=r("825a"),s=r("861d"),u=r("7c73"),c=r("0538"),l=r("d039"),f=i("Reflect","construct"),h=l((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),d=!l((function(){f((function(){}))})),p=h||d;n({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var r=arguments.length<3?t:o(arguments[2]);if(d&&!h)return f(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var i=r.prototype,l=u(s(i)?i:Object.prototype),p=Function.apply.call(t,l,e);return s(p)?p:l}})},"4d63":function(t,e,r){var n=r("83ab"),i=r("da84"),o=r("94ca"),a=r("7156"),s=r("9bf2").f,u=r("241c").f,c=r("44e7"),l=r("ad6d"),f=r("9f7f"),h=r("6eeb"),d=r("d039"),p=r("69f3").set,v=r("2626"),y=r("b622"),g=y("match"),b=i.RegExp,m=b.prototype,w=/a/g,_=/a/g,x=new b(w)!==w,E=f.UNSUPPORTED_Y,S=n&&o("RegExp",!x||E||d((function(){return _[g]=!1,b(w)!=w||b(_)==_||"/a/i"!=b(w,"i")})));if(S){var O=function(t,e){var r,n=this instanceof O,i=c(t),o=void 0===e;if(!n&&i&&t.constructor===O&&o)return t;x?i&&!o&&(t=t.source):t instanceof O&&(o&&(e=l.call(t)),t=t.source),E&&(r=!!e&&e.indexOf("y")>-1,r&&(e=e.replace(/y/g,"")));var s=a(x?new b(t,e):b(t,e),n?this:m,O);return E&&r&&p(s,{sticky:r}),s},I=function(t){t in O||s(O,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},R=u(b),j=0;while(R.length>j)I(R[j++]);m.constructor=O,O.prototype=m,h(i,"RegExp",O)}v("RegExp")},"4d64":function(t,e,r){var n=r("fc6a"),i=r("50c4"),o=r("23cb"),a=function(t){return function(e,r,a){var s,u=n(e),c=i(u.length),l=o(a,c);if(t&&r!=r){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"4d90":function(t,e,r){"use strict";var n=r("23e7"),i=r("0ccb").start,o=r("9a0c");n({target:"String",proto:!0,forced:o},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").filter,o=r("1dde"),a=r("ae40"),s=o("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,r){"use strict";var n=r("0366"),i=r("7b0b"),o=r("9bdd"),a=r("e95a"),s=r("50c4"),u=r("8418"),c=r("35a1");t.exports=function(t){var e,r,l,f,h,d,p=i(t),v="function"==typeof this?this:Array,y=arguments.length,g=y>1?arguments[1]:void 0,b=void 0!==g,m=c(p),w=0;if(b&&(g=n(g,y>2?arguments[2]:void 0,2)),void 0==m||v==Array&&a(m))for(e=s(p.length),r=new v(e);e>w;w++)d=b?g(p[w],w):p[w],u(r,w,d);else for(f=m.call(p),h=f.next,r=new v;!(l=h.call(f)).done;w++)d=b?o(f,g,[l.value,w],!0):l.value,u(r,w,d);return r.length=w,r}},"4f5c":function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):i(t.value).then(a,s)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.ContextParser=void 0,r("7274");const i=r("e43f"),o=r("56af"),a=r("fb42"),s=r("424d"),u=r("5bc9"),c=r("5727");class l{constructor(t){t=t||{},this.documentLoader=t.documentLoader||new a.FetchDocumentLoader,this.documentCache={},this.validateContext=!t.skipValidation,this.expandContentTypeToBase=!!t.expandContentTypeToBase,this.remoteContextsDepthLimit=t.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in t)||!!t.redirectSchemaOrgHttps}static validateLanguage(t,e,r){if("string"!==typeof t)throw new o.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(t)}'`,r);if(!u.Util.REGEX_LANGUAGE_TAG.test(t)){if(e)throw new o.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(t)}'`,r);return!1}return!0}static validateDirection(t,e){if("string"!==typeof t)throw new o.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(t)}'`,o.ERROR_CODES.INVALID_BASE_DIRECTION);if(!u.Util.REGEX_DIRECTION_TAG.test(t)){if(e)throw new o.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(t)}'`,o.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(t){for(const e of Object.keys(t)){const r=t[e];if(r&&"object"===typeof r&&r["@reverse"]&&!r["@id"]){if("string"!==typeof r["@reverse"]||u.Util.isValidKeyword(r["@reverse"]))throw new o.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);r["@id"]=r["@reverse"],u.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return t}expandPrefixedTerms(t,e){const r=t.getContextRaw();for(const n of Object.keys(r))if(u.Util.EXPAND_KEYS_BLACKLIST.indexOf(n)<0&&!u.Util.isReservedInternalKeyword(n)){const i=r[n];if(u.Util.isPotentialKeyword(n)&&u.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(n)>=0&&("@type"!==n||"object"===typeof r[n]&&!r[n]["@protected"]&&"@set"!==r[n]["@container"]))throw new o.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${n} to ${JSON.stringify(i)}`,o.ERROR_CODES.KEYWORD_REDEFINITION);if(u.Util.ALIAS_RANGE_BLACKLIST.indexOf(u.Util.getContextValueId(i))>=0)throw new o.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${n} to ${JSON.stringify(i)}`,o.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(i&&u.Util.isPotentialKeyword(u.Util.getContextValueId(i))&&!0===i["@prefix"])throw new o.ErrorCoded(`Tried to use keyword aliases as prefix: '${n}': '${JSON.stringify(i)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);while(u.Util.isPrefixValue(r[n])){const i=r[n];let o=!1;if("string"===typeof i)r[n]=t.expandTerm(i,!0),o=o||i!==r[n];else{const a=i["@id"],s=i["@type"],c=!("@prefix"in i)||u.Util.isValidIri(n);if("@id"in i)void 0!==a&&null!==a&&"string"===typeof a&&(r[n]["@id"]=t.expandTerm(a,!0),o=o||a!==r[n]["@id"]);else if(!u.Util.isPotentialKeyword(n)&&c){const e=t.expandTerm(n,!0);e!==n&&(r[n]["@id"]=e,o=!0)}!s||"string"!==typeof s||"@vocab"===s||i["@container"]&&i["@container"]["@type"]||!c||(r[n]["@type"]=t.expandTerm(s,!0),e&&s===r[n]["@type"]&&(r[n]["@type"]=t.expandTerm(s,!1)),o=o||s!==r[n]["@type"])}if(!o)break}}}normalize(t,{processingMode:e,normalizeLanguageTags:r}){if(r||1===e)for(const n of Object.keys(t))if("@language"===n&&"string"===typeof t[n])t[n]=t[n].toLowerCase();else{const e=t[n];e&&"object"===typeof e&&"string"===typeof e["@language"]&&(e["@language"]=e["@language"].toLowerCase())}}containersToHash(t){for(const e of Object.keys(t)){const r=t[e];if(r&&"object"===typeof r)if("string"===typeof r["@container"])r["@container"]={[r["@container"]]:!0};else if(Array.isArray(r["@container"])){const t={};for(const e of r["@container"])t[e]=!0;r["@container"]=t}}}applyScopedProtected(t,{processingMode:e}){if(e&&e>=1.1&&t["@protected"]){for(const e of Object.keys(t))if(!u.Util.isReservedInternalKeyword(e)&&!u.Util.isPotentialKeyword(e)&&!u.Util.isTermProtected(t,e)){const r=t[e];r&&"object"===typeof r?"@protected"in t[e]||(t[e]["@protected"]=!0):t[e]={"@id":r,"@protected":!0}}delete t["@protected"]}}validateKeywordRedefinitions(t,e,r){for(const n of Object.keys(e))if(u.Util.isTermProtected(t,n)){if("string"===typeof e[n]){const i=u.Util.isSimpleTermDefinitionPrefix(e[n],r);e[n]={"@id":e[n]},i&&(e[n]["@prefix"]=!0,t[n]["@prefix"]=!0)}const i=c(t[n]);e[n]["@protected"]=!0;const a=c(e[n]);if(i!==a)throw new o.ErrorCoded(`Attempted to override the protected keyword ${n} from ${JSON.stringify(u.Util.getContextValueId(t[n]))} to ${JSON.stringify(u.Util.getContextValueId(e[n]))}`,o.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(t,{processingMode:e}){for(const r of Object.keys(t)){if(u.Util.isReservedInternalKeyword(r))continue;if(""===r)throw new o.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(t[r])}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);const n=t[r],i=typeof n;if(u.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(null!==n&&"string"!==i)throw new o.ErrorCoded("Found an invalid @vocab IRI: "+n,o.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==n&&"string"!==i)throw new o.ErrorCoded("Found an invalid @base IRI: "+t[r],o.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==n&&l.validateLanguage(n,!0,o.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==n&&"number"!==i)throw new o.ErrorCoded("Found an invalid @version number: "+n,o.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==n&&l.validateDirection(n,!0);break;case"propagate":if(1===e)throw new o.ErrorCoded("Found an illegal @propagate keyword: "+n,o.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==n&&"boolean"!==i)throw new o.ErrorCoded("Found an invalid @propagate value: "+n,o.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(u.Util.isValidKeyword(r)&&u.Util.isValidKeyword(u.Util.getContextValueId(n)))throw new o.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${u.Util.getContextValueId(n)}'`,o.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==n)switch(i){case"string":if(u.Util.getPrefix(n,t)===r)throw new o.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.CYCLIC_IRI_MAPPING);if(u.Util.isValidIriWeak(r)){if("@type"===n)throw new o.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${n}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIri(n)&&n!==new s.JsonLdContextNormalized(t).expandTerm(r))throw new o.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${n}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!u.Util.isCompactIri(r)&&!("@id"in n)&&("@id"===n["@type"]?!t["@base"]:!t["@vocab"]))throw new o.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);for(const a of Object.keys(n)){const c=n[a];if(c)switch(a){case"@id":if(u.Util.isValidKeyword(c)&&"@type"!==c&&"@id"!==c&&"@graph"!==c)throw new o.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIriWeak(r)){if("@type"===c)throw new o.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIri(c)&&c!==new s.JsonLdContextNormalized(t).expandTerm(r))throw new o.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!==typeof c)throw new o.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.getPrefix(c,t)===r)throw new o.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===n["@container"]&&"@id"!==c&&"@vocab"!==c)throw new o.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${c}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!==typeof c)throw new o.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(i)}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);if("@id"!==c&&"@vocab"!==c&&(1===e||"@json"!==c)&&(1===e||"@none"!==c)&&("_"===c[0]||!u.Util.isValidIri(c)))throw new o.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${c}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"===typeof c&&n["@id"]&&n["@id"]!==c)throw new o.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${c}' and '${n["@id"]}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in n)throw new o.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===e&&(Object.keys(c).length>1||u.Util.CONTAINERS_1_0.indexOf(Object.keys(c)[0])<0))throw new o.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(c)}') in 1.0, must be only one of ${u.Util.CONTAINERS_1_0.join(", ")}`,o.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const t of Object.keys(c)){if("@list"===t&&n["@reverse"])throw new o.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(u.Util.CONTAINERS.indexOf(t)<0)throw new o.ErrorCoded(`Invalid term @container for '${r}' ('${t}'), must be one of ${u.Util.CONTAINERS.join(", ")}`,o.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":l.validateLanguage(c,!0,o.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":l.validateDirection(c,!0);break;case"@prefix":if(null!==c&&"boolean"!==typeof c)throw new o.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in n)&&!u.Util.isValidIri(r))throw new o.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===e||!n["@container"]||!n["@container"]["@index"])throw new o.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(u.Util.isPotentialKeyword(c)&&"@nest"!==c)throw new o.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(n)}'`,o.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new o.ErrorCoded(`Found an invalid term value: '${r}': '${n}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(t,e,r){return"string"===typeof t||(r&&!("@base"in t)&&e.parentContext&&"@base"in e.parentContext&&(t["@base"]=e.parentContext["@base"],e.parentContext["@__baseDocument"]&&(t["@__baseDocument"]=!0)),e.baseIRI&&!e.external&&("@base"in t?null===t["@base"]||"string"!==typeof t["@base"]||u.Util.isValidIri(t["@base"])||(t["@base"]=i.resolve(t["@base"],e.parentContext&&e.parentContext["@base"]||e.baseIRI)):(t["@base"]=e.baseIRI,t["@__baseDocument"]=!0))),t}normalizeContextIri(t,e){if(!u.Util.isValidIri(t)&&(t=i.resolve(t,e),!u.Util.isValidIri(t)))throw new Error("Invalid context IRI: "+t);return this.redirectSchemaOrgHttps&&t.startsWith("http://schema.org")&&(t="https://schema.org/"),t}parseInnerContexts(t,e){return n(this,void 0,void 0,(function*(){for(const n of Object.keys(t)){const i=t[n];if(i&&"object"===typeof i&&"@context"in i&&null!==i["@context"]){if(this.validateContext)try{const r=Object.assign({},t);r[n]=Object.assign({},r[n]),delete r[n]["@context"],yield this.parse(i["@context"],Object.assign(Object.assign({},e),{parentContext:r,ignoreProtection:!0,ignoreRemoteScopedContexts:!0}))}catch(r){throw new o.ErrorCoded(r.message,o.ERROR_CODES.INVALID_SCOPED_CONTEXT)}i["@context"]=(yield this.parse(i["@context"],Object.assign(Object.assign({},e),{minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:t}))).getContextRaw()}}return t}))}parse(t,r={processingMode:l.DEFAULT_PROCESSING_MODE}){return n(this,void 0,void 0,(function*(){const{baseIRI:n,parentContext:i,external:a,processingMode:c,normalizeLanguageTags:f,ignoreProtection:h,minimalProcessing:d}=r;let p=i;const v=r.remoteContexts||{};if(Object.keys(v).length>=this.remoteContextsDepthLimit)throw new o.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(v),o.ERROR_CODES.CONTEXT_OVERFLOW);if(null===t||void 0===t){if(!h&&p&&u.Util.hasProtectedTerms(p))throw new o.ErrorCoded("Illegal context nullification when terms are protected",o.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new s.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}if("string"===typeof t){const e=this.normalizeContextIri(t,n),i=this.getOverriddenLoad(e,r);if(i)return new s.JsonLdContextNormalized(i);const o=yield this.parse(yield this.load(e),Object.assign(Object.assign({},r),{baseIRI:e,external:!0,remoteContexts:Object.assign(Object.assign({},v),{[e]:!0})}));return this.applyBaseEntry(o.getContextRaw(),r,!0),o}if(Array.isArray(t)){const e=[],i=yield Promise.all(t.map((t,i)=>{if("string"===typeof t){const o=this.normalizeContextIri(t,n);e[i]=o;const a=this.getOverriddenLoad(o,r);return a||this.load(o)}return t}));if(d)return new s.JsonLdContextNormalized(i);const o=yield i.reduce((t,n,i)=>t.then(t=>this.parse(n,Object.assign(Object.assign({},r),{baseIRI:e[i]||r.baseIRI,external:!!e[i]||r.external,parentContext:t.getContextRaw(),remoteContexts:e[i]?Object.assign(Object.assign({},v),{[e[i]]:!0}):v}))),Promise.resolve(new s.JsonLdContextNormalized(p||{})));return this.applyBaseEntry(o.getContextRaw(),r,!0),o}if("object"===typeof t){if("@context"in t)return yield this.parse(t["@context"],r);t=JSON.parse(JSON.stringify(t)),p&&(p=JSON.parse(JSON.stringify(p)));let i={};if(a&&delete t["@base"],this.applyBaseEntry(t,r,!0),this.containersToHash(t),d)return new s.JsonLdContextNormalized(t);let u={};if("@import"in t){if(!(c&&c>=1.1))throw new o.ErrorCoded("Context importing is not supported in JSON-LD 1.0",o.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!==typeof t["@import"])throw new o.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],o.ERROR_CODES.INVALID_IMPORT_VALUE);u=yield this.loadImportContext(this.normalizeContextIri(t["@import"],n)),delete t["@import"]}i=Object.assign(Object.assign(Object.assign(Object.assign({},i),p),u),t);const v=new s.JsonLdContextNormalized(i);return yield this.parseInnerContexts(i,r),!h&&p&&c&&c>=1.1&&this.validateKeywordRedefinitions(p,i,e.defaultExpandOptions),(i&&i["@version"]||c||l.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&"string"===typeof t["@vocab"]||""===t["@vocab"])&&t["@vocab"].indexOf(":")<0&&p&&"@vocab"in p&&(i["@vocab"]=p["@vocab"]+t["@vocab"]),this.idifyReverseTerms(i),this.expandPrefixedTerms(v,this.expandContentTypeToBase),this.normalize(i,{processingMode:c,normalizeLanguageTags:f}),this.applyScopedProtected(i,{processingMode:c}),this.validateContext&&this.validate(i,{processingMode:c}),v}throw new o.ErrorCoded("Tried parsing a context that is not a string, array or object, but got "+t,o.ERROR_CODES.INVALID_LOCAL_CONTEXT)}))}load(t){return n(this,void 0,void 0,(function*(){const e=this.documentCache[t];if(e)return"string"===typeof e?e:Array.isArray(e)?e.slice():Object.assign({},e);let r;try{r=yield this.documentLoader.load(t)}catch(n){throw new o.ErrorCoded(`Failed to load remote context ${t}: ${n.message}`,o.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new o.ErrorCoded("Missing @context in remote context at "+t,o.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[t]=r["@context"]}))}getOverriddenLoad(t,e){if(t in(e.remoteContexts||{})){if(e.ignoreRemoteScopedContexts)return t;throw new o.ErrorCoded("Detected a cyclic context inclusion of "+t,o.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}loadImportContext(t){return n(this,void 0,void 0,(function*(){const e=yield this.load(t);if("object"!==typeof e||Array.isArray(e))throw new o.ErrorCoded("An imported context must be a single object: "+t,o.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in e)throw new o.ErrorCoded("An imported context can not import another context: "+t,o.ERROR_CODES.INVALID_CONTEXT_ENTRY);return e}))}}e.ContextParser=l,l.DEFAULT_PROCESSING_MODE=1.1,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},"4fad":function(t,e,r){var n=r("23e7"),i=r("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"50c4":function(t,e,r){var n=r("a691"),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},"50cc":function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r("1065"),e)},5135:function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},5319:function(t,e,r){"use strict";var n=r("d784"),i=r("825a"),o=r("7b0b"),a=r("50c4"),s=r("a691"),u=r("1d80"),c=r("8aa5"),l=r("14c3"),f=Math.max,h=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,y=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,m=g?"$":"$0";return[function(r,n){var i=u(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!g&&b||"string"===typeof n&&-1===n.indexOf(m)){var o=r(e,t,this,n);if(o.done)return o.value}var u=i(t),d=String(this),p="function"===typeof n;p||(n=String(n));var v=u.global;if(v){var _=u.unicode;u.lastIndex=0}var x=[];while(1){var E=l(u,d);if(null===E)break;if(x.push(E),!v)break;var S=String(E[0]);""===S&&(u.lastIndex=c(d,a(u.lastIndex),_))}for(var O="",I=0,R=0;R<x.length;R++){E=x[R];for(var j=String(E[0]),k=f(h(s(E.index),d.length),0),T=[],A=1;A<E.length;A++)T.push(y(E[A]));var C=E.groups;if(p){var P=[j].concat(T,k,d);void 0!==C&&P.push(C);var D=String(n.apply(void 0,P))}else D=w(j,d,k,T,C,n);k>=I&&(O+=d.slice(I,k)+D,I=k+j.length)}return O+d.slice(I)}];function w(t,r,n,i,a,s){var u=n+t.length,c=i.length,l=v;return void 0!==a&&(a=o(a),l=p),e.call(s,l,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return e;if(l>c){var f=d(l/10);return 0===f?e:f<=c?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):e}s=i[l-1]}return void 0===s?"":s}))}}))},5692:function(t,e,r){var n=r("c430"),i=r("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56af":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class n extends Error{constructor(t,e){super(t),this.code=e}}e.ErrorCoded=n,function(t){t["COLLIDING_KEYWORDS"]="colliding keywords",t["CONFLICTING_INDEXES"]="conflicting indexes",t["CYCLIC_IRI_MAPPING"]="cyclic IRI mapping",t["INVALID_ID_VALUE"]="invalid @id value",t["INVALID_INDEX_VALUE"]="invalid @index value",t["INVALID_NEST_VALUE"]="invalid @nest value",t["INVALID_PREFIX_VALUE"]="invalid @prefix value",t["INVALID_PROPAGATE_VALUE"]="invalid @propagate value",t["INVALID_REVERSE_VALUE"]="invalid @reverse value",t["INVALID_IMPORT_VALUE"]="invalid @import value",t["INVALID_VERSION_VALUE"]="invalid @version value",t["INVALID_BASE_IRI"]="invalid base IRI",t["INVALID_CONTAINER_MAPPING"]="invalid container mapping",t["INVALID_CONTEXT_ENTRY"]="invalid context entry",t["INVALID_CONTEXT_NULLIFICATION"]="invalid context nullification",t["INVALID_DEFAULT_LANGUAGE"]="invalid default language",t["INVALID_INCLUDED_VALUE"]="invalid @included value",t["INVALID_IRI_MAPPING"]="invalid IRI mapping",t["INVALID_JSON_LITERAL"]="invalid JSON literal",t["INVALID_KEYWORD_ALIAS"]="invalid keyword alias",t["INVALID_LANGUAGE_MAP_VALUE"]="invalid language map value",t["INVALID_LANGUAGE_MAPPING"]="invalid language mapping",t["INVALID_LANGUAGE_TAGGED_STRING"]="invalid language-tagged string",t["INVALID_LANGUAGE_TAGGED_VALUE"]="invalid language-tagged value",t["INVALID_LOCAL_CONTEXT"]="invalid local context",t["INVALID_REMOTE_CONTEXT"]="invalid remote context",t["INVALID_REVERSE_PROPERTY"]="invalid reverse property",t["INVALID_REVERSE_PROPERTY_MAP"]="invalid reverse property map",t["INVALID_REVERSE_PROPERTY_VALUE"]="invalid reverse property value",t["INVALID_SCOPED_CONTEXT"]="invalid scoped context",t["INVALID_SCRIPT_ELEMENT"]="invalid script element",t["INVALID_SET_OR_LIST_OBJECT"]="invalid set or list object",t["INVALID_TERM_DEFINITION"]="invalid term definition",t["INVALID_TYPE_MAPPING"]="invalid type mapping",t["INVALID_TYPE_VALUE"]="invalid type value",t["INVALID_TYPED_VALUE"]="invalid typed value",t["INVALID_VALUE_OBJECT"]="invalid value object",t["INVALID_VALUE_OBJECT_VALUE"]="invalid value object value",t["INVALID_VOCAB_MAPPING"]="invalid vocab mapping",t["IRI_CONFUSED_WITH_PREFIX"]="IRI confused with prefix",t["KEYWORD_REDEFINITION"]="keyword redefinition",t["LOADING_DOCUMENT_FAILED"]="loading document failed",t["LOADING_REMOTE_CONTEXT_FAILED"]="loading remote context failed",t["MULTIPLE_CONTEXT_LINK_HEADERS"]="multiple context link headers",t["PROCESSING_MODE_CONFLICT"]="processing mode conflict",t["PROTECTED_TERM_REDEFINITION"]="protected term redefinition",t["CONTEXT_OVERFLOW"]="context overflow",t["INVALID_BASE_DIRECTION"]="invalid base direction",t["RECURSIVE_CONTEXT_INCLUSION"]="recursive context inclusion",t["INVALID_STREAMING_KEY_ORDER"]="invalid streaming key order"}(e.ERROR_CODES||(e.ERROR_CODES={}))},"56ef":function(t,e,r){var n=r("d066"),i=r("241c"),o=r("7418"),a=r("825a");t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?e.concat(r(t)):e}},"56f4":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerArrayValue=void 0;const n=r("882b");class i{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,n,i){return this.test(t,e,null,r,n)}async test(t,e,r,n,i){return"number"===typeof n[i]}async handle(t,e,r,i,o,a){let s=await e.unaliasKeywordParent(i,a);if("@list"===s){let r=null,n=0;for(let t=a-2;t>0;t--){const e=i[t];if("string"===typeof e||"number"===typeof e){n=t,r=e;break}}if(null!==r){const s=await e.valueToTerm(await t.getContext(i),r,o,a,i);for(const r of s)await this.handleListElement(t,e,r,o,a,i.slice(0,n),n);0===s.length&&await this.handleListElement(t,e,null,o,a,i.slice(0,n),n)}}else if("@set"===s)await t.newOnValueJob(i.slice(0,-2),o,a-2,!1);else if(void 0!==s&&"@type"!==s){for(let t=a-1;t>0;t--)if("number"!==typeof i[t]){s=await e.unaliasKeyword(i[t],i,t);break}const r=await t.getContext(i.slice(0,-1));if("@list"in n.Util.getContextValueContainer(r,s)){t.emittedStack[a+1]=!0;const r=await e.valueToTerm(await t.getContext(i),s,o,a,i);for(const n of r)await this.handleListElement(t,e,n,o,a,i.slice(0,-1),a-1);0===r.length&&await this.handleListElement(t,e,null,o,a,i.slice(0,-1),a-1)}else t.shiftStack(a,1),await t.newOnValueJob(i.slice(0,-1),o,a-1,!1),t.contextTree.removeContext(i.slice(0,-1))}}async handleListElement(t,e,r,n,i,o,a){let s=t.listPointerStack[i];if(null!==n&&null!==(await e.unaliasKeywords(n,o,i))["@value"]){if(s&&s.value){const r=e.dataFactory.blankNode();t.emitQuad(i,e.dataFactory.quad(s.value,e.rdfRest,r,e.getDefaultGraph())),s.value=r}else{const t=e.dataFactory.blankNode();s={value:t,listRootDepth:a,listId:t}}r&&t.emitQuad(i,e.dataFactory.quad(s.value,e.rdfFirst,r,e.getDefaultGraph()))}else s||(s={listRootDepth:a,listId:e.rdfNil});t.listPointerStack[i]=s}}e.EntryHandlerArrayValue=i},5727:function(t,e,r){"use strict";t.exports=function t(e){return null===e||"object"!==typeof e||null!=e.toJSON?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((e,r,n)=>{const i=0===n?"":",",o=void 0===r||"symbol"===typeof r?null:r;return e+i+t(o)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,i)=>{if(void 0===e[n]||"symbol"===typeof e[n])return r;const o=0===r.length?"":",";return r+o+t(n)+":"+t(e[n])},"")+"}"}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),i=r("5899"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(a,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},"5a34":function(t,e,r){var n=r("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5bc9":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class n{static isCompactIri(t){return t.indexOf(":")>0&&!(t&&"#"===t[0])}static getPrefix(t,e){if(t&&"#"===t[0])return null;const r=t.indexOf(":");if(r>=0){if(t.length>r+1&&"/"===t.charAt(r+1)&&"/"===t.charAt(r+2))return null;const n=t.substr(0,r);if("_"===n)return null;if(e[n])return n}return null}static getContextValueId(t){if(null===t||"string"===typeof t)return t;const e=t["@id"];return e||null}static isSimpleTermDefinitionPrefix(t,e){return!n.isPotentialKeyword(t)&&("_"===t[0]||e.allowPrefixNonGenDelims||n.isPrefixIriEndingWithGenDelim(t))}static isPotentialKeyword(t){return"string"===typeof t&&n.KEYWORD_REGEX.test(t)}static isPrefixIriEndingWithGenDelim(t){return n.ENDS_WITH_GEN_DELIM.test(t)}static isPrefixValue(t){return t&&("string"===typeof t||t&&"object"===typeof t)}static isValidIri(t){return n.IRI_REGEX.test(t)}static isValidIriWeak(t){return!!t&&":"!==t[0]&&n.IRI_REGEX_WEAK.test(t)}static isValidKeyword(t){return n.VALID_KEYWORDS[t]}static isTermProtected(t,e){const r=t[e];return!("string"===typeof r)&&r&&r["@protected"]}static hasProtectedTerms(t){for(const e of Object.keys(t))if(n.isTermProtected(t,e))return!0;return!1}static isReservedInternalKeyword(t){return t.startsWith("@__")}}e.Util=n,n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"]},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5d41":function(t,e,r){var n=r("23e7"),i=r("861d"),o=r("825a"),a=r("5135"),s=r("06cf"),u=r("e163");function c(t,e){var r,n,l=arguments.length<3?t:arguments[2];return o(t)===l?t[e]:(r=s.f(t,e))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(l):i(n=u(t))?c(n,e,l):void 0}n({target:"Reflect",stat:!0},{get:c})},"5e1a":function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=r("8707").Buffer,o=r(1);function a(t,e,r){t.copy(e,r)}t.exports=function(){function t(){n(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";var e=this.head,r=""+e.data;while(e=e.next)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;var e=i.allocUnsafe(t>>>0),r=this.head,n=0;while(r)a(r.data,e,n),n+=r.data.length,r=r.next;return e},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},"5e9c":function(t,e,r){"use strict";r("caad"),r("d81d"),r("13d5"),r("b0c0"),r("4fad"),r("b64b"),r("07ac"),r("2532");var n=r("d0af"),i=(r("96cf"),r("c964")),o=r("276c"),a=r("e954"),s=r("ddbf"),u=r.n(s);const c=(t,e)=>e.some(e=>t instanceof e);let l,f;function h(){return l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d(){return f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p=new WeakMap,v=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap;function m(t){const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(O(t.result)),n()},o=()=>{r(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(e=>{e instanceof IDBCursor&&p.set(e,t)}).catch(()=>{}),b.set(e,t),e}function w(t){if(v.has(t))return;const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),n()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});v.set(t,e)}let _={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return v.get(t);if("objectStoreNames"===e)return t.objectStoreNames||y.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return O(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function x(t){_=t(_)}function E(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?d().includes(t)?function(...e){return t.apply(I(this),e),O(p.get(this))}:function(...e){return O(t.apply(I(this),e))}:function(e,...r){const n=t.call(I(this),e,...r);return y.set(n,e.sort?e.sort():[e]),O(n)}}function S(t){return"function"===typeof t?E(t):(t instanceof IDBTransaction&&w(t),c(t,h())?new Proxy(t,_):t)}function O(t){if(t instanceof IDBRequest)return m(t);if(g.has(t))return g.get(t);const e=S(t);return e!==t&&(g.set(t,e),b.set(e,t)),e}const I=t=>b.get(t);function R(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=O(a);return n&&a.addEventListener("upgradeneeded",t=>{n(O(a.result),t.oldVersion,t.newVersion,O(a.transaction))}),r&&a.addEventListener("blocked",()=>r()),s.then(t=>{o&&t.addEventListener("close",()=>o()),i&&t.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}function j(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",()=>e()),O(r).then(()=>{})}const k=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],A=new Map;function C(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(A.get(e))return A.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=T.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!k.includes(r))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let a=o.store;n&&(a=a.index(e.shift()));const s=await a[r](...e);return i&&await o.done,s};return A.set(e,o),o}x(t=>({...t,get:(e,r,n)=>C(e,r)||t.get(e,r,n),has:(e,r)=>!!C(e,r)||t.has(e,r)}));var P=function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"getFromDocument",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:0,e.updatedAt){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,this.getDocumentData(e.url);case 5:if(n=t.sent,n&&!(Math.abs(e.updatedAt.getTime()-n.updatedAt.getTime())>r)){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",this.deserializeModels(n));case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"rememberDocument",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.setDocumentData(e,{models:{},updatedAt:r});case 4:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"remember",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},n=e.getDocumentUrl(),n){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.getDocumentData(n);case 6:if(i=t.sent,i){t.next=9;break}return t.abrupt("return");case 9:return i.models[e.url]=this.serializeModel(e,r),t.next=12,this.setDocumentData(n,i);case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"forgetDocument",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.deleteDocumentData(e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"clear",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.connection&&(this.connection.close(),delete this.connection),t.next=3,j("media-kraken");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getDocumentData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getConnection();case 3:return r=t.sent,t.next=6,this.retryingOnTransactionInactive((function(){var t=r.transaction("models-cache","readonly");return t.store.get(e)}));case 6:return n=t.sent,t.abrupt("return",n||null);case 10:return t.prev=10,t.t0=t["catch"](0),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"setDocumentData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getConnection();case 2:return n=t.sent,t.next=5,this.retryingOnTransactionInactive((function(){var t=n.transaction("models-cache","readwrite");return t.store.put(r,e),t.done}));case 5:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"deleteDocumentData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getConnection();case 2:return r=t.sent,t.next=5,this.retryingOnTransactionInactive((function(){var t=r.transaction("models-cache","readwrite");return t.store.delete(e),t.done}));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"serializeModel",value:function(t,e){return{modelName:t.modelClass.modelName,attributes:t.getAttributes(),relationModelNames:Object.keys(e).reduce((function(e,r){return e[r]=t.getRelation(r).relatedClass.modelName,e}),{}),relationAttributes:Object.entries(e).reduce((function(t,e){var r=Object(n["a"])(e,2),i=r[0],o=r[1];return t[i]=o.map((function(t){return t.getAttributes()})),t}),{})}}},{key:"deserializeModels",value:function(t){var e=this;return Object.values(t.models).map((function(t){return e.deserializeModel(t)}))}},{key:"deserializeModel",value:function(t){for(var e=u.a.model(t.modelName),r=e.newInstance(t.attributes,!0),i=function(){var e=Object(n["a"])(a[o],2),i=e[0],s=e[1];r.setRelationModels(i,s.map((function(e){var r=u.a.model(t.relationModelNames[i]);return r.newInstance(e,!0)})))},o=0,a=Object.entries(t.relationAttributes);o<a.length;o++)i();return r}},{key:"getConnection",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.connection){t.next=4;break}return t.next=3,R("media-kraken",1,{upgrade:function(t){t.createObjectStore("models-cache")}});case 3:this.connection=t.sent;case 4:return t.abrupt("return",this.connection);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"retryingOnTransactionInactive",value:function(t){try{return t()}catch(e){if(!(e instanceof Error)||!e.name.toLowerCase().includes("inactive")&&!e.message.toLowerCase().includes("inactive"))throw e;return t()}}}]),t}();e["a"]=new P},"5fb2":function(t,e,r){"use strict";var n=2147483647,i=36,o=1,a=26,s=38,u=700,c=72,l=128,f="-",h=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",v=i-o,y=Math.floor,g=String.fromCharCode,b=function(t){var e=[],r=0,n=t.length;while(r<n){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=t.charCodeAt(r++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--)}else e.push(i)}return e},m=function(t){return t+22+75*(t<26)},w=function(t,e,r){var n=0;for(t=r?y(t/u):t>>1,t+=y(t/e);t>v*a>>1;n+=i)t=y(t/v);return y(n+(v+1)*t/(t+s))},_=function(t){var e=[];t=b(t);var r,s,u=t.length,h=l,d=0,v=c;for(r=0;r<t.length;r++)s=t[r],s<128&&e.push(g(s));var _=e.length,x=_;_&&e.push(f);while(x<u){var E=n;for(r=0;r<t.length;r++)s=t[r],s>=h&&s<E&&(E=s);var S=x+1;if(E-h>y((n-d)/S))throw RangeError(p);for(d+=(E-h)*S,h=E,r=0;r<t.length;r++){if(s=t[r],s<h&&++d>n)throw RangeError(p);if(s==h){for(var O=d,I=i;;I+=i){var R=I<=v?o:I>=v+a?a:I-v;if(O<R)break;var j=O-R,k=i-R;e.push(g(m(R+j%k))),O=y(j/k)}e.push(g(m(O))),v=w(d,S,x==_),d=0,++x}}++d,++h}return e.join("")};t.exports=function(t){var e,r,n=[],i=t.toLowerCase().replace(d,".").split(".");for(e=0;e<i.length;e++)r=i[e],n.push(h.test(r)?"xn--"+_(r):r);return n.join(".")}},"60da":function(t,e,r){"use strict";var n=r("83ab"),i=r("d039"),o=r("df75"),a=r("7418"),s=r("d1e7"),u=r("7b0b"),c=r("44ad"),l=Object.assign,f=Object.defineProperty;t.exports=!l||i((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[r]||o(l({},e)).join("")!=i}))?function(t,e){var r=u(t),i=arguments.length,l=1,f=a.f,h=s.f;while(i>l){var d,p=c(arguments[l++]),v=f?o(p).concat(f(p)):o(p),y=v.length,g=0;while(y>g)d=v[g++],n&&!h.call(p,d)||(r[d]=p[d])}return r}:l},6547:function(t,e,r){var n=r("a691"),i=r("1d80"),o=function(t){return function(e,r){var o,a,s=String(i(e)),u=n(r),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(t,e,r){var n=r("861d"),i=r("e8b5"),o=r("b622"),a=o("species");t.exports=function(t,e){var r;return i(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"69f3":function(t,e,r){var n,i,o,a=r("7f9a"),s=r("da84"),u=r("861d"),c=r("9112"),l=r("5135"),f=r("f772"),h=r("d012"),d=s.WeakMap,p=function(t){return o(t)?i(t):n(t,{})},v=function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}};if(a){var y=new d,g=y.get,b=y.has,m=y.set;n=function(t,e){return m.call(y,t,e),e},i=function(t){return g.call(y,t)||{}},o=function(t){return b.call(y,t)}}else{var w=f("state");h[w]=!0,n=function(t,e){return c(t,w,e),e},i=function(t){return l(t,w)?t[w]:{}},o=function(t){return l(t,w)}}t.exports={set:n,get:i,has:o,enforce:p,getterFor:v}},"6ea5":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return k}));r("99af"),r("4de4"),r("7db0"),r("4160"),r("caad"),r("d81d"),r("13d5"),r("ac1f"),r("2532"),r("466d"),r("2ca0"),r("159b");var n=r("d0ff"),i=(r("96cf"),r("c964")),o=r("276c"),a=r("e954"),s=r("f20d"),u=r("fbf1"),c=r("92a6"),l=r("920b"),f=r("dfab"),h=r("2197"),d=r("ddbf"),p=r.n(d),v=(r("a15b"),r("4d63"),r("25f0"),r("5319"),r("1276"),r("498a"),function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"capitalize",value:function(t){return t.substr(0,1).toUpperCase()+t.substr(1)}},{key:"camel",value:function(t){return t.split(/_|-|\s|(?=[A-Z])/).map((function(t,e){return 0===t.length?t:0===e?t.toLowerCase():t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()})).join("")}},{key:"parseVersion",value:function(t){var e=t.match(/(\d+)\.(\d+)\.(\d+)(-(.*))?/);return e?e[5]?[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),e[5]]:[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]:null}},{key:"slug",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t=t.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\d\w\s]/g,"").toLowerCase().replace(/\s+/g,e),e.length>0&&(t=t.replace(new RegExp("".concat(e,"+"),"g"),e)),t}},{key:"studly",value:function(t){return t.split(/_|-|\s/).map((function(t){return t.length>0?t.substr(0,1).toUpperCase()+t.substr(1):t})).join("")}}]),t}()),y=new v,g=(r("a4d3"),r("e01a"),function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"validate",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:throw new Error("TMDB movies validation is not implemented");case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"parse",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new k({title:e.title,externalUrls:["https://www.themoviedb.org/movie/".concat(e.id)]}),e.overview&&(r.description=e.overview),e.release_date&&(r.releaseDate=new Date(e.release_date)),e.poster_path&&(r.posterUrl="https://image.tmdb.org/t/p/w500".concat(e.poster_path)),e.imdb_id&&r.externalUrls.push("https://www.imdb.com/title/".concat(e.imdb_id)),r.setRelationModels("actions",[]),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}()),b=new g,m=(r("4fad"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("d0af")),w=r("f3f3"),_=function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"getMovie",value:function(t){return this.request("movie/".concat(t))}},{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("find/".concat(t),e)}},{key:"searchMovies",value:function(t){return this.request("search/movie",{query:t})}},{key:"isMovie",value:function(t){return"release_date"in t}},{key:"request",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n=new URL("https://api.themoviedb.org/3/"+e),Object.entries(Object(w["a"])({},r,{api_key:"f7105a03bb0a59160d88c3d60fbc2ff1"})).forEach((function(t){var e=Object(m["a"])(t,2),r=e[0],i=e[1];return n.searchParams.append(r,i)})),t.next=5,fetch(n.href);case 5:return t.abrupt("return",t.sent.json());case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),x=new _,E=function(){function t(){Object(o["a"])(this,t),this.cache={}}return Object(a["a"])(t,[{key:"resolveImdbId",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.fromCache("imdb-".concat(e),Object(i["a"])(regeneratorRuntime.mark((function t(){var r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.find(e,{external_source:"imdb_id"});case 2:return i=t.sent,o=[].concat(Object(n["a"])(i.movie_results),Object(n["a"])(i.person_results),Object(n["a"])(i.tv_results)),t.abrupt("return",null!==(r=o[0])&&void 0!==r?r:null);case 5:case"end":return t.stop()}}),t)})))));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"fromCache",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e in this.cache){t.next=4;break}return t.next=3,r();case 3:this.cache[e]=t.sent;case 4:return t.abrupt("return",this.cache[e]);case 5:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()}]),t}(),S=new E,O=(r("c975"),r("baa5"),r("8a79"),function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"resolve",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.shift();while(e.length>0){var i=e.shift();i.startsWith("/")?n=this.base(n)+i:i.startsWith("http://")||i.startsWith("https://")?n=i:n.endsWith("/")?n+=i:n+="/"+i}return n}},{key:"resolveDirectory",value:function(){var t=this.resolve.apply(this,arguments);return t.endsWith("/")?t:t+"/"}},{key:"base",value:function(t){var e=t.indexOf("://"),r=t.substr(e+3).indexOf("/");return-1!==r?t.substring(0,e+3+r):t}},{key:"filename",value:function(t){var e=t.lastIndexOf("/");return-1!==e?t.substr(e+1):""}},{key:"parseRootDomain",value:function(t){var e,r,n;return null!==(e=null===(r=this.parse(t))||void 0===r||null===(n=r.domain)||void 0===n?void 0:n.replace(/^www\./,""))&&void 0!==e?e:null}},{key:"parse",value:function(t){var e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;var r=e[4]||"",n=-1===r.indexOf(":")?[r]:r.split(":"),i=Object(m["a"])(n,2),o=i[0],a=i[1];return{protocol:e[2]||void 0,domain:o||void 0,port:a||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}}}]),t}()),I=new O,R=r("34b3"),j=r("e423"),k=function(t){Object(l["a"])(r,t);var e=Object(c["a"])(r);function r(){return Object(o["a"])(this,r),e.apply(this,arguments)}return Object(a["a"])(r,[{key:"is",value:function(t){return this.slug===t.slug||!!this.externalUrls.find((function(e){return t.externalUrls.includes(e)}))}},{key:"getSourceDocumentUrl",value:function(){var t=Object(u["a"])(Object(s["a"])(r.prototype),"getSourceDocumentUrl",this).call(this);return t?Object(h["urlRoute"])(t):null}},{key:"actionsRelationship",value:function(){return this.hasMany(j["default"],"object").usingSameDocument().onDelete("cascade")}},{key:"fetchMissingAttributes",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.imdbId||!this.tmdbId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.resolveTMDBMovie();case 4:if(e=t.sent,e){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,b.parse(e);case 9:r=t.sent,this.setAttributes(r.getAttributes()),this.regenerateUrls();case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"watch",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||new Date,t.abrupt("return",this.relatedActions.create({startTime:e,endTime:e}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"hasLegacySchema",value:function(){if(!this.exists()||this.wasRecentlyCreated())return!1;var t=this.getDocumentUrl(),e=this.getSourceDocumentUrl();return null!==t&&null!==e&&t!==e||!this.url.includes("#")}},{key:"migrateSchema",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,i,o,a,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.exists()&&!this.wasRecentlyCreated()){t.next=2;break}return t.abrupt("return");case 2:return i=this.getSourceDocumentUrl(),o=null!==(e=null===(r=I.parse(this.url))||void 0===r?void 0:r.fragment)&&void 0!==e?e:this.modelClass.defaultResourceHash,a="".concat(i,"#").concat(o),s=this.relatedActions.getLoadedModels().filter((function(t){return t.getSourceDocumentUrl()===i})),u=s.reduce((function(t,e){var r,n,o=null!==(r=null===(n=I.parse(e.url))||void 0===n?void 0:n.fragment)&&void 0!==r?r:R["a"].generate();return t[e.url]="".concat(i,"#").concat(o),t}),{}),t.next=9,p.a.requireEngine().update(this.getSourceContainerUrl(),this.getSourceDocumentUrl(),{"@graph":{$updateItems:[{$where:{"@id":this.url},$update:{"@id":a}}].concat(Object(n["a"])(s.map((function(t){return{$where:{"@id":t.url},$update:{"@id":u[t.url],"https://schema.org/object":{"@id":a}}}}))))}});case 9:this.fixLegacyAttributes(a),s.forEach((function(t){return t.fixLegacyAttributes(u[t.url],a)}));case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"newUrl",value:function(t,e){var r,n;return t=null!==(r=t)&&void 0!==r?r:I.resolve(this.modelClass.collection,this.slug),e=null!==(n=e)&&void 0!==n?n:this.modelClass.defaultResourceHash,"".concat(t,"#").concat(e)}},{key:"resolveTMDBMovie",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.tmdbId){t.next=2;break}return t.abrupt("return",x.getMovie(this.tmdbId));case 2:if(!this.imdbId){t.next=10;break}return t.next=5,S.resolveImdbId(this.imdbId);case 5:if(e=t.sent,null!==e&&x.isMovie(e)){t.next=8;break}return t.abrupt("return",null);case 8:return e.imdb_id=this.imdbId,t.abrupt("return",e);case 10:return t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"regenerateUrls",value:function(){var t=this;if(this.url&&!this.exists()&&this.isDocumentRoot()){var e=(this.actions||[]).filter((function(e){return e.url&&e.url.startsWith(t.url)}));this.mintUrl(),e.forEach((function(e){return e.mintUrl(t.url)}))}}},{key:"fixLegacyAttributes",value:function(t){this._attributes.url=t}},{key:"watched",get:function(){return!!this.actions&&this.actions.length>0}},{key:"pending",get:function(){return!this.watched}},{key:"watchedAt",get:function(){return this.watched?this.actions[0].createdAt:null}},{key:"uuid",get:function(){var t;return this.url&&null!==(t=this.url.match(/([^/#]+)(#.*)?$/)[1])&&void 0!==t?t:null}},{key:"slug",get:function(){var t,e=y.slug(this.title);return(null===(t=this.releaseDate)||void 0===t?void 0:t.getFullYear())&&(e+="-"+this.releaseDate.getFullYear()),e}},{key:"imdbUrl",get:function(){return this.externalUrls.find((function(t){return t.includes("imdb.com")}))||null}},{key:"tmdbUrl",get:function(){return this.externalUrls.find((function(t){return t.includes("themoviedb.org")}))||null}},{key:"imdbId",get:function(){if(!this.imdbUrl)return null;var t=this.imdbUrl.match(/https:\/\/www\.imdb\.com\/title\/([^/]+)/);return t?t[1]:null}},{key:"tmdbId",get:function(){if(!this.tmdbUrl)return null;var t=this.tmdbUrl.match(/https:\/\/www\.themoviedb\.org\/movie\/(\d+)/);return t?parseInt(t[1]):null}}]),r}(f["SolidModel"]);k.rdfContexts={schema:"https://schema.org/"},k.rdfsClasses=["schema:Movie"],k.fields={title:{type:d["FieldType"].String,rdfProperty:"schema:name",required:!0},description:{type:d["FieldType"].String,rdfProperty:"schema:description"},releaseDate:{type:d["FieldType"].Date,rdfProperty:"schema:datePublished"},posterUrl:{type:d["FieldType"].Key,rdfProperty:"schema:image"},externalUrls:{type:d["FieldType"].Array,rdfProperty:"schema:sameAs",items:{type:d["FieldType"].Key}}}},"6eeb":function(t,e,r){var n=r("da84"),i=r("9112"),o=r("5135"),a=r("ce4e"),s=r("8925"),u=r("69f3"),c=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,r,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||i(r,"name",e),l(r).source=f.join("string"==typeof e?e:"")),t!==n?(u?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=r:i(t,e,r)):c?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},"6f53":function(t,e,r){var n=r("83ab"),i=r("df75"),o=r("fc6a"),a=r("d1e7").f,s=function(t){return function(e){var r,s=o(e),u=i(s),c=u.length,l=0,f=[];while(c>l)r=u[l++],n&&!a.call(s,r)||f.push(t?[r,s[r]]:s[r]);return f}};t.exports={entries:s(!0),values:s(!1)}},7096:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0;class n{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&"BlankNode"===t.termType&&t.value===this.value}}e.BlankNode=n},7156:function(t,e,r){var n=r("861d"),i=r("d2bb");t.exports=function(t,e,r){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&i(t,a),t}},7274:function(t,e){(function(t){(function(e){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(t){return t&&DataView.prototype.isPrototypeOf(t)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!==typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function h(t){var e=new FileReader,r=f(e);return e.readAsArrayBuffer(t),r}function d(t){var e=new FileReader,r=f(e);return e.readAsText(t),r}function p(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&n(t)?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=a(t),e=s(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},c.prototype["delete"]=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=s(e)},c.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),u(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),u(t)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}function m(t,e){e=e||{};var r=e.body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=b(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t){var e=new c,r=t.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e}function x(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var t=new x(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];x.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new x(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(O){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(i,o){var a=new m(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:_(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;i(new x(e,t))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=c,t.Request=m,t.Response=x),e.Headers=c,e.Request=m,e.Response=x,e.fetch=S})({})})("undefined"!==typeof self?self:this)},"72a3":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerInvalidFallback=void 0;class n{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,n,i){return!1}async test(t,e,r,n,i){return!0}async handle(t,e,r,n,i,o){t.emittedStack[o]=!1}}e.EntryHandlerInvalidFallback=n},"72aa":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdSerializer=void 0;const n=r("e6e5"),i=r("d485"),o=r("43e4"),a=r("c3f4");class s extends i.Transform{constructor(t={}){super({objectMode:!0}),this.indentation=0,this.options=t,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=(new n.ContextParser).parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new n.JsonLdContextNormalized({}))}import(t){const e=new i.PassThrough({objectMode:!0});t.on("error",t=>r.emit("error",t)),t.on("data",t=>e.push(t)),t.on("end",()=>e.push(null));const r=e.pipe(new s(this.options));return r}_transform(t,e,r){this.context.then(e=>{this.transformQuad(t,e),r()}).catch(r)}async list(t){const e=await this.context;return{"@list":t.map(t=>a.Util.termToValue(t,e,this.options))}}_flush(t){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&"DefaultGraph"!==this.lastGraph.termType&&this.endGraph(),this.endDocument(),t(null,null)}transformQuad(t,e){this.opened||this.pushDocumentStart();const r=this.lastGraph&&"DefaultGraph"!==this.lastGraph.termType&&this.lastGraph.equals(t.subject);if(!r&&(!this.lastGraph||!t.graph.equals(this.lastGraph))){let r="DefaultGraph"!==t.graph.termType&&this.lastSubject&&this.lastSubject.equals(t.graph);this.lastGraph&&("DefaultGraph"!==this.lastGraph.termType?(this.endPredicate(),this.endSubject(),this.endGraph(!0),r=!1):r?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),"DefaultGraph"!==t.graph.termType&&(r||this.pushId(t.graph,e),this.pushSeparator(this.options.space?o.SeparatorType.GRAPH_FIELD_NONCOMPACT:o.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=t.graph}this.lastSubject&&t.subject.equals(this.lastSubject)||(r?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END_COMMA),this.lastGraph=t.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(t.subject,e)),this.lastSubject=t.subject),this.lastPredicate&&t.predicate.equals(this.lastPredicate)||(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(t.predicate,e)),this.pushObject(t.object,e)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(o.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(o.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?o.SeparatorType.GRAPH_FIELD_NONCOMPACT:o.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(o.SeparatorType.ARRAY_START),this.indentation++)}pushId(t,e){const r="BlankNode"===t.termType?"_:"+t.value:e.compactIri(t.value,!1);this.pushSeparator(o.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?`"@id": "${r}",`:`"@id":"${r}",`)}pushPredicate(t,e){let r=t.value;this.options.useRdfType||r!==a.Util.RDF_TYPE||(r="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const n=e.compactIri(r,!0);this.pushIndented(this.options.space?`"${n}": [`:`"${n}":[`),this.indentation++,this.lastPredicate=t}pushObject(t,e){let r;this.hadObjectForPredicate?this.pushSeparator(o.SeparatorType.COMMA):this.hadObjectForPredicate=!0;try{r=t["@list"]?t:a.Util.termToValue(t,e,this.objectOptions||this.options)}catch(n){return this.emit("error",n)}this.pushIndented(JSON.stringify(r,null,this.options.space))}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(o.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END))}endPredicate(t){this.indentation--,this.pushSeparator(t?o.SeparatorType.ARRAY_END_COMMA:o.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(t){this.indentation--,this.pushSeparator(t?o.SeparatorType.OBJECT_END_COMMA:o.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(t){this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(t?o.SeparatorType.OBJECT_END_COMMA:o.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(t){this.pushIndented(t.label)}pushIndented(t){const e=this.getIndentPrefix(),r=t.split("\n").map(t=>e+t).join("\n");this.push(r),this.options.space&&this.push("\n")}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}}e.JsonLdSerializer=s},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,r){var n=r("428f"),i=r("5135"),o=r("e538"),a=r("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},"780f":function(t,e,r){"use strict";t.exports=o;var n=r("27bf"),i=Object.create(r("3a7c"));function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r("3fb5"),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,e,r){var n=r("1d80");t.exports=function(t){return Object(n(t))}},"7c73":function(t,e,r){var n,i=r("825a"),o=r("37e8"),a=r("7839"),s=r("d012"),u=r("1be4"),c=r("cc12"),l=r("f772"),f=">",h="<",d="prototype",p="script",v=l("IE_PROTO"),y=function(){},g=function(t){return h+p+f+t+h+"/"+p+f},b=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){var t,e=c("iframe"),r="java"+p+":";return e.style.display="none",u.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},w=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}w=n?b(n):m();var t=a.length;while(t--)delete w[d][a[t]];return w()};s[v]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(y[d]=i(t),r=new y,y[d]=null,r[v]=t):r=w(),void 0===e?r:o(r,e)}},"7d72":function(t,e,r){"use strict";var n=r("8707").Buffer,i=n.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){if(!t)return"utf8";var e;while(1)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function a(t){var e=o(t);if("string"!==typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}function s(t){var e;switch(this.encoding=a(t),this.encoding){case"utf16le":this.text=p,this.end=v,e=4;break;case"utf8":this.fillLast=f,e=4;break;case"base64":this.text=y,this.end=g,e=3;break;default:return this.write=b,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function u(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function c(t,e,r){var n=e.length-1;if(n<r)return 0;var i=u(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=u(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=u(e[n]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0))}function l(t,e,r){if(128!==(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"�"}}function f(t){var e=this.lastTotal-this.lastNeed,r=l(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function h(t,e){var r=c(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function p(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function v(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function y(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function b(t){return t.toString(this.encoding)}function m(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=d,s.prototype.text=h,s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},"7db0":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").find,o=r("44d2"),a=r("ae40"),s="find",u=!0,c=a(s);s in[]&&Array(1)[s]((function(){u=!1})),n({target:"Array",proto:!0,forced:u||!c},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},"7dd0":function(t,e,r){"use strict";var n=r("23e7"),i=r("9ed3"),o=r("e163"),a=r("d2bb"),s=r("d44e"),u=r("9112"),c=r("6eeb"),l=r("b622"),f=r("c430"),h=r("3f8c"),d=r("ae93"),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,y=l("iterator"),g="keys",b="values",m="entries",w=function(){return this};t.exports=function(t,e,r,l,d,_,x){i(r,e,l);var E,S,O,I=function(t){if(t===d&&A)return A;if(!v&&t in k)return k[t];switch(t){case g:return function(){return new r(this,t)};case b:return function(){return new r(this,t)};case m:return function(){return new r(this,t)}}return function(){return new r(this)}},R=e+" Iterator",j=!1,k=t.prototype,T=k[y]||k["@@iterator"]||d&&k[d],A=!v&&T||I(d),C="Array"==e&&k.entries||T;if(C&&(E=o(C.call(new t)),p!==Object.prototype&&E.next&&(f||o(E)===p||(a?a(E,p):"function"!=typeof E[y]&&u(E,y,w)),s(E,R,!0,!0),f&&(h[R]=w))),d==b&&T&&T.name!==b&&(j=!0,A=function(){return T.call(this)}),f&&!x||k[y]===A||u(k,y,A),h[e]=A,d)if(S={values:I(b),keys:_?A:I(g),entries:I(m)},x)for(O in S)(v||j||!(O in k))&&c(k,O,S[O]);else n({target:e,proto:!0,forced:v||j},S);return S}},"7f9a":function(t,e,r){var n=r("da84"),i=r("8925"),o=n.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},8026:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0;class n{constructor(t,e,r,n){this.termType="Quad",this.value="",this.subject=t,this.predicate=e,this.object=r,this.graph=n}equals(t){return!!t&&("Quad"===t.termType||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}e.Quad=n},"825a":function(t,e,r){var n=r("861d");t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,r){var n=r("d039");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,r){"use strict";var n=r("c04e"),i=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var a=n(e);a in t?i.f(t,a,o(0,r)):t[a]=r}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8707:function(t,e,r){var n=r("b639"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),o(i,a),a.from=function(t,e,r){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!==typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"===typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},"882b":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const n=r("e6e5"),i=r("c513"),o=r("af6b"),a=r("5727");class s{constructor(t){this.parsingContext=t.parsingContext,this.dataFactory=t.dataFactory||new i.DataFactory,this.rdfFirst=this.dataFactory.namedNode(s.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(s.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(s.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(s.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(s.RDF+"JSON")}static getContextValue(t,e,r,n){const i=t.getContextRaw()[r];if(!i)return n;const o=i[e];return void 0===o?n:o}static getContextValueContainer(t,e){return s.getContextValue(t,"@container",e,{"@set":!0})}static getContextValueType(t,e){const r=s.getContextValue(t,"@type",e,null);return"@none"===r?null:r}static getContextValueLanguage(t,e){return s.getContextValue(t,"@language",e,t.getContextRaw()["@language"]||null)}static getContextValueDirection(t,e){return s.getContextValue(t,"@direction",e,t.getContextRaw()["@direction"]||null)}static isContextValueReverse(t,e){return!!s.getContextValue(t,"@reverse",e,null)}static getContextValueIndex(t,e){return s.getContextValue(t,"@index",e,t.getContextRaw()["@index"]||null)}static isPropertyReverse(t,e,r){return"@reverse"===r!==s.isContextValueReverse(t,e)}static isValidIri(t){return null!==t&&n.Util.isValidIri(t)}static isPrefixArray(t,e){if(t.length>e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}async validateValueIndexes(t){if(this.parsingContext.validateValueIndexes){const e={};for(const r of t)if(r&&"object"===typeof r){const t=r["@id"],i=r["@index"];if(t&&i){const r=e[t];if(r&&r!==i)throw new n.ErrorCoded("Conflicting @index value for "+t,n.ERROR_CODES.CONFLICTING_INDEXES);e[t]=i}}}}async valueToTerm(t,e,r,i,o){if("@json"===s.getContextValueType(t,e))return[this.dataFactory.literal(this.valueToJsonString(r),this.rdfJson)];const a=typeof r;switch(a){case"object":if(null===r||void 0===r)return[];if(Array.isArray(r))return"@list"in s.getContextValueContainer(t,e)?0===r.length?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:(await this.validateValueIndexes(r),[]);if(t=await this.getContextSelfOrPropertyScoped(t,e),"@context"in r&&(t=await this.parsingContext.parseContext(r["@context"],(await this.parsingContext.getContext(o,0)).getContextRaw())),r=await this.unaliasKeywords(r,o,i,t),"@value"in r){let a,s,u,c,l;for(e in r){const t=r[e];switch(e){case"@value":a=t;break;case"@language":s=t;break;case"@direction":u=t;break;case"@type":c=t;break;case"@index":l=t;break;default:throw new n.ErrorCoded(`Unknown value entry '${e}' in @value: ${JSON.stringify(r)}`,n.ERROR_CODES.INVALID_VALUE_OBJECT)}}if("@json"===await this.unaliasKeyword(c,o,i,!0,t))return[this.dataFactory.literal(this.valueToJsonString(a),this.rdfJson)];if(null===a)return[];if("object"===typeof a)throw new n.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(a)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&l&&"string"!==typeof l)throw new n.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(l)}'`,n.ERROR_CODES.INVALID_INDEX_VALUE);if(s){if("string"!==typeof a)throw new n.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(a)}'`,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!n.ContextParser.validateLanguage(s,this.parsingContext.strictValues,n.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||1===this.parsingContext.activeProcessingMode)&&(s=s.toLowerCase())}if(u){if("string"!==typeof a)throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(a)}'`);if(!n.ContextParser.validateDirection(u,this.parsingContext.strictValues))return[]}if(s&&u&&this.parsingContext.rdfDirection){if(c)throw new n.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,a,s,u))}if(s){if(c)throw new n.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(a,s)]}if(u&&this.parsingContext.rdfDirection){if(c)throw new n.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,a,s,u))}if(c){if("string"!==typeof c)throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(c)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);const e=this.createVocabOrBaseTerm(t,c);if(!e)throw new n.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(c)}'`,n.ERROR_CODES.INVALID_TYPED_VALUE);if("NamedNode"!==e.termType)throw new n.ErrorCoded(`Illegal value type (${e.termType}): ${c}`,n.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(a,e)]}return await this.valueToTerm(new n.JsonLdContextNormalized({}),e,a,i,o)}if("@set"in r){if(Object.keys(r).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${e}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}if("@list"in r){if(Object.keys(r).length>1)throw new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${e}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const t=r["@list"];return Array.isArray(t)?0===t.length?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(o),e,t,i-1,o.slice(0,-1))}if("@reverse"in r)return[];if("@graph"in s.getContextValueContainer(await this.parsingContext.getContext(o),e)){const t=this.parsingContext.graphContainerTermStack[i+1];return t?Object.values(t):[this.dataFactory.blankNode()]}return"@id"in r?(Object.keys(r).length>1&&(t=await this.parsingContext.getContext(o,0)),"@context"in r&&(t=await this.parsingContext.parseContext(r["@context"],t.getContextRaw())),"@vocab"===r["@type"]?this.nullableTermToArray(this.createVocabOrBaseTerm(t,r["@id"])):this.nullableTermToArray(this.resourceToTerm(t,r["@id"]))):this.parsingContext.emittedStack[i+1]||r&&"object"===typeof r&&0===Object.keys(r).length?this.parsingContext.idStack[i+1]||(this.parsingContext.idStack[i+1]=[this.dataFactory.blankNode()]):[];case"string":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(t,e),e,r,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(t,e),e,Boolean(r).toString(),this.dataFactory.namedNode(s.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(t,e),e,r,this.dataFactory.namedNode(r%1===0&&r<1e21?s.XSD_INTEGER:s.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error("Could not determine the RDF type of a "+a)),[]}}async getContextSelfOrPropertyScoped(t,e){const r=t.getContextRaw()[e];return r&&"object"===typeof r&&"@context"in r&&(t=await this.parsingContext.parseContext(r,t.getContextRaw(),!0)),t}nullableTermToArray(t){return t?[t]:[]}predicateToTerm(t,e){const r=t.expandTerm(e,!0,this.parsingContext.getExpandOptions());return r?"_"===r[0]&&":"===r[1]?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(r.substr(2)):null:s.isValidIri(r)?this.dataFactory.namedNode(r):r&&this.parsingContext.strictValues?(this.parsingContext.emitError(new n.ErrorCoded("Invalid predicate IRI: "+r,n.ERROR_CODES.INVALID_IRI_MAPPING)),null):null:null}resourceToTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const r=t.expandTerm(e,!1,this.parsingContext.getExpandOptions());if(!s.isValidIri(r)){if(!r||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error("Invalid resource IRI: "+r))}return this.dataFactory.namedNode(r)}createVocabOrBaseTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const r=this.parsingContext.getExpandOptions();let n=t.expandTerm(e,!0,r);if(n===e&&(n=t.expandTerm(e,!1,r)),!s.isValidIri(n)){if(!n||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error("Invalid term IRI: "+n))}return this.dataFactory.namedNode(n)}intToString(t,e){if("number"===typeof t){if(Number.isFinite(t)){const r=t%1===0;return!r||e&&e.value===s.XSD_DOUBLE?t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):Number(t).toString()}return t>0?"INF":"-INF"}return t}stringValueToTerm(t,e,r,n,i){const o=s.getContextValueType(e,r);if(o)if("@id"===o){if(!i)return this.resourceToTerm(e,this.intToString(n,i))}else if("@vocab"===o){if(!i)return this.createVocabOrBaseTerm(e,this.intToString(n,i))}else i=this.dataFactory.namedNode(o);if(!i){const o=s.getContextValueLanguage(e,r),a=s.getContextValueDirection(e,r);return a&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(t,this.intToString(n,i),o,a):this.dataFactory.literal(this.intToString(n,i),o)}return this.dataFactory.literal(this.intToString(n,i),i)}createLanguageDirectionLiteral(t,e,r,n){if("i18n-datatype"===this.parsingContext.rdfDirection)return r||(r=""),this.dataFactory.literal(e,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${r}_${n}`));{const i=this.dataFactory.blankNode(),o=this.getDefaultGraph();return this.parsingContext.emitQuad(t,this.dataFactory.quad(i,this.dataFactory.namedNode(s.RDF+"value"),this.dataFactory.literal(e),o)),r&&this.parsingContext.emitQuad(t,this.dataFactory.quad(i,this.dataFactory.namedNode(s.RDF+"language"),this.dataFactory.literal(r),o)),this.parsingContext.emitQuad(t,this.dataFactory.quad(i,this.dataFactory.namedNode(s.RDF+"direction"),this.dataFactory.literal(n),o)),i}}valueToJsonString(t){return a(t)}async unaliasKeyword(t,e,r,i,o){if(Number.isInteger(t))return t;if(!i){const t=this.parsingContext.unaliasedKeywordCacheStack[r];if(t)return t}if(!n.Util.isPotentialKeyword(t)){o=o||await this.parsingContext.getContext(e);let r=o.getContextRaw()[t];r&&"object"===typeof r&&(r=r["@id"]),n.Util.isValidKeyword(r)&&(t=r)}return i?t:this.parsingContext.unaliasedKeywordCacheStack[r]=t}async unaliasKeywordParent(t,e){return await this.unaliasKeyword(e>0&&t[e-1],t,e-1)}async unaliasKeywords(t,e,r,n){const i={};for(const o in t)i[await this.unaliasKeyword(o,e,r+1,!0,n)]=t[o];return i}isLiteral(t){for(let e=t;e>=0;e--)if(this.parsingContext.literalStack[e]||this.parsingContext.jsonLiteralStack[e])return!0;return!1}async getDepthOffsetGraph(t,e){for(let r=t-1;r>0;r--)if("@graph"===await this.unaliasKeyword(e[r],e,r)){const n=(await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,e,r)).containers;return o.EntryHandlerContainer.isComplexGraphContainer(n)?-1:t-r-1}return-1}validateReverseSubject(t){if("Literal"===t.termType)throw new n.ErrorCoded("Found illegal literal in subject position: "+t.value,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(t,e){let r=this.getDefaultGraph();const{containers:n,depth:i}=await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,t,e);if("@graph"in n){const e=o.EntryHandlerContainer.getContainerGraphIndex(n,i,t),a=this.parsingContext.graphContainerTermStack[i];if(r=a?a[e]:null,!r){let o=null;if("@id"in n){const e=await this.getContainerKey(t[i],t,i);null!==e&&(o=await this.resourceToTerm(await this.parsingContext.getContext(t),e))}o||(o=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[i]||(this.parsingContext.graphContainerTermStack[i]={}),r=this.parsingContext.graphContainerTermStack[i][e]=o}}return r}async getPropertiesDepth(t,e){let r=e;for(let n=e-1;n>0;n--)if("number"!==typeof t[n]){const e=await this.unaliasKeyword(t[n],t,n);if("@reverse"===e)return n;if("@nest"!==e)return r;r=n}return r}async getContainerKey(t,e,r){const n=await this.unaliasKeyword(t,e,r);return"@none"===n?null:n}}e.Util=s,s.XSD="http://www.w3.org/2001/XMLSchema#",s.XSD_BOOLEAN=s.XSD+"boolean",s.XSD_INTEGER=s.XSD+"integer",s.XSD_DOUBLE=s.XSD+"double",s.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#"},"88de":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordGraph=void 0;const n=r("f232");class i extends n.EntryHandlerKeyword{constructor(){super("@graph")}async handle(t,e,r,n,i,o){t.graphStack[o+1]=!0}}e.EntryHandlerKeywordGraph=i},8925:function(t,e,r){var n=r("c6cd"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},"8a79":function(t,e,r){"use strict";var n=r("23e7"),i=r("06cf").f,o=r("50c4"),a=r("5a34"),s=r("1d80"),u=r("ab13"),c=r("c430"),l="".endsWith,f=Math.min,h=u("endsWith"),d=!c&&!h&&!!function(){var t=i(String.prototype,"endsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!d&&!h},{endsWith:function(t){var e=String(s(this));a(t);var r=arguments.length>1?arguments[1]:void 0,n=o(e.length),i=void 0===r?n:f(o(r),n),u=String(t);return l?l.call(e,u,i):e.slice(i-u.length,i)===u}})},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},"8ccd":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIndex=void 0;const n=r("e6e5"),i=r("bfb1"),o=r("882b");class a{canCombineWithGraph(){return!0}async handle(t,e,r,a,s,u){if(!Array.isArray(s)){const c="@graph"in t,l=await e.getContext(a),f=a[u-1],h=o.Util.getContextValueIndex(l,f);if(h){if(n.Util.isPotentialKeyword(h))throw new n.ErrorCoded("Keywords can not be used as @index value, got: "+h,n.ERROR_CODES.INVALID_TERM_DEFINITION);if("string"!==typeof h)throw new n.ErrorCoded("@index values must be strings, got: "+h,n.ERROR_CODES.INVALID_TERM_DEFINITION);if("object"!==typeof s){if("@id"!==o.Util.getContextValueType(l,f))throw new n.ErrorCoded("Property-based index containers require nodes as values or strings with @type: @id, but got: "+s,n.ERROR_CODES.INVALID_VALUE_OBJECT);const t=r.resourceToTerm(l,s);t&&(e.idStack[u+1]=[t])}const t=r.createVocabOrBaseTerm(l,h);if(t){const n=await r.valueToTerm(l,h,await r.getContainerKey(a[u],a,u),u,a);if(c){const i=await r.getGraphContainerValue(a,u+1);for(const o of n)e.emitQuad(u,r.dataFactory.quad(i,t,o,r.getDefaultGraph()))}else for(const o of n)await i.EntryHandlerPredicate.handlePredicateObject(e,r,a,u+1,t,o,!1)}}const d=c?2:1;await e.newOnValueJob(a.slice(0,a.length-d),s,u-d,!0),await e.handlePendingContainerFlushBuffers()}e.emittedStack[u]=!1}}e.ContainerHandlerIndex=a},"8ce0":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const n=r("9935");class i{constructor(t,e){this.termType="Literal",this.value=t,"string"===typeof e?(this.language=e,this.datatype=i.RDF_LANGUAGE_STRING):e?(this.language="",this.datatype=e):(this.language="",this.datatype=i.XSD_STRING)}equals(t){return!!t&&"Literal"===t.termType&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)}}e.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},"90e3":function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},9112:function(t,e,r){var n=r("83ab"),i=r("9bf2"),o=r("5c6c");t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9152:function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+d]=255&a,d+=p,a/=256,c-=8);t[r+d-p]|=128*v}},"920b":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("131a");function n(t,e){return n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},9263:function(t,e,r){"use strict";var n=r("ad6d"),i=r("9f7f"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,u=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=u||l||c;f&&(s=function(t){var e,r,i,s,f=this,h=c&&f.sticky,d=n.call(f),p=f.source,v=0,y=t;return h&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),y=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(p="(?: "+p+")",y=" "+y,v++),r=new RegExp("^(?:"+p+")",d)),l&&(r=new RegExp("^"+p+"$(?!\\s)",d)),u&&(e=f.lastIndex),i=o.call(h?r:f,y),h?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:u&&i&&(f.lastIndex=f.global?i.index+i[0].length:e),l&&i&&i.length>1&&a.call(i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),t.exports=s},"92a6":function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));r("4ae1");var n=r("f20d");r("d3b7"),r("25f0");function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("3ca3"),r("ddb0");function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?a(t):e}function u(t){return function(){var e,r=Object(n["a"])(t);if(i()){var o=Object(n["a"])(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)}}},"94ca":function(t,e,r){var n=r("d039"),i=/#|\.prototype\./,o=function(t,e){var r=s[a(t)];return r==c||r!=u&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},"966d":function(t,e,r){"use strict";(function(e){function r(t,r,n,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:o=new Array(s-1),a=0;while(a<o.length)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:r}:t.exports=e}).call(this,r("4362"))},"96cf":function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new j(n||[]);return o._invoke=S(t,r,a),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function v(){}function y(){}function g(){}var b={};b[o]=function(){return this};var m=Object.getPrototypeOf,w=m&&m(m(k([])));w&&w!==r&&n.call(w,o)&&(b=w);var _=g.prototype=v.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){function e(r,i,o,a){var s=c(t[r],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(l).then((function(t){u.value=t,o(u)}),(function(t){return e("throw",t,o,a)}))}a(s.arg)}var r;function i(t,n){function i(){return new Promise((function(r,i){e(t,n,r,i)}))}return r=r?r.then(i,i):i()}this._invoke=i}function S(t,e,r){var n=l;return function(i,o){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return T()}r.method=i,r.arg=o;while(1){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=c(t,e,r);if("normal"===u.type){if(n=r.done?d:f,u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}function O(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator["return"]&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,p;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function k(t){if(t){var r=t[o];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){while(++i<t.length)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return y.prototype=_.constructor=g,g.constructor=y,g[s]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,r,n,i){var o=new E(u(e,r,n,i));return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(_),_[s]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},9861:function(t,e,r){"use strict";r("e260");var n=r("23e7"),i=r("d066"),o=r("0d3b"),a=r("6eeb"),s=r("e2cc"),u=r("d44e"),c=r("9ed3"),l=r("69f3"),f=r("19aa"),h=r("5135"),d=r("0366"),p=r("f5df"),v=r("825a"),y=r("861d"),g=r("7c73"),b=r("5c6c"),m=r("9a1f"),w=r("35a1"),_=r("b622"),x=i("fetch"),E=i("Headers"),S=_("iterator"),O="URLSearchParams",I=O+"Iterator",R=l.set,j=l.getterFor(O),k=l.getterFor(I),T=/\+/g,A=Array(4),C=function(t){return A[t-1]||(A[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},P=function(t){try{return decodeURIComponent(t)}catch(e){return t}},D=function(t){var e=t.replace(T," "),r=4;try{return decodeURIComponent(e)}catch(n){while(r)e=e.replace(C(r--),P);return e}},N=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},M=function(t){return L[t]},U=function(t){return encodeURIComponent(t).replace(N,M)},F=function(t,e){if(e){var r,n,i=e.split("&"),o=0;while(o<i.length)r=i[o++],r.length&&(n=r.split("="),t.push({key:D(n.shift()),value:D(n.join("="))}))}},B=function(t){this.entries.length=0,F(this.entries,t)},V=function(t,e){if(t<e)throw TypeError("Not enough arguments")},q=c((function(t,e){R(this,{type:I,iterator:m(j(t).entries),kind:e})}),"Iterator",(function(){var t=k(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r})),G=function(){f(this,G,O);var t,e,r,n,i,o,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,d=[];if(R(l,{type:O,entries:d,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(y(c))if(t=w(c),"function"===typeof t){e=t.call(c),r=e.next;while(!(n=r.call(e)).done){if(i=m(v(n.value)),o=i.next,(a=o.call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}}else for(u in c)h(c,u)&&d.push({key:u,value:c[u]+""});else F(d,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},$=G.prototype;s($,{append:function(t,e){V(arguments.length,2);var r=j(this);r.entries.push({key:t+"",value:e+""}),r.updateURL()},delete:function(t){V(arguments.length,1);var e=j(this),r=e.entries,n=t+"",i=0;while(i<r.length)r[i].key===n?r.splice(i,1):i++;e.updateURL()},get:function(t){V(arguments.length,1);for(var e=j(this).entries,r=t+"",n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){V(arguments.length,1);for(var e=j(this).entries,r=t+"",n=[],i=0;i<e.length;i++)e[i].key===r&&n.push(e[i].value);return n},has:function(t){V(arguments.length,1);var e=j(this).entries,r=t+"",n=0;while(n<e.length)if(e[n++].key===r)return!0;return!1},set:function(t,e){V(arguments.length,1);for(var r,n=j(this),i=n.entries,o=!1,a=t+"",s=e+"",u=0;u<i.length;u++)r=i[u],r.key===a&&(o?i.splice(u--,1):(o=!0,r.value=s));o||i.push({key:a,value:s}),n.updateURL()},sort:function(){var t,e,r,n=j(this),i=n.entries,o=i.slice();for(i.length=0,r=0;r<o.length;r++){for(t=o[r],e=0;e<r;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===r&&i.push(t)}n.updateURL()},forEach:function(t){var e,r=j(this).entries,n=d(t,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<r.length)e=r[i++],n(e.value,e.key,this)},keys:function(){return new q(this,"keys")},values:function(){return new q(this,"values")},entries:function(){return new q(this,"entries")}},{enumerable:!0}),a($,S,$.entries),a($,"toString",(function(){var t,e=j(this).entries,r=[],n=0;while(n<e.length)t=e[n++],r.push(U(t.key)+"="+U(t.value));return r.join("&")}),{enumerable:!0}),u(G,O),n({global:!0,forced:!o},{URLSearchParams:G}),o||"function"!=typeof x||"function"!=typeof E||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,r,n,i=[t];return arguments.length>1&&(e=arguments[1],y(e)&&(r=e.body,p(r)===O&&(n=e.headers?new E(e.headers):new E,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=g(e,{body:b(0,String(r)),headers:b(0,n)}))),i.push(e)),x.apply(this,i)}}),t.exports={URLSearchParams:G,getState:j}},9935:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0;class n{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&"NamedNode"===t.termType&&t.value===this.value}}e.NamedNode=n},"99af":function(t,e,r){"use strict";var n=r("23e7"),i=r("d039"),o=r("e8b5"),a=r("861d"),s=r("7b0b"),u=r("50c4"),c=r("8418"),l=r("65f0"),f=r("1dde"),h=r("b622"),d=r("2d00"),p=h("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",g=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=f("concat"),m=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},w=!g||!b;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,r,n,i,o,a=s(this),f=l(a,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?a:arguments[e],m(o)){if(i=u(o.length),h+i>v)throw TypeError(y);for(r=0;r<i;r++,h++)r in o&&c(f,h,o[r])}else{if(h>=v)throw TypeError(y);c(f,h++,o)}return f.length=h,f}})},"9a0c":function(t,e,r){var n=r("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},"9a1f":function(t,e,r){var n=r("825a"),i=r("35a1");t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},"9ab4":function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"e",(function(){return a})),r.d(e,"c",(function(){return s})),r.d(e,"d",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t){var e="function"===typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function s(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{while((void 0===e||e-- >0)&&!(n=o.next()).done)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}},"9bdd":function(t,e,r){var n=r("825a");t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(a){var o=t["return"];throw void 0!==o&&n(o.call(t)),a}}},"9bf2":function(t,e,r){var n=r("83ab"),i=r("0cfb"),o=r("825a"),a=r("c04e"),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(o(t),e=a(e,!0),o(r),i)try{return s(t,e,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},"9d5a":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordType=void 0;const n=r("e6e5"),i=r("882b"),o=r("bfb1"),a=r("f232");class s extends a.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(t,e,r,a,s,u){const c=a[u],l=await t.getContext(a),f=e.rdfType,h=i.Util.isPropertyReverse(l,c,await e.unaliasKeywordParent(a,u)),d=Array.isArray(s)?s:[s];for(const i of d){"string"!==typeof i&&t.emitError(new n.ErrorCoded(`Found illegal @type '${i}'`,n.ERROR_CODES.INVALID_TYPE_VALUE));const r=e.createVocabOrBaseTerm(l,i);r&&await o.EntryHandlerPredicate.handlePredicateObject(t,e,a,u,f,r,h)}let p=Promise.resolve(l),v=!1;for(const n of d.sort()){const e=i.Util.getContextValue(l,"@context",n,null);e&&(v=!0,p=p.then(r=>t.parseContext(e,r.getContextRaw())))}!t.streamingProfile||!v&&t.streamingProfileAllowOutOfOrderPlainType||!t.processingStack[u]&&!t.idStack[u]||t.emitError(new n.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",n.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),v&&(p=p.then(t=>("@propagate"in t.getContextRaw()||(t.getContextRaw()["@propagate"]=!1),!1===t.getContextRaw()["@propagate"]&&(t.getContextRaw()["@__propagateFallback"]=l.getContextRaw()),t)),t.contextTree.setContext(a.slice(0,a.length-1),p)),t.processingType[u]=!0}}e.EntryHandlerKeywordType=s},"9ed3":function(t,e,r){"use strict";var n=r("ae93").IteratorPrototype,i=r("7c73"),o=r("5c6c"),a=r("d44e"),s=r("3f8c"),u=function(){return this};t.exports=function(t,e,r){var c=e+" Iterator";return t.prototype=i(n,{next:o(1,r)}),a(t,c,!1,!0),s[c]=u,t}},"9f7f":function(t,e,r){"use strict";var n=r("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,r){"use strict";var n=r("23e7"),i=r("44ad"),o=r("fc6a"),a=r("a640"),s=[].join,u=i!=Object,c=a("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},a22a:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;class n{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&"Variable"===t.termType&&t.value===this.value}}e.Variable=n},a2bf:function(t,e,r){"use strict";var n=r("e8b5"),i=r("50c4"),o=r("0366"),a=function(t,e,r,s,u,c,l,f){var h,d=u,p=0,v=!!l&&o(l,f,3);while(p<s){if(p in r){if(h=v?v(r[p],p,e):r[p],c>0&&n(h))d=a(t,e,h,i(h.length),d,c-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[d]=h}d++}p++}return d};t.exports=a},a434:function(t,e,r){"use strict";var n=r("23e7"),i=r("23cb"),o=r("a691"),a=r("50c4"),s=r("7b0b"),u=r("65f0"),c=r("8418"),l=r("1dde"),f=r("ae40"),h=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,y=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!h||!d},{splice:function(t,e){var r,n,l,f,h,d,b=s(this),m=a(b.length),w=i(t,m),_=arguments.length;if(0===_?r=n=0:1===_?(r=0,n=m-w):(r=_-2,n=v(p(o(e),0),m-w)),m+r-n>y)throw TypeError(g);for(l=u(b,n),f=0;f<n;f++)h=w+f,h in b&&c(l,f,b[h]);if(l.length=n,r<n){for(f=w;f<m-n;f++)h=f+n,d=f+r,h in b?b[d]=b[h]:delete b[d];for(f=m;f>m-n+r;f--)delete b[f-1]}else if(r>n)for(f=m-n;f>w;f--)h=f+n-1,d=f+r-1,h in b?b[d]=b[h]:delete b[d];for(f=0;f<r;f++)b[f+w]=arguments[f+2];return b.length=m-n+r,l}})},a4d3:function(t,e,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("d066"),a=r("c430"),s=r("83ab"),u=r("4930"),c=r("fdbf"),l=r("d039"),f=r("5135"),h=r("e8b5"),d=r("861d"),p=r("825a"),v=r("7b0b"),y=r("fc6a"),g=r("c04e"),b=r("5c6c"),m=r("7c73"),w=r("df75"),_=r("241c"),x=r("057f"),E=r("7418"),S=r("06cf"),O=r("9bf2"),I=r("d1e7"),R=r("9112"),j=r("6eeb"),k=r("5692"),T=r("f772"),A=r("d012"),C=r("90e3"),P=r("b622"),D=r("e538"),N=r("746f"),L=r("d44e"),M=r("69f3"),U=r("b727").forEach,F=T("hidden"),B="Symbol",V="prototype",q=P("toPrimitive"),G=M.set,$=M.getterFor(B),J=Object[V],z=i.Symbol,H=o("JSON","stringify"),K=S.f,W=O.f,Y=x.f,Q=I.f,X=k("symbols"),Z=k("op-symbols"),tt=k("string-to-symbol-registry"),et=k("symbol-to-string-registry"),rt=k("wks"),nt=i.QObject,it=!nt||!nt[V]||!nt[V].findChild,ot=s&&l((function(){return 7!=m(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=K(J,e);n&&delete J[e],W(t,e,r),n&&t!==J&&W(J,e,n)}:W,at=function(t,e){var r=X[t]=m(z[V]);return G(r,{type:B,tag:t,description:e}),s||(r.description=e),r},st=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof z},ut=function(t,e,r){t===J&&ut(Z,e,r),p(t);var n=g(e,!0);return p(r),f(X,n)?(r.enumerable?(f(t,F)&&t[F][n]&&(t[F][n]=!1),r=m(r,{enumerable:b(0,!1)})):(f(t,F)||W(t,F,b(1,{})),t[F][n]=!0),ot(t,n,r)):W(t,n,r)},ct=function(t,e){p(t);var r=y(e),n=w(r).concat(pt(r));return U(n,(function(e){s&&!ft.call(r,e)||ut(t,e,r[e])})),t},lt=function(t,e){return void 0===e?m(t):ct(m(t),e)},ft=function(t){var e=g(t,!0),r=Q.call(this,e);return!(this===J&&f(X,e)&&!f(Z,e))&&(!(r||!f(this,e)||!f(X,e)||f(this,F)&&this[F][e])||r)},ht=function(t,e){var r=y(t),n=g(e,!0);if(r!==J||!f(X,n)||f(Z,n)){var i=K(r,n);return!i||!f(X,n)||f(r,F)&&r[F][n]||(i.enumerable=!0),i}},dt=function(t){var e=Y(y(t)),r=[];return U(e,(function(t){f(X,t)||f(A,t)||r.push(t)})),r},pt=function(t){var e=t===J,r=Y(e?Z:y(t)),n=[];return U(r,(function(t){!f(X,t)||e&&!f(J,t)||n.push(X[t])})),n};if(u||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=C(t),r=function(t){this===J&&r.call(Z,t),f(this,F)&&f(this[F],e)&&(this[F][e]=!1),ot(this,e,b(1,t))};return s&&it&&ot(J,e,{configurable:!0,set:r}),at(e,t)},j(z[V],"toString",(function(){return $(this).tag})),j(z,"withoutSetter",(function(t){return at(C(t),t)})),I.f=ft,O.f=ut,S.f=ht,_.f=x.f=dt,E.f=pt,D.f=function(t){return at(P(t),t)},s&&(W(z[V],"description",{configurable:!0,get:function(){return $(this).description}}),a||j(J,"propertyIsEnumerable",ft,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:z}),U(w(rt),(function(t){N(t)})),n({target:B,stat:!0,forced:!u},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var r=z(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:lt,defineProperty:ut,defineProperties:ct,getOwnPropertyDescriptor:ht}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:dt,getOwnPropertySymbols:pt}),n({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(v(t))}}),H){var vt=!u||l((function(){var t=z();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}));n({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,r){var n,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(n=e,(d(e)||void 0!==t)&&!st(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!st(e))return e}),i[1]=e,H.apply(null,i)}})}z[V][q]||R(z[V],q,z[V].valueOf),L(z,B),A[F]=!0},a630:function(t,e,r){var n=r("23e7"),i=r("4df4"),o=r("1c7e"),a=!o((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:a},{from:i})},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},ab13:function(t,e,r){var n=r("b622"),i=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[i]=!1,"/./"[t](e)}catch(n){}}return!1}},ac1f:function(t,e,r){"use strict";var n=r("23e7"),i=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ad71:function(t,e,r){"use strict";(function(e,n){var i=r("966d");t.exports=x;var o,a=r("e3db");x.ReadableState=_;r("faa1").EventEmitter;var s=function(t,e){return t.listeners(e).length},u=r("429b"),c=r("8707").Buffer,l=e.Uint8Array||function(){};function f(t){return c.from(t)}function h(t){return c.isBuffer(t)||t instanceof l}var d=Object.create(r("3a7c"));d.inherits=r("3fb5");var p=r(0),v=void 0;v=p&&p.debuglog?p.debuglog("stream"):function(){};var y,g=r("5e1a"),b=r("4681");d.inherits(x,u);var m=["error","close","destroy","pause","resume"];function w(t,e,r){if("function"===typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}function _(t,e){o=o||r("b19a"),t=t||{};var n=e instanceof o;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(y||(y=r("7d72").StringDecoder),this.decoder=new y(t.encoding),this.encoding=t.encoding)}function x(t){if(o=o||r("b19a"),!(this instanceof x))return new x(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function E(t,e,r,n,i){var o,a=t._readableState;null===e?(a.reading=!1,T(t,a)):(i||(o=O(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=f(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):S(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?S(t,a,e,!1):P(t,a)):S(t,a,e,!1))):n||(a.reading=!1));return I(a)}function S(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&A(t)),P(t,e)}function O(t,e){var r;return h(e)||"string"===typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function I(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=b.destroy,x.prototype._undestroy=b.undestroy,x.prototype._destroy=function(t,e){this.push(null),e(t)},x.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof t&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=c.from(t,e),e=""),r=!0),E(this,t,e,!1,r)},x.prototype.unshift=function(t){return E(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){return y||(y=r("7d72").StringDecoder),this._readableState.decoder=new y(t),this._readableState.encoding=t,this};var R=8388608;function j(t){return t>=R?t=R:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=j(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function T(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,A(t)}}function A(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(v("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(C,t):C(t))}function C(t){v("emit readable"),t.emit("readable"),F(t)}function P(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(D,t,e))}function D(t,e){var r=e.length;while(!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark){if(v("maybeReadMore read 0"),t.read(0),r===e.length)break;r=e.length}e.readingMore=!1}function N(t){return function(){var e=t._readableState;v("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,F(t))}}function L(t){v("readable nexttick read 0"),t.read(0)}function M(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(U,t,e))}function U(t,e){e.reading||(v("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),F(t),e.flowing&&!e.reading&&t.read(0)}function F(t){var e=t._readableState;v("flow",e.flowing);while(e.flowing&&null!==t.read());}function B(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=V(t,e.buffer,e.decoder),r);var r}function V(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?q(t,e):G(t,e),n}function q(t,e){var r=e.head,n=1,i=r.data;t-=i.length;while(r=r.next){var o=r.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),t-=a,0===t){a===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++n}return e.length-=n,i}function G(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;while(n=n.next){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),t-=a,0===t){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}function $(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(J,e,t))}function J(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function z(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}x.prototype.read=function(t){v("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return v("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?$(this):A(this),null;if(t=k(t,e),0===t&&e.ended)return 0===e.length&&$(this),null;var n,i=e.needReadable;return v("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,v("length less than watermark",i)),e.ended||e.reading?(i=!1,v("reading or ended",i)):i&&(v("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(r,e))),n=t>0?B(t,e):null,null===n?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&$(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},x.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t);break}o.pipesCount+=1,v("pipe count=%d opts=%j",o.pipesCount,e);var a=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr,u=a?l:_;function c(t,e){v("onunpipe"),t===r&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,d())}function l(){v("onend"),t.end()}o.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",c);var f=N(r);t.on("drain",f);var h=!1;function d(){v("cleanup"),t.removeListener("close",b),t.removeListener("finish",m),t.removeListener("drain",f),t.removeListener("error",g),t.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",_),r.removeListener("data",y),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||f()}var p=!1;function y(e){v("ondata"),p=!1;var n=t.write(e);!1!==n||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==z(o.pipes,t))&&!h&&(v("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(e){v("onerror",e),_(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function b(){t.removeListener("finish",m),_()}function m(){v("onfinish"),t.removeListener("close",b),_()}function _(){v("unpipe"),r.unpipe(t)}return r.on("data",y),w(t,"error",g),t.once("close",b),t.once("finish",m),t.emit("pipe",r),o.flowing||(v("pipe resume"),r.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=z(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},x.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&A(this):i.nextTick(L,this))}return r},x.prototype.addListener=x.prototype.on,x.prototype.resume=function(){var t=this._readableState;return t.flowing||(v("resume"),t.flowing=!0,M(this,t)),this},x.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this},x.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(v("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){if(v("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){var o=e.push(i);o||(n=!0,t.pause())}})),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){v("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),x._fromList=B}).call(this,r("c8ba"),r("4362"))},ae40:function(t,e,r){var n=r("83ab"),i=r("d039"),o=r("5135"),a=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var r=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,l=o(e,0)?e[0]:u,f=o(e,1)?e[1]:void 0;return s[t]=!!r&&!i((function(){if(c&&!n)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:u}):t[1]=1,r.call(t,l,f)}))}},ae93:function(t,e,r){"use strict";var n,i,o,a=r("e163"),s=r("9112"),u=r("5135"),c=r("b622"),l=r("c430"),f=c("iterator"),h=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(n=i)):h=!0),void 0==n&&(n={}),l||u(n,f)||s(n,f,d),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},af6b:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerContainer=void 0;const n=r("c9fc"),i=r("8ccd"),o=r("f071"),a=r("0aac"),s=r("882b");class u{static isSimpleGraphContainer(t){return"@graph"in t&&("@set"in t&&2===Object.keys(t).length||1===Object.keys(t).length)}static isComplexGraphContainer(t){return"@graph"in t&&("@set"in t&&Object.keys(t).length>2||!("@set"in t)&&Object.keys(t).length>1)}static getContainerGraphIndex(t,e,r){let n=u.isSimpleGraphContainer(t),i="";for(let o=e;o<r.length;o++)n&&"number"!==typeof r[o]||(i+=":"+r[o]),n||"number"===typeof r[o]||(n=!0);return i}static async getContainerHandler(t,e,r){const n={containers:{"@set":!0},depth:r,fallback:!0};let i=!1;const o=await t.getContext(e,2);for(let a=r-1;a>=0;a--)if("number"!==typeof e[a]){const t=s.Util.getContextValue(o,"@container",e[a],!1);if(t&&u.isSimpleGraphContainer(t))return{containers:t,depth:a+1,fallback:!1};const r=s.Util.getContextValue(o,"@container",e[a-1],!1);if(r){const t="@graph"in r;for(const e in u.CONTAINER_HANDLERS)if(r[e])return t?u.CONTAINER_HANDLERS[e].canCombineWithGraph()?{containers:r,depth:a,fallback:!1}:n:i?n:{containers:r,depth:a,fallback:!1};return n}if(i)return n;i=!0}return n}static async isBufferableContainerHandler(t,e,r){const n=await u.getContainerHandler(t,e,r);return!n.fallback&&!("@graph"in n.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,n,i){return!!await this.test(t,e,null,r,n)}async test(t,e,r,n,i){const o=s.Util.getContextValueContainer(await t.getContext(n,2),n[i-1]);for(const a in u.CONTAINER_HANDLERS)if(o[a])return{containers:o,handler:u.CONTAINER_HANDLERS[a]};return null}async handle(t,e,r,n,i,o,a){return a.handler.handle(a.containers,t,e,n,i,o)}}e.EntryHandlerContainer=u,u.CONTAINER_HANDLERS={"@id":new n.ContainerHandlerIdentifier,"@index":new i.ContainerHandlerIndex,"@language":new o.ContainerHandlerLanguage,"@type":new a.ContainerHandlerType}},b041:function(t,e,r){"use strict";var n=r("00ee"),i=r("f5df");t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(t,e,r){var n=r("83ab"),i=r("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,u="name";n&&!(u in o)&&i(o,u,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b0d7:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return b}));r("99af"),r("caad"),r("a15b"),r("d81d"),r("13d5"),r("fb6a"),r("45fc"),r("b0c0"),r("b64b"),r("d3b7"),r("25f0"),r("2532"),r("4d90"),r("96cf");var n=r("c964"),i=r("276c"),o=r("e954"),a=r("f20d"),s=r("fbf1"),u=r("92a6"),c=r("920b"),l=r("ddbf"),f=r.n(l),h=r("dfab"),d=(r("4de4"),r("c975"),r("a434"),r("d0ff")),p=function(){function t(){Object(i["a"])(this,t)}return Object(o["a"])(t,[{key:"create",value:function(t){return Array.isArray(t)?t:[t]}},{key:"flatten",value:function(t){return t.reduce((function(t,e){return[].concat(Object(d["a"])(t),Object(d["a"])(e))}),[])}},{key:"removeItem",value:function(t,e){var r=t.indexOf(e);return-1!==r&&t.splice(r,1),e}},{key:"unique",value:function(t){return t.filter((function(e,r){return t.indexOf(e)===r}))}},{key:"withoutItem",value:function(t,e){var r=t.indexOf(e);return-1!==r?this.withoutIndex(t,r):t}},{key:"withoutIndex",value:function(t,e){return[].concat(Object(d["a"])(t.slice(0,e)),Object(d["a"])(t.slice(e+1)))}}]),t}(),v=new p,y=r("6ea5"),g=r("191b"),b=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){var t;return Object(i["a"])(this,r),t=e.apply(this,arguments),t.fixedUpdatedAt=null,t}return Object(o["a"])(r,[{key:"moviesRelationship",value:function(){return this.contains(y["default"])}},{key:"hasLegacySchema",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"migrateSchema",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.exists()&&!this.wasRecentlyCreated()){t.next=2;break}return t.abrupt("return");case 2:return n=r||"".concat(this.url,".meta"),t.next=5,this.getCreatedAtFromMetaDocument(n);case 5:return i=t.sent,t.prev=6,t.next=9,g["a"].fetch(n,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:["@prefix movies: <./> .","@prefix purl: <http://purl.org/dc/terms/> .","@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .","","movies:","    purl:created ".concat(this.serializeTurtleDate(i)," ;"),'    rdfs:label "'.concat(e,'" .')].join("\n")});case 9:if(o=t.sent,201===o.status){t.next=12;break}throw new l["SoukaiError"]("Error migrating ".concat(this.url,", returned ").concat(o.status," status code"));case 12:this.fixLegacyAttributes(e,this.fixedUpdatedAt||this.updatedAt),t.next=18;break;case 15:throw t.prev=15,t.t0=t["catch"](6),new h["NetworkError"]("Error migrating ".concat(this.url),t.t0);case 18:case"end":return t.stop()}}),t,this,[[6,15]])})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"initializeAttributes",value:function(t,e){e&&"updatedAt"in t&&Array.isArray(t["updatedAt"])&&(this.fixedUpdatedAt=t["updatedAt"].slice(1).reduce((function(t,e){return t>e?t:e}),t["updatedAt"][0])),Object(s["a"])(Object(a["a"])(r.prototype),"initializeAttributes",this).call(this,t,e)}},{key:"getCreatedAtFromMetaDocument",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.a.requireEngine().readOne(this.getContainerUrl(),e);case 2:if(r=t.sent,this.isLegacyMetaDocument(r)){t.next=5;break}throw new l["SoukaiError"]("The document at ".concat(e," was not created with Media Kraken so it isn't safe to migrate, ")+"you can migrate it yourself by adding rdfs:label property");case 5:return t.abrupt("return",new Date(r["@graph"][0]["http://purl.org/dc/terms/created"]["@value"]));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"isLegacyMetaDocument",value:function(t){if(t["@graph"].length>1)return!1;var e=t["@graph"][0],r=Object.keys(e),n=["@id","@type","http://purl.org/dc/terms/created","http://purl.org/dc/terms/modified","http://www.w3.org/2000/01/rdf-schema#label"];return r.length!==n.length||n.some((function(t){return!r.includes(t)}))||v.create(e["@type"]).some((function(t){return!["https://www.w3.org/ns/ldp#Resource","https://www.w3.org/ns/ldp#Container"].includes(t)}))}},{key:"fixLegacyAttributes",value:function(t,e){this._attributes.name=t,this._attributes.updatedAt=e}},{key:"serializeTurtleDate",value:function(t){var e=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.map((function(t){return t.toString().padStart(2,"0")}))},r=e(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate()).join("-"),n=e(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()).join(":");return'"'.concat(r,"T").concat(n,'Z"^^<http://www.w3.org/2001/XMLSchema#dateTime>')}}]),r}(h["SolidContainerModel"]);b.fields={name:{type:l["FieldType"].String,rdfProperty:"rdfs:label",required:!0},description:{type:l["FieldType"].String,rdfProperty:"rdfs:comment"}}},b19a:function(t,e,r){"use strict";var n=r("966d"),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=f;var o=Object.create(r("3a7c"));o.inherits=r("3fb5");var a=r("ad71"),s=r("dc14");o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},b575:function(t,e,r){var n,i,o,a,s,u,c,l,f=r("da84"),h=r("06cf").f,d=r("c6b6"),p=r("2cf4").set,v=r("1cdc"),y=f.MutationObserver||f.WebKitMutationObserver,g=f.process,b=f.Promise,m="process"==d(g),w=h(f,"queueMicrotask"),_=w&&w.value;_||(n=function(){var t,e;m&&(t=g.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(r){throw i?a():o=void 0,r}}o=void 0,t&&t.enter()},m?a=function(){g.nextTick(n)}:y&&!v?(s=!0,u=document.createTextNode(""),new y(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):b&&b.resolve?(c=b.resolve(void 0),l=c.then,a=function(){l.call(c,n)}):a=function(){p.call(f,n)}),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},b622:function(t,e,r){var n=r("da84"),i=r("5692"),o=r("5135"),a=r("90e3"),s=r("4930"),u=r("fdbf"),c=i("wks"),l=n.Symbol,f=u?l:l&&l.withoutSetter||a;t.exports=function(t){return o(c,t)||(s&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},b639:function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r("1fb5"),i=r("9152"),o=r("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,e,r)}function l(t,e,r,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?y(t,e,r,n):"string"===typeof e?p(t,e,r):g(t,e)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,r,n){return f(e),e<=0?u(t,e):void 0!==r?"string"===typeof n?u(t,e).fill(r,n):u(t,e).fill(r):u(t,e)}function d(t,e){if(f(e),t=u(t,e<0?0:0|b(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function p(t,e,r){if("string"===typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|w(e,r);t=u(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function v(t,e){var r=e.length<0?0:0|b(e.length);t=u(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function y(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=v(t,e),t}function g(t,e){if(c.isBuffer(e)){var r=0|b(e.length);return t=u(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?u(t,0):v(t,e);if("Buffer"===e.type&&o(e.data))return v(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),c.alloc(+t)}function w(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(t).length;default:if(n)return Y(t).length;e=(""+e).toLowerCase(),n=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return M(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return N(this,e,r);case"latin1":case"binary":return L(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function x(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function E(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:S(t,e,r,n,i);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):S(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function S(t,e,r,n,i){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function O(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function I(t,e,r,n){return tt(Y(e,t.length-r),t,r,n)}function R(t,e,r,n){return tt(Q(e),t,r,n)}function j(t,e,r,n){return R(t,e,r,n)}function k(t,e,r,n){return tt(Z(e),t,r,n)}function T(t,e,r,n){return tt(X(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);var n=[],i=e;while(i<r){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:o=t[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(l=u));break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return D(n)}e.Buffer=c,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return l(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return h(null,t,e,r)},c.allocUnsafe=function(t){return d(null,t)},c.allocUnsafeSlow=function(t){return d(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},c.byteLength=w,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):_.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,n,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,a=r-e,s=Math.min(o,a),u=this.slice(n,i),l=t.slice(e,r),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return E(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return E(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return O(this,t,e,r);case"utf8":case"utf-8":return I(this,t,e,r);case"ascii":return R(this,t,e,r);case"latin1":case"binary":return j(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function D(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);var r="",n=0;while(n<e)r+=String.fromCharCode.apply(String,t.slice(n,n+=P));return r}function N(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function L(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function M(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=W(t[o]);return i}function U(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function F(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function V(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function q(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function G(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function $(t,e,r,n,o){return o||G(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function J(t,e,r,n,o){return o||G(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=c.prototype;else{var i=e-t;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);var n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return n},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);var n=this[t+--e],i=1;while(e>0&&(i*=256))n+=this[t+--e]*i;return n},c.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);var n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);var n=e,i=1,o=this[t+--n];while(n>0&&(i*=256))o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,t,e,r,i,0)}var o=1,a=0;this[e]=255&t;while(++a<r&&(o*=256))this[e+a]=t/o&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,t,e,r,i,0)}var o=r-1,a=1;this[e+o]=255&t;while(--o>=0&&(a*=256))this[e+o]=t/a&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):q(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;this[e]=255&t;while(++o<r&&(a*=256))t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;this[e+o]=255&t;while(--o>=0&&(a*=256))t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):q(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return $(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return $(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return J(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return J(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},c.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=c.isBuffer(t)?t:Y(new c(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function H(t){if(t=K(t).replace(z,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function K(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Q(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function X(t,e){for(var r,n,i,o=[],a=0;a<t.length;++a){if((e-=2)<0)break;r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n)}return o}function Z(t){return n.toByteArray(H(t))}function tt(t,e,r,n){for(var i=0;i<n;++i){if(i+r>=e.length||i>=t.length)break;e[i+r]=t[i]}return i}function et(t){return t!==t}}).call(this,r("c8ba"))},b64b:function(t,e,r){var n=r("23e7"),i=r("7b0b"),o=r("df75"),a=r("d039"),s=a((function(){o(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return o(i(t))}})},b680:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},b727:function(t,e,r){var n=r("0366"),i=r("44ad"),o=r("7b0b"),a=r("50c4"),s=r("65f0"),u=[].push,c=function(t){var e=1==t,r=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f;return function(d,p,v,y){for(var g,b,m=o(d),w=i(m),_=n(p,v,3),x=a(w.length),E=0,S=y||s,O=e?S(d,x):r?S(d,0):void 0;x>E;E++)if((h||E in w)&&(g=w[E],b=_(g,E,m),t))if(e)O[E]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return E;case 2:u.call(O,g)}else if(l)return!1;return f?-1:c||l?l:O}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},b7d1:function(t,e,r){(function(e){function r(t,e){if(n("noDeprecation"))return t;var r=!1;function i(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function n(t){try{if(!e.localStorage)return!1}catch(n){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=r}).call(this,r("c8ba"))},baa5:function(t,e,r){var n=r("23e7"),i=r("e58c");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},bd36:function(t,e,r){"use strict";function n(t,e){e=e||"";const r=e.indexOf("#");if(r>0&&(e=e.substr(0,r)),!t.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);return e}if(t.startsWith("?")){const r=e.indexOf("?");return r>0&&(e=e.substr(0,r)),e+t}if(t.startsWith("#"))return e+t;if(!e.length){const e=t.indexOf(":");if(e<0)throw new Error(`Found invalid relative IRI '${t}' for a missing baseIRI`);return o(t,e)}const n=t.indexOf(":");if(n>=0)return o(t,n);const a=e.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);const s=e.substr(0,a+1);if(0===t.indexOf("//"))return s+o(t,n);let u;if(e.indexOf("//",a)===a+1){if(u=e.indexOf("/",a+3),u<0)return e.length>a+3?e+"/"+o(t,n):s+o(t,n)}else if(u=e.indexOf("/",a+1),u<0)return s+o(t,n);if(0===t.indexOf("/"))return e.substr(0,u)+i(t);let c=e.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===t[0]&&"."!==t[1]&&"/"!==t[1]&&t[2]&&(t=t.substr(1))),t=c+t,t=i(t),e.substr(0,u)+t}function i(t){const e=[];let r=0;while(r<t.length)switch(t[r]){case"/":if("."===t[r+1])if("."===t[r+2]){if(!a(t[r+3])){e.push([]),r++;break}e.pop(),t[r+3]||e.push([]),r+=3}else{if(!a(t[r+2])){e.push([]),r++;break}t[r+2]||e.push([]),r+=2}else e.push([]),r++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(t.substr(r)),r=t.length;break;default:e.length||e.push([]),e[e.length-1].push(t[r]),r++;break}return"/"+e.map(t=>t.join("")).join("/")}function o(t,e){let r=e+1;e>=0?"/"===t[e+1]&&"/"===t[e+2]&&(r=e+3):"/"===t[0]&&"/"===t[1]&&(r=2);const n=t.indexOf("/",r);if(n<0)return t;const o=t.substr(0,n),a=t.substr(n);return o+i(a)}function a(t){return!t||"#"===t||"?"===t||"/"===t}Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=n,e.removeDotSegments=i,e.removeDotSegmentsOfPath=o},bfb1:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerPredicate=void 0;const n=r("e6e5"),i=r("882b");class o{static async handlePredicateObject(t,e,r,n,i,o,a){const s=await e.getPropertiesDepth(r,n),u=await e.getDepthOffsetGraph(n,r),c=n-u,l=t.idStack[s];if(l)for(const f of l){const l=u>=0;if(l){const r=t.idStack[c-1];if(r)for(const s of r)a?(e.validateReverseSubject(o),t.emitQuad(n,e.dataFactory.quad(o,i,f,s))):t.emitQuad(n,e.dataFactory.quad(f,i,o,s));else a?(e.validateReverseSubject(o),t.getUnidentifiedGraphBufferSafe(c-1).push({subject:o,predicate:i,object:f})):t.getUnidentifiedGraphBufferSafe(c-1).push({subject:f,predicate:i,object:o})}else{const u=await e.getGraphContainerValue(r,s);a?(e.validateReverseSubject(o),t.emitQuad(n,e.dataFactory.quad(o,i,f,u))):t.emitQuad(n,e.dataFactory.quad(f,i,o,u))}}else a&&e.validateReverseSubject(o),t.getUnidentifiedValueBufferSafe(s).push({predicate:i,object:o,reverse:a})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(t,e,r,n,o){const a=r[n];if(a){const o=await t.getContext(r);if(await e.predicateToTerm(o,r[n]))return"@json"===i.Util.getContextValueType(o,a)&&(t.jsonLiteralStack[n+1]=!0),!0}return!1}async test(t,e,r,n,i){return n[i]}async handle(t,e,r,a,s,u,c){const l=a[u],f=await t.getContext(a),h=await e.predicateToTerm(f,r);if(h){const c=await e.valueToTerm(f,r,s,u,a);if(c.length)for(let d of c){const c=i.Util.isPropertyReverse(f,l,await e.unaliasKeywordParent(a,u));if(s){const o="@list"in i.Util.getContextValueContainer(f,r);if(o||s["@list"]){if((o&&!Array.isArray(s)&&!s["@list"]||s["@list"]&&!Array.isArray(s["@list"]))&&d!==e.rdfNil){const r=e.dataFactory.blankNode();t.emitQuad(u,e.dataFactory.quad(r,e.rdfRest,e.rdfNil,e.getDefaultGraph())),t.emitQuad(u,e.dataFactory.quad(r,e.rdfFirst,d,e.getDefaultGraph())),d=r}if(c&&!t.allowSubjectList)throw new n.ErrorCoded("Found illegal list value in subject position at "+r,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await o.handlePredicateObject(t,e,a,u,h,d,c)}}}}e.EntryHandlerPredicate=o},c020:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(){function t(){this._hasWeakSet="function"===typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){var r=this._inner[e];if(r===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},c04e:function(t,e,r){var n=r("861d");t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},c13b:function(t,e,r){(function(e){var r={},n=r.LEFT_BRACE=1,i=r.RIGHT_BRACE=2,o=r.LEFT_BRACKET=3,a=r.RIGHT_BRACKET=4,s=r.COLON=5,u=r.COMMA=6,c=r.TRUE=7,l=r.FALSE=8,f=r.NULL=9,h=r.STRING=10,d=r.NUMBER=11,p=r.START=17,v=r.STOP=18,y=r.TRUE1=33,g=r.TRUE2=34,b=r.TRUE3=35,m=r.FALSE1=49,w=r.FALSE2=50,_=r.FALSE3=51,x=r.FALSE4=52,E=r.NULL1=65,S=r.NULL2=66,O=r.NULL3=67,I=r.NUMBER1=81,R=r.NUMBER3=83,j=r.STRING1=97,k=r.STRING2=98,T=r.STRING3=99,A=r.STRING4=100,C=r.STRING5=101,P=r.STRING6=102,D=r.VALUE=113,N=r.KEY=114,L=r.OBJECT=129,M=r.ARRAY=130,U="\\".charCodeAt(0),F="/".charCodeAt(0),B="\b".charCodeAt(0),V="\f".charCodeAt(0),q="\n".charCodeAt(0),G="\r".charCodeAt(0),$="\t".charCodeAt(0),J=65536;function z(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=e.alloc?e.alloc(J):new e(J),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=D,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new e(2),3:new e(3),4:new e(4)},this.offset=-1}z.toknam=function(t){for(var e=Object.keys(r),n=0,i=e.length;n<i;n++){var o=e[n];if(r[o]===t)return o}return t&&"0x"+t.toString(16)};var H=z.prototype;H.onError=function(t){throw t},H.charError=function(t,e){this.tState=v,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+z.toknam(this.tState)))},H.appendStringChar=function(t){this.stringBufferOffset>=J&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t},H.appendStringBuf=function(t,e,r){var n=t.length;"number"===typeof e&&(n="number"===typeof r?r<0?t.length-e+r:r-e:t.length-e),n<0&&(n=0),this.stringBufferOffset+n>J&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,r),this.stringBufferOffset+=n},H.write=function(t){var r;"string"===typeof t&&(t=new e(t));for(var v=0,D=t.length;v<D;v++)if(this.tState===p){if(r=t[v],this.offset++,123===r)this.onToken(n,"{");else if(125===r)this.onToken(i,"}");else if(91===r)this.onToken(o,"[");else if(93===r)this.onToken(a,"]");else if(58===r)this.onToken(s,":");else if(44===r)this.onToken(u,",");else if(116===r)this.tState=y;else if(102===r)this.tState=m;else if(110===r)this.tState=E;else if(34===r)this.string="",this.stringBufferOffset=0,this.tState=j;else if(45===r)this.string="-",this.tState=I;else if(r>=48&&r<64)this.string=String.fromCharCode(r),this.tState=R;else if(32!==r&&9!==r&&10!==r&&13!==r)return this.charError(t,v)}else if(this.tState===j)if(r=t[v],this.bytes_remaining>0){for(var N=0;N<this.bytes_remaining;N++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+N]=t[N];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,v=v+N-1}else if(0===this.bytes_remaining&&r>=128){if(r<=193||r>244)return this.onError(new Error("Invalid UTF-8 character at position "+v+" in state "+z.toknam(this.tState)));if(r>=194&&r<=223&&(this.bytes_in_sequence=2),r>=224&&r<=239&&(this.bytes_in_sequence=3),r>=240&&r<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+v>t.length){for(var L=0;L<=t.length-1-v;L++)this.temp_buffs[this.bytes_in_sequence][L]=t[v+L];this.bytes_remaining=v+this.bytes_in_sequence-t.length,v=t.length-1}else this.appendStringBuf(t,v,v+this.bytes_in_sequence),v=v+this.bytes_in_sequence-1}else if(34===r)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(h,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===r)this.tState=k;else{if(!(r>=32))return this.charError(t,v);this.appendStringChar(r)}else if(this.tState===k)if(r=t[v],34===r)this.appendStringChar(r),this.tState=j;else if(92===r)this.appendStringChar(U),this.tState=j;else if(47===r)this.appendStringChar(F),this.tState=j;else if(98===r)this.appendStringChar(B),this.tState=j;else if(102===r)this.appendStringChar(V),this.tState=j;else if(110===r)this.appendStringChar(q),this.tState=j;else if(114===r)this.appendStringChar(G),this.tState=j;else if(116===r)this.appendStringChar($),this.tState=j;else{if(117!==r)return this.charError(t,v);this.unicode="",this.tState=T}else if(this.tState===T||this.tState===A||this.tState===C||this.tState===P){if(r=t[v],!(r>=48&&r<64||r>64&&r<=70||r>96&&r<=102))return this.charError(t,v);if(this.unicode+=String.fromCharCode(r),this.tState++===P){var M=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&M>=56320&&M<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,M))),this.highSurrogate=void 0):void 0===this.highSurrogate&&M>=55296&&M<56320?this.highSurrogate=M:(void 0!==this.highSurrogate&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(M)))),this.tState=j}}else if(this.tState===I||this.tState===R)switch(r=t[v],r){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(r),this.tState=R;break;default:this.tState=p;var J=Number(this.string);if(isNaN(J))return this.charError(t,v);this.string.match(/[0-9]+/)==this.string&&J.toString()!=this.string?this.onToken(h,this.string):this.onToken(d,J),this.offset+=this.string.length-1,this.string=void 0,v--;break}else if(this.tState===y){if(114!==t[v])return this.charError(t,v);this.tState=g}else if(this.tState===g){if(117!==t[v])return this.charError(t,v);this.tState=b}else if(this.tState===b){if(101!==t[v])return this.charError(t,v);this.tState=p,this.onToken(c,!0),this.offset+=3}else if(this.tState===m){if(97!==t[v])return this.charError(t,v);this.tState=w}else if(this.tState===w){if(108!==t[v])return this.charError(t,v);this.tState=_}else if(this.tState===_){if(115!==t[v])return this.charError(t,v);this.tState=x}else if(this.tState===x){if(101!==t[v])return this.charError(t,v);this.tState=p,this.onToken(l,!1),this.offset+=4}else if(this.tState===E){if(117!==t[v])return this.charError(t,v);this.tState=S}else if(this.tState===S){if(108!==t[v])return this.charError(t,v);this.tState=O}else if(this.tState===O){if(108!==t[v])return this.charError(t,v);this.tState=p,this.onToken(f,null),this.offset+=3}},H.onToken=function(t,e){},H.parseError=function(t,e){this.tState=v,this.onError(new Error("Unexpected "+z.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+z.toknam(this.state)))},H.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},H.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=D)},H.emit=function(t){this.mode&&(this.state=u),this.onValue(t)},H.onValue=function(t){},H.onToken=function(t,e){if(this.state===D)if(t===h||t===d||t===c||t===l||t===f)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===n)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=N,this.mode=L;else if(t===o)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=M,this.state=D;else if(t===i){if(this.mode!==L)return this.parseError(t,e);this.pop()}else{if(t!==a)return this.parseError(t,e);if(this.mode!==M)return this.parseError(t,e);this.pop()}else if(this.state===N)if(t===h)this.key=e,this.state=s;else{if(t!==i)return this.parseError(t,e);this.pop()}else if(this.state===s){if(t!==s)return this.parseError(t,e);this.state=D}else{if(this.state!==u)return this.parseError(t,e);if(t===u)this.mode===M?(this.key++,this.state=D):this.mode===L&&(this.state=N);else{if(!(t===a&&this.mode===M||t===i&&this.mode===L))return this.parseError(t,e);this.pop()}}},z.C=r,t.exports=z}).call(this,r("b639").Buffer)},c154:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordIncluded=void 0;const n=r("e6e5"),i=r("f232");class o extends i.EntryHandlerKeyword{constructor(){super("@included")}async handle(t,e,r,i,o,a){"object"!==typeof o&&t.emitError(new n.ErrorCoded(`Found illegal @included '${o}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE));const s=await e.unaliasKeywords(o,i,a,await t.getContext(i));"@value"in s&&t.emitError(new n.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in s&&t.emitError(new n.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_INCLUDED_VALUE)),t.emittedStack[a]=!1}}e.EntryHandlerKeywordIncluded=o},c20d:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r("72aa"),e),i(r("c3f4"),e)},c28b:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordUnknownFallback=void 0;const n=r("e6e5");class i{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,i,o){const a=await e.unaliasKeyword(r[i],r,i);return!!n.Util.isPotentialKeyword(a)&&!(!o&&"@list"===a)}async test(t,e,r,i,o){return n.Util.isPotentialKeyword(r)}async handle(t,e,r,o,a,s){const u=i.VALID_KEYWORDS_TYPES[r];void 0!==u?u&&typeof a!==u.type&&t.emitError(new n.ErrorCoded(`Invalid value type for '${r}' with value '${a}'`,u.errorCode)):t.strictValues&&t.emitError(new Error(`Unknown keyword '${r}' with value '${a}'`)),t.emittedStack[s]=!1}}e.EntryHandlerKeywordUnknownFallback=i,i.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:n.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:n.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null}},c2ae:function(t,e,r){t.exports=r("e372").PassThrough},c317:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordId=void 0;const n=r("e6e5"),i=r("f232");class o extends i.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(t,e,r,i,o,a){"string"!==typeof o&&t.emitError(new n.ErrorCoded(`Found illegal @id '${o}'`,n.ERROR_CODES.INVALID_ID_VALUE));const s=await e.getPropertiesDepth(i,a);void 0!==t.idStack[s]&&(t.idStack[s][0].listHead?t.emitError(new n.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${i[a-1]}'`,n.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):t.emitError(new n.ErrorCoded(`Found duplicate @ids '${t.idStack[s][0].value}' and '${o}'`,n.ERROR_CODES.COLLIDING_KEYWORDS))),t.idStack[s]=e.nullableTermToArray(await e.resourceToTerm(await t.getContext(i),o))}}e.EntryHandlerKeywordId=o},c3f4:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const n=r("e6e5");class i{static termToValue(t,e,r={compactIds:!1,useNativeTypes:!1}){switch(t.termType){case"NamedNode":const a=e.compactIri(t.value,r.vocab);return r.compactIds?a:{"@id":a};case"DefaultGraph":return r.compactIds?t.value:{"@id":t.value};case"BlankNode":const s="_:"+t.value;return r.compactIds?s:{"@id":s};case"Literal":if(t.datatype.value===i.RDF_JSON){let e;try{e=JSON.parse(t.value)}catch(o){throw new n.ErrorCoded("Invalid JSON literal: "+o.message,n.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":e,"@type":"@json"}}if("i18n-datatype"===r.rdfDirection&&t.datatype.value.startsWith(i.I18N)){const[e,r]=t.datatype.value.substr(i.I18N.length,t.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":t.value},e?{"@language":e}:{}),r?{"@direction":r}:{})}const u=t.datatype.value===i.XSD_STRING,c={"@value":!u&&r.useNativeTypes?i.stringToNativeType(t.value,t.datatype.value):t.value};return t.language?Object.assign(Object.assign({},c),{"@language":t.language}):u||"string"!==typeof c["@value"]?c:Object.assign(Object.assign({},c),{"@type":t.datatype.value})}}static stringToNativeType(t,e){if(e.startsWith(i.XSD)){const r=e.substr(i.XSD.length);switch(r){case"boolean":if("true"===t)return!0;if("false"===t)return!1;throw new Error(`Invalid xsd:boolean value '${t}'`);case"integer":case"number":case"int":case"byte":case"long":const e=parseInt(t,10);if(isNaN(e))throw new Error(`Invalid xsd:integer value '${t}'`);return e;case"float":case"double":const r=parseFloat(t);if(isNaN(r))throw new Error(`Invalid xsd:float value '${t}'`);return r}}return t}}e.Util=i,i.XSD="http://www.w3.org/2001/XMLSchema#",i.XSD_STRING=i.XSD+"string",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i.RDF_TYPE=i.RDF+"type",i.RDF_JSON=i.RDF+"JSON",i.I18N="https://www.w3.org/ns/i18n#"},c430:function(t,e){t.exports=!1},c513:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r("7096"),e),i(r("13f1"),e),i(r("3e6b"),e),i(r("8ce0"),e),i(r("9935"),e),i(r("8026"),e),i(r("a22a"),e)},c64a:function(t,e,r){"use strict";function n(t){t.setImmediate=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return setTimeout((function(){return t.apply(void 0,r)}),0)},t.clearImmediate=function(){return clearTimeout.apply(void 0,arguments)}}r.d(e,"a",(function(){return n}))},c6b6:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},c6cd:function(t,e,r){var n=r("da84"),i=r("ce4e"),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},c7e2:function(t,e,r){"use strict";(function(e){var r=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i=/\s|\uFEFF|\xA0/,o=/\r?\n[\x20\x09]+/g,a=/[;,"]/,s=/[;,"]|\s/,u=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,c={IDLE:1,URI:2,ATTR:4};function l(t){return t.replace(n,"")}function f(t){return i.test(t)}function h(t,e){while(f(t[e]))e++;return e}function d(t){return s.test(t)||!u.test(t)}class p{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var e=[],r=t.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&e.push(this.refs[n]);return e}get(t,e){t=t.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][t]===e&&r.push(this.refs[n]);return r}set(t){return this.refs.push(t),this}has(t,e){t=t.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][t]===e)return!0;return!1}parse(t,e){e=e||0,t=e?t.slice(e):t,t=l(t).replace(o,"");var r=c.IDLE,n=t.length,i=(e=0,null);while(e<n)if(r===c.IDLE){if(f(t[e])){e++;continue}if("<"!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);null!=i&&(null!=i.rel?this.refs.push(...p.expandRelations(i)):this.refs.push(i));var s=t.indexOf(">",e);if(-1===s)throw new Error("Expected end of URI delimiter at offset "+e);i={uri:t.slice(e+1,s)},e=s,r=c.URI,e++}else if(r===c.URI){if(f(t[e])){e++;continue}if(";"===t[e])r=c.ATTR,e++;else{if(","!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);r=c.IDLE,e++}}else{if(r!==c.ATTR)throw new Error('Unknown parser state "'+r+'"');if(";"===t[e]||f(t[e])){e++;continue}s=t.indexOf("=",e);if(-1===s)throw new Error("Expected attribute delimiter at offset "+e);var u=l(t.slice(e,s)).toLowerCase(),d="";if(e=s+1,e=h(t,e),'"'===t[e]){e++;while(e<n){if('"'===t[e]){e++;break}"\\"===t[e]&&e++,d+=t[e],e++}}else{s=e+1;while(!a.test(t[s])&&s<n)s++;d=t.slice(e,s),e=s}switch(i[u]&&p.isSingleOccurenceAttr(u)||("*"===u[u.length-1]?i[u]=p.parseExtendedValue(d):(d="type"===u?d.toLowerCase():d,null!=i[u]?Array.isArray(i[u])?i[u].push(d):i[u]=[i[u],d]:i[u]=d)),t[e]){case",":r=c.IDLE;break;case";":r=c.ATTR;break}e++}return null!=i&&(null!=i.rel?this.refs.push(...p.expandRelations(i)):this.refs.push(i)),i=null,this}toString(){for(var t=[],e="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],e=Object.keys(this.refs[n]).reduce((function(t,e){return"uri"===e?t:t+"; "+p.formatAttribute(e,r[e])}),"<"+r.uri+">"),t.push(e);return t.join(", ")}}p.isCompatibleEncoding=function(t){return r.test(t)},p.parse=function(t,e){return(new p).parse(t,e)},p.isSingleOccurenceAttr=function(t){return"rel"===t||"type"===t||"media"===t||"title"===t||"title*"===t},p.isTokenAttr=function(t){return"rel"===t||"type"===t||"anchor"===t},p.escapeQuotes=function(t){return t.replace(/"/g,'\\"')},p.expandRelations=function(t){var e=t.rel.split(" ");return e.map((function(e){var r=Object.assign({},t);return r.rel=e,r}))},p.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']+)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:p.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:p.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}},p.formatExtendedAttribute=function(t,r){var n=(r.encoding||"utf-8").toUpperCase(),i=r.language||"en",o="";return o=e.isBuffer(r.value)&&p.isCompatibleEncoding(n)?r.value.toString(n):e.isBuffer(r.value)?r.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(r.value),t+"="+n+"'"+i+"'"+o},p.formatAttribute=function(t,e){return Array.isArray(e)?e.map(e=>p.formatAttribute(t,e)).join("; "):"*"===t[t.length-1]||"string"!==typeof e?p.formatExtendedAttribute(t,e):(p.isTokenAttr(t)?e=d(e)?'"'+p.escapeQuotes(e)+'"':p.escapeQuotes(e):d(e)&&(e=encodeURIComponent(e),e=e.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),e='"'+e+'"'),t+"="+e)},t.exports=p}).call(this,r("b639").Buffer)},c826:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextTree=void 0;class n{constructor(){this.subTrees={}}getContext(t){if(t.length>0){const[e,...r]=t,n=this.subTrees[e];if(n){const t=n.getContext(r);if(t)return t.then(({context:t,depth:e})=>({context:t,depth:e+1}))}}return this.context?this.context.then(t=>({context:t,depth:0})):null}setContext(t,e){if(0===t.length)this.context=e;else{const[r,...i]=t;let o=this.subTrees[r];o||(o=this.subTrees[r]=new n),o.setContext(i,e)}}removeContext(t){this.setContext(t,null)}}e.ContextTree=n},c8ba:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}t.exports=r},c8d2:function(t,e,r){var n=r("d039"),i=r("5899"),o="​᠎";t.exports=function(t){return n((function(){return!!i[t]()||o[t]()!=o||i[t].name!==t}))}},c964:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("d3b7"),r("e6cf");function n(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,u,"next",t)}function u(t){n(a,i,o,s,u,"throw",t)}s(void 0)}))}}},c975:function(t,e,r){"use strict";var n=r("23e7"),i=r("4d64").indexOf,o=r("a640"),a=r("ae40"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(t){return u?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},c9fc:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIdentifier=void 0;class n{canCombineWithGraph(){return!0}async handle(t,e,r,n,i,o){let a;if(e.emittedStack[o+1]&&e.idStack[o+1])a=e.idStack[o+1][0];else{const t=await r.getContainerKey(n[o],n,o),i=null!==t?await r.resourceToTerm(await e.getContext(n),n[o]):r.dataFactory.blankNode();if(!i)return void(e.emittedStack[o]=!1);a=i,e.idStack[o+1]=[a]}let s=e.idStack[o];s||(s=e.idStack[o]=[]),s.some(t=>t.equals(a))||s.push(a),await e.handlePendingContainerFlushBuffers()||(e.emittedStack[o]=!1)}}e.ContainerHandlerIdentifier=n},ca84:function(t,e,r){var n=r("5135"),i=r("fc6a"),o=r("4d64").indexOf,a=r("d012");t.exports=function(t,e){var r,s=i(t),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);while(e.length>u)n(s,r=e[u++])&&(~o(c,r)||c.push(r));return c}},caad:function(t,e,r){"use strict";var n=r("23e7"),i=r("4d64").includes,o=r("44d2"),a=r("ae40"),s=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!s},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cc12:function(t,e,r){var n=r("da84"),i=r("861d"),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},cd34:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("b0c0"),r("96cf");var n=r("c964"),i=r("276c"),o=r("e954"),a=function(){function t(e,r){Object(i["a"])(this,t),this.name=e,this.avatarUrl=r}return Object(o["a"])(t,[{key:"resolveMediaContainers",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getCachedMoviesContainer();case 2:if(e=t.sent,t.t0=e,t.t0){t.next=8;break}return t.next=7,this.initMoviesContainer();case 7:t.t0=t.sent;case 8:return t.t1=t.t0,t.abrupt("return",{movies:t.t1});case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),t}()},cdf9:function(t,e,r){var n=r("825a"),i=r("861d"),o=r("f069");t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t),a=r.resolve;return a(e),r.promise}},ce4e:function(t,e,r){var n=r("da84"),i=r("9112");t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,r){var n=r("428f"),i=r("da84"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},d0af:function(t,e,r){"use strict";function n(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return s}));r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),e&&r.length===e)break}catch(u){i=!0,o=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw o}}return r}}var o=r("dde1");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return n(t)||i(t,e)||Object(o["a"])(t,e)||a()}},d0ff:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r("b680");function i(t){if(Array.isArray(t))return Object(n["a"])(t)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var a=r("dde1");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return i(t)||o(t)||Object(a["a"])(t)||s()}},d17b:function(t,e,r){t.exports=r("e372").Transform},d1e7:function(t,e,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},d28b:function(t,e,r){var n=r("746f");n("iterator")},d2bb:function(t,e,r){var n=r("825a"),i=r("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(r,[]),e=r instanceof Array}catch(o){}return function(r,o){return n(r),i(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},d3b7:function(t,e,r){var n=r("00ee"),i=r("6eeb"),o=r("b041");n||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(t,e,r){var n=r("9bf2").f,i=r("5135"),o=r("b622"),a=o("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},d485:function(t,e,r){t.exports=o;var n=r("faa1").EventEmitter,i=r("3fb5");function o(){n.call(this)}i(o,n),o.Readable=r("e372"),o.Writable=r("2c63"),o.Duplex=r("0960"),o.Transform=r("d17b"),o.PassThrough=r("c2ae"),o.Stream=o,o.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"===typeof t.destroy&&t.destroy())}function c(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("error",c),t.on("error",c),r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}},d58f:function(t,e,r){var n=r("1c0b"),i=r("7b0b"),o=r("44ad"),a=r("50c4"),s=function(t){return function(e,r,s,u){n(r);var c=i(e),l=o(c),f=a(c.length),h=t?f-1:0,d=t?-1:1;if(s<2)while(1){if(h in l){u=l[h],h+=d;break}if(h+=d,t?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:f>h;h+=d)h in l&&(u=r(u,l[h],h,c));return u}};t.exports={left:s(!1),right:s(!0)}},d685:function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"FunctionToString",(function(){return nt})),r.d(n,"InboundFilters",(function(){return at}));r("e870"),r("99af"),r("4de4"),r("0481"),r("caad"),r("d81d"),r("4069"),r("d3b7"),r("2532"),r("3ca3"),r("ddb0"),r("a4d3"),r("e01a"),r("d28b"),r("e260");var i=r("dde1");function o(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(i["a"])(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}var a=r("d0ff"),s=r("f3f3"),u=(r("96cf"),r("c964")),c=r("276c"),l=r("e954"),f=r("92a6"),h=r("920b"),d=r("2197"),p=r("d709"),v=r("dfab"),y=r.n(v),g=r("ddbf"),b=r.n(g);b.a.loadModels(Object(g["definitionsFromContext"])(r("23ef"))),y.a.loadSolidModels();var m=r("5e9c"),w=r("6ea5"),_=r("fbd1"),x=r("191b"),E=(r("7db0"),function(){function t(){Object(c["a"])(this,t)}return Object(l["a"])(t,[{key:"set",value:function(t,e){"undefined"===typeof e&&(e="__undefined__"),localStorage.setItem(t,JSON.stringify(e))}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=localStorage.getItem(t);return null===r?e:"__undefined__"!==r?JSON.parse(r):void 0}},{key:"has",value:function(t){return null!==localStorage.getItem(t)}},{key:"remove",value:function(t){localStorage.removeItem(t)}},{key:"pull",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.has(t))return e;var r=this.get(t);return this.remove(t),r}}]),t}()),S=new E,O=r("b0d7"),I=r("cd34"),R=function(t){Object(h["a"])(r,t);var e=Object(f["a"])(r);function r(){return Object(c["a"])(this,r),e.call(this,"Browser Storage",null)}return Object(l["a"])(r,null,[{key:"isLoggedIn",value:function(){return S.get("media-kraken-offline-user",!1)}},{key:"isOfflineUserJSON",value:function(t){return"offline"in t&&t.offline}}]),Object(l["a"])(r,[{key:"login",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:S.set("media-kraken-offline-user",!0);case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=b.a.engine,!b.a.engine){t.next=4;break}return t.next=4,e.purgeDatabase();case 4:S.remove("media-kraken-offline-user");case 5:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"initSoukaiEngine",value:function(){b.a.useEngine(new g["IndexedDBEngine"]("media-kraken"))}},{key:"toJSON",value:function(){return{offline:!0}}},{key:"getCachedMoviesContainer",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"initMoviesContainer",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O["default"].find("browser-storage://movies/");case 2:return e=t.sent,t.abrupt("return",e||O["default"].at("browser-storage://").create({name:"Movies"}));case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),r}(I["a"]),j=function(){function t(){Object(c["a"])(this,t)}return Object(l["a"])(t,[{key:"parse",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!_["a"].isSolidUserJSON(e)){t.next=2;break}return t.abrupt("return",_["a"].fromJSON(e));case 2:if(!R.isOfflineUserJSON(e)){t.next=4;break}return t.abrupt("return",new R);case 4:throw new Error("Invalid User JSON");case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),k=new j,T=(r("b0c0"),r("25f0"),r("4160"),r("159b"),r("2b3d"),r("9ab4")),A=r("f7f6"),C=Object(A["f"])(),P="Sentry Logger ",D=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(A["c"])((function(){C.console.log(P+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(A["c"])((function(){C.console.warn(P+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(A["c"])((function(){C.console.error(P+"[Error]: "+t.join(" "))}))},t}();C.__SENTRY__=C.__SENTRY__||{};var N,L=C.__SENTRY__.logger||(C.__SENTRY__.logger=new D),M=r("f404");(function(t){t["PENDING"]="PENDING",t["RESOLVED"]="RESOLVED",t["REJECTED"]="REJECTED"})(N||(N={}));var U=function(){function t(t){var e=this;this._state=N.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(N.RESOLVED,t)},this._reject=function(t){e._setResult(N.REJECTED,t)},this._setResult=function(t,r){e._state===N.PENDING&&(Object(M["m"])(r)?r.then(e._resolve,e._reject):(e._state=t,e._value=r,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==N.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===N.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===N.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}return t.prototype.toString=function(){return"[object SyncPromise]"},t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,r){r(e)}))},t.all=function(e){return new t((function(r,n){if(Array.isArray(e))if(0!==e.length){var i=e.length,o=[];e.forEach((function(e,a){t.resolve(e).then((function(t){o[a]=t,i-=1,0===i&&r(o)})).then(null,n)}))}else r([]);else n(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,r){var n=this;return new t((function(t,i){n._attachHandler({done:!1,onfulfilled:function(r){if(e)try{return void t(e(r))}catch(n){return void i(n)}else t(r)},onrejected:function(e){if(r)try{return void t(r(e))}catch(n){return void i(n)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var r=this;return new t((function(t,n){var i,o;return r.then((function(t){o=!1,i=t,e&&e()}),(function(t){o=!0,i=t,e&&e()})).then((function(){o?n(i):t(i)}))}))},t}(),F=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){t._scopeListeners.forEach((function(e){e(t)})),t._notifyingListeners=!1})))},t.prototype._notifyEventProcessors=function(t,e,r,n){var i=this;return void 0===n&&(n=0),new U((function(o,a){var s=t[n];if(null===e||"function"!==typeof s)o(e);else{var u=s(T["a"]({},e),r);Object(M["m"])(u)?u.then((function(e){return i._notifyEventProcessors(t,e,r,n+1).then(o)})).then(null,a):i._notifyEventProcessors(t,u,r,n+1).then(o).then(null,a)}}))},t.prototype.setUser=function(t){return this._user=t||{},this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=T["a"]({},this._tags,t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var r;return this._tags=T["a"]({},this._tags,(r={},r[t]=e,r)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=T["a"]({},this._extra,t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var r;return this._extra=T["a"]({},this._extra,(r={},r[t]=e,r)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var r;return this._contexts=T["a"]({},this._contexts,(r={},r[t]=e,r)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();if(t&&t.spanRecorder&&t.spanRecorder.spans[0])return t.spanRecorder.spans[0]},t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=T["d"](e._breadcrumbs),r._tags=T["a"]({},e._tags),r._extra=T["a"]({},e._extra),r._contexts=T["a"]({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=T["d"](e._eventProcessors)),r},t.prototype.update=function(e){if(!e)return this;if("function"===typeof e){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=T["a"]({},this._tags,e._tags),this._extra=T["a"]({},this._extra,e._extra),this._contexts=T["a"]({},this._contexts,e._contexts),e._user&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(M["h"])(e)&&(e=e,this._tags=T["a"]({},this._tags,e.tags),this._extra=T["a"]({},this._extra,e.extra),this._contexts=T["a"]({},this._contexts,e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var r=T["a"]({timestamp:Object(A["l"])()},t);return this._breadcrumbs=void 0!==e&&e>=0?T["d"](this._breadcrumbs,[r]).slice(-e):T["d"](this._breadcrumbs,[r]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=T["a"]({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=T["a"]({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=T["a"]({},this._user,t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=T["a"]({},this._contexts,t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span&&(t.contexts=T["a"]({trace:this._span.getTraceContext()},t.contexts)),this._applyFingerprint(t),t.breadcrumbs=T["d"](t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(T["d"](B(),this._eventProcessors),t,e)},t}();function B(){var t=Object(A["f"])();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function V(t){B().push(t)}var q,G=3,$=100,J=100,z=function(){function t(t,e,r){void 0===e&&(e=new F),void 0===r&&(r=G),this._version=r,this._stack=[],this._stack.push({client:t,scope:e}),this.bindClient(t)}return t.prototype._invokeClient=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.getStackTop();i&&i.client&&i.client[t]&&(e=i.client)[t].apply(e,T["d"](r,[i.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){var e=this.getStackTop();e.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=this.getStack(),e=t.length>0?t[t.length-1].scope:void 0,r=F.clone(e);return this.getStack().push({client:this.getClient(),scope:r}),r},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var r=this._lastEventId=Object(A["m"])(),n=e;if(!e){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(t){i=t}n={originalException:t,syntheticException:i}}return this._invokeClient("captureException",t,T["a"]({},n,{event_id:r})),r},t.prototype.captureMessage=function(t,e,r){var n=this._lastEventId=Object(A["m"])(),i=r;if(!r){var o=void 0;try{throw new Error(t)}catch(a){o=a}i={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,e,T["a"]({},i,{event_id:n})),n},t.prototype.captureEvent=function(t,e){var r=this._lastEventId=Object(A["m"])();return this._invokeClient("captureEvent",t,T["a"]({},e,{event_id:r})),r},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var r=this.getStackTop();if(r.scope&&r.client){var n=r.client.getOptions&&r.client.getOptions()||{},i=n.beforeBreadcrumb,o=void 0===i?null:i,a=n.maxBreadcrumbs,s=void 0===a?$:a;if(!(s<=0)){var u=Object(A["l"])(),c=T["a"]({timestamp:u},t),l=o?Object(A["c"])((function(){return o(c,e)})):c;null!==l&&r.scope.addBreadcrumb(l,Math.min(s,J))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var r=this.getStackTop();r.scope&&r.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var r=this.getStackTop();r.scope&&r.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var r=this.getStackTop();r.scope&&r.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=K(this);try{t(this)}finally{K(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(r){return L.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t){return this._callExtensionMethod("startTransaction",t)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype._callExtensionMethod=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=H(),i=n.__SENTRY__;if(i&&i.extensions&&"function"===typeof i.extensions[t])return i.extensions[t].apply(this,e);L.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function H(){var t=Object(A["f"])();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function K(t){var e=H(),r=X(e);return Z(e,t),r}function W(){var t=H();return Q(t)&&!X(t).isOlderThan(G)||Z(t,new z),Object(A["i"])()?Y(t):X(t)}function Y(t){try{var e="domain",r=H(),n=r.__SENTRY__;if(!n||!n.extensions||!n.extensions[e])return X(t);var i=n.extensions[e],o=i.active;if(!o)return X(t);if(!Q(o)||X(o).isOlderThan(G)){var a=X(t).getStackTop();Z(o,new z(a.client,F.clone(a.scope)))}return X(o)}catch(s){return X(t)}}function Q(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function X(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new z),t.__SENTRY__.hub}function Z(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function tt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=W();if(n&&n[t])return n[t].apply(n,T["d"](e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function et(t,e){var r;try{throw new Error("Sentry syntheticException")}catch(t){r=t}return tt("captureException",t,{captureContext:e,originalException:t,syntheticException:r})}function rt(t){tt("withScope",t)}var nt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){q=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.__sentry_original__||this;return q.apply(r,t)}},t.id="FunctionToString",t}(),it=r("fbdd"),ot=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],at=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){V((function(e){var r=W();if(!r)return e;var n=r.getIntegration(t);if(n){var i=r.getClient(),o=i?i.getOptions():{},a=n._mergeOptions(o);if(n._shouldDropEvent(e,a))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(L.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(A["d"])(t)),!0):this._isIgnoredError(t,e)?(L.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(A["d"])(t)),!0):this._isDeniedUrl(t,e)?(L.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(A["d"])(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(L.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(A["d"])(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(r){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return Object(it["a"])(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var r=this._getEventFilterUrl(t);return!!r&&e.denyUrls.some((function(t){return Object(it["a"])(r,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var r=this._getEventFilterUrl(t);return!r||e.allowUrls.some((function(t){return Object(it["a"])(r,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:T["d"](this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:T["d"](this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:T["d"](this._options.ignoreErrors||[],t.ignoreErrors||[],ot),ignoreInternal:"undefined"===typeof this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},r=e.type,n=void 0===r?"":r,i=e.value,o=void 0===i?"":i;return[""+o,n+": "+o]}catch(a){return L.error("Cannot extract message for event "+Object(A["d"])(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var r=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return r&&r[r.length-1].filename||null}return null}catch(n){return L.error("Cannot extract url for event "+Object(A["d"])(t)),null}},t.id="InboundFilters",t}();function st(t,e){!0===e.debug&&L.enable();var r=W(),n=new t(e);r.bindClient(n)}var ut=Object.setPrototypeOf||({__proto__:[]}instanceof Array?ct:lt);function ct(t,e){return t.__proto__=e,t}function lt(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}var ft=function(t){function e(e){var r=this.constructor,n=t.call(this,e)||this;return n.message=e,n.name=r.prototype.constructor.name,ut(n,r.prototype),n}return T["b"](e,t),e}(Error),ht=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,dt="Invalid Dsn",pt=function(){function t(t){"string"===typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,r=e.host,n=e.path,i=e.pass,o=e.port,a=e.projectId,s=e.protocol,u=e.user;return s+"://"+u+(t&&i?":"+i:"")+"@"+r+(o?":"+o:"")+"/"+(n?n+"/":n)+a},t.prototype._fromString=function(t){var e=ht.exec(t);if(!e)throw new ft(dt);var r=T["c"](e.slice(1),6),n=r[0],i=r[1],o=r[2],a=void 0===o?"":o,s=r[3],u=r[4],c=void 0===u?"":u,l=r[5],f="",h=l,d=h.split("/");if(d.length>1&&(f=d.slice(0,-1).join("/"),h=d.pop()),h){var p=h.match(/^\d+/);p&&(h=p[0])}this._fromComponents({host:s,pass:a,path:f,projectId:h,port:c,protocol:n,user:i})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new ft(dt+": "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new ft(dt+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new ft(dt+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new ft(dt+": Invalid port "+this.port)},t}(),vt=r("e8f5"),yt=[];function gt(t){var e=t.defaultIntegrations&&T["d"](t.defaultIntegrations)||[],r=t.integrations,n=[];if(Array.isArray(r)){var i=r.map((function(t){return t.name})),o=[];e.forEach((function(t){-1===i.indexOf(t.name)&&-1===o.indexOf(t.name)&&(n.push(t),o.push(t.name))})),r.forEach((function(t){-1===o.indexOf(t.name)&&(n.push(t),o.push(t.name))}))}else"function"===typeof r?(n=r(e),n=Array.isArray(n)?n:[n]):n=T["d"](e);var a=n.map((function(t){return t.name})),s="Debug";return-1!==a.indexOf(s)&&n.push.apply(n,T["d"](n.splice(a.indexOf(s),1))),n}function bt(t){-1===yt.indexOf(t.name)&&(t.setupOnce(V,W),yt.push(t.name),L.log("Integration installed: "+t.name))}function mt(t){var e={};return gt(t).forEach((function(t){e[t.name]=t,bt(t)})),e}var wt,_t=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new pt(e.dsn))}return t.prototype.captureException=function(t,e,r){var n=this,i=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then((function(t){i=n.captureEvent(t,e,r)})),i},t.prototype.captureMessage=function(t,e,r,n){var i=this,o=r&&r.event_id;this._processing=!0;var a=Object(M["i"])(t)?this._getBackend().eventFromMessage(""+t,e,r):this._getBackend().eventFromException(t,r);return a.then((function(t){o=i.captureEvent(t,r,n)})),o},t.prototype.captureEvent=function(t,e,r){var n=this,i=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,r).then((function(t){i=t&&t.event_id,n._processing=!1})).then(null,(function(t){L.error(t),n._processing=!1})),i},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(r){return clearInterval(r.interval),e._getBackend().getTransport().close(t).then((function(t){return r.ready&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=mt(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return L.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new U((function(r){var n=0,i=1,o=0;clearInterval(o),o=setInterval((function(){e._processing?(n+=i,t&&n>=t&&r({interval:o,ready:!1})):r({interval:o,ready:!0})}),i)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,r){var n=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,a=T["a"]({},t,{event_id:t.event_id||(r&&r.event_id?r.event_id:Object(A["m"])()),timestamp:t.timestamp||Object(A["l"])()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=e;r&&r.captureContext&&(s=F.clone(s).update(r.captureContext));var u=U.resolve(a);return s&&(u=s.applyToEvent(a,r)),u.then((function(t){return"number"===typeof o&&o>0?n._normalizeEvent(t,o):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var r=T["a"]({},t,t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return T["a"]({},t,t.data&&{data:Object(vt["c"])(t.data,e)})}))},t.user&&{user:Object(vt["c"])(t.user,e)},t.contexts&&{contexts:Object(vt["c"])(t.contexts,e)},t.extra&&{extra:Object(vt["c"])(t.extra,e)});return t.contexts&&t.contexts.trace&&(r.contexts.trace=t.contexts.trace),r},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),r=e.environment,n=e.release,i=e.dist,o=e.maxValueLength,a=void 0===o?250:o;void 0===t.environment&&void 0!==r&&(t.environment=r),void 0===t.release&&void 0!==n&&(t.release=n),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=Object(it["d"])(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Object(it["d"])(s.value,a));var u=t.request;u&&u.url&&(u.url=Object(it["d"])(u.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,r=Object.keys(this._integrations);e&&r.length>0&&(e.integrations=r)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._processEvent=function(t,e,r){var n=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;if(!this._isEnabled())return U.reject("SDK not enabled, will not send event.");var s="transaction"===t.type;return!s&&"number"===typeof a&&Math.random()>a?U.reject("This event has been sampled, will not send event."):new U((function(i,a){n._prepareEvent(t,r,e).then((function(t){if(null!==t){var r=t,u=e&&e.data&&!0===e.data.__sentry__;if(u||!o||s)return n._sendEvent(r),void i(r);var c=o(t,e);if("undefined"===typeof c)L.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(M["m"])(c))n._handleAsyncBeforeSend(c,i,a);else{if(r=c,null===r)return L.log("`beforeSend` returned `null`, will not send event."),void i(null);n._sendEvent(r),i(r)}}else a("An event processor returned null, will not send event.")})).then(null,(function(t){n.captureException(t,{data:{__sentry__:!0},originalException:t}),a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))}))},t.prototype._handleAsyncBeforeSend=function(t,e,r){var n=this;t.then((function(t){null!==t?(n._sendEvent(t),e(t)):r("`beforeSend` returned `null`, will not send event.")})).then(null,(function(t){r("beforeSend rejected with "+t)}))},t}();(function(t){t["Unknown"]="unknown",t["Skipped"]="skipped",t["Success"]="success",t["RateLimit"]="rate_limit",t["Invalid"]="invalid",t["Failed"]="failed"})(wt||(wt={})),function(t){function e(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}t.fromHttpCode=e}(wt||(wt={}));var xt,Et=function(){function t(){}return t.prototype.sendEvent=function(t){return U.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:wt.Skipped})},t.prototype.close=function(t){return U.resolve(!0)},t}(),St=function(){function t(t){this._options=t,this._options.dsn||L.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype._setupTransport=function(){return new Et},t.prototype.eventFromException=function(t,e){throw new ft("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,r){throw new ft("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){L.error("Error while sending event: "+t)}))},t.prototype.getTransport=function(){return this._transport},t}();function Ot(){if(!("fetch"in Object(A["f"])()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function It(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Rt(){if(!Ot())return!1;var t=Object(A["f"])();if(It(t.fetch))return!0;var e=!1,r=t.document;if(r&&"function"===typeof r.createElement)try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=It(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){L.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function jt(){if(!Ot())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function kt(){var t=Object(A["f"])(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}(function(t){t["Fatal"]="fatal",t["Error"]="error",t["Warning"]="warning",t["Log"]="log",t["Info"]="info",t["Debug"]="debug",t["Critical"]="critical"})(xt||(xt={})),function(t){function e(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}t.fromString=e}(xt||(xt={}));var Tt="?",At=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ct=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Pt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Dt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Nt=/\((\S*)(?::(\d+))(?::(\d+))\)/,Lt=/Minified React error #\d+;/i;function Mt(t){var e=null,r=0;t&&("number"===typeof t.framesToPop?r=t.framesToPop:Lt.test(t.message)&&(r=1));try{if(e=Ft(t),e)return Bt(e,r)}catch(n){}try{if(e=Ut(t),e)return Bt(e,r)}catch(n){}return{message:Vt(t),name:t&&t.name,stack:[],failed:!0}}function Ut(t){if(!t||!t.stack)return null;for(var e,r,n,i,o=[],a=t.stack.split("\n"),s=0;s<a.length;++s){if(n=At.exec(a[s])){var u=n[2]&&0===n[2].indexOf("native");e=n[2]&&0===n[2].indexOf("eval"),e&&(r=Nt.exec(n[2]))&&(n[2]=r[1],n[3]=r[2],n[4]=r[3]),i={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||Tt,args:u?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Pt.exec(a[s]))i={url:n[2],func:n[1]||Tt,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Ct.exec(a[s])))continue;e=n[3]&&n[3].indexOf(" > eval")>-1,e&&(r=Dt.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]=""):0!==s||n[5]||void 0===t.columnNumber||(o[0].column=t.columnNumber+1),i={url:n[3],func:n[1]||Tt,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func=Tt),o.push(i)}return o.length?{message:Vt(t),name:t.name,stack:o}:null}function Ft(t){if(!t||!t.stacktrace)return null;for(var e,r=t.stacktrace,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=r.split("\n"),a=[],s=0;s<o.length;s+=2){var u=null;(e=n.exec(o[s]))?u={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=i.exec(o[s]))&&(u={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),u&&(!u.func&&u.line&&(u.func=Tt),a.push(u))}return a.length?{message:Vt(t),name:t.name,stack:a}:null}function Bt(t,e){try{return T["a"]({},t,{stack:t.stack.slice(e)})}catch(r){return t}}function Vt(t){var e=t&&t.message;return e?e.error&&"string"===typeof e.error.message?e.error.message:e:"No error message"}var qt=50;function Gt(t){var e=zt(t.stack),r={type:t.name,value:t.message};return e&&e.length&&(r.stacktrace={frames:e}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function $t(t,e,r){var n={exception:{values:[{type:Object(M["f"])(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+Object(vt["a"])(t)}]},extra:{__serialized__:Object(vt["d"])(t)}};if(e){var i=Mt(e),o=zt(i.stack);n.stacktrace={frames:o}}return n}function Jt(t){var e=Gt(t);return{exception:{values:[e]}}}function zt(t){if(!t||!t.length)return[];var e=t,r=e[0].func||"",n=e[e.length-1].func||"";return-1===r.indexOf("captureMessage")&&-1===r.indexOf("captureException")||(e=e.slice(1)),-1!==n.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,qt).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function Ht(t,e,r){var n=r&&r.syntheticException||void 0,i=Wt(e,n,{attachStacktrace:t.attachStacktrace});return Object(A["a"])(i,{handled:!0,type:"generic"}),i.level=xt.Error,r&&r.event_id&&(i.event_id=r.event_id),U.resolve(i)}function Kt(t,e,r,n){void 0===r&&(r=xt.Info);var i=n&&n.syntheticException||void 0,o=Yt(e,i,{attachStacktrace:t.attachStacktrace});return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),U.resolve(o)}function Wt(t,e,r){var n;if(void 0===r&&(r={}),Object(M["e"])(t)&&t.error){var i=t;return t=i.error,n=Jt(Mt(t)),n}if(Object(M["a"])(t)||Object(M["b"])(t)){var o=t,a=o.name||(Object(M["a"])(o)?"DOMError":"DOMException"),s=o.message?a+": "+o.message:a;return n=Yt(s,e,r),Object(A["b"])(n,s),n}if(Object(M["d"])(t))return n=Jt(Mt(t)),n;if(Object(M["h"])(t)||Object(M["f"])(t)){var u=t;return n=$t(u,e,r.rejection),Object(A["a"])(n,{synthetic:!0}),n}return n=Yt(t,e,r),Object(A["b"])(n,""+t,void 0),Object(A["a"])(n,{synthetic:!0}),n}function Yt(t,e,r){void 0===r&&(r={});var n={message:t};if(r.attachStacktrace&&e){var i=Mt(e),o=zt(i.stack);n.stacktrace={frames:o}}return n}function Qt(t,e){var r="transaction"===t.type,n={body:JSON.stringify(t),url:r?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(r){var i=JSON.stringify({event_id:t.event_id,sent_at:new Date(1e3*Object(A["l"])()).toISOString()}),o=JSON.stringify({type:t.type}),a=i+"\n"+o+"\n"+n.body;n.body=a}return n}var Xt="7",Zt=function(){function t(t){this.dsn=t,this._dsnObject=new pt(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",r=t.port?":"+t.port:"";return e+"//"+t.host+r+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){var e=this.getBaseApiEndpoint(),r=this._dsnObject;return""+e+r.projectId+"/"+t+"/"},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype._encodedAuth=function(){var t=this._dsnObject,e={sentry_key:t.user,sentry_version:Xt};return Object(vt["e"])(e)},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var r=this._dsnObject,n=["Sentry sentry_version="+Xt];return n.push("sentry_client="+t+"/"+e),n.push("sentry_key="+r.user),r.pass&&n.push("sentry_secret="+r.pass),{"Content-Type":"application/json","X-Sentry-Auth":n.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,r=this.getBaseApiEndpoint()+"embed/error-page/",n=[];for(var i in n.push("dsn="+e.toString()),t)if("user"===i){if(!t.user)continue;t.user.name&&n.push("name="+encodeURIComponent(t.user.name)),t.user.email&&n.push("email="+encodeURIComponent(t.user.email))}else n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return n.length?r+"?"+n.join("&"):r},t}(),te=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):U.reject(new ft("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){var e=this._buffer.splice(this._buffer.indexOf(t),1)[0];return e},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new U((function(r){var n=setTimeout((function(){t&&t>0&&r(!1)}),t);U.all(e._buffer).then((function(){clearTimeout(n),r(!0)})).then(null,(function(){r(!0)}))}))},t}(),ee=function(){function t(t){this.options=t,this._buffer=new te(30),this._api=new Zt(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new ft("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t}(),re=Object(A["f"])(),ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return T["b"](e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var r=Qt(t,this._api),n={body:r.body,method:"POST",referrerPolicy:jt()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(n,this.options.fetchParameters),void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(new U((function(t,i){re.fetch(r.url,n).then((function(r){var n=wt.fromHttpCode(r.status);if(n!==wt.Success){if(n===wt.RateLimit){var o=Date.now();e._disabledUntil=new Date(o+Object(A["j"])(o,r.headers.get("Retry-After"))),L.warn("Too many requests, backing off till: "+e._disabledUntil)}i(r)}else t({status:n})})).catch(i)})))},e}(ee),ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return T["b"](e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var r=Qt(t,this._api);return this._buffer.add(new U((function(t,n){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var r=wt.fromHttpCode(i.status);if(r!==wt.Success){if(r===wt.RateLimit){var o=Date.now();e._disabledUntil=new Date(o+Object(A["j"])(o,i.getResponseHeader("Retry-After"))),L.warn("Too many requests, backing off till: "+e._disabledUntil)}n(i)}else t({status:r})}},i.open("POST",r.url),e.options.headers)e.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,e.options.headers[o]);i.send(r.body)})))},e}(ee),oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T["b"](e,t),e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=T["a"]({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):Ot()?new ne(e):new ie(e)},e.prototype.eventFromException=function(t,e){return Ht(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,r){return void 0===e&&(e=xt.Info),Kt(this._options,t,e,r)},e}(St),ae=0;function se(){return ae>0}function ue(){ae+=1,setTimeout((function(){ae-=1}))}function ce(t,e,r){if(void 0===e&&(e={}),"function"!==typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(a){return t}var n=function(){var n=Array.prototype.slice.call(arguments);try{r&&"function"===typeof r&&r.apply(this,arguments);var i=n.map((function(t){return ce(t,e)}));return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(o){throw ue(),rt((function(t){t.addEventProcessor((function(t){var r=T["a"]({},t);return e.mechanism&&(Object(A["b"])(r,void 0,void 0),Object(A["a"])(r,e.mechanism)),r.extra=T["a"]({},r.extra,{arguments:n}),r})),et(o)})),o}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch(s){}t.prototype=t.prototype||{},n.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{var o=Object.getOwnPropertyDescriptor(n,"name");o.configurable&&Object.defineProperty(n,"name",{get:function(){return t.name}})}catch(s){}return n}function le(t){void 0===t&&(t={});var e=document.createElement("script");e.async=!0,e.src=new Zt(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}var fe,he=Object(A["f"])(),de={},pe={};function ve(t){if(!pe[t])switch(pe[t]=!0,t){case"console":be();break;case"dom":Se();break;case"xhr":xe();break;case"fetch":me();break;case"history":Ee();break;case"error":Ce();break;case"unhandledrejection":De();break;default:L.warn("unknown instrumentation type:",t)}}function ye(t){t&&"string"===typeof t.type&&"function"===typeof t.callback&&(de[t.type]=de[t.type]||[],de[t.type].push(t.callback),ve(t.type))}function ge(t,e){var r,n;if(t&&de[t])try{for(var i=T["e"](de[t]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e)}catch(s){L.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(A["e"])(a)+"\nError: "+s)}}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function be(){"console"in he&&["debug","info","warn","error","log","assert"].forEach((function(t){t in he.console&&Object(vt["b"])(he.console,t,(function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];ge("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,he.console,r)}}))}))}function me(){Rt()&&Object(vt["b"])(he,"fetch",(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:we(e),url:_e(e)},startTimestamp:Date.now()};return ge("fetch",T["a"]({},n)),t.apply(he,e).then((function(t){return ge("fetch",T["a"]({},n,{endTimestamp:Date.now(),response:t})),t}),(function(t){throw ge("fetch",T["a"]({},n,{endTimestamp:Date.now(),error:t})),t}))}}))}function we(t){return void 0===t&&(t=[]),"Request"in he&&Object(M["g"])(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function _e(t){return void 0===t&&(t=[]),"string"===typeof t[0]?t[0]:"Request"in he&&Object(M["g"])(t[0],Request)?t[0].url:String(t[0])}function xe(){if("XMLHttpRequest"in he){var t=XMLHttpRequest.prototype;Object(vt["b"])(t,"open",(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this,i=e[1];n.__sentry_xhr__={method:Object(M["k"])(e[0])?e[0].toUpperCase():e[0],url:e[1]},Object(M["k"])(i)&&"POST"===n.__sentry_xhr__.method&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);var o=function(){if(4===n.readyState){try{n.__sentry_xhr__&&(n.__sentry_xhr__.status_code=n.status)}catch(t){}ge("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"===typeof n.onreadystatechange?Object(vt["b"])(n,"onreadystatechange",(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return o(),t.apply(n,e)}})):n.addEventListener("readystatechange",o),t.apply(n,e)}})),Object(vt["b"])(t,"send",(function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ge("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}}function Ee(){if(kt()){var t=he.onpopstate;he.onpopstate=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=he.location.href,i=fe;if(fe=n,ge("history",{from:i,to:n}),t)return t.apply(this,e)},Object(vt["b"])(he.history,"pushState",e),Object(vt["b"])(he.history,"replaceState",e)}function e(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.length>2?e[2]:void 0;if(n){var i=fe,o=String(n);fe=o,ge("history",{from:i,to:o})}return t.apply(this,e)}}}function Se(){"document"in he&&(he.document.addEventListener("click",ke("click",ge.bind(null,"dom")),!1),he.document.addEventListener("keypress",Te(ge.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(t){var e=he[t]&&he[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(vt["b"])(e,"addEventListener",(function(t){return function(e,r,n){return r&&r.handleEvent?("click"===e&&Object(vt["b"])(r,"handleEvent",(function(t){return function(e){return ke("click",ge.bind(null,"dom"))(e),t.call(this,e)}})),"keypress"===e&&Object(vt["b"])(r,"handleEvent",(function(t){return function(e){return Te(ge.bind(null,"dom"))(e),t.call(this,e)}}))):("click"===e&&ke("click",ge.bind(null,"dom"),!0)(this),"keypress"===e&&Te(ge.bind(null,"dom"))(this)),t.call(this,e,r,n)}})),Object(vt["b"])(e,"removeEventListener",(function(t){return function(e,r,n){try{t.call(this,e,r.__sentry_wrapped__,n)}catch(i){}return t.call(this,e,r,n)}})))})))}var Oe,Ie,Re=1e3,je=0;function ke(t,e,r){return void 0===r&&(r=!1),function(n){Oe=void 0,n&&Ie!==n&&(Ie=n,je&&clearTimeout(je),r?je=setTimeout((function(){e({event:n,name:t})})):e({event:n,name:t}))}}function Te(t){return function(e){var r;try{r=e.target}catch(i){return}var n=r&&r.tagName;n&&("INPUT"===n||"TEXTAREA"===n||r.isContentEditable)&&(Oe||ke("input",t)(e),clearTimeout(Oe),Oe=setTimeout((function(){Oe=void 0}),Re))}}var Ae=null;function Ce(){Ae=he.onerror,he.onerror=function(t,e,r,n,i){return ge("error",{column:n,error:i,line:r,msg:t,url:e}),!!Ae&&Ae.apply(this,arguments)}}var Pe=null;function De(){Pe=he.onunhandledrejection,he.onunhandledrejection=function(t){return ge("unhandledrejection",t),!Pe||Pe.apply(this,arguments)}}var Ne=function(){function t(e){this.name=t.id,this._options=T["a"]({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&W().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Object(A["d"])(t)},{event:t})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:xt.fromString(t.level),message:Object(it["b"])(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Object(it["b"])(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}W().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Object(A["h"])(t.event.target):Object(A["h"])(t.event)}catch(r){e="<unknown>"}0!==e.length&&W().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;W().addBreadcrumb({category:"xhr",data:t.xhr.__sentry_xhr__,type:"http"},{xhr:t.xhr})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?W().addBreadcrumb({category:"fetch",data:t.fetchData,level:xt.Error,type:"http"},{data:t.error,input:t.args}):W().addBreadcrumb({category:"fetch",data:T["a"]({},t.fetchData,{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Object(A["f"])(),r=t.from,n=t.to,i=Object(A["k"])(e.location.href),o=Object(A["k"])(r),a=Object(A["k"])(n);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),W().addBreadcrumb({category:"navigation",data:{from:r,to:n}})},t.prototype.setupOnce=function(){var t=this;this._options.console&&ye({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._consoleBreadcrumb.apply(t,T["d"](e))},type:"console"}),this._options.dom&&ye({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._domBreadcrumb.apply(t,T["d"](e))},type:"dom"}),this._options.xhr&&ye({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._xhrBreadcrumb.apply(t,T["d"](e))},type:"xhr"}),this._options.fetch&&ye({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._fetchBreadcrumb.apply(t,T["d"](e))},type:"fetch"}),this._options.history&&ye({callback:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t._historyBreadcrumb.apply(t,T["d"](e))},type:"history"})},t.id="Breadcrumbs",t}(),Le="sentry.javascript.browser",Me="5.20.0",Ue=function(t){function e(e){return void 0===e&&(e={}),t.call(this,oe,e)||this}return T["b"](e,t),e.prototype._prepareEvent=function(e,r,n){return e.platform=e.platform||"javascript",e.sdk=T["a"]({},e.sdk,{name:Le,packages:T["d"](e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:Me}]),version:Me}),t.prototype._prepareEvent.call(this,e,r,n)},e.prototype._sendEvent=function(e){var r=this.getIntegration(Ne);r&&r.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=Object(A["f"])().document;if(e)if(this._isEnabled()){var r=t.dsn||this.getDsn();t.eventId?r?le(t):L.error("Missing `Dsn` option in showReportDialog call"):L.error("Missing `eventId` option in showReportDialog call")}else L.error("Trying to call showReportDialog with Sentry Client is disabled")},e}(_t),Fe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Be=function(){function t(e){this.name=t.id,this._options=T["a"]({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0];return e[0]=ce(n,{mechanism:{data:{function:Object(A["e"])(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,ce(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(A["e"])(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(A["f"])(),r=e[t]&&e[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Object(vt["b"])(r,"addEventListener",(function(e){return function(r,n,i){try{"function"===typeof n.handleEvent&&(n.handleEvent=ce(n.handleEvent.bind(n),{mechanism:{data:{function:"handleEvent",handler:Object(A["e"])(n),target:t},handled:!0,type:"instrument"}}))}catch(o){}return e.call(this,r,ce(n,{mechanism:{data:{function:"addEventListener",handler:Object(A["e"])(n),target:t},handled:!0,type:"instrument"}}),i)}})),Object(vt["b"])(r,"removeEventListener",(function(t){return function(e,r,n){try{t.call(this,e,r.__sentry_wrapped__,n)}catch(i){}return t.call(this,e,r,n)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in n&&"function"===typeof n[t]&&Object(vt["b"])(n,t,(function(e){var r={mechanism:{data:{function:t,handler:Object(A["e"])(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(r.mechanism.data.handler=Object(A["e"])(e.__sentry_original__)),ce(e,r)}))})),t.apply(this,e)}},t.prototype.setupOnce=function(){var t=Object(A["f"])();if(this._options.setTimeout&&Object(vt["b"])(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(vt["b"])(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(vt["b"])(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Object(vt["b"])(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var e=Array.isArray(this._options.eventTarget)?this._options.eventTarget:Fe;e.forEach(this._wrapEventTarget.bind(this))}},t.id="TryCatch",t}(),Ve=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=T["a"]({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(L.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(L.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(ye({callback:function(r){var n=r.error,i=W(),o=i.getIntegration(t),a=n&&!0===n.__sentry_own_request__;if(o&&!se()&&!a){var s=i.getClient(),u=Object(M["i"])(n)?e._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):e._enhanceEventWithInitialFrame(Wt(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);Object(A["a"])(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(ye({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch(c){}var i=W(),o=i.getIntegration(t),a=n&&!0===n.__sentry_own_request__;if(!o||se()||a)return!0;var s=i.getClient(),u=Object(M["i"])(n)?e._eventFromIncompleteRejection(n):Wt(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=xt.Error,Object(A["a"])(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,r,n){var i,o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,a=Object(M["e"])(t)?t.message:t;if(Object(M["k"])(a)){var s=a.match(o);s&&(i=s[1],a=s[2])}var u={exception:{values:[{type:i||"Error",value:a}]}};return this._enhanceEventWithInitialFrame(u,e,r,n)},t.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,r,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(n,10))?void 0:n,o=isNaN(parseInt(r,10))?void 0:r,a=Object(M["k"])(e)&&e.length>0?e:Object(A["g"])();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),qe="cause",Ge=5,$e=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||qe,this._limit=e.limit||Ge}return t.prototype.setupOnce=function(){V((function(e,r){var n=W().getIntegration(t);return n?n._handler(e,r):e}))},t.prototype._handler=function(t,e){if(!t.exception||!t.exception.values||!e||!Object(M["g"])(e.originalException,Error))return t;var r=this._walkErrorTree(e.originalException,this._key);return t.exception.values=T["d"](r,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,r){if(void 0===r&&(r=[]),!Object(M["g"])(t[e],Error)||r.length+1>=this._limit)return r;var n=Mt(t[e]),i=Gt(n);return this._walkErrorTree(t[e],e,T["d"]([i],r))},t.id="LinkedErrors",t}(),Je=Object(A["f"])(),ze=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){V((function(e){if(W().getIntegration(t)){if(!Je.navigator||!Je.location)return e;var r=e.request||{};return r.url=r.url||Je.location.href,r.headers=r.headers||{},r.headers["User-Agent"]=Je.navigator.userAgent,T["a"]({},e,{request:r})}return e}))},t.id="UserAgent",t}(),He=[new n.InboundFilters,new n.FunctionToString,new Be,new Ne,new Ve,new $e,new ze];function Ke(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=He),void 0===t.release){var e=Object(A["f"])();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}st(Ue,t)}var We="media-kraken-error-reporting",Ye=function(){function t(){Object(c["a"])(this,t),this.sentryInitialized=!1,this.reportingEnabled=!1,this.listeners=[]}return Object(l["a"])(t,[{key:"init",value:function(){this.userWantsReportingEnabled()&&(this.initializeSentry(),this.reportingEnabled=!0)}},{key:"setReportingEnabled",value:function(t){this.reportingEnabled!==t&&(this.reportingEnabled=t,S.set(We,t),t&&!this.sentryInitialized&&this.initializeSentry(),this.listeners.forEach((function(e){e.onReportingEnabled&&t&&e.onReportingEnabled(),e.onReportingDisabled&&!t&&e.onReportingDisabled()})))}},{key:"handle",value:function(t){this.reportingEnabled&&this.sentryInitialized?this.report(t):console.error(t)}},{key:"report",value:function(t){try{t.sentryId=et(t),console.error("Error reported to Sentry",t)}catch(e){console.error("Failed reporting an error to Sentry",t,e)}}},{key:"registerListener",value:function(t){this.listeners.push(t)}},{key:"serialize",value:function(t){var e={name:t.name,message:t.message,stack:t.stack};if(t instanceof p["UnauthorizedError"]){var r={url:t.url,responseStatus:t.responseStatus};e.errorClass="unauthorized",e.errorData=r}else if(t instanceof v["MalformedDocumentError"]){var n={documentUrl:t.documentUrl,documentFormat:t.documentFormat,malformationDetails:t.malformationDetails};e.errorClass="malformed-document",e.errorData=n}return e}},{key:"parse",value:function(t){var e=function(){switch(t.errorClass){case"unauthorized":var e=t.errorData;return new p["UnauthorizedError"](e.url,e.responseStatus);case"malformed-document":var r=t.errorData;return new v["MalformedDocumentError"](r.documentUrl,r.documentFormat,r.malformationDetails);default:return new Error(t.message)}},r=e();return r.name=t.name,r.stack=t.stack,r}},{key:"userWantsReportingEnabled",value:function(){if(S.get(We,!1))return!0;var t=new URL(location.href);return["1","true","on","yes"].includes(t.searchParams.get("error_reporting"))}},{key:"initializeSentry",value:function(){if(!this.sentryInitialized&&this.isReportingAvailable)try{Ke({dsn:"https://130a9bb837a24e77bfcc0743fbd382de@o424851.ingest.sentry.io/5357200"}),this.sentryInitialized=!0}catch(t){console.error("Failed initializing Sentry",t)}}},{key:"isReportingEnabled",get:function(){return this.reportingEnabled}},{key:"isReportingAvailable",get:function(){return!0}}]),t}(),Qe=new Ye,Xe=function(){function t(){Object(c["a"])(this,t)}return Object(l["a"])(t,[{key:"serializeResponse",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e.status,t.t1=e.statusText,t.t2=Object(a["a"])(e.headers.entries()),t.next=5,e.blob();case 5:return t.t3=t.sent,t.abrupt("return",{status:t.t0,statusText:t.t1,headers:t.t2,body:t.t3});case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"deserializeResponse",value:function(t){var e=0===t.body.size?null:t.body;return new Response(e,{status:t.status,statusText:t.statusText,headers:t.headers})}}]),t}(),Ze=new Xe,tr=r("34b3"),er=function(){function t(){Object(c["a"])(this,t),this.operations={}}return Object(l["a"])(t,[{key:"listen",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n,i,o,s,u,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.data,i=n.operationId,o=n.name,s=n.payload,t.t0=o,t.next="run"===t.t0?4:"operation-completed"===t.t0?6:"operation-failed"===t.t0?8:10;break;case 4:return r.run.apply(r,Object(a["a"])(s)),t.abrupt("break",10);case 6:return i&&i in r.operations&&(null===(u=r.operations[i])||void 0===u||u.resolve(s),delete r.operations[i]),t.abrupt("break",10);case 8:return i&&i in r.operations&&(null===(c=r.operations[i])||void 0===c||c.reject(s),delete r.operations[i]),t.abrupt("break",10);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),addEventListener("message",e);case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"runOperation",value:function(t){for(var e=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new Promise((function(r,i){var o=tr["a"].generate();e.operations[o]={resolve:r,reject:i},e.postMessage({operationId:o,name:t,payload:n})}))}},{key:"solidFetch",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=o.length,r=new Array(e),n=0;n<e;n++)r[n]=o[n];return t.next=3,this.runOperation.apply(this,["solid-fetch"].concat(r));case 3:return i=t.sent,t.abrupt("return",Ze.deserializeResponse(i));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"run",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.work.apply(this,r);case 3:e=t.sent,this.postMessage({name:"work-completed",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.postMessage({name:"work-failed",payload:Qe.serialize(t.t0)});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"postMessage",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){postMessage(t)}))}]),t}(),rr=10,nr=function(t){Object(h["a"])(r,t);var e=Object(f["a"])(r);function r(){var t;return Object(c["a"])(this,r),t=e.apply(this,arguments),t.processedDocumentsUrls=[],t.documentsMetadata={},t}return Object(l["a"])(r,[{key:"work",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},this.config=Object(s["a"])({ignoredDocumentUrls:[]},r),t.prev=2,t.next=5,this.initStorage(e);case 5:return t.next=7,this.loadContainers();case 7:return t.next=9,this.loadMovies();case 9:return this.updateProgressMessage("Almost done..."),t.abrupt("return",{movies:this.serializeMoviesContainer()});case 11:return t.prev=11,t.next=14,b.a.closeConnections();case 14:return t.finish(11);case 15:case"end":return t.stop()}}),t,this,[[2,,11,15]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"initStorage",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.updateProgressMessage("Loading user data..."),t.next=3,this.resolveUser(e);case 3:return this.user=t.sent,t.next=6,this.user.initSoukaiEngine();case 6:b.a.engine instanceof v["SolidEngine"]&&b.a.engine.addListener({onRDFDocumentLoaded:function(t,e){return r.documentsMetadata[t]=e}});case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"resolveUser",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.parse(e);case 2:return r=t.sent,r instanceof _["a"]&&x["a"].setFetch(this.solidFetch.bind(this)),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"loadContainers",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.updateProgressMessage("Loading movies metadata..."),t.next=3,this.user.resolveMediaContainers();case 3:return e=t.sent,r=e.movies,this.moviesContainer=r,t.next=8,this.migrateContainerSchema("Movies",this.moviesContainer);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadMovies",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.moviesContainer.isRelationLoaded("movies")){t.next=2;break}return t.abrupt("return");case 2:if(this.moviesContainer.isRelationLoaded("documents")){t.next=6;break}return t.next=5,this.loadMoviesContainerDocuments();case 5:m["a"].remember(this.moviesContainer,{documents:this.moviesContainer.documents});case 6:return this.moviesContainer.setRelationModels("movies",[]),t.next=9,this.loadMoviesFromCache();case 9:return t.next=11,this.loadMoviesFromDatabase();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadMoviesFromCache",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.moviesContainer.documents.map(function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.config.ignoredDocumentUrls.includes(e.url)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,m["a"].getFromDocument(e);case 4:if(i=t.sent,null!==i){t.next=7;break}return t.abrupt("return");case 7:(n=r.moviesContainer.movies).push.apply(n,Object(a["a"])(i.filter((function(t){return t.modelClass===w["default"]})))),r.processedDocumentsUrls.push(e.url);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=3,Promise.all(e);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadMoviesFromDatabase",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.moviesContainer.documents.filter((function(t){return!r.config.ignoredDocumentUrls.includes(t.url)&&!r.processedDocumentsUrls.includes(t.url)})),0!==e.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.loadMoviesFromDatabaseByChunks(e);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadMoviesFromDatabaseByChunks",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.length,n=Object(d["arrayChunk"])(e,rr),i=0;case 3:if(!(i<n.length)){t.next=11;break}return o=n[i],this.updateProgressMessage("Loading movies data (".concat(i*rr,"/").concat(r,")...")),t.next=8,this.loadMoviesFromDocuments(o);case 8:i++,t.next=3;break;case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"loadMoviesFromDocuments",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r,n,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map(function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w["default"].from(o.moviesContainer.url).all({$in:[e.url]});case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t["catch"](0),console.warn("There was a problem loading movies from ".concat(e.url),t.t0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()));case 2:return n=t.sent,i=n.flat(),t.next=6,Promise.all(i.map((function(t){return t.loadRelationIfUnloaded("actions")})));case 6:return t.next=8,this.migrateMoviesSchemas(i);case 8:return t.next=10,Promise.all(e.map((function(t){return m["a"].rememberDocument(t.url,t.updatedAt)})));case 10:return t.next=12,Promise.all(i.map((function(t){return m["a"].remember(t,{actions:t.actions})})));case 12:(r=this.moviesContainer.movies).push.apply(r,Object(a["a"])(i));case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"loadMoviesContainerDocuments",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(b.a.engine instanceof v["SolidEngine"]){t.next=4;break}return t.next=3,this.moviesContainer.loadRelation("documents");case 3:return t.abrupt("return");case 4:e=Object(d["arrayChunk"])(this.moviesContainer.resourceUrls,rr),r=[],n=o(e),t.prev=7,n.s();case 9:if((i=n.n()).done){t.next=17;break}return s=i.value,t.next=13,Promise.all(s.map((function(t){return Object(p["fetchSolidDocument"])(t,x["a"].fetch)})));case 13:u=t.sent,r.push.apply(r,Object(a["a"])(u));case 15:t.next=9;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](7),n.e(t.t0);case 22:return t.prev=22,n.f(),t.finish(22);case 25:this.moviesContainer.setRelationModels("documents",r.map((function(t){return new v["SolidDocument"]({url:t.url,updatedAt:t.getLastModified()},!0)})));case 26:case"end":return t.stop()}}),t,this,[[7,19,22,25]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"migrateContainerSchema",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e,r){var n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(b.a.engine instanceof v["SolidEngine"]){t.next=2;break}return t.abrupt("return");case 2:if(!1!==this.config.migrateSchema){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,r.hasLegacySchema();case 6:if(i=t.sent,i){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,this.shouldMigrateSchema();case 11:if(o=t.sent,o){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,r.migrateSchema(e,null===(n=this.documentsMetadata[r.url])||void 0===n?void 0:n.describedBy);case 16:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"migrateMoviesSchemas",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(b.a.engine instanceof v["SolidEngine"]){t.next=2;break}return t.abrupt("return");case 2:if(r=this.filterLegacyMovies(e),0!==r.length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this.shouldMigrateSchema();case 7:if(n=t.sent,n){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,Promise.all(r.map((function(t){return t.migrateSchema()})));case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"serializeMoviesContainer",value:function(){return{attributes:this.moviesContainer.getAttributes(),movies:this.moviesContainer.movies.map((function(t){return{attributes:t.getAttributes(),actionsAttributes:t.actions.map((function(t){return t.getAttributes()}))}}))}}},{key:"filterLegacyMovies",value:function(t){return t.filter((function(t){return t.hasLegacySchema()}))}},{key:"updateProgressMessage",value:function(t){this.runOperation("update-progress-message",t)}},{key:"shouldMigrateSchema",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===(e=this.config.migrateSchema)||void 0===e){t.next=4;break}t.t0=e,t.next=7;break;case 4:return t.next=6,this.runOperation("confirm-schema-migration");case 6:t.t0=t.sent;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),r}(er);(new nr).listen()},d709:function(t,e,r){(function(t){!function(t,r){r(e)}(0,(function(e){"use strict";function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,u,"next",t)}function u(t){i(a,n,o,s,u,"throw",t)}s(void 0)}))}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=b(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function E(t){var e={exports:{}};return t(e,e.exports),e.exports}var S,O,I=function(t){return t&&t.Math==Math&&t},R=I("object"==typeof globalThis&&globalThis)||I("object"==typeof window&&window)||I("object"==typeof self&&self)||I("object"==typeof _&&_)||function(){return this}()||Function("return this")(),j=function(t){try{return!!t()}catch(t){return!0}},k=!j((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),T=Function.prototype.call,A=T.bind?T.bind(T):function(){return T.apply(T,arguments)},C={}.propertyIsEnumerable,P=Object.getOwnPropertyDescriptor,D=P&&!C.call({1:2},1)?function(t){var e=P(this,t);return!!e&&e.enumerable}:C,N={f:D},L=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},M=Function.prototype,U=M.bind,F=M.call,B=U&&U.bind(F),V=U?function(t){return t&&B(F,t)}:function(t){return t&&function(){return F.apply(t,arguments)}},q=V({}.toString),G=V("".slice),$=function(t){return G(q(t),8,-1)},J=R.Object,z=V("".split),H=j((function(){return!J("z").propertyIsEnumerable(0)}))?function(t){return"String"==$(t)?z(t,""):J(t)}:J,K=R.TypeError,W=function(t){if(null==t)throw K("Can't call method on "+t);return t},Y=function(t){return H(W(t))},Q=function(t){return"function"==typeof t},X=function(t){return"object"==typeof t?null!==t:Q(t)},Z=function(t){return Q(t)?t:void 0},tt=function(t,e){return arguments.length<2?Z(R[t]):R[t]&&R[t][e]},et=V({}.isPrototypeOf),rt=tt("navigator","userAgent")||"",nt=R.process,it=R.Deno,ot=nt&&nt.versions||it&&it.version,at=ot&&ot.v8;at&&(O=(S=at.split("."))[0]>0&&S[0]<4?1:+(S[0]+S[1])),!O&&rt&&(!(S=rt.match(/Edge\/(\d+)/))||S[1]>=74)&&(S=rt.match(/Chrome\/(\d+)/))&&(O=+S[1]);var st=O,ut=!!Object.getOwnPropertySymbols&&!j((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&st&&st<41})),ct=ut&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,lt=R.Object,ft=ct?function(t){return"symbol"==typeof t}:function(t){var e=tt("Symbol");return Q(e)&&et(e.prototype,lt(t))},ht=R.String,dt=function(t){try{return ht(t)}catch(t){return"Object"}},pt=R.TypeError,vt=function(t){if(Q(t))return t;throw pt(dt(t)+" is not a function")},yt=function(t,e){var r=t[e];return null==r?void 0:vt(r)},gt=R.TypeError,bt=!1,mt=Object.defineProperty,wt=function(t,e){try{mt(R,t,{value:e,configurable:!0,writable:!0})}catch(n){R[t]=e}return e},_t="__core-js_shared__",xt=R[_t]||wt(_t,{}),Et=E((function(t){(t.exports=function(t,e){return xt[t]||(xt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),St=R.Object,Ot=function(t){return St(W(t))},It=V({}.hasOwnProperty),Rt=Object.hasOwn||function(t,e){return It(Ot(t),e)},jt=0,kt=Math.random(),Tt=V(1..toString),At=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Tt(++jt+kt,36)},Ct=Et("wks"),Pt=R.Symbol,Dt=Pt&&Pt.for,Nt=ct?Pt:Pt&&Pt.withoutSetter||At,Lt=function(t){if(!Rt(Ct,t)||!ut&&"string"!=typeof Ct[t]){var e="Symbol."+t;ut&&Rt(Pt,t)?Ct[t]=Pt[t]:Ct[t]=ct&&Dt?Dt(e):Nt(e)}return Ct[t]},Mt=R.TypeError,Ut=Lt("toPrimitive"),Ft=function(t,e){if(!X(t)||ft(t))return t;var r,n=yt(t,Ut);if(n){if(void 0===e&&(e="default"),r=A(n,t,e),!X(r)||ft(r))return r;throw Mt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&Q(r=t.toString)&&!X(n=A(r,t)))return n;if(Q(r=t.valueOf)&&!X(n=A(r,t)))return n;if("string"!==e&&Q(r=t.toString)&&!X(n=A(r,t)))return n;throw gt("Can't convert object to primitive value")}(t,e)},Bt=function(t){var e=Ft(t,"string");return ft(e)?e:e+""},Vt=R.document,qt=X(Vt)&&X(Vt.createElement),Gt=function(t){return qt?Vt.createElement(t):{}},$t=!k&&!j((function(){return 7!=Object.defineProperty(Gt("div"),"a",{get:function(){return 7}}).a})),Jt=Object.getOwnPropertyDescriptor,zt=k?Jt:function(t,e){if(t=Y(t),e=Bt(e),$t)try{return Jt(t,e)}catch(t){}if(Rt(t,e))return L(!A(N.f,t,e),t[e])},Ht={f:zt},Kt=R.String,Wt=R.TypeError,Yt=function(t){if(X(t))return t;throw Wt(Kt(t)+" is not an object")},Qt=R.TypeError,Xt=Object.defineProperty,Zt=k?Xt:function(t,e,r){if(Yt(t),e=Bt(e),Yt(r),$t)try{return Xt(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Qt("Accessors not supported");return"value"in r&&(t[e]=r.value),t},te={f:Zt},ee=k?function(t,e,r){return te.f(t,e,L(1,r))}:function(t,e,r){return t[e]=r,t},re=V(Function.toString);Q(xt.inspectSource)||(xt.inspectSource=function(t){return re(t)});var ne,ie,oe,ae=xt.inspectSource,se=R.WeakMap,ue=Q(se)&&/native code/.test(ae(se)),ce=Et("keys"),le=function(t){return ce[t]||(ce[t]=At(t))},fe={},he="Object already initialized",de=R.TypeError,pe=R.WeakMap;if(ue||xt.state){var ve=xt.state||(xt.state=new pe),ye=V(ve.get),ge=V(ve.has),be=V(ve.set);ne=function(t,e){if(ge(ve,t))throw new de(he);return e.facade=t,be(ve,t,e),e},ie=function(t){return ye(ve,t)||{}},oe=function(t){return ge(ve,t)}}else{var me=le("state");fe[me]=!0,ne=function(t,e){if(Rt(t,me))throw new de(he);return e.facade=t,ee(t,me,e),e},ie=function(t){return Rt(t,me)?t[me]:{}},oe=function(t){return Rt(t,me)}}var we={set:ne,get:ie,has:oe,enforce:function(t){return oe(t)?ie(t):ne(t,{})},getterFor:function(t){return function(e){var r;if(!X(e)||(r=ie(e)).type!==t)throw de("Incompatible receiver, "+t+" required");return r}}},_e=Function.prototype,xe=k&&Object.getOwnPropertyDescriptor,Ee=Rt(_e,"name"),Se={EXISTS:Ee,PROPER:Ee&&"something"===function(){}.name,CONFIGURABLE:Ee&&(!k||k&&xe(_e,"name").configurable)},Oe=E((function(t){var e=Se.CONFIGURABLE,r=we.get,n=we.enforce,i=String(String).split("String");(t.exports=function(t,r,o,a){var s,u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:r;Q(o)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Rt(o,"name")||e&&o.name!==f)&&ee(o,"name",f),(s=n(o)).source||(s.source=i.join("string"==typeof f?f:""))),t!==R?(u?!l&&t[r]&&(c=!0):delete t[r],c?t[r]=o:ee(t,r,o)):c?t[r]=o:wt(r,o)})(Function.prototype,"toString",(function(){return Q(this)&&r(this).source||ae(this)}))})),Ie=Math.ceil,Re=Math.floor,je=function(t){var e=+t;return e!=e||0===e?0:(e>0?Re:Ie)(e)},ke=Math.max,Te=Math.min,Ae=function(t,e){var r=je(t);return r<0?ke(r+e,0):Te(r,e)},Ce=Math.min,Pe=function(t){return t>0?Ce(je(t),9007199254740991):0},De=function(t){return Pe(t.length)},Ne=function(t){return function(e,r,n){var i,o=Y(e),a=De(o),s=Ae(n,a);if(t&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===r)return t||s||0;return!t&&-1}},Le={includes:Ne(!0),indexOf:Ne(!1)},Me=Le.indexOf,Ue=V([].push),Fe=function(t,e){var r,n=Y(t),i=0,o=[];for(r in n)!Rt(fe,r)&&Rt(n,r)&&Ue(o,r);for(;e.length>i;)Rt(n,r=e[i++])&&(~Me(o,r)||Ue(o,r));return o},Be=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ve=Be.concat("length","prototype"),qe=Object.getOwnPropertyNames||function(t){return Fe(t,Ve)},Ge={f:qe},$e={f:Object.getOwnPropertySymbols},Je=V([].concat),ze=tt("Reflect","ownKeys")||function(t){var e=Ge.f(Yt(t)),r=$e.f;return r?Je(e,r(t)):e},He=function(t,e){for(var r=ze(e),n=te.f,i=Ht.f,o=0;o<r.length;o++){var a=r[o];Rt(t,a)||n(t,a,i(e,a))}},Ke=/#|\.prototype\./,We=function(t,e){var r=Qe[Ye(t)];return r==Ze||r!=Xe&&(Q(e)?j(e):!!e)},Ye=We.normalize=function(t){return String(t).replace(Ke,".").toLowerCase()},Qe=We.data={},Xe=We.NATIVE="N",Ze=We.POLYFILL="P",tr=We,er=Ht.f,rr=function(t,e){var r,n,i,o,a,s=t.target,u=t.global,c=t.stat;if(r=u?R:c?R[s]||wt(s,{}):(R[s]||{}).prototype)for(n in e){if(o=e[n],i=t.noTargetGet?(a=er(r,n))&&a.value:r[n],!tr(u?n:s+(c?".":"#")+n,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;He(o,i)}(t.sham||i&&i.sham)&&ee(o,"sham",!0),Oe(r,n,o,t)}},nr=Array.isArray||function(t){return"Array"==$(t)},ir=function(t,e,r){var n=Bt(e);n in t?te.f(t,n,L(0,r)):t[n]=r},or={};or[Lt("toStringTag")]="z";var ar="[object z]"===String(or),sr=Lt("toStringTag"),ur=R.Object,cr="Arguments"==$(function(){return arguments}()),lr=ar?$:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=ur(t),sr))?r:cr?$(e):"Object"==(n=$(e))&&Q(e.callee)?"Arguments":n},fr=function(){},hr=[],dr=tt("Reflect","construct"),pr=/^\s*(?:class|function)\b/,vr=V(pr.exec),yr=!pr.exec(fr),gr=function(t){if(!Q(t))return!1;try{return dr(fr,hr,t),!0}catch(t){return!1}},br=!dr||j((function(){var t;return gr(gr.call)||!gr(Object)||!gr((function(){t=!0}))||t}))?function(t){if(!Q(t))return!1;switch(lr(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return yr||!!vr(pr,ae(t))}:gr,mr=Lt("species"),wr=R.Array,_r=function(t,e){return new(function(t){var e;return nr(t)&&(e=t.constructor,(br(e)&&(e===wr||nr(e.prototype))||X(e)&&null===(e=e[mr]))&&(e=void 0)),void 0===e?wr:e}(t))(0===e?0:e)},xr=Lt("species"),Er=function(t){return st>=51||!j((function(){var e=[];return(e.constructor={})[xr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Sr=Lt("isConcatSpreadable"),Or=9007199254740991,Ir="Maximum allowed index exceeded",Rr=R.TypeError,jr=st>=51||!j((function(){var t=[];return t[Sr]=!1,t.concat()[0]!==t})),kr=Er("concat"),Tr=function(t){if(!X(t))return!1;var e=t[Sr];return void 0!==e?!!e:nr(t)};rr({target:"Array",proto:!0,forced:!jr||!kr},{concat:function(t){var e,r,n,i,o,a=Ot(this),s=_r(a,0),u=0;for(e=-1,n=arguments.length;e<n;e++)if(Tr(o=-1===e?a:arguments[e])){if(u+(i=De(o))>Or)throw Rr(Ir);for(r=0;r<i;r++,u++)r in o&&ir(s,u,o[r])}else{if(u>=Or)throw Rr(Ir);ir(s,u++,o)}return s.length=u,s}});var Ar=ar?{}.toString:function(){return"[object "+lr(this)+"]"};ar||Oe(Object.prototype,"toString",Ar,{unsafe:!0});var Cr=tt("Promise"),Pr=R.TypeError;rr({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){var e=Yt(this),r=vt(e.next),n=arguments.length<2,i=n?void 0:arguments[1];return vt(t),new Cr((function(o,a){var s=function(){try{Cr.resolve(Yt(A(r,e))).then((function(e){try{if(Yt(e).done)n?a(Pr("Reduce of empty iterator with no initial value")):o(i);else{var r=e.value;n?(n=!1,i=r,s()):Cr.resolve(t(i,r)).then((function(t){i=t,s()}),a)}}catch(t){a(t)}}),a)}catch(t){a(t)}};s()}))}});var Dr,Nr=R.TypeError,Lr=function(t,e){if(et(e,t))return t;throw Nr("Incorrect invocation")},Mr=Object.keys||function(t){return Fe(t,Be)},Ur=k?Object.defineProperties:function(t,e){Yt(t);for(var r,n=Y(e),i=Mr(e),o=i.length,a=0;o>a;)te.f(t,r=i[a++],n[r]);return t},Fr=tt("document","documentElement"),Br=le("IE_PROTO"),Vr=function(){},qr=function(t){return"<script>"+t+"<\/script>"},Gr=function(t){t.write(qr("")),t.close();var e=t.parentWindow.Object;return t=null,e},$r=function(){try{Dr=new ActiveXObject("htmlfile")}catch(t){}var t,e;$r="undefined"!=typeof document?document.domain&&Dr?Gr(Dr):((e=Gt("iframe")).style.display="none",Fr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(qr("document.F=Object")),t.close(),t.F):Gr(Dr);for(var r=Be.length;r--;)delete $r.prototype[Be[r]];return $r()};fe[Br]=!0;var Jr,zr,Hr,Kr=Object.create||function(t,e){var r;return null!==t?(Vr.prototype=Yt(t),r=new Vr,Vr.prototype=null,r[Br]=t):r=$r(),void 0===e?r:Ur(r,e)},Wr=!j((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Yr=le("IE_PROTO"),Qr=R.Object,Xr=Qr.prototype,Zr=Wr?Qr.getPrototypeOf:function(t){var e=Ot(t);if(Rt(e,Yr))return e[Yr];var r=e.constructor;return Q(r)&&e instanceof r?r.prototype:e instanceof Qr?Xr:null},tn=Lt("iterator"),en=!1;[].keys&&("next"in(Hr=[].keys())?(zr=Zr(Zr(Hr)))!==Object.prototype&&(Jr=zr):en=!0);var rn=null==Jr||j((function(){var t={};return Jr[tn].call(t)!==t}));rn&&(Jr={}),Q(Jr[tn])||Oe(Jr,tn,(function(){return this}));var nn={IteratorPrototype:Jr,BUGGY_SAFARI_ITERATORS:en},on=nn.IteratorPrototype,an=Lt("toStringTag"),sn=R.Iterator,un=!Q(sn)||sn.prototype!==on||!j((function(){sn({})})),cn=function(){Lr(this,on)};Rt(on,an)||ee(on,an,"Iterator"),!un&&Rt(on,"constructor")&&on.constructor!==Object||ee(on,"constructor",cn),cn.prototype=on,rr({global:!0,forced:un},{Iterator:cn});var ln=V(V.bind),fn=function(t,e){return vt(t),void 0===e?t:ln?ln(t,e):function(){return t.apply(e,arguments)}},hn={},dn=Lt("iterator"),pn=Array.prototype,vn=function(t){return void 0!==t&&(hn.Array===t||pn[dn]===t)},yn=Lt("iterator"),gn=function(t){if(null!=t)return yt(t,yn)||yt(t,"@@iterator")||hn[lr(t)]},bn=R.TypeError,mn=function(t,e){var r=arguments.length<2?gn(t):e;if(vt(r))return Yt(A(r,t));throw bn(dt(t)+" is not iterable")},wn=function(t,e,r){var n,i;Yt(t);try{if(!(n=yt(t,"return"))){if("throw"===e)throw r;return r}n=A(n,t)}catch(t){i=!0,n=t}if("throw"===e)throw r;if(i)throw n;return Yt(n),r},_n=R.TypeError,xn=function(t,e){this.stopped=t,this.result=e},En=xn.prototype,Sn=function(t,e,r){var n,i,o,a,s,u,c,l=r&&r.that,f=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),p=fn(e,l),v=function(t){return n&&wn(n,"normal",t),new xn(!0,t)},y=function(t){return f?(Yt(t),d?p(t[0],t[1],v):p(t[0],t[1])):d?p(t,v):p(t)};if(h)n=t;else{if(!(i=gn(t)))throw _n(dt(t)+" is not iterable");if(vn(i)){for(o=0,a=De(t);a>o;o++)if((s=y(t[o]))&&et(En,s))return s;return new xn(!1)}n=mn(t,i)}for(u=n.next;!(c=A(u,n)).done;){try{s=y(c.value)}catch(t){wn(n,"throw",t)}if("object"==typeof s&&s&&et(En,s))return s}return new xn(!1)},On=R.TypeError;rr({target:"Iterator",proto:!0,real:!0},{reduce:function(t){Yt(this),vt(t);var e=arguments.length<2,r=e?void 0:arguments[1];if(Sn(this,(function(n){e?(e=!1,r=n):r=t(r,n)}),{IS_ITERATOR:!0}),e)throw On("Reduce of empty iterator with no initial value");return r}});var In=te.f,Rn=Lt("toStringTag"),jn=function(t,e,r){t&&!Rt(t=r?t:t.prototype,Rn)&&In(t,Rn,{configurable:!0,value:e})};rr({global:!0},{Reflect:{}}),jn(R.Reflect,"Reflect",!0);var kn=Function.prototype,Tn=kn.apply,An=kn.bind,Cn=kn.call,Pn="object"==typeof Reflect&&Reflect.apply||(An?Cn.bind(Tn):function(){return Cn.apply(Tn,arguments)}),Dn=V([].slice),Nn=R.Function,Ln=V([].concat),Mn=V([].join),Un={},Fn=function(t,e,r){if(!Rt(Un,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";Un[e]=Nn("C,a","return new C("+Mn(n,",")+")")}return Un[e](t,r)},Bn=Nn.bind||function(t){var e=vt(this),r=e.prototype,n=Dn(arguments,1),i=function(){var r=Ln(n,Dn(arguments));return this instanceof i?Fn(e,r.length,r):e.apply(t,r)};return X(r)&&(i.prototype=r),i},Vn=R.TypeError,qn=function(t){if(br(t))return t;throw Vn(dt(t)+" is not a constructor")},Gn=tt("Reflect","construct"),$n=Object.prototype,Jn=[].push,zn=j((function(){function t(){}return!(Gn((function(){}),[],t)instanceof t)})),Hn=!j((function(){Gn((function(){}))})),Kn=zn||Hn;function Wn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qn(t,e){return Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Qn(t,e)}function Xn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}rr({target:"Reflect",stat:!0,forced:Kn,sham:Kn},{construct:function(t,e){qn(t),Yt(e);var r=arguments.length<3?t:qn(arguments[2]);if(Hn&&!zn)return Gn(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return Pn(Jn,n,e),new(Pn(Bn,t,n))}var i=r.prototype,o=Kr(X(i)?i:$n),a=Pn(t,o,e);return X(a)?a:o}});var Zn=E((function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(r)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),ti=x(Zn);function ei(t,e){if(e&&("object"===ti(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yn(t)}function ri(t){return ri=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ri(t)}var ni=Se.EXISTS,ii=te.f,oi=Function.prototype,ai=V(oi.toString),si=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,ui=V(si.exec);function ci(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function li(t,e,r){return e&&ci(t.prototype,e),r&&ci(t,r),t}function fi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}k&&!ni&&ii(oi,"name",{configurable:!0,get:function(){try{return ui(si,ai(this))[1]}catch(e){return""}}}),rr({global:!0},{globalThis:R});var hi=function(t){return void 0!==t&&(Rt(t,"value")||Rt(t,"writable"))};rr({target:"Reflect",stat:!0},{get:function t(e,r){var n,i,o=arguments.length<3?e:arguments[2];return Yt(e)===o?e[r]:(n=Ht.f(e,r))?hi(n)?n.value:void 0===n.get?void 0:A(n.get,o):X(i=Zr(e))?t(i,r,o):void 0}});var di=j((function(){var t=function(){},e=te.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}));rr({target:"Reflect",stat:!0,forced:di},{set:function t(e,r,n){var i,o,a,s=arguments.length<4?e:arguments[3],u=Ht.f(Yt(e),r);if(!u){if(X(o=Zr(e)))return t(o,r,n,s);u=L(0)}if(hi(u)){if(!1===u.writable||!X(s))return!1;if(i=Ht.f(s,r)){if(i.get||i.set||!1===i.writable)return!1;i.value=n,te.f(s,r,i)}else te.f(s,r,L(0,n))}else{if(void 0===(a=u.set))return!1;A(a,s,n)}return!0}});var pi=Ht.f;rr({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var r=pi(Yt(t),e);return!(r&&!r.configurable)&&delete t[e]}});var vi=Lt("unscopables"),yi=Array.prototype;null==yi[vi]&&te.f(yi,vi,{configurable:!0,value:Kr(null)});var gi=function(t){yi[vi][t]=!0},bi=nn.IteratorPrototype,mi=function(){return this},wi=function(t,e,r,n){var i=e+" Iterator";return t.prototype=Kr(bi,{next:L(+!n,r)}),jn(t,i,!1),hn[i]=mi,t},_i=R.String,xi=R.TypeError,Ei=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=V(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Yt(r),function(t){if("object"==typeof t||Q(t))return t;throw xi("Can't set "+_i(t)+" as a prototype")}(n),e?t(r,n):r.__proto__=n,r}}():void 0),Si=Se.PROPER,Oi=Se.CONFIGURABLE,Ii=nn.IteratorPrototype,Ri=nn.BUGGY_SAFARI_ITERATORS,ji=Lt("iterator"),ki="keys",Ti="values",Ai="entries",Ci=function(){return this},Pi=function(t,e,r,n,i,o,a){wi(r,e,n);var s,u,c,l=function(t){if(t===i&&v)return v;if(!Ri&&t in d)return d[t];switch(t){case ki:case Ti:case Ai:return function(){return new r(this,t)}}return function(){return new r(this)}},f=e+" Iterator",h=!1,d=t.prototype,p=d[ji]||d["@@iterator"]||i&&d[i],v=!Ri&&p||l(i),y="Array"==e&&d.entries||p;if(y&&(s=Zr(y.call(new t)))!==Object.prototype&&s.next&&(Zr(s)!==Ii&&(Ei?Ei(s,Ii):Q(s[ji])||Oe(s,ji,Ci)),jn(s,f,!0)),Si&&i==Ti&&p&&p.name!==Ti&&(Oi?ee(d,"name",Ti):(h=!0,v=function(){return A(p,this)})),i)if(u={values:l(Ti),keys:o?v:l(ki),entries:l(Ai)},a)for(c in u)(Ri||h||!(c in d))&&Oe(d,c,u[c]);else rr({target:e,proto:!0,forced:Ri||h},u);return d[ji]!==v&&Oe(d,ji,v,{name:i}),hn[e]=v,u},Di="Array Iterator",Ni=we.set,Li=we.getterFor(Di),Mi=Pi(Array,"Array",(function(t,e){Ni(this,{type:Di,target:Y(t),index:0,kind:e})}),(function(){var t=Li(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");hn.Arguments=hn.Array,gi("keys"),gi("values"),gi("entries");var Ui=R.Array,Fi=Math.max,Bi=function(t,e,r){for(var n=De(t),i=Ae(e,n),o=Ae(void 0===r?n:r,n),a=Ui(Fi(o-i,0)),s=0;i<o;i++,s++)ir(a,s,t[i]);return a.length=s,a},Vi=Ge.f,qi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Gi={f:function(t){return qi&&"Window"==$(t)?function(t){try{return Vi(t)}catch(t){return Bi(qi)}}(t):Vi(Y(t))}},$i=j((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Ji=Object.isExtensible,zi=j((function(){Ji(1)}))||$i?function(t){return!!X(t)&&(!$i||"ArrayBuffer"!=$(t))&&(!Ji||Ji(t))}:Ji,Hi=!j((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ki=E((function(t){var e=te.f,r=!1,n=At("meta"),i=0,o=function(t){e(t,n,{value:{objectID:"O"+i++,weakData:{}}})},a=t.exports={enable:function(){a.enable=function(){},r=!0;var t=Ge.f,e=V([].splice),i={};i[n]=1,t(i).length&&(Ge.f=function(r){for(var i=t(r),o=0,a=i.length;o<a;o++)if(i[o]===n){e(i,o,1);break}return i},rr({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Gi.f}))},fastKey:function(t,e){if(!X(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Rt(t,n)){if(!zi(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!Rt(t,n)){if(!zi(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return Hi&&r&&zi(t)&&!Rt(t,n)&&o(t),t}};fe[n]=!0})),Wi=Lt("iterator"),Yi=!1;try{var Qi=0,Xi={next:function(){return{done:!!Qi++}},return:function(){Yi=!0}};Xi[Wi]=function(){return this},Array.from(Xi,(function(){throw 2}))}catch(e){}var Zi=function(t,e){if(!e&&!Yi)return!1;var r=!1;try{var n={};n[Wi]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},to=function(t,e,r){var n,i;return Ei&&Q(n=e.constructor)&&n!==r&&X(i=n.prototype)&&i!==r.prototype&&Ei(t,i),t},eo=function(t,e,r){var n=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=n?"set":"add",a=R[t],s=a&&a.prototype,u=a,c={},l=function(t){var e=V(s[t]);Oe(s,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!X(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return i&&!X(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!X(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(tr(t,!Q(a)||!(i||s.forEach&&!j((function(){(new a).entries().next()})))))u=r.getConstructor(e,t,n,o),Ki.enable();else if(tr(t,!0)){var f=new u,h=f[o](i?{}:-0,1)!=f,d=j((function(){f.has(1)})),p=Zi((function(t){new a(t)})),v=!i&&j((function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)}));p||((u=e((function(t,e){Lr(t,s);var r=to(new a,t,u);return null!=e&&Sn(e,r[o],{that:r,AS_ENTRIES:n}),r}))).prototype=s,s.constructor=u),(d||v)&&(l("delete"),l("has"),n&&l("get")),(v||h)&&l(o),i&&s.clear&&delete s.clear}return c[t]=u,rr({global:!0,forced:u!=a},c),jn(u,t),i||r.setStrong(u,t,n),u},ro=function(t,e,r){for(var n in e)Oe(t,n,e[n],r);return t},no=Lt("species"),io=function(t){var e=tt(t),r=te.f;k&&e&&!e[no]&&r(e,no,{configurable:!0,get:function(){return this}})},oo=te.f,ao=Ki.fastKey,so=we.set,uo=we.getterFor,co={getConstructor:function(t,e,r,n){var i=t((function(t,i){Lr(t,o),so(t,{type:e,index:Kr(null),first:void 0,last:void 0,size:0}),k||(t.size=0),null!=i&&Sn(i,t[n],{that:t,AS_ENTRIES:r})})),o=i.prototype,a=uo(e),s=function(t,e,r){var n,i,o=a(t),s=u(t,e);return s?s.value=r:(o.last=s={index:i=ao(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=s),n&&(n.next=s),k?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},u=function(t,e){var r,n=a(t),i=ao(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return ro(o,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,k?t.size=0:this.size=0},delete:function(t){var e=this,r=a(e),n=u(e,t);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),k?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=a(this),n=fn(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!u(this,t)}}),ro(o,r?{get:function(t){var e=u(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),k&&oo(o,"size",{get:function(){return a(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=uo(e),o=uo(n);Pi(t,e,(function(t,e){so(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),io(e)}};eo("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),co);var lo=R.String,fo=function(t){if("Symbol"===lr(t))throw TypeError("Cannot convert a Symbol value to a string");return lo(t)},ho=V("".charAt),po=V("".charCodeAt),vo=V("".slice),yo=function(t){return function(e,r){var n,i,o=fo(W(e)),a=je(r),s=o.length;return a<0||a>=s?t?"":void 0:(n=po(o,a))<55296||n>56319||a+1===s||(i=po(o,a+1))<56320||i>57343?t?ho(o,a):n:t?vo(o,a,a+2):i-56320+(n-55296<<10)+65536}},go={codeAt:yo(!1),charAt:yo(!0)},bo=go.charAt,mo="String Iterator",wo=we.set,_o=we.getterFor(mo);Pi(String,"String",(function(t){wo(this,{type:mo,string:fo(t),index:0})}),(function(){var t,e=_o(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=bo(r,n),e.index+=t.length,{value:t,done:!1})})),rr({target:"Set",proto:!0,real:!0,forced:bt},{addAll:function(){for(var t=Yt(this),e=vt(t.add),r=0,n=arguments.length;r<n;r++)A(e,t,arguments[r]);return t}});var xo=function(){for(var t,e=Yt(this),r=vt(e.delete),n=!0,i=0,o=arguments.length;i<o;i++)t=A(r,e,arguments[i]),n=n&&t;return!!n};rr({target:"Set",proto:!0,real:!0,forced:bt},{deleteAll:xo});var Eo=Lt("species"),So=function(t,e){var r,n=Yt(t).constructor;return void 0===n||null==(r=Yt(n)[Eo])?e:qn(r)};rr({target:"Set",proto:!0,real:!0,forced:bt},{difference:function(t){var e=Yt(this),r=new(So(e,tt("Set")))(e),n=vt(r.delete);return Sn(t,(function(t){A(n,r,t)})),r}});var Oo=function(t){return A(Set.prototype.values,t)};rr({target:"Set",proto:!0,real:!0,forced:bt},{every:function(t){var e=Yt(this),r=Oo(e),n=fn(t,arguments.length>1?arguments[1]:void 0);return!Sn(r,(function(t,r){if(!n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{filter:function(t){var e=Yt(this),r=Oo(e),n=fn(t,arguments.length>1?arguments[1]:void 0),i=new(So(e,tt("Set"))),o=vt(i.add);return Sn(r,(function(t){n(t,t,e)&&A(o,i,t)}),{IS_ITERATOR:!0}),i}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{find:function(t){var e=Yt(this),r=Oo(e),n=fn(t,arguments.length>1?arguments[1]:void 0);return Sn(r,(function(t,r){if(n(t,t,e))return r(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{intersection:function(t){var e=Yt(this),r=new(So(e,tt("Set"))),n=vt(e.has),i=vt(r.add);return Sn(t,(function(t){A(n,e,t)&&A(i,r,t)})),r}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{isDisjointFrom:function(t){var e=Yt(this),r=vt(e.has);return!Sn(t,(function(t,n){if(!0===A(r,e,t))return n()}),{INTERRUPTED:!0}).stopped}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{isSubsetOf:function(t){var e=mn(this),r=Yt(t),n=r.has;return Q(n)||(r=new(tt("Set"))(t),n=vt(r.has)),!Sn(e,(function(t,e){if(!1===A(n,r,t))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{isSupersetOf:function(t){var e=Yt(this),r=vt(e.has);return!Sn(t,(function(t,n){if(!1===A(r,e,t))return n()}),{INTERRUPTED:!0}).stopped}});var Io=V([].join),Ro=[].push;rr({target:"Set",proto:!0,real:!0,forced:bt},{join:function(t){var e=Yt(this),r=Oo(e),n=void 0===t?",":fo(t),i=[];return Sn(r,Ro,{that:i,IS_ITERATOR:!0}),Io(i,n)}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{map:function(t){var e=Yt(this),r=Oo(e),n=fn(t,arguments.length>1?arguments[1]:void 0),i=new(So(e,tt("Set"))),o=vt(i.add);return Sn(r,(function(t){A(o,i,n(t,t,e))}),{IS_ITERATOR:!0}),i}});var jo=R.TypeError;rr({target:"Set",proto:!0,real:!0,forced:bt},{reduce:function(t){var e=Yt(this),r=Oo(e),n=arguments.length<2,i=n?void 0:arguments[1];if(vt(t),Sn(r,(function(r){n?(n=!1,i=r):i=t(i,r,r,e)}),{IS_ITERATOR:!0}),n)throw jo("Reduce of empty set with no initial value");return i}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{some:function(t){var e=Yt(this),r=Oo(e),n=fn(t,arguments.length>1?arguments[1]:void 0);return Sn(r,(function(t,r){if(n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{symmetricDifference:function(t){var e=Yt(this),r=new(So(e,tt("Set")))(e),n=vt(r.delete),i=vt(r.add);return Sn(t,(function(t){A(n,r,t)||A(i,r,t)})),r}}),rr({target:"Set",proto:!0,real:!0,forced:bt},{union:function(t){var e=Yt(this),r=new(So(e,tt("Set")))(e);return Sn(t,vt(r.add),{that:r}),r}});var ko={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},To=Gt("span").classList,Ao=To&&To.constructor&&To.constructor.prototype,Co=Ao===Object.prototype?void 0:Ao,Po=Lt("iterator"),Do=Lt("toStringTag"),No=Mi.values,Lo=function(t,e){if(t){if(t[Po]!==No)try{ee(t,Po,No)}catch(e){t[Po]=No}if(t[Do]||ee(t,Do,e),ko[e])for(var r in Mi)if(t[r]!==Mi[r])try{ee(t,r,Mi[r])}catch(e){t[r]=Mi[r]}}};for(var Mo in ko)Lo(R[Mo]&&R[Mo].prototype,Mo);Lo(Co,"DOMTokenList");var Uo=Gi.f,Fo=j((function(){return!Object.getOwnPropertyNames(1)}));rr({target:"Object",stat:!0,forced:Fo},{getOwnPropertyNames:Uo});var Bo=V([].push),Vo=function(t){var e=1==t,r=2==t,n=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,f){for(var h,d,p=Ot(u),v=H(p),y=fn(c,l),g=De(v),b=0,m=f||_r,w=e?m(u,g):r||a?m(u,0):void 0;g>b;b++)if((s||b in v)&&(d=y(h=v[b],b,p),t))if(e)w[b]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return b;case 2:Bo(w,h)}else switch(t){case 4:return!1;case 7:Bo(w,h)}return o?-1:n||i?i:w}},qo={forEach:Vo(0),map:Vo(1),filter:Vo(2),some:Vo(3),every:Vo(4),find:Vo(5),findIndex:Vo(6),filterReject:Vo(7)},Go=Ki.getWeakData,$o=we.set,Jo=we.getterFor,zo=qo.find,Ho=qo.findIndex,Ko=V([].splice),Wo=0,Yo=function(t){return t.frozen||(t.frozen=new Qo)},Qo=function(){this.entries=[]},Xo=function(t,e){return zo(t.entries,(function(t){return t[0]===e}))};Qo.prototype={get:function(t){var e=Xo(this,t);if(e)return e[1]},has:function(t){return!!Xo(this,t)},set:function(t,e){var r=Xo(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=Ho(this.entries,(function(e){return e[0]===t}));return~e&&Ko(this.entries,e,1),!!~e}};var Zo,ta={getConstructor:function(t,e,r,n){var i=t((function(t,i){Lr(t,o),$o(t,{type:e,id:Wo++,frozen:void 0}),null!=i&&Sn(i,t[n],{that:t,AS_ENTRIES:r})})),o=i.prototype,a=Jo(e),s=function(t,e,r){var n=a(t),i=Go(Yt(e),!0);return!0===i?Yo(n).set(e,r):i[n.id]=r,t};return ro(o,{delete:function(t){var e=a(this);if(!X(t))return!1;var r=Go(t);return!0===r?Yo(e).delete(t):r&&Rt(r,e.id)&&delete r[e.id]},has:function(t){var e=a(this);if(!X(t))return!1;var r=Go(t);return!0===r?Yo(e).has(t):r&&Rt(r,e.id)}}),ro(o,r?{get:function(t){var e=a(this);if(X(t)){var r=Go(t);return!0===r?Yo(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),i}},ea=we.enforce,ra=!R.ActiveXObject&&"ActiveXObject"in R,na=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},ia=eo("WeakMap",na,ta);if(ue&&ra){Zo=ta.getConstructor(na,"WeakMap",!0),Ki.enable();var oa=ia.prototype,aa=V(oa.delete),sa=V(oa.has),ua=V(oa.get),ca=V(oa.set);ro(oa,{delete:function(t){if(X(t)&&!zi(t)){var e=ea(this);return e.frozen||(e.frozen=new Zo),aa(this,t)||e.frozen.delete(t)}return aa(this,t)},has:function(t){if(X(t)&&!zi(t)){var e=ea(this);return e.frozen||(e.frozen=new Zo),sa(this,t)||e.frozen.has(t)}return sa(this,t)},get:function(t){if(X(t)&&!zi(t)){var e=ea(this);return e.frozen||(e.frozen=new Zo),sa(this,t)?ua(this,t):e.frozen.get(t)}return ua(this,t)},set:function(t,e){if(X(t)&&!zi(t)){var r=ea(this);r.frozen||(r.frozen=new Zo),sa(this,t)?ca(this,t,e):r.frozen.set(t,e)}else ca(this,t,e);return this}})}rr({target:"WeakMap",proto:!0,real:!0,forced:bt},{deleteAll:xo});var la=function(t,e){var r=Yt(this),n=vt(r.get),i=vt(r.has),o=vt(r.set),a=A(i,r,t)&&"update"in e?e.update(A(n,r,t),t,r):e.insert(t,r);return A(o,r,t,a),a};rr({target:"WeakMap",proto:!0,real:!0,forced:bt},{emplace:la});var fa=Er("slice"),ha=Lt("species"),da=R.Array,pa=Math.max;rr({target:"Array",proto:!0,forced:!fa},{slice:function(t,e){var r,n,i,o=Y(this),a=De(o),s=Ae(t,a),u=Ae(void 0===e?a:e,a);if(nr(o)&&(r=o.constructor,(br(r)&&(r===da||nr(r.prototype))||X(r)&&null===(r=r[ha]))&&(r=void 0),r===da||void 0===r))return Dn(o,s,u);for(n=new(void 0===r?da:r)(pa(u-s,0)),i=0;s<u;s++,i++)s in o&&ir(n,i,o[s]);return n.length=i,n}});var va=function(t,e,r,n){try{return n?e(Yt(r)[0],r[1]):e(r)}catch(e){wn(t,"throw",e)}},ya=R.Array,ga=function(t){var e=Ot(t),r=br(this),n=arguments.length,i=n>1?arguments[1]:void 0,o=void 0!==i;o&&(i=fn(i,n>2?arguments[2]:void 0));var a,s,u,c,l,f,h=gn(e),d=0;if(!h||this==ya&&vn(h))for(a=De(e),s=r?new this(a):ya(a);a>d;d++)f=o?i(e[d],d):e[d],ir(s,d,f);else for(l=(c=mn(e,h)).next,s=r?new this:[];!(u=A(l,c)).done;d++)f=o?va(c,i,[u.value,d],!0):u.value,ir(s,d,f);return s.length=d,s},ba=!Zi((function(t){Array.from(t)}));rr({target:"Array",stat:!0,forced:ba},{from:ga});var ma=function(){var t=Yt(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},wa=R.RegExp,_a=j((function(){var t=wa("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),xa=_a||j((function(){return!wa("a","y").sticky})),Ea=_a||j((function(){var t=wa("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),Sa={BROKEN_CARET:Ea,MISSED_STICKY:xa,UNSUPPORTED_Y:_a},Oa=R.RegExp,Ia=j((function(){var t=Oa(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),Ra=R.RegExp,ja=j((function(){var t=Ra("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),ka=we.get,Ta=Et("native-string-replace",String.prototype.replace),Aa=RegExp.prototype.exec,Ca=Aa,Pa=V("".charAt),Da=V("".indexOf),Na=V("".replace),La=V("".slice),Ma=function(){var t=/a/,e=/b*/g;return A(Aa,t,"a"),A(Aa,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),Ua=Sa.BROKEN_CARET,Fa=void 0!==/()??/.exec("")[1];(Ma||Fa||Ua||Ia||ja)&&(Ca=function(t){var e,r,n,i,o,a,s,u=this,c=ka(u),l=fo(t),f=c.raw;if(f)return f.lastIndex=u.lastIndex,e=A(Ca,f,l),u.lastIndex=f.lastIndex,e;var h=c.groups,d=Ua&&u.sticky,p=A(ma,u),v=u.source,y=0,g=l;if(d&&(p=Na(p,"y",""),-1===Da(p,"g")&&(p+="g"),g=La(l,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==Pa(l,u.lastIndex-1))&&(v="(?: "+v+")",g=" "+g,y++),r=new RegExp("^(?:"+v+")",p)),Fa&&(r=new RegExp("^"+v+"$(?!\\s)",p)),Ma&&(n=u.lastIndex),i=A(Aa,d?r:u,g),d?i?(i.input=La(i.input,y),i[0]=La(i[0],y),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:Ma&&i&&(u.lastIndex=u.global?i.index+i[0].length:n),Fa&&i&&i.length>1&&A(Ta,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&h)for(i.groups=a=Kr(null),o=0;o<h.length;o++)a[(s=h[o])[0]]=i[s[1]];return i});var Ba=Ca;rr({target:"RegExp",proto:!0,forced:/./.exec!==Ba},{exec:Ba});var Va,qa,Ga=(Va=!1,(qa=/[ac]/).exec=function(){return Va=!0,/./.exec.apply(this,arguments)},!0===qa.test("abc")&&Va),$a=R.Error,Ja=V(/./.test);function za(t){if(Array.isArray(t))return t}function Ha(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ka(t,e){if(t){if("string"==typeof t)return Ha(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ha(t,e):void 0}}function Wa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ya(t,e){return za(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,e)||Ka(t,e)||Wa()}function Qa(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Xa(t){return function(t){if(Array.isArray(t))return Ha(t)}(t)||Qa(t)||Ka(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}rr({target:"RegExp",proto:!0,forced:!Ga},{test:function(t){var e=this.exec;if(!Q(e))return Ja(this,t);var r=A(e,this,t);if(null!==r&&!X(r))throw new $a("RegExp exec method returned something other than an Object or null");return!!r}});var Za=E((function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new j(n||[]);return o._invoke=function(t,e,r){var n=f;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return T()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function b(){}var m={};u(m,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(k([])));_&&_!==r&&n.call(_,o)&&(m=_);var x=b.prototype=y.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function O(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function k(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return g.prototype=b,u(x,"constructor",b),u(b,"constructor",g),g.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(S.prototype),u(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new S(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),u(x,s,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),ts=Za;eo("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),co),rr({target:"Map",proto:!0,real:!0,forced:bt},{deleteAll:xo}),rr({target:"Map",proto:!0,real:!0,forced:bt},{emplace:la});var es=function(t){return A(Map.prototype.entries,t)};rr({target:"Map",proto:!0,real:!0,forced:bt},{every:function(t){var e=Yt(this),r=es(e),n=fn(t,arguments.length>1?arguments[1]:void 0);return!Sn(r,(function(t,r,i){if(!n(r,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),rr({target:"Map",proto:!0,real:!0,forced:bt},{filter:function(t){var e=Yt(this),r=es(e),n=fn(t,arguments.length>1?arguments[1]:void 0),i=new(So(e,tt("Map"))),o=vt(i.set);return Sn(r,(function(t,r){n(r,t,e)&&A(o,i,t,r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),rr({target:"Map",proto:!0,real:!0,forced:bt},{find:function(t){var e=Yt(this),r=es(e),n=fn(t,arguments.length>1?arguments[1]:void 0);return Sn(r,(function(t,r,i){if(n(r,t,e))return i(r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),rr({target:"Map",proto:!0,real:!0,forced:bt},{findKey:function(t){var e=Yt(this),r=es(e),n=fn(t,arguments.length>1?arguments[1]:void 0);return Sn(r,(function(t,r,i){if(n(r,t,e))return i(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),rr({target:"Map",proto:!0,real:!0,forced:bt},{includes:function(t){return Sn(es(Yt(this)),(function(e,r,n){if(function(t,e){return t===e||t!=t&&e!=e}(r,t))return n()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),rr({target:"Map",proto:!0,real:!0,forced:bt},{keyOf:function(t){return Sn(es(Yt(this)),(function(e,r,n){if(r===t)return n(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),rr({target:"Map",proto:!0,real:!0,forced:bt},{mapKeys:function(t){var e=Yt(this),r=es(e),n=fn(t,arguments.length>1?arguments[1]:void 0),i=new(So(e,tt("Map"))),o=vt(i.set);return Sn(r,(function(t,r){A(o,i,n(r,t,e),r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),rr({target:"Map",proto:!0,real:!0,forced:bt},{mapValues:function(t){var e=Yt(this),r=es(e),n=fn(t,arguments.length>1?arguments[1]:void 0),i=new(So(e,tt("Map"))),o=vt(i.set);return Sn(r,(function(t,r){A(o,i,t,n(r,t,e))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),rr({target:"Map",proto:!0,real:!0,forced:bt},{merge:function(t){for(var e=Yt(this),r=vt(e.set),n=arguments.length,i=0;i<n;)Sn(arguments[i++],r,{that:e,AS_ENTRIES:!0});return e}});var rs=R.TypeError;rr({target:"Map",proto:!0,real:!0,forced:bt},{reduce:function(t){var e=Yt(this),r=es(e),n=arguments.length<2,i=n?void 0:arguments[1];if(vt(t),Sn(r,(function(r,o){n?(n=!1,i=o):i=t(i,o,r,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),n)throw rs("Reduce of empty map with no initial value");return i}}),rr({target:"Map",proto:!0,real:!0,forced:bt},{some:function(t){var e=Yt(this),r=es(e),n=fn(t,arguments.length>1?arguments[1]:void 0);return Sn(r,(function(t,r,i){if(n(r,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var ns=R.TypeError;rr({target:"Map",proto:!0,real:!0,forced:bt},{update:function(t,e){var r=Yt(this),n=vt(r.get),i=vt(r.has),o=vt(r.set),a=arguments.length;vt(e);var s=A(i,r,t);if(!s&&a<3)throw ns("Updating absent value");var u=s?A(n,r,t):vt(a>2?arguments[2]:void 0)(t,r);return A(o,r,t,e(u,t,r)),r}});var is=R,os={f:Lt},as=te.f,ss=function(t){var e=is.Symbol||(is.Symbol={});Rt(e,t)||as(e,t,{value:os.f(t)})};ss("iterator");var us=qo.forEach,cs=le("hidden"),ls="Symbol",fs=Lt("toPrimitive"),hs=we.set,ds=we.getterFor(ls),ps=Object.prototype,vs=R.Symbol,ys=vs&&vs.prototype,gs=R.TypeError,bs=R.QObject,ms=tt("JSON","stringify"),ws=Ht.f,_s=te.f,xs=Gi.f,Es=N.f,Ss=V([].push),Os=Et("symbols"),Is=Et("op-symbols"),Rs=Et("string-to-symbol-registry"),js=Et("symbol-to-string-registry"),ks=Et("wks"),Ts=!bs||!bs.prototype||!bs.prototype.findChild,As=k&&j((function(){return 7!=Kr(_s({},"a",{get:function(){return _s(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=ws(ps,e);n&&delete ps[e],_s(t,e,r),n&&t!==ps&&_s(ps,e,n)}:_s,Cs=function(t,e){var r=Os[t]=Kr(ys);return hs(r,{type:ls,tag:t,description:e}),k||(r.description=e),r},Ps=function(t,e,r){t===ps&&Ps(Is,e,r),Yt(t);var n=Bt(e);return Yt(r),Rt(Os,n)?(r.enumerable?(Rt(t,cs)&&t[cs][n]&&(t[cs][n]=!1),r=Kr(r,{enumerable:L(0,!1)})):(Rt(t,cs)||_s(t,cs,L(1,{})),t[cs][n]=!0),As(t,n,r)):_s(t,n,r)},Ds=function(t,e){Yt(t);var r=Y(e),n=Mr(r).concat(Us(r));return us(n,(function(e){k&&!A(Ns,r,e)||Ps(t,e,r[e])})),t},Ns=function(t){var e=Bt(t),r=A(Es,this,e);return!(this===ps&&Rt(Os,e)&&!Rt(Is,e))&&(!(r||!Rt(this,e)||!Rt(Os,e)||Rt(this,cs)&&this[cs][e])||r)},Ls=function(t,e){var r=Y(t),n=Bt(e);if(r!==ps||!Rt(Os,n)||Rt(Is,n)){var i=ws(r,n);return!i||!Rt(Os,n)||Rt(r,cs)&&r[cs][n]||(i.enumerable=!0),i}},Ms=function(t){var e=xs(Y(t)),r=[];return us(e,(function(t){Rt(Os,t)||Rt(fe,t)||Ss(r,t)})),r},Us=function(t){var e=t===ps,r=xs(e?Is:Y(t)),n=[];return us(r,(function(t){!Rt(Os,t)||e&&!Rt(ps,t)||Ss(n,Os[t])})),n};if(ut||(vs=function(){if(et(ys,this))throw gs("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?fo(arguments[0]):void 0,e=At(t),r=function(t){this===ps&&A(r,Is,t),Rt(this,cs)&&Rt(this[cs],e)&&(this[cs][e]=!1),As(this,e,L(1,t))};return k&&Ts&&As(ps,e,{configurable:!0,set:r}),Cs(e,t)},ys=vs.prototype,Oe(ys,"toString",(function(){return ds(this).tag})),Oe(vs,"withoutSetter",(function(t){return Cs(At(t),t)})),N.f=Ns,te.f=Ps,Ht.f=Ls,Ge.f=Gi.f=Ms,$e.f=Us,os.f=function(t){return Cs(Lt(t),t)},k&&(_s(ys,"description",{configurable:!0,get:function(){return ds(this).description}}),Oe(ps,"propertyIsEnumerable",Ns,{unsafe:!0}))),rr({global:!0,wrap:!0,forced:!ut,sham:!ut},{Symbol:vs}),us(Mr(ks),(function(t){ss(t)})),rr({target:ls,stat:!0,forced:!ut},{for:function(t){var e=fo(t);if(Rt(Rs,e))return Rs[e];var r=vs(e);return Rs[e]=r,js[r]=e,r},keyFor:function(t){if(!ft(t))throw gs(t+" is not a symbol");if(Rt(js,t))return js[t]},useSetter:function(){Ts=!0},useSimple:function(){Ts=!1}}),rr({target:"Object",stat:!0,forced:!ut,sham:!k},{create:function(t,e){return void 0===e?Kr(t):Ds(Kr(t),e)},defineProperty:Ps,defineProperties:Ds,getOwnPropertyDescriptor:Ls}),rr({target:"Object",stat:!0,forced:!ut},{getOwnPropertyNames:Ms,getOwnPropertySymbols:Us}),rr({target:"Object",stat:!0,forced:j((function(){$e.f(1)}))},{getOwnPropertySymbols:function(t){return $e.f(Ot(t))}}),ms){var Fs=!ut||j((function(){var t=vs();return"[null]"!=ms([t])||"{}"!=ms({a:t})||"{}"!=ms(Object(t))}));rr({target:"JSON",stat:!0,forced:Fs},{stringify:function(t,e,r){var n=Dn(arguments),i=e;if((X(e)||void 0!==t)&&!ft(t))return nr(e)||(e=function(t,e){if(Q(i)&&(e=A(i,this,t,e)),!ft(e))return e}),n[1]=e,Pn(ms,null,n)}})}if(!ys[fs]){var Bs=ys.valueOf;Oe(ys,fs,(function(t){return A(Bs,this)}))}jn(vs,ls),fe[cs]=!0;var Vs=te.f,qs=R.Symbol,Gs=qs&&qs.prototype;if(k&&Q(qs)&&(!("description"in Gs)||void 0!==qs().description)){var $s={},Js=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:fo(arguments[0]),e=et(Gs,this)?new qs(t):void 0===t?qs():qs(t);return""===t&&($s[e]=!0),e};He(Js,qs),Js.prototype=Gs,Gs.constructor=Js;var zs="Symbol(test)"==String(qs("test")),Hs=V(Gs.toString),Ks=V(Gs.valueOf),Ws=/^Symbol\((.*)\)[^)]+$/,Ys=V("".replace),Qs=V("".slice);Vs(Gs,"description",{configurable:!0,get:function(){var t=Ks(this),e=Hs(t);if(Rt($s,t))return"";var r=zs?Qs(e,7,-1):Ys(e,Ws,"$1");return""===r?void 0:r}}),rr({global:!0,forced:!0},{Symbol:Js})}function Xs(t){return Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(t)}var Zs=j((function(){Mr(1)}));rr({target:"Object",stat:!0,forced:Zs},{keys:function(t){return Mr(Ot(t))}});var tu=R.TypeError,eu=function(t){var e=0==t,r=1==t,n=2==t,i=3==t;return function(t,o,a){Yt(t);var s=tt("Promise"),u=vt(t.next),c=0,l=void 0!==o;return!l&&e||vt(o),new s((function(f,h){var d=function(e,r){try{var n=yt(t,"return");if(n)return s.resolve(A(n,t)).then((function(){e(r)}),(function(t){h(t)}))}catch(t){return h(t)}e(r)},p=function(t){d(h,t)},v=function(){try{if(e&&c>9007199254740991&&l)throw tu("The allowed number of iterations has been exceeded");s.resolve(Yt(A(u,t))).then((function(t){try{if(Yt(t).done)e?(a.length=c,f(a)):f(!i&&(n||void 0));else{var u=t.value;l?s.resolve(e?o(u,c):o(u)).then((function(t){r?v():n?t?v():d(f,!1):e?(a[c++]=t,v()):t?d(f,i||u):v()}),p):(a[c++]=u,v())}}catch(t){p(t)}}),p)}catch(t){p(t)}};v()}))}},ru={toArray:eu(0),forEach:eu(1),every:eu(2),some:eu(3),find:eu(4)},nu=ru.some;rr({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return nu(this,t)}}),rr({target:"Iterator",proto:!0,real:!0},{some:function(t){return Yt(this),vt(t),Sn(this,(function(e,r){if(t(e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var iu=N.f,ou=V(iu),au=V([].push),su=function(t){return function(e){for(var r,n=Y(e),i=Mr(n),o=i.length,a=0,s=[];o>a;)r=i[a++],k&&!ou(n,r)||au(s,t?[r,n[r]]:n[r]);return s}},uu={entries:su(!0),values:su(!1)},cu=uu.entries;rr({target:"Object",stat:!0},{entries:function(t){return cu(t)}});var lu=qo.filter,fu=Er("filter");rr({target:"Array",proto:!0,forced:!fu},{filter:function(t){return lu(this,t,arguments.length>1?arguments[1]:void 0)}});var hu,du,pu=Lt("asyncIterator"),vu=R.AsyncIterator,yu=xt.AsyncIteratorPrototype;if(yu)hu=yu;else if(Q(vu))hu=vu.prototype;else if(xt.USE_FUNCTION_CONSTRUCTOR||R.USE_FUNCTION_CONSTRUCTOR)try{du=Zr(Zr(Zr(Function("return async function*(){}()")()))),Zr(du)===Object.prototype&&(hu=du)}catch(e){}hu||(hu={}),Q(hu[pu])||Oe(hu,pu,(function(){return this}));var gu=hu,bu=tt("Promise"),mu="AsyncIteratorProxy",wu=we.set,_u=we.getterFor(mu),xu=Lt("toStringTag"),Eu=function(t,e){var r=function(t){t.type=mu,t.next=vt(t.iterator.next),t.done=!1,t.ignoreArgument=!e,wu(this,t)};return r.prototype=ro(Kr(gu),{next:function(r){var n=this,i=!!arguments.length;return new bu((function(o){var a=_u(n),s=i?[a.ignoreArgument?void 0:r]:e?[]:[void 0];a.ignoreArgument=!1,o(a.done?{done:!0,value:void 0}:Yt(A(t,a,bu,s)))}))},return:function(t){var e=this;return new bu((function(r,n){var i=_u(e),o=i.iterator;i.done=!0;var a=yt(o,"return");if(void 0===a)return r({done:!0,value:t});bu.resolve(A(a,o,t)).then((function(e){Yt(e),r({done:!0,value:t})}),n)}))},throw:function(t){var e=this;return new bu((function(r,n){var i=_u(e),o=i.iterator;i.done=!0;var a=yt(o,"throw");if(void 0===a)return n(t);r(A(a,o,t))}))}}),e||ee(r.prototype,xu,"Generator"),r},Su=Eu((function(t,e){var r=this,n=r.filterer;return new t((function(i,o){var a=function(){try{t.resolve(Yt(Pn(r.next,r.iterator,e))).then((function(e){try{if(Yt(e).done)r.done=!0,i({done:!0,value:void 0});else{var s=e.value;t.resolve(n(s)).then((function(t){t?i({done:!1,value:s}):a()}),o)}}catch(t){o(t)}}),o)}catch(t){o(t)}};a()}))}));rr({target:"AsyncIterator",proto:!0,real:!0},{filter:function(t){return new Su({iterator:Yt(this),filterer:vt(t)})}});var Ou=nn.IteratorPrototype,Iu="IteratorProxy",Ru=we.set,ju=we.getterFor(Iu),ku=Lt("toStringTag"),Tu=function(t,e){var r=function(t){t.type=Iu,t.next=vt(t.iterator.next),t.done=!1,t.ignoreArg=!e,Ru(this,t)};return r.prototype=ro(Kr(Ou),{next:function(r){var n=ju(this),i=arguments.length?[n.ignoreArg?void 0:r]:e?[]:[void 0];n.ignoreArg=!1;var o=n.done?void 0:A(t,n,i);return{done:n.done,value:o}},return:function(t){var e=ju(this),r=e.iterator;e.done=!0;var n=yt(r,"return");return{done:!0,value:n?Yt(A(n,r,t)).value:t}},throw:function(t){var e=ju(this),r=e.iterator;e.done=!0;var n=yt(r,"throw");if(n)return A(n,r,t);throw t}}),e||ee(r.prototype,ku,"Generator"),r},Au=Tu((function(t){for(var e,r,n=this.iterator,i=this.filterer,o=this.next;;){if(e=Yt(Pn(o,n,t)),this.done=!!e.done)return;if(r=e.value,va(n,i,r))return r}}));rr({target:"Iterator",proto:!0,real:!0},{filter:function(t){return new Au({iterator:Yt(this),filterer:vt(t)})}});var Cu=Ht.f,Pu=j((function(){Cu(1)}));rr({target:"Object",stat:!0,forced:!k||Pu,sham:!k},{getOwnPropertyDescriptor:function(t,e){return Cu(Y(t),e)}});var Du=ru.forEach;rr({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return Du(this,t)}}),rr({target:"Iterator",proto:!0,real:!0},{forEach:function(t){Sn(Yt(this),t,{IS_ITERATOR:!0})}});var Nu=function(t,e){var r=[][t];return!!r&&j((function(){r.call(null,e||function(){throw 1},1)}))},Lu=qo.forEach,Mu=Nu("forEach")?[].forEach:function(t){return Lu(this,t,arguments.length>1?arguments[1]:void 0)},Uu=function(t){if(t&&t.forEach!==Mu)try{ee(t,"forEach",Mu)}catch(r){t.forEach=Mu}};for(var Fu in ko)ko[Fu]&&Uu(R[Fu]&&R[Fu].prototype);function Bu(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Vu(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Bu(o,n,i,a,s,"next",t)}function s(t){Bu(o,n,i,a,s,"throw",t)}a(void 0)}))}}Uu(Co),rr({target:"Object",stat:!0,sham:!k},{getOwnPropertyDescriptors:function(t){for(var e,r,n=Y(t),i=Ht.f,o=ze(n),a={},s=0;o.length>s;)void 0!==(r=i(n,e=o[s++]))&&ir(a,e,r);return a}});var qu,Gu,$u,Ju,zu=R.Promise,Hu=/(?:ipad|iphone|ipod).*applewebkit/i.test(rt),Ku="process"==$(R.process),Wu=R.setImmediate,Yu=R.clearImmediate,Qu=R.process,Xu=R.Dispatch,Zu=R.Function,tc=R.MessageChannel,ec=R.String,rc=0,nc={},ic="onreadystatechange";try{qu=R.location}catch(e){}var oc=function(t){if(Rt(nc,t)){var e=nc[t];delete nc[t],e()}},ac=function(t){return function(){oc(t)}},sc=function(t){oc(t.data)},uc=function(t){R.postMessage(ec(t),qu.protocol+"//"+qu.host)};Wu&&Yu||(Wu=function(t){var e=Dn(arguments,1);return nc[++rc]=function(){Pn(Q(t)?t:Zu(t),void 0,e)},Gu(rc),rc},Yu=function(t){delete nc[t]},Ku?Gu=function(t){Qu.nextTick(ac(t))}:Xu&&Xu.now?Gu=function(t){Xu.now(ac(t))}:tc&&!Hu?(Ju=($u=new tc).port2,$u.port1.onmessage=sc,Gu=fn(Ju.postMessage,Ju)):R.addEventListener&&Q(R.postMessage)&&!R.importScripts&&qu&&"file:"!==qu.protocol&&!j(uc)?(Gu=uc,R.addEventListener("message",sc,!1)):Gu=ic in Gt("script")?function(t){Fr.appendChild(Gt("script")).onreadystatechange=function(){Fr.removeChild(this),oc(t)}}:function(t){setTimeout(ac(t),0)});var cc,lc,fc,hc,dc,pc,vc,yc,gc={set:Wu,clear:Yu},bc=/ipad|iphone|ipod/i.test(rt)&&void 0!==R.Pebble,mc=/web0s(?!.*chrome)/i.test(rt),wc=Ht.f,_c=gc.set,xc=R.MutationObserver||R.WebKitMutationObserver,Ec=R.document,Sc=R.process,Oc=R.Promise,Ic=wc(R,"queueMicrotask"),Rc=Ic&&Ic.value;Rc||(cc=function(){var t,e;for(Ku&&(t=Sc.domain)&&t.exit();lc;){e=lc.fn,lc=lc.next;try{e()}catch(t){throw lc?hc():fc=void 0,t}}fc=void 0,t&&t.enter()},Hu||Ku||mc||!xc||!Ec?!bc&&Oc&&Oc.resolve?((vc=Oc.resolve(void 0)).constructor=Oc,yc=fn(vc.then,vc),hc=function(){yc(cc)}):Ku?hc=function(){Sc.nextTick(cc)}:(_c=fn(_c,R),hc=function(){_c(cc)}):(dc=!0,pc=Ec.createTextNode(""),new xc(cc).observe(pc,{characterData:!0}),hc=function(){pc.data=dc=!dc}));var jc,kc,Tc,Ac,Cc=Rc||function(t){var e={fn:t,next:void 0};fc&&(fc.next=e),lc||(lc=e,hc()),fc=e},Pc=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=vt(e),this.reject=vt(r)},Dc={f:function(t){return new Pc(t)}},Nc=function(t,e){if(Yt(t),X(e)&&e.constructor===t)return e;var r=Dc.f(t);return(0,r.resolve)(e),r.promise},Lc=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Mc="object"==typeof window,Uc=gc.set,Fc=Lt("species"),Bc="Promise",Vc=we.getterFor(Bc),qc=we.set,Gc=we.getterFor(Bc),$c=zu&&zu.prototype,Jc=zu,zc=$c,Hc=R.TypeError,Kc=R.document,Wc=R.process,Yc=Dc.f,Qc=Yc,Xc=!!(Kc&&Kc.createEvent&&R.dispatchEvent),Zc=Q(R.PromiseRejectionEvent),tl="unhandledrejection",el=!1,rl=tr(Bc,(function(){var t=ae(Jc),e=t!==String(Jc);if(!e&&66===st)return!0;if(st>=51&&/native code/.test(t))return!1;var r=new Jc((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[Fc]=n,!(el=r.then((function(){}))instanceof n)||!e&&Mc&&!Zc})),nl=rl||!Zi((function(t){Jc.all(t).catch((function(){}))})),il=function(t){var e;return!(!X(t)||!Q(e=t.then))&&e},ol=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;Cc((function(){for(var n=t.value,i=1==t.state,o=0;r.length>o;){var a,s,u,c=r[o++],l=i?c.ok:c.fail,f=c.resolve,h=c.reject,d=c.domain;try{l?(i||(2===t.rejection&&cl(t),t.rejection=1),!0===l?a=n:(d&&d.enter(),a=l(n),d&&(d.exit(),u=!0)),a===c.promise?h(Hc("Promise-chain cycle")):(s=il(a))?A(s,a,f,h):f(a)):h(n)}catch(t){d&&!u&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&sl(t)}))}},al=function(t,e,r){var n,i;Xc?((n=Kc.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),R.dispatchEvent(n)):n={promise:e,reason:r},!Zc&&(i=R["on"+t])?i(n):t===tl&&function(t,e){var r=R.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},sl=function(t){A(Uc,R,(function(){var e,r=t.facade,n=t.value;if(ul(t)&&(e=Lc((function(){Ku?Wc.emit("unhandledRejection",n,r):al(tl,r,n)})),t.rejection=Ku||ul(t)?2:1,e.error))throw e.value}))},ul=function(t){return 1!==t.rejection&&!t.parent},cl=function(t){A(Uc,R,(function(){var e=t.facade;Ku?Wc.emit("rejectionHandled",e):al("rejectionhandled",e,t.value)}))},ll=function(t,e,r){return function(n){t(e,n,r)}},fl=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,ol(t,!0))},hl=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw Hc("Promise can't be resolved itself");var n=il(e);n?Cc((function(){var r={done:!1};try{A(n,e,ll(hl,r,t),ll(fl,r,t))}catch(e){fl(r,e,t)}})):(t.value=e,t.state=1,ol(t,!1))}catch(e){fl({done:!1},e,t)}}};if(rl&&(zc=(Jc=function(t){Lr(this,zc),vt(t),A(jc,this);var e=Vc(this);try{t(ll(hl,e),ll(fl,e))}catch(t){fl(e,t)}}).prototype,(jc=function(t){qc(this,{type:Bc,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=ro(zc,{then:function(t,e){var r=Gc(this),n=r.reactions,i=Yc(So(this,Jc));return i.ok=!Q(t)||t,i.fail=Q(e)&&e,i.domain=Ku?Wc.domain:void 0,r.parent=!0,n[n.length]=i,0!=r.state&&ol(r,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),kc=function(){var t=new jc,e=Vc(t);this.promise=t,this.resolve=ll(hl,e),this.reject=ll(fl,e)},Dc.f=Yc=function(t){return t===Jc||t===Tc?new kc(t):Qc(t)},Q(zu)&&$c!==Object.prototype)){Ac=$c.then,el||(Oe($c,"then",(function(t,e){var r=this;return new Jc((function(t,e){A(Ac,r,t,e)})).then(t,e)}),{unsafe:!0}),Oe($c,"catch",zc.catch,{unsafe:!0}));try{delete $c.constructor}catch(e){}Ei&&Ei($c,zc)}rr({global:!0,wrap:!0,forced:rl},{Promise:Jc}),jn(Jc,Bc,!1),io(Bc),Tc=tt(Bc),rr({target:Bc,stat:!0,forced:rl},{reject:function(t){var e=Yc(this);return A(e.reject,void 0,t),e.promise}}),rr({target:Bc,stat:!0,forced:rl},{resolve:function(t){return Nc(this,t)}}),rr({target:Bc,stat:!0,forced:nl},{all:function(t){var e=this,r=Yc(e),n=r.resolve,i=r.reject,o=Lc((function(){var r=vt(e.resolve),o=[],a=0,s=1;Sn(t,(function(t){var u=a++,c=!1;s++,A(r,e,t).then((function(t){c||(c=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=Yc(e),n=r.reject,i=Lc((function(){var i=vt(e.resolve);Sn(t,(function(t){A(i,e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var dl=R.Array,pl=tt("JSON","stringify"),vl=V(/./.exec),yl=V("".charAt),gl=V("".charCodeAt),bl=V("".replace),ml=V(1..toString),wl=/[\uD800-\uDFFF]/g,_l=/^[\uD800-\uDBFF]$/,xl=/^[\uDC00-\uDFFF]$/,El=function(t,e,r){var n=yl(r,e-1),i=yl(r,e+1);return vl(_l,t)&&!vl(xl,i)||vl(xl,t)&&!vl(_l,n)?"\\u"+ml(gl(t,0),16):t},Sl=j((function(){return'"\\udf06\\ud834"'!==pl("\udf06\ud834")||'"\\udead"'!==pl("\udead")}));pl&&rr({target:"JSON",stat:!0,forced:Sl},{stringify:function(t,e,r){for(var n=0,i=arguments.length,o=dl(i);n<i;n++)o[n]=arguments[n];var a=Pn(pl,null,o);return"string"==typeof a?bl(a,wl,El):a}});var Ol=!!zu&&j((function(){zu.prototype.finally.call({then:function(){}},(function(){}))}));if(rr({target:"Promise",proto:!0,real:!0,forced:Ol},{finally:function(t){var e=So(this,tt("Promise")),r=Q(t);return this.then(r?function(r){return Nc(e,t()).then((function(){return r}))}:t,r?function(r){return Nc(e,t()).then((function(){throw r}))}:t)}}),Q(zu)){var Il=tt("Promise").prototype.finally;zu.prototype.finally!==Il&&Oe(zu.prototype,"finally",Il,{unsafe:!0})}var Rl=Er("splice"),jl=R.TypeError,kl=Math.max,Tl=Math.min,Al=9007199254740991,Cl="Maximum allowed length exceeded";rr({target:"Array",proto:!0,forced:!Rl},{splice:function(t,e){var r,n,i,o,a,s,u=Ot(this),c=De(u),l=Ae(t,c),f=arguments.length;if(0===f?r=n=0:1===f?(r=0,n=c-l):(r=f-2,n=Tl(kl(je(e),0),c-l)),c+r-n>Al)throw jl(Cl);for(i=_r(u,n),o=0;o<n;o++)(a=l+o)in u&&ir(i,o,u[a]);if(i.length=n,r<n){for(o=l;o<c-n;o++)s=o+r,(a=o+n)in u?u[s]=u[a]:delete u[s];for(o=c;o>c-n+r;o--)delete u[o-1]}else if(r>n)for(o=c-n;o>l;o--)s=o+r-1,(a=o+n-1)in u?u[s]=u[a]:delete u[s];for(o=0;o<r;o++)u[o+l]=arguments[o+2];return u.length=c-n+r,i}});var Pl=qo.findIndex,Dl="findIndex",Nl=!0;Dl in[]&&Array(1).findIndex((function(){Nl=!1})),rr({target:"Array",proto:!0,forced:Nl},{findIndex:function(t){return Pl(this,t,arguments.length>1?arguments[1]:void 0)}}),gi(Dl);var Ll=R.TypeError,Ml=function(t,e,r,n,i,o,a,s){for(var u,c,l=i,f=0,h=!!a&&fn(a,s);f<n;){if(f in r){if(u=h?h(r[f],f,e):r[f],o>0&&nr(u))c=De(u),l=Ml(t,e,u,c,l,o-1)-1;else{if(l>=9007199254740991)throw Ll("Exceed the acceptable array length");t[l]=u}l++}f++}return l},Ul=Ml;rr({target:"Array",proto:!0},{flatMap:function(t){var e,r=Ot(this),n=De(r);return vt(t),(e=_r(r,0)).length=Ul(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}}),gi("flatMap");var Fl=tt("Promise"),Bl="AsyncFromSyncIterator",Vl=we.set,ql=we.getterFor(Bl),Gl=function(t,e,r){var n=t.done;Fl.resolve(t.value).then((function(t){e({done:n,value:t})}),r)},$l=function(t){Vl(this,{type:Bl,iterator:Yt(t),next:t.next})};$l.prototype=ro(Kr(gu),{next:function(t){var e=ql(this),r=!!arguments.length;return new Fl((function(n,i){var o=Yt(Pn(e.next,e.iterator,r?[t]:[]));Gl(o,n,i)}))},return:function(t){var e=ql(this).iterator,r=!!arguments.length;return new Fl((function(n,i){var o=yt(e,"return");if(void 0===o)return n({done:!0,value:t});var a=Yt(Pn(o,e,r?[t]:[]));Gl(a,n,i)}))},throw:function(t){var e=ql(this).iterator,r=!!arguments.length;return new Fl((function(n,i){var o=yt(e,"throw");if(void 0===o)return i(t);var a=Yt(Pn(o,e,r?[t]:[]));Gl(a,n,i)}))}});var Jl=$l,zl=Lt("asyncIterator"),Hl=Eu((function(t){var e,r=this,n=r.mapper;return new t((function(i,o){var a=function(){try{t.resolve(Yt(A(r.next,r.iterator))).then((function(a){try{Yt(a).done?(r.done=!0,i({done:!0,value:void 0})):t.resolve(n(a.value)).then((function(t){try{return r.innerIterator=e=function(t,e){var r=arguments.length<2?yt(t,zl):e;return r?Yt(A(r,t)):new Jl(mn(t))}(t),r.innerNext=vt(e.next),s()}catch(t){o(t)}}),o)}catch(t){o(t)}}),o)}catch(t){o(t)}},s=function(){if(e=r.innerIterator)try{t.resolve(Yt(A(r.innerNext,e))).then((function(t){try{Yt(t).done?(r.innerIterator=r.innerNext=null,a()):i({done:!1,value:t.value})}catch(t){o(t)}}),o)}catch(t){o(t)}else a()};s()}))}));rr({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(t){return new Hl({iterator:Yt(this),mapper:vt(t),innerIterator:null,innerNext:null})}});var Kl=R.TypeError,Wl=Tu((function(){for(var t,e,r,n,i=this.iterator,o=this.mapper;;)try{if(n=this.innerIterator){if(!(t=Yt(A(this.innerNext,n))).done)return t.value;this.innerIterator=this.innerNext=null}if(t=Yt(A(this.next,i)),this.done=!!t.done)return;if(e=o(t.value),!(r=gn(e)))throw Kl(".flatMap callback should return an iterable object");this.innerIterator=n=Yt(A(r,e)),this.innerNext=vt(n.next)}catch(t){wn(i,"throw",t)}}));rr({target:"Iterator",proto:!0,real:!0},{flatMap:function(t){return new Wl({iterator:Yt(this),mapper:vt(t),innerIterator:null,innerNext:null})}});var Yl=qo.map,Ql=Er("map");rr({target:"Array",proto:!0,forced:!Ql},{map:function(t){return Yl(this,t,arguments.length>1?arguments[1]:void 0)}});var Xl=Eu((function(t,e){var r=this,n=r.mapper;return t.resolve(Yt(Pn(r.next,r.iterator,e))).then((function(e){return Yt(e).done?(r.done=!0,{done:!0,value:void 0}):t.resolve(n(e.value)).then((function(t){return{done:!1,value:t}}))}))}));rr({target:"AsyncIterator",proto:!0,real:!0},{map:function(t){return new Xl({iterator:Yt(this),mapper:vt(t)})}});var Zl=Tu((function(t){var e=this.iterator,r=Yt(Pn(this.next,e,t));if(!(this.done=!!r.done))return va(e,this.mapper,r.value)}));rr({target:"Iterator",proto:!0,real:!0},{map:function(t){return new Zl({iterator:Yt(this),mapper:vt(t)})}});var tf=V(1..valueOf),ef="\t\n\v\f\r                　\u2028\u2029\ufeff",rf=V("".replace),nf="["+ef+"]",of=RegExp("^"+nf+nf+"*"),af=RegExp(nf+nf+"*$"),sf=function(t){return function(e){var r=fo(W(e));return 1&t&&(r=rf(r,of,"")),2&t&&(r=rf(r,af,"")),r}},uf={start:sf(1),end:sf(2),trim:sf(3)},cf=Ge.f,lf=Ht.f,ff=te.f,hf=uf.trim,df="Number",pf=R.Number,vf=pf.prototype,yf=R.TypeError,gf=V("".slice),bf=V("".charCodeAt),mf=function(t){var e=Ft(t,"number");return"bigint"==typeof e?e:wf(e)},wf=function(t){var e,r,n,i,o,a,s,u,c=Ft(t,"number");if(ft(c))throw yf("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=hf(c),43===(e=bf(c,0))||45===e){if(88===(r=bf(c,2))||120===r)return NaN}else if(48===e){switch(bf(c,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(a=(o=gf(c,2)).length,s=0;s<a;s++)if((u=bf(o,s))<48||u>i)return NaN;return parseInt(o,n)}return+c};if(tr(df,!pf(" 0o1")||!pf("0b1")||pf("+0x1"))){for(var _f,xf=function(t){var e=arguments.length<1?0:pf(mf(t)),r=this;return et(vf,r)&&j((function(){tf(r)}))?to(Object(e),r,xf):e},Ef=k?cf(pf):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Sf=0;Ef.length>Sf;Sf++)Rt(pf,_f=Ef[Sf])&&!Rt(xf,_f)&&ff(xf,_f,lf(pf,_f));xf.prototype=vf,vf.constructor=xf,Oe(R,df,xf)}var Of=Math.floor,If=function(t,e){var r=t.length,n=Of(r/2);return r<8?Rf(t,e):jf(t,If(Bi(t,0,n),e),If(Bi(t,n),e),e)},Rf=function(t,e){for(var r,n,i=t.length,o=1;o<i;){for(n=o,r=t[o];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==o++&&(t[n]=r)}return t},jf=function(t,e,r,n){for(var i=e.length,o=r.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?n(e[a],r[s])<=0?e[a++]:r[s++]:a<i?e[a++]:r[s++];return t},kf=If,Tf=rt.match(/firefox\/(\d+)/i),Af=!!Tf&&+Tf[1],Cf=/MSIE|Trident/.test(rt),Pf=rt.match(/AppleWebKit\/(\d+)\./),Df=!!Pf&&+Pf[1],Nf=[],Lf=V(Nf.sort),Mf=V(Nf.push),Uf=j((function(){Nf.sort(void 0)})),Ff=j((function(){Nf.sort(null)})),Bf=Nu("sort"),Vf=!j((function(){if(st)return st<70;if(!(Af&&Af>3)){if(Cf)return!0;if(Df)return Df<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)Nf.push({k:e+n,v:r})}for(Nf.sort((function(t,e){return e.v-t.v})),n=0;n<Nf.length;n++)e=Nf[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));rr({target:"Array",proto:!0,forced:Uf||!Ff||!Bf||!Vf},{sort:function(t){void 0!==t&&vt(t);var e=Ot(this);if(Vf)return void 0===t?Lf(e):Lf(e,t);var r,n,i=[],o=De(e);for(n=0;n<o;n++)n in e&&Mf(i,e[n]);for(kf(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:fo(e)>fo(r)?1:-1}}(t)),r=i.length,n=0;n<r;)e[n]=i[n++];for(;n<o;)delete e[n++];return e}});var qf=uu.values;rr({target:"Object",stat:!0},{values:function(t){return qf(t)}});var Gf=Le.includes;rr({target:"Array",proto:!0},{includes:function(t){return Gf(this,t,arguments.length>1?arguments[1]:void 0)}}),gi("includes");var $f=Lt("match"),Jf=function(t){var e;return X(t)&&(void 0!==(e=t[$f])?!!e:"RegExp"==$(t))},zf=R.TypeError,Hf=function(t){if(Jf(t))throw zf("The method doesn't accept regular expressions");return t},Kf=Lt("match"),Wf=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Kf]=!1,"/./"[t](e)}catch(t){}}return!1},Yf=V("".indexOf);function Qf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xf(t,e,r){return Xf=Qf()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&Qn(i,r.prototype),i},Xf.apply(null,arguments)}rr({target:"String",proto:!0,forced:!Wf("includes")},{includes:function(t){return!!~Yf(fo(W(this)),fo(Hf(t)),arguments.length>1?arguments[1]:void 0)}}),rr({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var Zf=Lt("species"),th=RegExp.prototype,eh=function(t,e,r,n){var i=Lt(t),o=!j((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=o&&!j((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Zf]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return e=!0,null},r[i](""),!e}));if(!o||!a||r){var s=V(/./[i]),u=e(i,""[t],(function(t,e,r,n,i){var a=V(t),u=e.exec;return u===Ba||u===th.exec?o&&!i?{done:!0,value:s(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));Oe(String.prototype,t,u[0]),Oe(th,i,u[1])}n&&ee(th[i],"sham",!0)},rh=go.charAt,nh=function(t,e,r){return e+(r?rh(t,e).length:1)},ih=Math.floor,oh=V("".charAt),ah=V("".replace),sh=V("".slice),uh=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ch=/\$([$&'`]|\d{1,2})/g,lh=function(t,e,r,n,i,o){var a=r+t.length,s=n.length,u=ch;return void 0!==i&&(i=Ot(i),u=uh),ah(o,u,(function(o,u){var c;switch(oh(u,0)){case"$":return"$";case"&":return t;case"`":return sh(e,0,r);case"'":return sh(e,a);case"<":c=i[sh(u,1,-1)];break;default:var l=+u;if(0===l)return o;if(l>s){var f=ih(l/10);return 0===f?o:f<=s?void 0===n[f-1]?oh(u,1):n[f-1]+oh(u,1):o}c=n[l-1]}return void 0===c?"":c}))},fh=R.TypeError,hh=function(t,e){var r=t.exec;if(Q(r)){var n=A(r,t,e);return null!==n&&Yt(n),n}if("RegExp"===$(t))return A(Ba,t,e);throw fh("RegExp#exec called on incompatible receiver")},dh=Lt("replace"),ph=Math.max,vh=Math.min,yh=V([].concat),gh=V([].push),bh=V("".indexOf),mh=V("".slice),wh="$0"==="a".replace(/./,"$0"),_h=!!/./[dh]&&""===/./[dh]("a","$0"),xh=!j((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));eh("replace",(function(t,e,r){var n=_h?"$":"$0";return[function(t,r){var n=W(this),i=null==t?void 0:yt(t,dh);return i?A(i,t,n,r):A(e,fo(n),t,r)},function(t,i){var o=Yt(this),a=fo(t);if("string"==typeof i&&-1===bh(i,n)&&-1===bh(i,"$<")){var s=r(e,o,a,i);if(s.done)return s.value}var u=Q(i);u||(i=fo(i));var c=o.global;if(c){var l=o.unicode;o.lastIndex=0}for(var f=[];;){var h=hh(o,a);if(null===h)break;if(gh(f,h),!c)break;""===fo(h[0])&&(o.lastIndex=nh(a,Pe(o.lastIndex),l))}for(var d,p="",v=0,y=0;y<f.length;y++){for(var g=fo((h=f[y])[0]),b=ph(vh(je(h.index),a.length),0),m=[],w=1;w<h.length;w++)gh(m,void 0===(d=h[w])?d:String(d));var _=h.groups;if(u){var x=yh([g],m,b,a);void 0!==_&&gh(x,_);var E=fo(Pn(i,void 0,x))}else E=lh(g,a,b,m,_,i);b>=v&&(p+=mh(a,v,b)+E,v=b+g.length)}return p+mh(a,v)}]}),!xh||!wh||_h);var Eh=Lt("iterator"),Sh=!j((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[Eh]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),Oh=Object.assign,Ih=Object.defineProperty,Rh=V([].concat),jh=!Oh||j((function(){if(k&&1!==Oh({b:1},Oh(Ih({},"a",{enumerable:!0,get:function(){Ih(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=Oh({},t)[r]||Mr(Oh({},e)).join("")!=n}))?function(t,e){for(var r=Ot(t),n=arguments.length,i=1,o=$e.f,a=N.f;n>i;)for(var s,u=H(arguments[i++]),c=o?Rh(Mr(u),o(u)):Mr(u),l=c.length,f=0;l>f;)s=c[f++],k&&!A(a,u,s)||(r[s]=u[s]);return r}:Oh,kh=2147483647,Th=/[^\0-\u007E]/,Ah=/[.\u3002\uFF0E\uFF61]/g,Ch="Overflow: input needs wider integers to process",Ph=R.RangeError,Dh=V(Ah.exec),Nh=Math.floor,Lh=String.fromCharCode,Mh=V("".charCodeAt),Uh=V([].join),Fh=V([].push),Bh=V("".replace),Vh=V("".split),qh=V("".toLowerCase),Gh=function(t){return t+22+75*(t<26)},$h=function(t,e,r){var n=0;for(t=r?Nh(t/700):t>>1,t+=Nh(t/e);t>455;)t=Nh(t/35),n+=36;return Nh(n+36*t/(t+38))},Jh=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=Mh(t,r++);if(i>=55296&&i<=56319&&r<n){var o=Mh(t,r++);56320==(64512&o)?Fh(e,((1023&i)<<10)+(1023&o)+65536):(Fh(e,i),r--)}else Fh(e,i)}return e}(t);var r,n,i=t.length,o=128,a=0,s=72;for(r=0;r<t.length;r++)(n=t[r])<128&&Fh(e,Lh(n));var u=e.length,c=u;for(u&&Fh(e,"-");c<i;){var l=kh;for(r=0;r<t.length;r++)(n=t[r])>=o&&n<l&&(l=n);var f=c+1;if(l-o>Nh((kh-a)/f))throw Ph(Ch);for(a+=(l-o)*f,o=l,r=0;r<t.length;r++){if((n=t[r])<o&&++a>kh)throw Ph(Ch);if(n==o){for(var h=a,d=36;;){var p=d<=s?1:d>=s+26?26:d-s;if(h<p)break;var v=h-p,y=36-p;Fh(e,Lh(Gh(p+v%y))),h=Nh(v/y),d+=36}Fh(e,Lh(Gh(h))),s=$h(a,f,c==u),a=0,c++}}a++,o++}return Uh(e,"")},zh=Lt("iterator"),Hh="URLSearchParams",Kh="URLSearchParamsIterator",Wh=we.set,Yh=we.getterFor(Hh),Qh=we.getterFor(Kh),Xh=tt("fetch"),Zh=tt("Request"),td=tt("Headers"),ed=Zh&&Zh.prototype,rd=td&&td.prototype,nd=R.RegExp,id=R.TypeError,od=R.decodeURIComponent,ad=R.encodeURIComponent,sd=V("".charAt),ud=V([].join),cd=V([].push),ld=V("".replace),fd=V([].shift),hd=V([].splice),dd=V("".split),pd=V("".slice),vd=/\+/g,yd=Array(4),gd=function(t){return yd[t-1]||(yd[t-1]=nd("((?:%[\\da-f]{2}){"+t+"})","gi"))},bd=function(t){try{return od(t)}catch(r){return t}},md=function(t){var e=ld(t,vd," "),r=4;try{return od(e)}catch(t){for(;r;)e=ld(e,gd(r--),bd);return e}},wd=/[!'()~]|%20/g,_d={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},xd=function(t){return _d[t]},Ed=function(t){return ld(ad(t),wd,xd)},Sd=function(t,e){if(t<e)throw id("Not enough arguments")},Od=wi((function(t,e){Wh(this,{type:Kh,iterator:mn(Yh(t).entries),kind:e})}),"Iterator",(function(){var t=Qh(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r}),!0),Id=function(t){this.entries=[],this.url=null,void 0!==t&&(X(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===sd(t,0)?pd(t,1):t:fo(t)))};Id.prototype={type:Hh,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,i,o,a,s,u=gn(t);if(u)for(r=(e=mn(t,u)).next;!(n=A(r,e)).done;){if(o=(i=mn(Yt(n.value))).next,(a=A(o,i)).done||(s=A(o,i)).done||!A(o,i).done)throw id("Expected sequence with length 2");cd(this.entries,{key:fo(a.value),value:fo(s.value)})}else for(var c in t)Rt(t,c)&&cd(this.entries,{key:c,value:fo(t[c])})},parseQuery:function(t){if(t)for(var e,r,n=dd(t,"&"),i=0;i<n.length;)(e=n[i++]).length&&(r=dd(e,"="),cd(this.entries,{key:md(fd(r)),value:md(ud(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],cd(r,Ed(t.key)+"="+Ed(t.value));return ud(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Rd=function(){Lr(this,jd);var t=arguments.length>0?arguments[0]:void 0;Wh(this,new Id(t))},jd=Rd.prototype;if(ro(jd,{append:function(t,e){Sd(arguments.length,2);var r=Yh(this);cd(r.entries,{key:fo(t),value:fo(e)}),r.updateURL()},delete:function(t){Sd(arguments.length,1);for(var e=Yh(this),r=e.entries,n=fo(t),i=0;i<r.length;)r[i].key===n?hd(r,i,1):i++;e.updateURL()},get:function(t){Sd(arguments.length,1);for(var e=Yh(this).entries,r=fo(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){Sd(arguments.length,1);for(var e=Yh(this).entries,r=fo(t),n=[],i=0;i<e.length;i++)e[i].key===r&&cd(n,e[i].value);return n},has:function(t){Sd(arguments.length,1);for(var e=Yh(this).entries,r=fo(t),n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){Sd(arguments.length,1);for(var r,n=Yh(this),i=n.entries,o=!1,a=fo(t),s=fo(e),u=0;u<i.length;u++)(r=i[u]).key===a&&(o?hd(i,u--,1):(o=!0,r.value=s));o||cd(i,{key:a,value:s}),n.updateURL()},sort:function(){var t=Yh(this);kf(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=Yh(this).entries,n=fn(t,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new Od(this,"keys")},values:function(){return new Od(this,"values")},entries:function(){return new Od(this,"entries")}},{enumerable:!0}),Oe(jd,zh,jd.entries,{name:"entries"}),Oe(jd,"toString",(function(){return Yh(this).serialize()}),{enumerable:!0}),jn(Rd,Hh),rr({global:!0,forced:!Sh},{URLSearchParams:Rd}),!Sh&&Q(td)){var kd=V(rd.has),Td=V(rd.set),Ad=function(t){if(X(t)){var e,r=t.body;if(lr(r)===Hh)return e=t.headers?new td(t.headers):new td,kd(e,"content-type")||Td(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Kr(t,{body:L(0,fo(r)),headers:L(0,e)})}return t};if(Q(Xh)&&rr({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Xh(t,arguments.length>1?Ad(arguments[1]):{})}}),Q(Zh)){var Cd=function(t){return Lr(this,ed),new Zh(t,arguments.length>1?Ad(arguments[1]):{})};ed.constructor=Cd,Cd.prototype=ed,rr({global:!0,forced:!0},{Request:Cd})}}var Pd,Dd={URLSearchParams:Rd,getState:Yh},Nd=go.codeAt,Ld=we.set,Md=we.getterFor("URL"),Ud=Dd.URLSearchParams,Fd=Dd.getState,Bd=R.URL,Vd=R.TypeError,qd=R.parseInt,Gd=Math.floor,$d=Math.pow,Jd=V("".charAt),zd=V(/./.exec),Hd=V([].join),Kd=V(1..toString),Wd=V([].pop),Yd=V([].push),Qd=V("".replace),Xd=V([].shift),Zd=V("".split),tp=V("".slice),ep=V("".toLowerCase),rp=V([].unshift),np="Invalid scheme",ip="Invalid host",op="Invalid port",ap=/[a-z]/i,sp=/[\d+-.a-z]/i,up=/\d/,cp=/^0x/i,lp=/^[0-7]+$/,fp=/^\d+$/,hp=/^[\da-f]+$/i,dp=/[\0\t\n\r #%/:<>?@[\\\]^|]/,pp=/[\0\t\n\r #/:<>?@[\\\]^|]/,vp=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,yp=/[\t\n\r]/g,gp=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)rp(e,t%256),t=Gd(t/256);return Hd(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(e=n,r=i),e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=Kd(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},bp={},mp=jh({},bp,{" ":1,'"':1,"<":1,">":1,"`":1}),wp=jh({},mp,{"#":1,"?":1,"{":1,"}":1}),_p=jh({},wp,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),xp=function(t,e){var r=Nd(t,0);return r>32&&r<127&&!Rt(e,t)?t:encodeURIComponent(t)},Ep={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Sp=function(t,e){var r;return 2==t.length&&zd(ap,Jd(t,0))&&(":"==(r=Jd(t,1))||!e&&"|"==r)},Op=function(t){var e;return t.length>1&&Sp(tp(t,0,2))&&(2==t.length||"/"===(e=Jd(t,2))||"\\"===e||"?"===e||"#"===e)},Ip=function(t){return"."===t||"%2e"===ep(t)},Rp={},jp={},kp={},Tp={},Ap={},Cp={},Pp={},Dp={},Np={},Lp={},Mp={},Up={},Fp={},Bp={},Vp={},qp={},Gp={},$p={},Jp={},zp={},Hp={},Kp=function(t,e,r){var n,i,o,a=fo(t);if(e){if(i=this.parse(a))throw Vd(i);this.searchParams=null}else{if(void 0!==r&&(n=new Kp(r,!0)),i=this.parse(a,null,n))throw Vd(i);(o=Fd(new Ud)).bindURL(this),this.searchParams=o}};Kp.prototype={type:"URL",parse:function(t,e,r){var n,i,o,a,s,u=this,c=e||Rp,l=0,f="",h=!1,d=!1,p=!1;for(t=fo(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=Qd(t,vp,"")),t=Qd(t,yp,""),n=ga(t);l<=n.length;){switch(i=n[l],c){case Rp:if(!i||!zd(ap,i)){if(e)return np;c=kp;continue}f+=ep(i),c=jp;break;case jp:if(i&&(zd(sp,i)||"+"==i||"-"==i||"."==i))f+=ep(i);else{if(":"!=i){if(e)return np;f="",c=kp,l=0;continue}if(e&&(u.isSpecial()!=Rt(Ep,f)||"file"==f&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=f,e)return void(u.isSpecial()&&Ep[u.scheme]==u.port&&(u.port=null));f="","file"==u.scheme?c=Bp:u.isSpecial()&&r&&r.scheme==u.scheme?c=Tp:u.isSpecial()?c=Dp:"/"==n[l+1]?(c=Ap,l++):(u.cannotBeABaseURL=!0,Yd(u.path,""),c=Jp)}break;case kp:if(!r||r.cannotBeABaseURL&&"#"!=i)return np;if(r.cannotBeABaseURL&&"#"==i){u.scheme=r.scheme,u.path=Bi(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,c=Hp;break}c="file"==r.scheme?Bp:Cp;continue;case Tp:if("/"!=i||"/"!=n[l+1]){c=Cp;continue}c=Np,l++;break;case Ap:if("/"==i){c=Lp;break}c=$p;continue;case Cp:if(u.scheme=r.scheme,i==Pd)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=Bi(r.path),u.query=r.query;else if("/"==i||"\\"==i&&u.isSpecial())c=Pp;else if("?"==i)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=Bi(r.path),u.query="",c=zp;else{if("#"!=i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=Bi(r.path),u.path.length--,c=$p;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=Bi(r.path),u.query=r.query,u.fragment="",c=Hp}break;case Pp:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,c=$p;continue}c=Lp}else c=Np;break;case Dp:if(c=Np,"/"!=i||"/"!=Jd(f,l+1))continue;l++;break;case Np:if("/"!=i&&"\\"!=i){c=Lp;continue}break;case Lp:if("@"==i){h&&(f="%40"+f),h=!0,o=ga(f);for(var v=0;v<o.length;v++){var y=o[v];if(":"!=y||p){var g=xp(y,_p);p?u.password+=g:u.username+=g}else p=!0}f=""}else if(i==Pd||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(h&&""==f)return"Invalid authority";l-=ga(f).length+1,f="",c=Mp}else f+=i;break;case Mp:case Up:if(e&&"file"==u.scheme){c=qp;continue}if(":"!=i||d){if(i==Pd||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==f)return ip;if(e&&""==f&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(f))return a;if(f="",c=Gp,e)return;continue}"["==i?d=!0:"]"==i&&(d=!1),f+=i}else{if(""==f)return ip;if(a=u.parseHost(f))return a;if(f="",c=Fp,e==Up)return}break;case Fp:if(!zd(up,i)){if(i==Pd||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||e){if(""!=f){var b=qd(f,10);if(b>65535)return op;u.port=u.isSpecial()&&b===Ep[u.scheme]?null:b,f=""}if(e)return;c=Gp;continue}return op}f+=i;break;case Bp:if(u.scheme="file","/"==i||"\\"==i)c=Vp;else{if(!r||"file"!=r.scheme){c=$p;continue}if(i==Pd)u.host=r.host,u.path=Bi(r.path),u.query=r.query;else if("?"==i)u.host=r.host,u.path=Bi(r.path),u.query="",c=zp;else{if("#"!=i){Op(Hd(Bi(n,l),""))||(u.host=r.host,u.path=Bi(r.path),u.shortenPath()),c=$p;continue}u.host=r.host,u.path=Bi(r.path),u.query=r.query,u.fragment="",c=Hp}}break;case Vp:if("/"==i||"\\"==i){c=qp;break}r&&"file"==r.scheme&&!Op(Hd(Bi(n,l),""))&&(Sp(r.path[0],!0)?Yd(u.path,r.path[0]):u.host=r.host),c=$p;continue;case qp:if(i==Pd||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&Sp(f))c=$p;else if(""==f){if(u.host="",e)return;c=Gp}else{if(a=u.parseHost(f))return a;if("localhost"==u.host&&(u.host=""),e)return;f="",c=Gp}continue}f+=i;break;case Gp:if(u.isSpecial()){if(c=$p,"/"!=i&&"\\"!=i)continue}else if(e||"?"!=i)if(e||"#"!=i){if(i!=Pd&&(c=$p,"/"!=i))continue}else u.fragment="",c=Hp;else u.query="",c=zp;break;case $p:if(i==Pd||"/"==i||"\\"==i&&u.isSpecial()||!e&&("?"==i||"#"==i)){if(".."===(s=ep(s=f))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||Yd(u.path,"")):Ip(f)?"/"==i||"\\"==i&&u.isSpecial()||Yd(u.path,""):("file"==u.scheme&&!u.path.length&&Sp(f)&&(u.host&&(u.host=""),f=Jd(f,0)+":"),Yd(u.path,f)),f="","file"==u.scheme&&(i==Pd||"?"==i||"#"==i))for(;u.path.length>1&&""===u.path[0];)Xd(u.path);"?"==i?(u.query="",c=zp):"#"==i&&(u.fragment="",c=Hp)}else f+=xp(i,wp);break;case Jp:"?"==i?(u.query="",c=zp):"#"==i?(u.fragment="",c=Hp):i!=Pd&&(u.path[0]+=xp(i,bp));break;case zp:e||"#"!=i?i!=Pd&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":xp(i,bp)):(u.fragment="",c=Hp);break;case Hp:i!=Pd&&(u.fragment+=xp(i,mp))}l++}},parseHost:function(t){var e,r,n;if("["==Jd(t,0)){if("]"!=Jd(t,t.length-1))return ip;if(e=function(t){var e,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,h=function(){return Jd(t,f)};if(":"==h()){if(":"!=Jd(t,1))return;f+=2,l=++c}for(;h();){if(8==c)return;if(":"!=h()){for(e=r=0;r<4&&zd(hp,h());)e=16*e+qd(h(),16),f++,r++;if("."==h()){if(0==r)return;if(f-=r,c>6)return;for(n=0;h();){if(i=null,n>0){if(!("."==h()&&n<4))return;f++}if(!zd(up,h()))return;for(;zd(up,h());){if(o=qd(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[c++]=e}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u}(tp(t,1,-1)),!e)return ip;this.host=e}else if(this.isSpecial()){if(t=function(t){var e,r,n=[],i=Vh(Bh(qh(t),Ah,"."),".");for(e=0;e<i.length;e++)r=i[e],Fh(n,Dh(Th,r)?"xn--"+Jh(r):r);return Uh(n,".")}(t),zd(dp,t))return ip;if(e=function(t){var e,r,n,i,o,a,s,u=Zd(t,".");if(u.length&&""==u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(i=u[n]))return t;if(o=10,i.length>1&&"0"==Jd(i,0)&&(o=zd(cp,i)?16:8,i=tp(i,8==o?1:2)),""===i)a=0;else{if(!zd(10==o?fp:8==o?lp:hp,i))return t;a=qd(i,o)}Yd(r,a)}for(n=0;n<e;n++)if(a=r[n],n==e-1){if(a>=$d(256,5-e))return null}else if(a>255)return null;for(s=Wd(r),n=0;n<r.length;n++)s+=r[n]*$d(256,3-n);return s}(t),null===e)return ip;this.host=e}else{if(zd(pp,t))return ip;for(e="",r=ga(t),n=0;n<r.length;n++)e+=xp(r[n],bp);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return Rt(Ep,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&Sp(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=gp(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+Hd(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(t){var e=this.parse(t);if(e)throw Vd(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Wp(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+gp(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(fo(t)+":",Rp)},getUsername:function(){return this.username},setUsername:function(t){var e=ga(fo(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=xp(e[r],_p)}},getPassword:function(){return this.password},setPassword:function(t){var e=ga(fo(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=xp(e[r],_p)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?gp(t):gp(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Mp)},getHostname:function(){var t=this.host;return null===t?"":gp(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Up)},getPort:function(){var t=this.port;return null===t?"":fo(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=fo(t))?this.port=null:this.parse(t,Fp))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+Hd(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Gp))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=fo(t))?this.query=null:("?"==Jd(t,0)&&(t=tp(t,1)),this.query="",this.parse(t,zp)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=fo(t))?("#"==Jd(t,0)&&(t=tp(t,1)),this.fragment="",this.parse(t,Hp)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Wp=function(t){var e=Lr(this,Yp),r=arguments.length>1?arguments[1]:void 0,n=Ld(e,new Kp(t,!1,r));k||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Yp=Wp.prototype,Qp=function(t,e){return{get:function(){return Md(this)[t]()},set:e&&function(t){return Md(this)[e](t)},configurable:!0,enumerable:!0}};if(k&&Ur(Yp,{href:Qp("serialize","setHref"),origin:Qp("getOrigin"),protocol:Qp("getProtocol","setProtocol"),username:Qp("getUsername","setUsername"),password:Qp("getPassword","setPassword"),host:Qp("getHost","setHost"),hostname:Qp("getHostname","setHostname"),port:Qp("getPort","setPort"),pathname:Qp("getPathname","setPathname"),search:Qp("getSearch","setSearch"),searchParams:Qp("getSearchParams"),hash:Qp("getHash","setHash")}),Oe(Yp,"toJSON",(function(){return Md(this).serialize()}),{enumerable:!0}),Oe(Yp,"toString",(function(){return Md(this).serialize()}),{enumerable:!0}),Bd){var Xp=Bd.createObjectURL,Zp=Bd.revokeObjectURL;Xp&&Oe(Wp,"createObjectURL",fn(Xp,Bd)),Zp&&Oe(Wp,"revokeObjectURL",fn(Zp,Bd))}jn(Wp,"URL"),rr({global:!0,forced:!Sh,sham:!k},{URL:Wp});var tv=Sa.UNSUPPORTED_Y,ev=4294967295,rv=Math.min,nv=[].push,iv=V(/./.exec),ov=V(nv),av=V("".slice),sv=!j((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));eh("split",(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=fo(W(this)),i=void 0===r?ev:r>>>0;if(0===i)return[];if(void 0===t)return[n];if(!Jf(t))return A(e,n,t,i);for(var o,a,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=new RegExp(t.source,c+"g");(o=A(Ba,f,n))&&!((a=f.lastIndex)>l&&(ov(u,av(n,l,o.index)),o.length>1&&o.index<n.length&&Pn(nv,u,Bi(o,1)),s=o[0].length,l=a,u.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===n.length?!s&&iv(f,"")||ov(u,""):ov(u,av(n,l)),u.length>i?Bi(u,0,i):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:A(e,this,t,r)}:e,[function(e,r){var i=W(this),o=null==e?void 0:yt(e,t);return o?A(o,e,i,r):A(n,fo(i),e,r)},function(t,i){var o=Yt(this),a=fo(t),s=r(n,o,a,i,n!==e);if(s.done)return s.value;var u=So(o,RegExp),c=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(tv?"g":"y"),f=new u(tv?"^(?:"+o.source+")":o,l),h=void 0===i?ev:i>>>0;if(0===h)return[];if(0===a.length)return null===hh(f,a)?[a]:[];for(var d=0,p=0,v=[];p<a.length;){f.lastIndex=tv?0:p;var y,g=hh(f,tv?av(a,p):a);if(null===g||(y=rv(Pe(f.lastIndex+(tv?p:0)),a.length))===d)p=nh(a,p,c);else{if(ov(v,av(a,d,p)),v.length===h)return v;for(var b=1;b<=g.length-1;b++)if(ov(v,g[b]),v.length===h)return v;p=d=y}}return ov(v,av(a,d)),v}]}),!sv,tv);var uv=V([].join),cv=H!=Object,lv=Nu("join",",");rr({target:"Array",proto:!0,forced:cv||!lv},{join:function(t){return uv(Y(this),void 0===t?",":t)}});var fv=Se.PROPER,hv="toString",dv=RegExp.prototype,pv=dv.toString,vv=V(ma),yv=j((function(){return"/a/b"!=pv.call({source:"a",flags:"b"})})),gv=fv&&pv.name!=hv;(yv||gv)&&Oe(RegExp.prototype,hv,(function(){var t=Yt(this),e=fo(t.source),r=t.flags;return"/"+e+"/"+fo(void 0===r&&et(dv,t)&&!("flags"in dv)?vv(t):r)}),{unsafe:!0});var bv=j((function(){Zr(1)}));rr({target:"Object",stat:!0,forced:bv,sham:!Wr},{getPrototypeOf:function(t){return Zr(Ot(t))}}),rr({target:"Object",stat:!0,forced:Object.assign!==jh},{assign:jh}),eh("match",(function(t,e,r){return[function(e){var r=W(this),n=null==e?void 0:yt(e,t);return n?A(n,e,r):new RegExp(e)[t](fo(r))},function(t){var n=Yt(this),i=fo(t),o=r(e,n,i);if(o.done)return o.value;if(!n.global)return hh(n,i);var a=n.unicode;n.lastIndex=0;for(var s,u=[],c=0;null!==(s=hh(n,i));){var l=fo(s[0]);u[c]=l,""===l&&(n.lastIndex=nh(i,Pe(n.lastIndex),a)),c++}return 0===c?null:u}]}));var mv=Lt("matchAll"),wv="RegExp String",_v="RegExp String Iterator",xv=we.set,Ev=we.getterFor(_v),Sv=RegExp.prototype,Ov=R.TypeError,Iv=V(ma),Rv=V("".indexOf),jv=V("".matchAll),kv=!!jv&&!j((function(){jv("a",/./)})),Tv=wi((function(t,e,r,n){xv(this,{type:_v,regexp:t,string:e,global:r,unicode:n,done:!1})}),wv,(function(){var t=Ev(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,r=t.string,n=hh(e,r);return null===n?{value:void 0,done:t.done=!0}:t.global?(""===fo(n[0])&&(e.lastIndex=nh(r,Pe(e.lastIndex),t.unicode)),{value:n,done:!1}):(t.done=!0,{value:n,done:!1})})),Av=function(t){var e,r,n,i,o,a,s=Yt(this),u=fo(t);return e=So(s,RegExp),void 0===(r=s.flags)&&et(Sv,s)&&!("flags"in Sv)&&(r=Iv(s)),n=void 0===r?"":fo(r),i=new e(e===RegExp?s.source:s,n),o=!!~Rv(n,"g"),a=!!~Rv(n,"u"),i.lastIndex=Pe(s.lastIndex),new Tv(i,u,o,a)};rr({target:"String",proto:!0,forced:kv},{matchAll:function(t){var e,r,n,i=W(this);if(null!=t){if(Jf(t)&&(e=fo(W("flags"in Sv?t.flags:Iv(t))),!~Rv(e,"g")))throw Ov("`.matchAll` does not allow non-global regexes");if(kv)return jv(i,t);if(n=yt(t,mv))return A(n,t,i)}else if(kv)return jv(i,t);return r=fo(i),new RegExp(t,"g")[mv](r)}}),mv in Sv||Oe(Sv,mv,Av);var Cv,Pv=Se.PROPER,Dv=uf.trim;rr({target:"String",proto:!0,forced:(Cv="trim",j((function(){return!!ef[Cv]()||"​᠎"!=="​᠎"[Cv]()||Pv&&ef[Cv].name!==Cv})))},{trim:function(){return Dv(this)}});var Nv=te.f,Lv=Ge.f,Mv=we.enforce,Uv=Lt("match"),Fv=R.RegExp,Bv=Fv.prototype,Vv=R.SyntaxError,qv=V(ma),Gv=V(Bv.exec),$v=V("".charAt),Jv=V("".replace),zv=V("".indexOf),Hv=V("".slice),Kv=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Wv=/a/g,Yv=/a/g,Qv=new Fv(Wv)!==Wv,Xv=Sa.MISSED_STICKY,Zv=Sa.UNSUPPORTED_Y,ty=k&&(!Qv||Xv||Ia||ja||j((function(){return Yv[Uv]=!1,Fv(Wv)!=Wv||Fv(Yv)==Yv||"/a/i"!=Fv(Wv,"i")})));if(tr("RegExp",ty)){for(var ey=function(t,e){var r,n,i,o,a,s,u=et(Bv,this),c=Jf(t),l=void 0===e,f=[],h=t;if(!u&&c&&l&&t.constructor===ey)return t;if((c||et(Bv,t))&&(t=t.source,l&&(e="flags"in h?h.flags:qv(h))),t=void 0===t?"":fo(t),e=void 0===e?"":fo(e),h=t,Ia&&"dotAll"in Wv&&(n=!!e&&zv(e,"s")>-1)&&(e=Jv(e,/s/g,"")),r=e,Xv&&"sticky"in Wv&&(i=!!e&&zv(e,"y")>-1)&&Zv&&(e=Jv(e,/y/g,"")),ja&&(o=function(t){for(var e,r=t.length,n=0,i="",o=[],a={},s=!1,u=!1,c=0,l="";n<=r;n++){if("\\"===(e=$v(t,n)))e+=$v(t,++n);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:Gv(Kv,Hv(t,n+1))&&(n+=2,u=!0),i+=e,c++;continue;case">"===e&&u:if(""===l||Rt(a,l))throw new Vv("Invalid capture group name");a[l]=!0,o[o.length]=[l,c],u=!1,l="";continue}u?l+=e:i+=e}return[i,o]}(t),t=o[0],f=o[1]),a=to(Fv(t,e),u?this:Bv,ey),(n||i||f.length)&&(s=Mv(a),n&&(s.dotAll=!0,s.raw=ey(function(t){for(var e,r=t.length,n=0,i="",o=!1;n<=r;n++)"\\"!==(e=$v(t,n))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+$v(t,++n);return i}(t),r)),i&&(s.sticky=!0),f.length&&(s.groups=f)),t!==h)try{ee(a,"source",""===h?"(?:)":h)}catch(t){}return a},ry=function(t){t in ey||Nv(ey,t,{configurable:!0,get:function(){return Fv[t]},set:function(e){Fv[t]=e}})},ny=Lv(Fv),iy=0;ny.length>iy;)ry(ny[iy++]);Bv.constructor=ey,ey.prototype=Bv,Oe(R,"RegExp",ey)}io("RegExp");var oy=Sa.MISSED_STICKY,ay=te.f,sy=we.get,uy=RegExp.prototype,cy=R.TypeError;k&&oy&&ay(uy,"sticky",{configurable:!0,get:function(){if(this!==uy){if("RegExp"===$(this))return!!sy(this).sticky;throw cy("Incompatible receiver, RegExp required")}}});var ly,fy=Ht.f,hy=V("".startsWith),dy=V("".slice),py=Math.min,vy=Wf("startsWith"),yy=!(vy||(ly=fy(String.prototype,"startsWith"),!ly||ly.writable));rr({target:"String",proto:!0,forced:!yy&&!vy},{startsWith:function(t){var e=fo(W(this));Hf(t);var r=Pe(py(arguments.length>1?arguments[1]:void 0,e.length)),n=fo(t);return hy?hy(e,n,r):dy(e,r,r+n.length)===n}});var gy=Ht.f,by=V("".endsWith),my=V("".slice),wy=Math.min,_y=Wf("endsWith"),xy=!_y&&!!function(){var t=gy(String.prototype,"endsWith");return t&&!t.writable}();rr({target:"String",proto:!0,forced:!xy&&!_y},{endsWith:function(t){var e=fo(W(this));Hf(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,i=void 0===r?n:wy(Pe(r),n),o=fo(t);return by?by(e,o,i):my(e,i-o.length,i)===o}});var Ey=("undefined"!=typeof t?t:"undefined"!=typeof globalThis?globalThis:window).Error,Sy=function(t){Xn(i,Ey);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=ri(e);if(r){var i=ri(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return ei(this,t)});function i(t,e){var r;return Wn(this,i),(r=n.call.apply(n,[this].concat([t,e]))).name="JSError"===(this instanceof i?this.constructor:void 0).name?"Error":(this instanceof i?this.constructor:void 0).name,Object.setPrototypeOf(Yn(r),(this instanceof i?this.constructor:void 0).prototype),r}return i}(),Oy=function(){function t(){if(Wn(this,t),!this.static().buildingPureInstance())return this.initializeProxy(),this._proxy}return li(t,[{key:"static",value:function(){return this.constructor}},{key:"__get",value:function(t){return Reflect.get(this._proxyTarget,t)}},{key:"__set",value:function(t,e){Reflect.set(this._proxyTarget,t,e)}},{key:"__delete",value:function(t){Reflect.deleteProperty(this._proxyTarget,t)}},{key:"initializeProxy",value:function(){var t=this.static();this._proxyTarget=this,this._proxy=new Proxy(this._proxyTarget,{get:function(e,r,n){return"string"!=typeof r||r in e||t.isReservedProperty(r)?Reflect.get(e,r,n):e.__get(r)},set:function(e,r,n,i){return"string"!=typeof r||r in e||t.isReservedProperty(r)?Reflect.set(e,r,n,i):(e.__set(r,n),!0)},deleteProperty:function(e,r){return"string"!=typeof r||r in e||t.isReservedProperty(r)?Reflect.deleteProperty(e,r):(e.__delete(r),!0)}})}}],[{key:"buildingPureInstance",value:function(){return!!this.__buildingPureInstance||(this.__reservedProperties.has(this)||(this.__buildingPureInstance=!0,this.__reservedProperties.set(this,new Set(Object.getOwnPropertyNames(new this))),this.__buildingPureInstance=!1),!1)}},{key:"isReservedProperty",value:function(t){var e;return!(null===(e=this.__reservedProperties.get(this))||void 0===e||!e.has(t))}}]),t}();function Iy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}fi(Oy,"__buildingPureInstance",void 0),fi(Oy,"__reservedProperties",new WeakMap);var Ry,jy=Array.isArray.bind(Array);function ky(t){return"object"===Xs(t)&&null!==t}function Ty(t){for(var e in t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Iy(Object(r),!0).forEach((function(e){fi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t))Ay(t,e)&&(t[e]=Ty(t[e]));return t}function Ay(t,e){var r;return function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,e)&&ky(r=t[e])&&r.constructor===Object}function Cy(t){for(var e={},r=0,n=Object.entries(t);r<n.length;r++){var i=Ya(n[r],2),o=i[0],a=i[1];null!=a&&(e[o]=a)}return e}function Py(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Dy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dy(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Dy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Object.entries.bind(Object),Ry=Symbol.iterator,function(t){function e(t){Wn(this,e),fi(this,"keysToItems",void 0),fi(this,"itemsToKeys",void 0),fi(this,"getKey",void 0),this.keysToItems=new Map,this.itemsToKeys=new WeakMap,this.getKey=null!=t?t:function(t){return function(t){return String(t)}(t)}}li(e,[{key:Ry,value:ts.mark((function t(){return ts.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.keysToItems,"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"size",get:function(){return this.keysToItems.size}},{key:"items",value:function(){return this.keysToItems.values()}},{key:"keys",value:function(){return this.keysToItems.keys()}},{key:"entries",value:function(){return this.keysToItems.entries()}},{key:"add",value:function(t){var e=this.getKey(t);this.keysToItems.set(e,t),this.itemsToKeys.set(t,e)}},{key:"require",value:function(t){return this.keysToItems.get(t)||fail("Couldn't find item with '".concat(t,"' key"))}},{key:"get",value:function(t){return this.keysToItems.get(t)}},{key:"getKeys",value:function(){return Xa(this.keysToItems.keys())}},{key:"getItems",value:function(){return Xa(this.keysToItems.values())}},{key:"hasKey",value:function(t){return this.keysToItems.has(t)}},{key:"hasItem",value:function(t){return this.itemsToKeys.has(t)}},{key:"delete",value:function(t){var e=this.itemsToKeys.get(t);e&&(this.itemsToKeys.delete(t),this.keysToItems.delete(e))}},{key:"filter",value:function(t){var e,r=this.constructor.createFromArray([],this.getKey),n=Py(this.entries());try{for(n.s();!(e=n.n()).done;){var i=Ya(e.value,2),o=i[0],a=i[1];t(a,o)&&r.add(a)}}catch(t){n.e(t)}finally{n.f()}return r}},{key:"clear",value:function(){this.itemsToKeys=new WeakMap,this.keysToItems.clear()}}],[{key:"createFromArray",value:function(t,r){var n,i="string"==typeof r?function(t){return t[r]}:r,o=new e(i),a=Py(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;o.add(s)}}catch(t){a.e(t)}finally{a.f()}return o}}])}(),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Wn(this,t),fi(this,"count",void 0),fi(this,"listeners",void 0),this.count=e,this.listeners=new Set}var e,r,n;li(t,[{key:"acquire",value:(n=Vu(ts.mark((function t(){return ts.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitAvailable();case 2:this.count=Math.max(this.count-1,0);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"release",value:function(){this.count++,this.notifyAvailable()}},{key:"run",value:(r=Vu(ts.mark((function t(e){var r;return ts.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.acquire();case 2:return t.next=4,e();case 4:return r=t.sent,this.release(),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"waitAvailable",value:(e=Vu(ts.mark((function t(){var e=this;return ts.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.count){t.next=5;break}return t.next=3,new Promise((function(t){e.listeners.add((function r(){e.listeners.delete(r),t(null)}))}));case 3:t.next=0;break;case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"notifyAvailable",value:function(){this.listeners.forEach((function(t){return t()}))}}])}();var Ny={},Ly=function(){function t(){Wn(this,t)}return li(t,[{key:"set",value:function(t,e){void 0===e&&(e="__undefined__"),localStorage.setItem(t,JSON.stringify(e))}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=localStorage.getItem(t);return null===r?e:"__undefined__"!==r?JSON.parse(r):void 0}},{key:"require",value:function(t){var e=this.get(t,Ny);if(e===Ny)throw new Error("Failed getting required key from local storage: '".concat(t,"'"));return e}},{key:"has",value:function(t){return null!==localStorage.getItem(t)}},{key:"remove",value:function(t){localStorage.removeItem(t)}},{key:"pull",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.has(t))return e;var r=this.get(t);return this.remove(t),r}}],[{key:"instance",get:function(){var e;return this._instance=null!==(e=this._instance)&&void 0!==e?e:new t}}]),t}();function My(t,e){return t>e?1:e>t?-1:0}function Uy(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Fy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fy(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Fy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function By(t,e){return e?t.filter(e):t.filter((function(t){return!!t}))}function Vy(t,e){var r=t.indexOf(e);return-1!==r&&(t.splice(r,1),!0)}function qy(t,e,r){var n=t.indexOf(e);return-1!==n&&(t[n]=r,!0)}function Gy(t,e){return e?Object.values(t.reduce((function(t,r){var n,i=e(r);return t[i]=null!==(n=t[i])&&void 0!==n?n:r,t}),{})):Xa(new Set(t))}function $y(t,e){return t.map((function(t,e){return[t,e]})).filter((function(t){var r=Ya(t,2);r[0];var n=r[1];return!e.includes(n)})).map((function(t){return Ya(t,1)[0]}))}function Jy(t){return Array.isArray(t)||function(t){return"function"==typeof(null==t?void 0:t[Symbol.iterator])}(t)&&!function(t){return"string"==typeof t||t instanceof String}(t)?Array.from(t):[t]}function zy(t){if(!t)return null;try{var e=new Date(t),r=e.getTime();return isNaN(r)||0===r?null:e}catch(t){return null}}function Hy(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,Hy)}function Ky(){return Hy()}function Wy(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"function"!=typeof t?t.catch((function(){return e})):Vu(ts.mark((function r(){var n=arguments;return ts.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.apply(void 0,n);case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),r.abrupt("return",null!=e?e:null);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))}function Yy(t,e){return t.matchAll(e)}function Qy(t){return t.split(/_|-|\s|(?=[A-Z])/)}function Xy(t){var e;return null!==(e=eg(t))&&void 0!==e?e:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong",e="string"==typeof t?Error:t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];throw Xf(e,Xa("string"==typeof t?[t]:n))}("Failed getting parent directory from '".concat(t,"'"))}function Zy(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.shift();e.length>0;){var i=e.shift();i.startsWith("/")?n=tg(n)+i:i.match(/^[\w-]+:\/\//)?n=i:n.endsWith("/")?n+=i:n+="/"+i}return n}function tg(t){var e=t.indexOf("://")+3,r=t.substr(e).indexOf("/");return-1!==r?t.substring(0,e+r):t}function eg(t){if(t.endsWith("/")&&(t=t.substring(0,t.length-1)),tg(t)===t)return null;var e=t.lastIndexOf("/");return-1!==e?t.substr(0,e+1):null}function rg(t){var e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;var r=e[4]||"",n=Ya(-1===r.indexOf(":")?[r]:r.split(":"),2),i=n[0],o=n[1];return{protocol:e[2]||void 0,domain:i||void 0,port:o||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}}function ng(t){return function(t,e){var r,n,i=rg(t);if(!i)return t;for(var o=0,a=Object.entries(i);o<a.length;o++){var s=Ya(a[o],2),u=s[0],c=s[1];i[u]=!1!==e[u]&&c||""}return[i.protocol?"".concat(i.protocol,"://"):"",null!==(r=i.domain)&&void 0!==r?r:"",i.port?":".concat(i.port):"",null!==(n=i.path)&&void 0!==n?n:"",i.query?"?".concat(i.query):"",i.fragment?"#".concat(i.fragment):""].join("")}(t,{protocol:!0,domain:!0,port:!0,path:!0,query:!1,fragment:!1})}function ig(t,e){for(var r=t.prototype,n=function(){var t=Ya(o[i],2),e=t[0],n=t[1];r[e]=function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=n.apply(void 0,[this.value].concat(r));return null===(t=this.chain)||void 0===t?void 0:t.call(this,o)}},i=0,o=Object.entries(e);i<o.length;i++)n()}function og(t,e){for(var r=t.prototype,n=Object.getOwnPropertyDescriptors(e.prototype),i=function(){var t=Ya(a[o],2),e=t[0],n=t[1];return e in r?"continue":"function"!=typeof n.value?(Object.defineProperty(r,e,{get:function(){return this.chain(this.value[e])}}),"continue"):void(r[e]=function(){for(var t,e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=(t=n.value).call.apply(t,[this.value].concat(i));return null===(e=this.chain)||void 0===e?void 0:e.call(this,a)})},o=0,a=Object.entries(n);o<a.length;o++)i()}fi(Ly,"_instance",void 0),function(){function t(){Wn(this,t),fi(this,"resolveListeners",[]),fi(this,"rejectListeners",[]),fi(this,"resetListeners",[]),this.setPromiseValues()}li(t,[{key:"value",get:function(){return this._value||null}},{key:"isResolved",value:function(){return"_value"in this}},{key:"then",value:function(t,e){return this.promise.then(t,e)}},{key:"catch",value:function(t){return this.promise.catch(t)}},{key:"finally",value:function(t){return this.promise.finally(t)}},{key:"resolve",value:function(t){this.isResolved()&&this.reset(),this._value=t,this._resolve(t),this.resolveListeners.forEach((function(e){return e(t)}))}},{key:"reject",value:function(t){this.isResolved()&&this.reset(),delete this._value,this._reject(t),this.rejectListeners.forEach((function(e){return e(t)}))}},{key:"onResolve",value:function(t){var e=this;return this.resolveListeners.push(t),function(){return Vy(e.resolveListeners,t)}}},{key:"onReject",value:function(t){var e=this;return this.rejectListeners.push(t),function(){return Vy(e.rejectListeners,t)}}},{key:"onReset",value:function(t){var e=this;return this.resetListeners.push(t),function(){return Vy(e.resetListeners,t)}}},{key:"reset",value:function(){this.setPromiseValues(),this.rejectListeners.forEach((function(t){return t()}))}},{key:"setPromiseValues",value:function(){var t=this;this.promise=new Promise((function(e,r){t._resolve=e,t._reject=r}))}}],[{key:"from",value:function(e){var r=new t;return e.then(r.resolve.bind(r)).catch(r.reject.bind(r)),r}}])}();var ag=function(){function t(e){Wn(this,t),fi(this,"value",void 0),this.value=e}return li(t,[{key:"create",value:function(t){return new this.constructor(t)}},{key:"chain",value:function(t){return this.isPrimitive(t)?this.create(t):t}}],[{key:"isPrimitive",value:function(t){return this.prototype.isPrimitive(t)}}]),t}(),sg={clear:function(t){t.splice(0,t.length)},diff:function(t,e,r){var n,i=t.slice(0),o=[],a=r?function(t,e){return e.findIndex((function(e){return r(t,e)}))}:function(t,e){return e.indexOf(t)},s=Uy(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a(u,i);-1!==c?i.splice(c,1):o.push(u)}}catch(t){s.e(t)}finally{s.f()}return{added:o,removed:i}},filter:By,first:function(t,e){var r,n=Uy(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(e(i))return i}}catch(t){n.e(t)}finally{n.f()}return null},flatMap:function(t,e){return Xa(t.entries()).flatMap((function(t){var r=Ya(t,2),n=r[0],i=r[1];return e(i,n)}))},isEmpty:function(t){return 0===t.length},project:function(t,e){return t.map((function(t){return t[e]}))},randomItem:function(t){return 0===t.length?null:t[Math.floor(Math.random()*t.length)]},randomItems:function(t,e){for(var r=t.slice(0),n=[];r.length>0&&n.length<e;){var i=Math.floor(Math.random()*r.length);n.push(r[i]),r.splice(i,1)}return n},remove:Vy,removeIndex:function(t,e){return t.splice(Number(e),1).length>0},replace:qy,sorted:function(t,e,r){return r="asc"===e||"desc"===e?e:r,t.slice(0).sort(function(){var t="desc"===r?function(t){return function(e,r){return My(r[t],e[t])}}:function(t){return function(e,r){return My(e[t],r[t])}};switch(Xs(e)){case"function":return e;case"string":if("asc"===e)return;return"desc"===e?function(t,e){return My(e,t)}:t(e);case"object":var n=e.map((function(e){return t(e)}));return function(t,e){var r,i=Uy(n);try{for(i.s();!(r=i.n()).done;){var o=(0,r.value)(t,e);if(0!==o)return o}}catch(t){i.e(t)}finally{i.f()}return 0}}}())},unique:Gy,where:function(t,e,r){return t.filter((function(t){var n=t[e],i="function"==typeof n?n.call(t):n;return r?i===r:!!i}))},without:function(t,e){return Array.isArray(e)?By(t,(function(t){return-1===e.indexOf(t)})):function(t,e){return $y(t,[e])}(t,t.indexOf(e))},withoutIndexes:$y},ug=function(t,e){Xn(n,t);var r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ri(t);if(e){var i=ri(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ei(this,r)}}(n);function n(){return Wn(this,n),r.apply(this,arguments)}return li(n,[{key:e,value:ts.mark((function t(){return ts.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.value,"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"get",value:function(t){return this.value[t]}},{key:"toArray",value:function(){return this.value.slice(0)}},{key:"isPrimitive",value:function(t){return Array.isArray(t)}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.prototype;return e.create(t)}}]),n}(ag,Symbol.iterator);ig(ug,sg),og(ug,Array);var cg={reverse:function(t){return t.split("").reverse().join("")},toCamelCase:function(t){var e,r=Qy(t),n=za(e=r)||Qa(e)||Ka(e)||Wa(),i=n[0],o=n.slice(1);return(null!=i?i:"").toLowerCase()+o.map((function(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()})).join("")},toSlug:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t=t.trim().normalize("NFD").replace(/_|-/g," ").replace(/[\u0300-\u036f]/g,"").replace(/[^\d\w\s]/g,"").toLowerCase().replace(/\s+/g,e),e.length>0&&(t=t.replace(new RegExp("".concat(e,"+"),"g"),e)),t},toStudlyCase:function(t){return Qy(t).map((function(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()})).join("")}},lg=function(t){Xn(r,ag);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ri(t);if(e){var i=ri(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ei(this,r)}}(r);function r(){return Wn(this,r),e.apply(this,arguments)}return li(r,[{key:"toString",value:function(){return this.value}},{key:"isPrimitive",value:function(t){return"string"==typeof t}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.prototype;return e.create(t)}}]),r}();function fg(t,e){if(!e)return function(t){var e=new Proxy(t,{get:function(t,r,n){var i=Reflect.get(t,r,n);return"function"!=typeof i?i:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return i.call.apply(i,[t].concat(n)),e}}});return e}(t);var r=e(t);return r instanceof Promise?r.then((function(){return t})):t}function hg(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ug.create(Jy(t))}function dg(t,e){return Array.isArray(t)?function(t,e){var r=t[e];return t.splice(e,1),r}(t,e):function(t,e){var r=t[e];return delete t[e],r}(t,e)}ig(lg,cg),og(lg,String),e.SolidDocumentFormat=void 0,(e.SolidDocumentFormat||(e.SolidDocumentFormat={})).Turtle="Turtle";var pg=function(t){l(r,t);var e=v(r);function r(t,n,i){var o;return a(this,r),o=e.call(this,function(t,e,r){return t?"Malformed ".concat(e," document found at ").concat(t," - ").concat(r):"Malformed ".concat(e," document - ").concat(r)}(t,n,i)),c(d(o),"documentUrl",void 0),c(d(o),"documentFormat",void 0),c(d(o),"malformationDetails",void 0),o.documentUrl=t,o.documentFormat=n,o.malformationDetails=i,o}return r}(Sy),vg=function(t){l(r,t);var e=v(r);function r(t,n){var i;return a(this,r),c(d(i=e.call(this,"Request failed trying to fetch ".concat(t),n)),"url",void 0),i.url=t,i}return r}(Sy),yg=function(t){l(r,t);var e=v(r);function r(t){var n;return a(this,r),c(d(n=e.call(this,"Document with '".concat(t,"' url not found"))),"url",void 0),n.url=t,n}return r}(Sy),gg=function(t){l(r,t);var e=v(r);function r(t,n){var i;return a(this,r),i=e.call(this,function(t,e){return"Unauthorized".concat(403===e?" (Forbidden)":"",": ").concat(t)}(t,n)),c(d(i),"url",void 0),c(d(i),"responseStatus",void 0),i.url=t,i.responseStatus=n,i}return u(r,[{key:"forbidden",get:function(){return void 0!==this.responseStatus?403===this.responseStatus:void 0}}]),r}(Sy),bg=function(t){l(r,t);var e=v(r);function r(t,n){var i;return a(this,r),i=e.call(this,function(t,e){var r;return e=null!==(r=e)&&void 0!==r?r:t,"string"==typeof t?"".concat(t," (returned ").concat(e.status," status code)"):"Request to ".concat(e.url," returned ").concat(e.status," status code")}(t,n)),c(d(i),"response",void 0),i.response=null!=n?n:t,i}return r}(Sy),mg=function(t){l(r,t);var e=v(r);function r(t,n,i){var o;return a(this,r),c(d(o=e.call(this,"The resource at ".concat(t," is using an unsupported authorization protocol (").concat(n,")"),i)),"url",void 0),c(d(o),"protocol",void 0),o.url=t,o.protocol=n,o}return r}(Sy),wg=qo.find,_g="find",xg=!0;_g in[]&&Array(1).find((function(){xg=!1})),rr({target:"Array",proto:!0,forced:xg},{find:function(t){return wg(this,t,arguments.length>1?arguments[1]:void 0)}}),gi(_g);var Eg=ru.find;rr({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return Eg(this,t)}}),rr({target:"Iterator",proto:!0,real:!0},{find:function(t){return Yt(this),vt(t),Sn(this,(function(e,r){if(t(e))return r(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Sg={acl:"http://www.w3.org/ns/auth/acl#",foaf:"http://xmlns.com/foaf/0.1/",pim:"http://www.w3.org/ns/pim/space#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",vcard:"http://www.w3.org/2006/vcard/ns#"};function Og(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.startsWith("http"))return t;var r=t.split(":"),n=y(r,2),i=n[0],o=n[1];if(i&&o){var a,s,u,c=null!==(a=null!==(s=Sg[i])&&void 0!==s?s:null===(u=e.extraContext)||void 0===u?void 0:u[i])&&void 0!==a?a:null;if(!c)throw new Error("Can't expand IRI with unknown prefix: '".concat(t,"'"));return c+o}if(!e.defaultPrefix)throw new Error("Can't expand IRI without a default prefix: '".concat(t,"'"));return e.defaultPrefix+i}var Ig=function(){function t(e,r){a(this,t),c(this,"url",void 0),c(this,"quads",void 0),this.url=e,this.quads=r}return u(t,[{key:"value",value:function(t){var e;return null===(e=this.quads.find((function(e){return e.predicate.value===Og(t)})))||void 0===e?void 0:e.object.value}},{key:"values",value:function(t){return this.quads.filter((function(e){return e.predicate.value===Og(t)})).map((function(t){return t.object.value}))}}]),t}(),Rg=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,t),c(this,"quads",void 0),this.quads=e}return u(t,[{key:"isEmpty",value:function(){return 0===this.statements.length}},{key:"getQuads",value:function(){return this.quads.slice(0)}},{key:"addQuads",value:function(t){var e;(e=this.quads).push.apply(e,g(t))}},{key:"statements",value:function(t,e,r){var n=this;return this.quads.filter((function(i){return!(r&&i.object.value!==n.expandIRI(r)||t&&i.subject.value!==n.expandIRI(t)||e&&i.predicate.value!==n.expandIRI(e))}))}},{key:"statement",value:function(t,e,r){var n=this,i=this.quads.find((function(i){return!(r&&i.object.value!==n.expandIRI(r)||t&&i.subject.value!==n.expandIRI(t)||e&&i.predicate.value!==n.expandIRI(e))}));return null!=i?i:null}},{key:"contains",value:function(t,e,r){return null!==this.statement(t,e,r)}},{key:"getThing",value:function(t){var e=this.statements(t);return new Ig(t,e)}},{key:"expandIRI",value:function(t){return Og(t)}}]),t}();rr({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=Ot(this),r=De(e),n=_r(e,0);return n.length=Ul(n,e,e,r,0,void 0===t?1:je(t)),n}}),gi("flat");var jg=E((function(t){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],o=0;o<4;o++)8*n+6*o<=8*t.length?r.push(e.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(n))>>>6-2*i);return r}};t.exports=r}()})),kg={utf8:{stringToBytes:function(t){return kg.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(kg.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}},Tg=kg,Ag=function(t){return null!=t&&(Cg(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Cg(t.slice(0,0))}(t)||!!t._isBuffer)};function Cg(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Pg,Dg=E((function(t){!function(){var e=jg,r=Tg.utf8,n=Ag,i=Tg.bin,o=function(t,a){t.constructor==String?t=a&&"binary"===a.encoding?i.stringToBytes(t):r.stringToBytes(t):n(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var s=e.bytesToWords(t),u=8*t.length,c=1732584193,l=-271733879,f=-1732584194,h=271733878,d=0;d<s.length;d++)s[d]=16711935&(s[d]<<8|s[d]>>>24)|4278255360&(s[d]<<24|s[d]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var p=o._ff,v=o._gg,y=o._hh,g=o._ii;for(d=0;d<s.length;d+=16){var b=c,m=l,w=f,_=h;c=p(c,l,f,h,s[d+0],7,-680876936),h=p(h,c,l,f,s[d+1],12,-389564586),f=p(f,h,c,l,s[d+2],17,606105819),l=p(l,f,h,c,s[d+3],22,-1044525330),c=p(c,l,f,h,s[d+4],7,-176418897),h=p(h,c,l,f,s[d+5],12,1200080426),f=p(f,h,c,l,s[d+6],17,-1473231341),l=p(l,f,h,c,s[d+7],22,-45705983),c=p(c,l,f,h,s[d+8],7,1770035416),h=p(h,c,l,f,s[d+9],12,-1958414417),f=p(f,h,c,l,s[d+10],17,-42063),l=p(l,f,h,c,s[d+11],22,-1990404162),c=p(c,l,f,h,s[d+12],7,1804603682),h=p(h,c,l,f,s[d+13],12,-40341101),f=p(f,h,c,l,s[d+14],17,-1502002290),c=v(c,l=p(l,f,h,c,s[d+15],22,1236535329),f,h,s[d+1],5,-165796510),h=v(h,c,l,f,s[d+6],9,-1069501632),f=v(f,h,c,l,s[d+11],14,643717713),l=v(l,f,h,c,s[d+0],20,-373897302),c=v(c,l,f,h,s[d+5],5,-701558691),h=v(h,c,l,f,s[d+10],9,38016083),f=v(f,h,c,l,s[d+15],14,-660478335),l=v(l,f,h,c,s[d+4],20,-405537848),c=v(c,l,f,h,s[d+9],5,568446438),h=v(h,c,l,f,s[d+14],9,-1019803690),f=v(f,h,c,l,s[d+3],14,-187363961),l=v(l,f,h,c,s[d+8],20,1163531501),c=v(c,l,f,h,s[d+13],5,-1444681467),h=v(h,c,l,f,s[d+2],9,-51403784),f=v(f,h,c,l,s[d+7],14,1735328473),c=y(c,l=v(l,f,h,c,s[d+12],20,-1926607734),f,h,s[d+5],4,-378558),h=y(h,c,l,f,s[d+8],11,-2022574463),f=y(f,h,c,l,s[d+11],16,1839030562),l=y(l,f,h,c,s[d+14],23,-35309556),c=y(c,l,f,h,s[d+1],4,-1530992060),h=y(h,c,l,f,s[d+4],11,1272893353),f=y(f,h,c,l,s[d+7],16,-155497632),l=y(l,f,h,c,s[d+10],23,-1094730640),c=y(c,l,f,h,s[d+13],4,681279174),h=y(h,c,l,f,s[d+0],11,-358537222),f=y(f,h,c,l,s[d+3],16,-722521979),l=y(l,f,h,c,s[d+6],23,76029189),c=y(c,l,f,h,s[d+9],4,-640364487),h=y(h,c,l,f,s[d+12],11,-421815835),f=y(f,h,c,l,s[d+15],16,530742520),c=g(c,l=y(l,f,h,c,s[d+2],23,-995338651),f,h,s[d+0],6,-198630844),h=g(h,c,l,f,s[d+7],10,1126891415),f=g(f,h,c,l,s[d+14],15,-1416354905),l=g(l,f,h,c,s[d+5],21,-57434055),c=g(c,l,f,h,s[d+12],6,1700485571),h=g(h,c,l,f,s[d+3],10,-1894986606),f=g(f,h,c,l,s[d+10],15,-1051523),l=g(l,f,h,c,s[d+1],21,-2054922799),c=g(c,l,f,h,s[d+8],6,1873313359),h=g(h,c,l,f,s[d+15],10,-30611744),f=g(f,h,c,l,s[d+6],15,-1560198380),l=g(l,f,h,c,s[d+13],21,1309151649),c=g(c,l,f,h,s[d+4],6,-145523070),h=g(h,c,l,f,s[d+11],10,-1120210379),f=g(f,h,c,l,s[d+2],15,718787259),l=g(l,f,h,c,s[d+9],21,-343485551),c=c+b>>>0,l=l+m>>>0,f=f+w>>>0,h=h+_>>>0}return e.endian([c,l,f,h])};o._ff=function(t,e,r,n,i,o,a){var s=t+(e&r|~e&n)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._gg=function(t,e,r,n,i,o,a){var s=t+(e&n|r&~n)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._hh=function(t,e,r,n,i,o,a){var s=t+(e^r^n)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._ii=function(t,e,r,n,i,o,a){var s=t+(r^(e|~n))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,r){if(null==t)throw new Error("Illegal argument "+t);var n=e.wordsToBytes(o(t,r));return r&&r.asBytes?n:r&&r.asString?i.bytesToString(n):e.bytesToHex(n)}}()})),Ng=E((function(t,e){window,t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=49)}([function(t,e,r){const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",o="http://www.w3.org/2000/10/swap/";e.a={xsd:{decimal:i+"decimal",boolean:i+"boolean",double:i+"double",integer:i+"integer",string:i+"string"},rdf:{type:n+"type",nil:n+"nil",first:n+"first",rest:n+"rest",langString:n+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:o+"reify#forSome",forAll:o+"reify#forAll"},log:{implies:o+"log#implies"}}},function(t,e,r){const n={};t.exports=n,n.isArray=Array.isArray,n.isBoolean=t=>"boolean"==typeof t||"[object Boolean]"===Object.prototype.toString.call(t),n.isDouble=t=>n.isNumber(t)&&(-1!==String(t).indexOf(".")||Math.abs(t)>=1e21),n.isEmptyObject=t=>n.isObject(t)&&0===Object.keys(t).length,n.isNumber=t=>"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t),n.isNumeric=t=>!isNaN(parseFloat(t))&&isFinite(t),n.isObject=t=>"[object Object]"===Object.prototype.toString.call(t),n.isString=t=>"string"==typeof t||"[object String]"===Object.prototype.toString.call(t),n.isUndefined=t=>void 0===t},function(t,e,r){const n=r(4),i=r(1),o=r(11).IdentifierIssuer,a=r(3),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,u=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,l={accept:"application/ld+json, application/json"},f={};t.exports=f,f.IdentifierIssuer=o,f.clone=function(t){if(t&&"object"==typeof t){let e;if(i.isArray(t)){e=[];for(let r=0;r<t.length;++r)e[r]=f.clone(t[r])}else if(t instanceof Map){e=new Map;for(const[r,n]of t)e.set(r,f.clone(n))}else if(t instanceof Set){e=new Set;for(const r of t)e.add(f.clone(r))}else if(i.isObject(t)){e={};for(const r in t)e[r]=f.clone(t[r])}else e=t.toString();return e}return t},f.asArray=function(t){return Array.isArray(t)?t:[t]},f.buildHeaders=(t={})=>{if(Object.keys(t).some(t=>"accept"===t.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+l.accept+'" is supported.');return Object.assign({Accept:l.accept},t)},f.parseLinkHeader=t=>{const e={},r=t.match(s);for(let n=0;n<r.length;++n){let t=r[n].match(u);if(!t)continue;const i={target:t[1]},o=t[2];for(;t=c.exec(o);)i[t[1]]=void 0===t[2]?t[3]:t[2];const a=i.rel||"";Array.isArray(e[a])?e[a].push(i):e.hasOwnProperty(a)?e[a]=[e[a],i]:e[a]=i}return e},f.validateTypeValue=(t,e)=>{if(!(i.isString(t)||i.isArray(t)&&t.every(t=>i.isString(t)))){if(e&&i.isObject(t))switch(Object.keys(t).length){case 0:return;case 1:if("@default"in t&&f.asArray(t["@default"]).every(t=>i.isString(t)))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:t})}},f.hasProperty=(t,e)=>{if(t.hasOwnProperty(e)){const r=t[e];return!i.isArray(r)||r.length>0}return!1},f.hasValue=(t,e,r)=>{if(f.hasProperty(t,e)){let o=t[e];const a=n.isList(o);if(i.isArray(o)||a){a&&(o=o["@list"]);for(let t=0;t<o.length;++t)if(f.compareValues(r,o[t]))return!0}else if(!i.isArray(r))return f.compareValues(r,o)}return!1},f.addValue=(t,e,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)t[e]=r;else if(i.isArray(r)){0===r.length&&n.propertyIsArray&&!t.hasOwnProperty(e)&&(t[e]=[]),n.prependValue&&(r=r.concat(t[e]),t[e]=[]);for(let i=0;i<r.length;++i)f.addValue(t,e,r[i],n)}else if(t.hasOwnProperty(e)){const o=!n.allowDuplicate&&f.hasValue(t,e,r);i.isArray(t[e])||o&&!n.propertyIsArray||(t[e]=[t[e]]),o||(n.prependValue?t[e].unshift(r):t[e].push(r))}else t[e]=n.propertyIsArray?[r]:r},f.getValues=(t,e)=>[].concat(t[e]||[]),f.removeProperty=(t,e)=>{delete t[e]},f.removeValue=(t,e,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const i=f.getValues(t,e).filter(t=>!f.compareValues(t,r));0===i.length?f.removeProperty(t,e):1!==i.length||n.propertyIsArray?t[e]=i:t[e]=i[0]},f.relabelBlankNodes=(t,e)=>function t(e,r){if(i.isArray(r))for(let n=0;n<r.length;++n)r[n]=t(e,r[n]);else if(n.isList(r))r["@list"]=t(e,r["@list"]);else if(i.isObject(r)){n.isBlankNode(r)&&(r["@id"]=e.getId(r["@id"]));const i=Object.keys(r).sort();for(let n=0;n<i.length;++n){const o=i[n];"@id"!==o&&(r[o]=t(e,r[o]))}}return r}((e=e||{}).issuer||new o("_:b"),t),f.compareValues=(t,e)=>t===e||!(!n.isValue(t)||!n.isValue(e)||t["@value"]!==e["@value"]||t["@type"]!==e["@type"]||t["@language"]!==e["@language"]||t["@index"]!==e["@index"])||!!(i.isObject(t)&&"@id"in t&&i.isObject(e)&&"@id"in e)&&t["@id"]===e["@id"],f.compareShortestLeast=(t,e)=>t.length<e.length?-1:e.length<t.length?1:t===e?0:t<e?-1:1},function(t,e,r){t.exports=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",e="jsonld.Error",r={}){super(t),this.name=e,this.message=t,this.details=r}}},function(t,e,r){const n=r(1),i={};t.exports=i,i.isSubject=t=>!(!n.isObject(t)||"@value"in t||"@set"in t||"@list"in t)&&(Object.keys(t).length>1||!("@id"in t)),i.isSubjectReference=t=>n.isObject(t)&&1===Object.keys(t).length&&"@id"in t,i.isValue=t=>n.isObject(t)&&"@value"in t,i.isList=t=>n.isObject(t)&&"@list"in t,i.isGraph=t=>n.isObject(t)&&"@graph"in t&&1===Object.keys(t).filter(t=>"@id"!==t&&"@index"!==t).length,i.isSimpleGraph=t=>i.isGraph(t)&&!("@id"in t),i.isBlankNode=t=>!!n.isObject(t)&&("@id"in t?0===t["@id"].indexOf("_:"):0===Object.keys(t).length||!("@value"in t||"@set"in t||"@list"in t))},function(t,e,r){const n=r(1),i={};t.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(t,e)=>{const r={},n=i.parsers[e||"full"],o=n.regex.exec(t);let a=n.keys.length;for(;a--;)r[n.keys[a]]=void 0===o[a]?null:o[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r},i.prependBase=(t,e)=>{if(null===t)return e;if(i.isAbsolute(e))return e;t&&!n.isString(t)||(t=i.parse(t||""));const r=i.parse(e),o={protocol:t.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=t.authority,""===r.path)o.path=t.path,null!==r.query?o.query=r.query:o.query=t.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{let e=t.path;e=e.substr(0,e.lastIndexOf("/")+1),(e.length>0||t.authority)&&"/"!==e.substr(-1)&&(e+="/"),e+=r.path,o.path=e}o.query=r.query}""!==r.path&&(o.path=i.removeDotSegments(o.path));let a=o.protocol;return null!==o.authority&&(a+="//"+o.authority),a+=o.path,null!==o.query&&(a+="?"+o.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a},i.removeBase=(t,e)=>{if(null===t)return e;t&&!n.isString(t)||(t=i.parse(t||""));let r="";if(""!==t.href?r+=(t.protocol||"")+"//"+(t.authority||""):e.indexOf("//")&&(r+="//"),0!==e.indexOf(r))return e;const o=i.parse(e.substr(r.length)),a=t.normalizedPath.split("/"),s=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;for(;a.length>0&&s.length>u&&a[0]===s[0];)a.shift(),s.shift();let c="";if(a.length>0){a.pop();for(let t=0;t<a.length;++t)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=t=>{if(0===t.length)return"";const e=t.split("/"),r=[];for(;e.length>0;){const t=e.shift(),n=0===e.length;"."!==t?".."!==t?r.push(t):(r.pop(),n&&r.push("")):n&&r.push("")}return"/"===t[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=t=>n.isString(t)&&o.test(t),i.isRelative=t=>n.isString(t)},function(t,e,r){const n=r(2),i=r(3),{isArray:o,isObject:a,isString:s,isUndefined:u}=r(1),{isAbsolute:c,isRelative:l,prependBase:f}=r(5),{asArray:h,compareShortestLeast:d}=r(2),p=new Map,v=/^@[a-zA-Z]+$/,y={};function g(t,e,r,n,i,o){if(null===e||!s(e)||y.isKeyword(e))return e;if(e.match(v))return null;if(n&&n.hasOwnProperty(e)&&!0!==i.get(e)&&y.createTermDefinition({activeCtx:t,localCtx:n,term:e,defined:i,options:o}),(r=r||{}).vocab){const r=t.mappings.get(e);if(null===r)return null;if(a(r)&&"@id"in r)return r["@id"]}const u=e.indexOf(":");if(u>0){const r=e.substr(0,u),a=e.substr(u+1);if("_"===r||0===a.indexOf("//"))return e;n&&n.hasOwnProperty(r)&&y.createTermDefinition({activeCtx:t,localCtx:n,term:r,defined:i,options:o});const s=t.mappings.get(r);if(s&&s._prefix)return s["@id"]+a;if(c(e))return e}if(r.vocab&&"@vocab"in t)return t["@vocab"]+e;if(r.base&&"@base"in t){if(t["@base"])return f(f(o.base,t["@base"]),e)}else if(r.base)return f(o.base,e);return e}t.exports=y,y.process=async({activeCtx:t,localCtx:e,options:r,propagate:u=!0,overrideProtected:d=!1,cycles:p=new Set})=>{if(a(e)&&"@context"in e&&o(e["@context"])&&(e=e["@context"]),0===h(e).length)return t;const v=await r.contextResolver.resolve({activeCtx:t,context:e,documentLoader:r.documentLoader,base:r.base});a(v[0].document)&&"boolean"==typeof v[0].document["@propagate"]&&(u=v[0].document["@propagate"]);let b=t;u||b.previousContext||(b=b.clone(),b.previousContext=t);for(const o of v){let{document:u}=o;if(t=b,null===u){if(!d&&0!==Object.keys(t.protected).length){const a=r&&r.protectedMode||"error";if("error"===a)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===a){console.warn("WARNING: invalid context nullification");const e=o.getProcessed(t);if(e){b=t=e;continue}const i=t;b=t=y.getInitialContext(r).clone();for(const[r,o]of Object.entries(i.protected))o&&(t.mappings[r]=n.clone(i.mappings[r]));t.protected=n.clone(i.protected),o.setProcessed(i,b);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:e,protectedMode:a})}b=t=y.getInitialContext(r).clone();continue}const h=o.getProcessed(t);if(h){b=t=h;continue}if(a(u)&&"@context"in u&&(u=u["@context"]),!a(u))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u});b=b.clone();const v=new Map;if("@version"in u){if(1.1!==u["@version"])throw new i("Unsupported JSON-LD version: "+u["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:u});if(t.processingMode&&"json-ld-1.0"===t.processingMode)throw new i("@version: "+u["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:u});b.processingMode="json-ld-1.1",b["@version"]=u["@version"],v.set("@version",!0)}if(b.processingMode=b.processingMode||t.processingMode,"@base"in u){let t=u["@base"];if(null===t||c(t));else{if(!l(t))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:u});t=f(b["@base"],t)}b["@base"]=t,v.set("@base",!0)}if("@vocab"in u){const t=u["@vocab"];if(null===t)delete b["@vocab"];else{if(!s(t))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});if(!c(t)&&y.processingMode(b,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});b["@vocab"]=g(b,t,{vocab:!0,base:!0},void 0,void 0,r)}v.set("@vocab",!0)}if("@language"in u){const t=u["@language"];if(null===t)delete b["@language"];else{if(!s(t))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:u});b["@language"]=t.toLowerCase()}v.set("@language",!0)}if("@direction"in u){const e=u["@direction"];if("json-ld-1.0"===t.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:u});if(null===e)delete b["@direction"];else{if("ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:u});b["@direction"]=e}v.set("@direction",!0)}if("@propagate"in u){const r=u["@propagate"];if("json-ld-1.0"===t.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if("boolean"!=typeof r)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:e});v.set("@propagate",!0)}if("@import"in u){const n=u["@import"];if("json-ld-1.0"===t.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if(!s(n))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:e});const o=await r.contextResolver.resolve({activeCtx:t,context:n,documentLoader:r.documentLoader,base:r.base});if(1!==o.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:e});const a=o[0].getProcessed(t);if(a)u=a;else{const r=o[0].document;if("@import"in r)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:e});for(const t in r)u.hasOwnProperty(t)||(u[t]=r[t]);o[0].setProcessed(t,u)}v.set("@import",!0)}v.set("@protected",u["@protected"]||!1);for(const t in u)if(y.createTermDefinition({activeCtx:b,localCtx:u,term:t,defined:v,options:r,overrideProtected:d}),a(u[t])&&"@context"in u[t]){const n=u[t]["@context"];let o=!0;if(s(n)){const t=f(r.base,n);p.has(t)?o=!1:p.add(t)}if(o)try{await y.process({activeCtx:b.clone(),localCtx:u[t]["@context"],overrideProtected:!0,options:r,cycles:p})}catch(e){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:u[t]["@context"],term:t})}}o.setProcessed(t,b)}return b},y.createTermDefinition=({activeCtx:t,localCtx:e,term:r,defined:n,options:u,overrideProtected:l=!1})=>{if(n.has(r)){if(n.get(r))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:e,term:r})}let f;if(n.set(r,!1),e.hasOwnProperty(r)&&(f=e[r]),"@type"===r&&a(f)&&"@set"===(f["@container"]||"@set")&&y.processingMode(t,1.1)){const t=["@container","@id","@protected"],n=Object.keys(f);if(0===n.length||n.some(e=>!t.includes(e)))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:r})}else{if(y.isKeyword(r))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:r});if(r.match(v))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:r});if(""===r)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:e})}const h=t.mappings.get(r);t.mappings.has(r)&&t.mappings.delete(r);let d=!1;if((s(f)||null===f)&&(d=!0,f={"@id":f}),!a(f))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:e});const p={};t.mappings.set(r,p),p.reverse=!1;const b=["@container","@id","@language","@reverse","@type"];y.processingMode(t,1.1)&&b.push("@context","@direction","@index","@nest","@prefix","@protected");for(const o in f)if(!b.includes(o))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+o,"jsonld.SyntaxError",{code:"invalid term definition",context:e});const m=r.indexOf(":");if(p._termHasColon=m>0,"@reverse"in f){if("@id"in f)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});if("@nest"in f)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});const o=f["@reverse"];if(!s(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(!y.isKeyword(o)&&o.match(v))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:o}),void(h?t.mappings.set(r,h):t.mappings.delete(r));const a=g(t,o,{vocab:!0,base:!1},e,n,u);if(!c(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});p["@id"]=a,p.reverse=!0}else if("@id"in f){let o=f["@id"];if(o&&!s(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(null===o)p["@id"]=null;else{if(!y.isKeyword(o)&&o.match(v))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:o}),void(h?t.mappings.set(r,h):t.mappings.delete(r));if(o!==r){if(o=g(t,o,{vocab:!0,base:!1},e,n,u),!c(o)&&!y.isKeyword(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(r.match(/(?::[^:])|\//)&&g(t,r,{vocab:!0,base:!1},e,new Map(n).set(r,!0),u)!==o)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});p["@id"]=o,p._prefix=d&&!p._termHasColon&&o.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in p))if(p._termHasColon){const i=r.substr(0,m);if(e.hasOwnProperty(i)&&y.createTermDefinition({activeCtx:t,localCtx:e,term:i,defined:n,options:u}),t.mappings.has(i)){const e=r.substr(m+1);p["@id"]=t.mappings.get(i)["@id"]+e}else p["@id"]=r}else if("@type"===r)p["@id"]=r;else{if(!("@vocab"in t))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e,term:r});p["@id"]=t["@vocab"]+r}if((!0===f["@protected"]||!0===n.get("@protected")&&!1!==f["@protected"])&&(t.protected[r]=!0,p.protected=!0),n.set(r,!0),"@type"in f){let r=f["@type"];if(!s(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if("@json"===r||"@none"===r){if(y.processingMode(t,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${r}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else if("@id"!==r&&"@vocab"!==r){if(r=g(t,r,{vocab:!0,base:!1},e,n,u),!c(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if(0===r.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}p["@type"]=r}if("@container"in f){const r=s(f["@container"])?[f["@container"]]:f["@container"]||[],n=["@list","@set","@index","@language"];let a=!0;const u=r.includes("@set");if(y.processingMode(t,1.1)){if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else if(r.includes("@graph")){if(r.some(t=>"@graph"!==t&&"@id"!==t&&"@index"!==t&&"@set"!==t))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else a&=r.length<=(u?2:1);if(r.includes("@type")&&(p["@type"]=p["@type"]||"@id",!["@id","@vocab"].includes(p["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else a&=!o(f["@container"]),a&=r.length<=1;if(a&=r.every(t=>n.includes(t)),a&=!(u&&r.includes("@list")),!a)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:e});if(p.reverse&&!r.every(t=>["@index","@set"].includes(t)))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});p["@container"]=r}if("@index"in f){if(!("@container"in f)||!p["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${f["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});if(!s(f["@index"])||0===f["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${f["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});p["@index"]=f["@index"]}if("@context"in f&&(p["@context"]=f["@context"]),"@language"in f&&!("@type"in f)){let t=f["@language"];if(null!==t&&!s(t))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:e});null!==t&&(t=t.toLowerCase()),p["@language"]=t}if("@prefix"in f){if(r.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:e});if(y.isKeyword(p["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:e});if("boolean"!=typeof f["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:e});p._prefix=!0===f["@prefix"]}if("@direction"in f){const t=f["@direction"];if(null!==t&&"ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:e});p["@direction"]=t}if("@nest"in f){const t=f["@nest"];if(!s(t)||"@nest"!==t&&0===t.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:e});p["@nest"]=t}
// disallow aliasing @context and @preserve
const w=p["@id"];if("@context"===w||"@preserve"===w)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:e});if(h&&h.protected&&!l&&(t.protected[r]=!0,p.protected=!0,!function t(e,r){if(!e||"object"!=typeof e||!r||"object"!=typeof r)return e===r;const n=Array.isArray(e);if(n!==Array.isArray(r))return!1;if(n){if(e.length!==r.length)return!1;for(let n=0;n<e.length;++n)if(!t(e[n],r[n]))return!1;return!0}const i=Object.keys(e),o=Object.keys(r);if(i.length!==o.length)return!1;for(const a in e){let n=e[a],i=r[a];if("@container"===a&&Array.isArray(n)&&Array.isArray(i)&&(n=n.slice().sort(),i=i.slice().sort()),!t(n,i))return!1}return!0}(h,p))){const t=u&&u.protectedMode||"error";if("error"===t)throw new i(`Invalid JSON-LD syntax; tried to redefine "${r}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:e,term:r});if("warn"===t)return void console.warn("WARNING: protected term redefinition",{term:r});throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:e,term:r,protectedMode:t})}},y.expandIri=(t,e,r,n)=>g(t,e,r,void 0,void 0,n),y.getInitialContext=t=>{const e=JSON.stringify({processingMode:t.processingMode}),r=p.get(e);if(r)return r;const i={processingMode:t.processingMode,mappings:new Map,inverse:null,getInverse:function(){const t=this;if(t.inverse)return t.inverse;const e=t.inverse={},r=t.fastCurieMap={},n={},i=(t["@language"]||"@none").toLowerCase(),s=t["@direction"],u=t.mappings,c=[...u.keys()].sort(d);for(const o of c){const t=u.get(o);if(null===t)continue;let c=t["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===t["@id"])continue;const l=h(t["@id"]);for(const u of l){let l=e[u];const f=y.isKeyword(u);if(l)f||t._termHasColon||n[u].push(o);else if(e[u]=l={},!f&&!t._termHasColon){n[u]=[o];const t={iri:u,terms:n[u]};u[0]in r?r[u[0]].push(t):r[u[0]]=[t]}if(l[c]||(l[c]={"@language":{},"@type":{},"@any":{}}),l=l[c],a(o,l["@any"],"@none"),t.reverse)a(o,l["@type"],"@reverse");else if("@none"===t["@type"])a(o,l["@any"],"@none"),a(o,l["@language"],"@none"),a(o,l["@type"],"@none");else if("@type"in t)a(o,l["@type"],t["@type"]);else if("@language"in t&&"@direction"in t){const e=t["@language"],r=t["@direction"];a(o,l["@language"],e&&r?`${e}_${r}`.toLowerCase():e?e.toLowerCase():r?"_"+r:"@null")}else"@language"in t?a(o,l["@language"],(t["@language"]||"@null").toLowerCase()):"@direction"in t?t["@direction"]?a(o,l["@language"],"_"+t["@direction"]):a(o,l["@language"],"@none"):s?(a(o,l["@language"],"_"+s),a(o,l["@language"],"@none"),a(o,l["@type"],"@none")):(a(o,l["@language"],i),a(o,l["@language"],"@none"),a(o,l["@type"],"@none"))}}for(const a in r)o(r,a,1);return e},clone:function(){const t={};return t.mappings=n.clone(this.mappings),t.clone=this.clone,t.inverse=null,t.getInverse=this.getInverse,t.protected=n.clone(this.protected),this.previousContext&&(t.previousContext=this.previousContext.clone()),t.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(t["@base"]=this["@base"]),"@language"in this&&(t["@language"]=this["@language"]),"@vocab"in this&&(t["@vocab"]=this["@vocab"]),t},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===p.size&&p.clear(),p.set(e,i),i;function o(t,e,r){const n=t[e],i=t[e]={};let a,s;for(const o of n)a=o.iri,s=r>=a.length?"":a[r],s in i?i[s].push(o):i[s]=[o];for(const u in i)""!==u&&o(i,u,r+1)}function a(t,e,r){e.hasOwnProperty(r)||(e[r]=t)}},y.getContextValue=(t,e,r)=>{if(null===e){if("@context"===r)return;return null}if(t.mappings.has(e)){const n=t.mappings.get(e);if(u(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in t||"@direction"===r&&r in t?t[r]:"@context"!==r?null:void 0},y.processingMode=(t,e)=>e.toString()>="1.1"?!t.processingMode||t.processingMode>="json-ld-"+e.toString():"json-ld-1.0"===t.processingMode,y.isKeyword=t=>{if(!s(t)||"@"!==t[0])return!1;switch(t){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},function(t,e,r){
/**
   * A JavaScript implementation of the JSON-LD API.
   *
   * @author Dave Longley
   *
   * @license BSD 3-Clause License
   * Copyright (c) 2011-2019 Digital Bazaar, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * Redistributions in binary form must reproduce the above copyright
   * notice, this list of conditions and the following disclaimer in the
   * documentation and/or other materials provided with the distribution.
   *
   * Neither the name of the Digital Bazaar, Inc. nor the names of its
   * contributors may be used to endorse or promote products derived from
   * this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
   * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
   * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
   * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
   * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
   * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
const n=r(11),i=r(30),o=r(2),a=r(32),s=o.IdentifierIssuer,u=r(3),c=r(20),l=r(36),{expand:f}=r(37),{flatten:h}=r(38),{fromRDF:d}=r(39),{toRDF:p}=r(40),{frameMergedOrDefault:v,cleanupNull:y}=r(42),{isArray:g,isObject:b,isString:m}=r(1),{isSubjectReference:w}=r(4),{expandIri:_,getInitialContext:x,process:E,processingMode:S}=r(6),{compact:O,compactIri:I}=r(43),{createNodeMap:R,createMergedNodeMap:j,mergeNodeMaps:k}=r(10),T=function(t){const e={},T=new c({max:100});function A(e,{documentLoader:r=t.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,e)}return t.compact=async function(e,r,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===r)throw new u("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===e)return null;let i;(n=A(n,{base:m(e)?e:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:T})})).link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,i=n.skipExpansion?e:await t.expand(e,n);const c=await t.processContext(x(n),r,n);let l=await O({activeCtx:c,element:i,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&g(l)?1===l.length?l=l[0]:0===l.length&&(l={}):n.graph&&b(l)&&(l=[l]),b(r)&&"@context"in r&&(r=r["@context"]),r=o.clone(r),g(r)||(r=[r]);const f=r;r=[];for(let t=0;t<f.length;++t)(!b(f[t])||Object.keys(f[t]).length>0)&&r.push(f[t]);const h=r.length>0;if(1===r.length&&(r=r[0]),g(l)){const t=I({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),e=l;l={},h&&(l["@context"]=r),l[t]=e}else if(b(l)&&h){const t=l;l={"@context":r};for(const e in t)l[e]=t[e]}return l},t.expand=async function(e,r){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(r=A(r,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:T})})).expansionMap&&(r.expansionMap=void 0);const n={},i=[];if("expandContext"in r){const t=o.clone(r.expandContext);b(t)&&"@context"in t?n.expandContext=t:n.expandContext={"@context":t},i.push(n.expandContext)}let s;if(m(e)){const o=await t.get(e,r);s=o.documentUrl,n.input=o.document,o.contextUrl&&(n.remoteContext={"@context":o.contextUrl},i.push(n.remoteContext))}else n.input=o.clone(e);"base"in r||(r.base=s||"");let u=x(r);for(const t of i)u=await E({activeCtx:u,localCtx:t,options:r});let c=await f({activeCtx:u,element:n.input,options:r,expansionMap:r.expansionMap});return b(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),g(c)||(c=[c]),c},t.flatten=async function(e,r,n){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");r="function"==typeof r?null:r||null,n=A(n,{base:m(e)?e:"",contextResolver:new a({sharedCache:T})});const i=await t.expand(e,n),o=h(i);return null===r?o:(n.graph=!0,n.skipExpansion=!0,await t.compact(o,r,n))},t.frame=async function(e,r,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(n=A(n,{base:m(e)?e:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:T})}),m(r)){const e=await t.get(r,n);if(r=e.document,e.contextUrl){let t=r["@context"];t?g(t)?t.push(e.contextUrl):t=[t,e.contextUrl]:t=e.contextUrl,r["@context"]=t}}const i=r&&r["@context"]||{},o=await t.processContext(x(n),i,n);n.hasOwnProperty("omitGraph")||(n.omitGraph=S(o,1.1)),n.hasOwnProperty("pruneBlankNodeIdentifiers")||(n.pruneBlankNodeIdentifiers=S(o,1.1));const s=await t.expand(e,n),u={...n};u.isFrame=!0,u.keepFreeFloatingNodes=!0;const c=await t.expand(r,u),l=Object.keys(r).map(t=>_(o,t,{vocab:!0}));u.merged=!l.includes("@graph"),u.is11=S(o,1.1);const f=v(s,c,u);u.graph=!n.omitGraph,u.skipExpansion=!0,u.link={},u.framing=!0;let h=await t.compact(f,i,u);return u.link={},h=y(h,u),h},t.link=async function(e,r,n){const i={};return r&&(i["@context"]=r),i["@embed"]="@link",t.frame(e,i,n)},t.normalize=t.canonize=async function(e,r){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(r=A(r,{base:m(e)?e:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new a({sharedCache:T})}))){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new u("Unknown canonicalization input format.","jsonld.CanonizeError");const t=l.parse(e);return n.canonize(t,r)}const i={...r};delete i.format,i.produceGeneralizedRdf=!1;const o=await t.toRDF(e,i);return n.canonize(o,r)},t.fromRDF=async function(t,r){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");r=A(r,{format:m(t)?"application/n-quads":void 0});const{format:n}=r;let{rdfParser:i}=r;if(n){if(i=i||e[n],!i)throw new u("Unknown input format.","jsonld.UnknownFormat",{format:n})}else i=()=>t;const o=await i(t);return d(o,r)},t.toRDF=async function(e,r){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let n;n=(r=A(r,{base:m(e)?e:"",skipExpansion:!1,contextResolver:new a({sharedCache:T})})).skipExpansion?e:await t.expand(e,r);const i=p(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return l.serialize(i);throw new u("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return i},t.createNodeMap=async function(e,r){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");r=A(r,{base:m(e)?e:"",contextResolver:new a({sharedCache:T})});const n=await t.expand(e,r);return j(n,r)},t.merge=async function(e,r,n){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!g(e))throw new TypeError('Could not merge, "docs" must be an array.');r="function"==typeof r?null:r||null,n=A(n,{contextResolver:new a({sharedCache:T})});const i=await Promise.all(e.map(e=>{const r={...n};return t.expand(e,r)}));let u=!0;"mergeNodes"in n&&(u=n.mergeNodes);const c=n.issuer||new s("_:b"),l={"@default":{}};for(let t=0;t<i.length;++t){const e=o.relabelBlankNodes(i[t],{issuer:new s("_:b"+t+"-")}),r=u||0===t?l:{"@default":{}};if(R(e,r,"@default",c),r!==l)for(const t in r){const e=r[t];if(!(t in l)){l[t]=e;continue}const n=l[t];for(const t in e)t in n||(n[t]=e[t])}}const f=k(l),h=[],d=Object.keys(f).sort();for(let t=0;t<d.length;++t){const e=f[d[t]];w(e)||h.push(e)}return null===r?h:(n.graph=!0,n.skipExpansion=!0,await t.compact(h,r,n))},Object.defineProperty(t,"documentLoader",{get:()=>t._documentLoader,set:e=>t._documentLoader=e}),t.documentLoader=async t=>{throw new u("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t})},t.get=async function(e,r){let n;n="function"==typeof r.documentLoader?r.documentLoader:t.documentLoader;const i=await n(e);try{if(!i.document)throw new u("No remote document found at the given URL.","jsonld.NullRemoteDocument");m(i.document)&&(i.document=JSON.parse(i.document))}catch(t){throw new u("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t,remoteDoc:i})}return i},t.processContext=async function(t,e,r){return r=A(r,{base:"",contextResolver:new a({sharedCache:T})}),null===e?x(r):(e=o.clone(e),b(e)&&"@context"in e||(e={"@context":e}),E({activeCtx:t,localCtx:e,options:r}))},t.getContextValue=r(6).getContextValue,t.documentLoaders={},t.useDocumentLoader=function(e){if(!(e in t.documentLoaders))throw new u('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))},t.registerRDFParser=function(t,r){e[t]=r},t.unregisterRDFParser=function(t){delete e[t]},t.registerRDFParser("application/n-quads",l.parse),t.registerRDFParser("application/nquads",l.parse),t.url=r(5),t.util=o,Object.assign(t,o),t.promises=t,t.RequestQueue=r(19),t.JsonLdProcessor=r(44)(t),i.setupGlobals(t),i.setupDocumentLoaders(t),t},A=function(){return T((function(){return A()}))};T(A),t.exports=A},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){
/*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   */
r(16);const n=self.crypto||self.msCrypto;t.exports=class{constructor(t){if(!n||!n.subtle)throw new Error("crypto.subtle not found.");if("sha256"===t)this.algorithm={name:"SHA-256"};else{if("sha1"!==t)throw new Error(`Unsupported algorithm "${t}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(t){this._content+=t}async digest(){const t=(new TextEncoder).encode(this._content),e=new Uint8Array(await n.subtle.digest(this.algorithm,t));let r="";for(let n=0;n<e.length;++n)r+=e[n].toString(16).padStart(2,"0");return r}}},function(t,e,r){const{isKeyword:n}=r(6),i=r(4),o=r(1),a=r(2),s=r(3),u={};t.exports=u,u.createMergedNodeMap=(t,e)=>{const r=(e=e||{}).issuer||new a.IdentifierIssuer("_:b"),n={"@default":{}};return u.createNodeMap(t,n,"@default",r),u.mergeNodeMaps(n)},u.createNodeMap=(t,e,r,c,l,f)=>{if(o.isArray(t)){for(const n of t)u.createNodeMap(n,e,r,c,void 0,f);return}if(!o.isObject(t))return void(f&&f.push(t));if(i.isValue(t)){if("@type"in t){let e=t["@type"];0===e.indexOf("_:")&&(t["@type"]=e=c.getId(e))}return void(f&&f.push(t))}if(f&&i.isList(t)){const n=[];return u.createNodeMap(t["@list"],e,r,c,l,n),void f.push({"@list":n})}if("@type"in t){const e=t["@type"];for(const t of e)0===t.indexOf("_:")&&c.getId(t)}o.isUndefined(l)&&(l=i.isBlankNode(t)?c.getId(t["@id"]):t["@id"]),f&&f.push({"@id":l});const h=e[r],d=h[l]=h[l]||{};d["@id"]=l;const p=Object.keys(t).sort();for(let o of p){if("@id"===o)continue;if("@reverse"===o){const n={"@id":l},o=t["@reverse"];for(const t in o){const s=o[t];for(const o of s){let s=o["@id"];i.isBlankNode(o)&&(s=c.getId(s)),u.createNodeMap(o,e,r,c,s),a.addValue(h[s],t,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){l in e||(e[l]={}),u.createNodeMap(t[o],e,l,c);continue}if("@included"===o){u.createNodeMap(t[o],e,r,c);continue}if("@type"!==o&&n(o)){if("@index"===o&&o in d&&(t[o]!==d[o]||t[o]["@id"]!==d[o]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:d});d[o]=t[o];continue}const f=t[o];if(0===o.indexOf("_:")&&(o=c.getId(o)),0!==f.length)for(let t of f)if("@type"===o&&(t=0===t.indexOf("_:")?c.getId(t):t),i.isSubject(t)||i.isSubjectReference(t)){if("@id"in t&&!t["@id"])continue;const n=i.isBlankNode(t)?c.getId(t["@id"]):t["@id"];a.addValue(d,o,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(t,e,r,c,n)}else if(i.isValue(t))a.addValue(d,o,t,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(t)){const n=[];u.createNodeMap(t["@list"],e,r,c,l,n),t={"@list":n},a.addValue(d,o,t,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(t,e,r,c,l),a.addValue(d,o,t,{propertyIsArray:!0,allowDuplicate:!1});else a.addValue(d,o,[],{propertyIsArray:!0})}},u.mergeNodeMapGraphs=t=>{const e={};for(const r of Object.keys(t).sort())for(const i of Object.keys(t[r]).sort()){const o=t[r][i];i in e||(e[i]={"@id":i});const s=e[i];for(const t of Object.keys(o).sort())if(n(t)&&"@type"!==t)s[t]=a.clone(o[t]);else for(const e of o[t])a.addValue(s,t,a.clone(e),{propertyIsArray:!0,allowDuplicate:!1})}return e},u.mergeNodeMaps=t=>{const e=t["@default"],r=Object.keys(t).sort();for(const n of r){if("@default"===n)continue;const r=t[n];let o=e[n];o?"@graph"in o||(o["@graph"]=[]):e[n]=o={"@id":n,"@graph":[]};const a=o["@graph"];for(const t of Object.keys(r).sort()){const e=r[t];i.isSubjectReference(e)||a.push(e)}}return e}},function(t,e,r){t.exports=r(24)},function(t,e,r){t.exports=class t{constructor(t,e=new Map,r=0){this.prefix=t,this._existing=e,this.counter=r}clone(){const{prefix:e,_existing:r,counter:n}=this;return new t(e,new Map(r),n)}getId(t){const e=t&&this._existing.get(t);if(e)return e;const r=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,r),r}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}}},function(t,e,r){
/*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   */
const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",o={};function a(t,e){return t.subject.termType===e.subject.termType&&t.object.termType===e.object.termType&&t.subject.value===e.subject.value&&t.predicate.value===e.predicate.value&&t.object.value===e.object.value&&("Literal"!==t.object.termType||t.object.datatype.termType===e.object.datatype.termType&&t.object.language===e.object.language&&t.object.datatype.value===e.object.datatype.value)}o.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,o.empty=new RegExp("^[ \\t]*$"),o.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]*\\.))[ \\t]*$'),t.exports=class t{static parse(t){const e=[],r={},s=t.split(o.eoln);let c=0;for(const l of s){if(c++,o.empty.test(l))continue;const t=l.match(o.quad);if(null===t)throw new Error("N-Quads parse error on line "+c+".");const s={subject:null,predicate:null,object:null,graph:null};if(void 0!==t[1]?s.subject={termType:"NamedNode",value:t[1]}:s.subject={termType:"BlankNode",value:t[2]},s.predicate={termType:"NamedNode",value:t[3]},void 0!==t[4]?s.object={termType:"NamedNode",value:t[4]}:void 0!==t[5]?s.object={termType:"BlankNode",value:t[5]}:(s.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==t[7]?s.object.datatype.value=t[7]:void 0!==t[8]?(s.object.datatype.value=n,s.object.language=t[8]):s.object.datatype.value=i,s.object.value=t[6].replace(u,(function(t,e,r,n){if(e)switch(e){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))),void 0!==t[9]?s.graph={termType:"NamedNode",value:t[9]}:void 0!==t[10]?s.graph={termType:"BlankNode",value:t[10]}:s.graph={termType:"DefaultGraph",value:""},s.graph.value in r){let t=!0;const n=r[s.graph.value];for(const e of n)if(a(e,s)){t=!1;break}t&&(n.push(s),e.push(s))}else r[s.graph.value]=[s],e.push(s)}return e}static serialize(e){Array.isArray(e)||(e=t.legacyDatasetToQuads(e));const r=[];for(const n of e)r.push(t.serializeQuad(n));return r.sort().join("")}static serializeQuadComponents(t,e,r,o){let a="";return"NamedNode"===t.termType?a+=`<${t.value}>`:a+=""+t.value,a+=` <${e.value}> `,"NamedNode"===r.termType?a+=`<${r.value}>`:"BlankNode"===r.termType?a+=r.value:(a+=`"${function(t){return t.replace(s,(function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(r.value)}"`,r.datatype.value===n?r.language&&(a+="@"+r.language):r.datatype.value!==i&&(a+=`^^<${r.datatype.value}>`)),"NamedNode"===o.termType?a+=` <${o.value}>`:"BlankNode"===o.termType&&(a+=" "+o.value),a+=" .\n",a}static serializeQuad(e){return t.serializeQuadComponents(e.subject,e.predicate,e.object,e.graph)}static legacyDatasetToQuads(t){const e=[],r={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const o in t)t[o].forEach(t=>{const a={};for(const e in t){const o=t[e],s={termType:r[o.type],value:o.value};"Literal"===s.termType&&(s.datatype={termType:"NamedNode"},"datatype"in o&&(s.datatype.value=o.datatype),"language"in o?("datatype"in o||(s.datatype.value=n),s.language=o.language):"datatype"in o||(s.datatype.value=i)),a[e]=s}a.graph="@default"===o?{termType:"DefaultGraph",value:""}:{termType:o.startsWith("_:")?"BlankNode":"NamedNode",value:o},e.push(a)});return e}};const s=/["\\\n\r]/g,u=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},function(t,e,r){const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";t.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_JSON_LITERAL:n+"JSON",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},function(t,e,r){(function(e){
/*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   */
const n=r(12),i=r(9),o=r(17),a=r(13);function s(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}t.exports=class{constructor({createMessageDigest:t=(()=>new i("sha256")),maxDeepIterations:e=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.createMessageDigest=t,this.maxDeepIterations=e,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const n of t)this._addBlankNodeQuadInfo({quad:n,component:n.subject}),this._addBlankNodeQuadInfo({quad:n,component:n.object}),this._addBlankNodeQuadInfo({quad:n,component:n.graph});const e=new Map,r=[...this.blankNodeInfo.keys()];let i=0;for(const n of r)++i%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:n,hashToBlankNodes:e});const o=[...e.keys()].sort(),u=[];for(const n of o){const t=e.get(n);if(t.length>1){u.push(t);continue}const r=t[0];this.canonicalIssuer.getId(r)}for(const a of u){const t=[];for(const e of a){if(this.canonicalIssuer.hasId(e))continue;const r=new n("_:b");r.getId(e);const i=await this.hashNDegreeQuads(e,r);t.push(i)}t.sort(s);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const c=[];for(const n of this.quads){const t=a.serializeQuadComponents(this._componentWithCanonicalId(n.subject),n.predicate,this._componentWithCanonicalId(n.object),this._componentWithCanonicalId(n.graph));c.push(t)}return c.sort(),c.join("")}async hashFirstDegreeQuads(t){const e=[],r=this.blankNodeInfo.get(t),n=r.quads;for(const o of n){const r={subject:null,predicate:o.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(t,o.subject,"subject"),r.object=this.modifyFirstDegreeComponent(t,o.object,"object"),r.graph=this.modifyFirstDegreeComponent(t,o.graph,"graph"),e.push(a.serializeQuad(r))}e.sort();const i=this.createMessageDigest();for(const o of e)i.update(o);return r.hash=await i.digest(),r.hash}async hashRelatedBlankNode(t,e,r,n){let i;i=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):r.hasId(t)?r.getId(t):this.blankNodeInfo.get(t).hash;const o=this.createMessageDigest();return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(e)),o.update(i),o.digest()}async hashNDegreeQuads(t,e){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const n=this.createMessageDigest(),i=await this.createHashToRelated(t,e),a=[...i.keys()].sort();for(const s of a){n.update(s);let t,r="";const a=new o(i.get(s));let u=0;for(;a.hasNext();){const n=a.next();++u%3==0&&await this._yield();let i=e.clone(),o="";const s=[];let c=!1;for(const t of n)if(this.canonicalIssuer.hasId(t)?o+=this.canonicalIssuer.getId(t):(i.hasId(t)||s.push(t),o+=i.getId(t)),0!==r.length&&o>r){c=!0;break}if(!c){for(const t of s){const e=await this.hashNDegreeQuads(t,i);if(o+=i.getId(t),o+=`<${e.hash}>`,i=e.issuer,0!==r.length&&o>r){c=!0;break}}c||(0===r.length||o<r)&&(r=o,t=i)}}n.update(r),e=t}return{hash:await n.digest(),issuer:e}}modifyFirstDegreeComponent(t,e){return"BlankNode"!==e.termType?e:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,e){const r=new Map,n=this.blankNodeInfo.get(t).quads;let i=0;for(const o of n)++i%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:e,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:e,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:e,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:e}){const r=await this.hashFirstDegreeQuads(t),n=e.get(r);n?n.push(t):e.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:e}){if("BlankNode"!==e.termType)return;const r=e.value,n=this.blankNodeInfo.get(r);n?n.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:e,position:r,id:n,issuer:i,hashToRelated:o}){if("BlankNode"!==e.termType||e.value===n)return;const a=e.value,s=await this.hashRelatedBlankNode(a,t,i,r),u=o.get(s);u?u.push(a):o.set(s,[a])}_componentWithCanonicalId(t){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}async _yield(){return new Promise(t=>e(t))}}}).call(this,r(25).setImmediate)},function(t,e,r){(function(t,e){!function(t,r){if(!t.setImmediate){var n,i,o,a,s,u=1,c={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){p(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(p,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return c[u]=i,n(u),u++},h.clearImmediate=d}function d(t){delete c[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(8),r(26))},function(t,e,r){
/*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   */
t.exports=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let e=0;e<t.length;++e)this.dir.set(t[e],!0)}hasNext(){return!this.done}next(){const{current:t,dir:e}=this,r=t.slice();let n=null,i=0;const o=t.length;for(let a=0;a<o;++a){const r=t[a],s=e.get(r);(null===n||r>n)&&(s&&a>0&&r>t[a-1]||!s&&a<o-1&&r>t[a+1])&&(n=r,i=a)}if(null===n)this.done=!0;else{const r=e.get(n)?i-1:i+1;t[i]=t[r],t[r]=n;for(const i of t)i>n&&e.set(i,!e.get(i))}return r}}},function(t,e,r){
/*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   */
const n=r(12),i=r(9),o=r(17),a=r(13);function s(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}t.exports=class{constructor({createMessageDigest:t=(()=>new i("sha256")),maxDeepIterations:e=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.createMessageDigest=t,this.maxDeepIterations=e,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const n of t)this._addBlankNodeQuadInfo({quad:n,component:n.subject}),this._addBlankNodeQuadInfo({quad:n,component:n.object}),this._addBlankNodeQuadInfo({quad:n,component:n.graph});const e=new Map,r=[...this.blankNodeInfo.keys()];for(const n of r)this._hashAndTrackBlankNode({id:n,hashToBlankNodes:e});const i=[...e.keys()].sort(),o=[];for(const n of i){const t=e.get(n);if(t.length>1){o.push(t);continue}const r=t[0];this.canonicalIssuer.getId(r)}for(const a of o){const t=[];for(const e of a){if(this.canonicalIssuer.hasId(e))continue;const r=new n("_:b");r.getId(e);const i=this.hashNDegreeQuads(e,r);t.push(i)}t.sort(s);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const u=[];for(const n of this.quads){const t=a.serializeQuadComponents(this._componentWithCanonicalId({component:n.subject}),n.predicate,this._componentWithCanonicalId({component:n.object}),this._componentWithCanonicalId({component:n.graph}));u.push(t)}return u.sort(),u.join("")}hashFirstDegreeQuads(t){const e=[],r=this.blankNodeInfo.get(t),n=r.quads;for(const o of n){const r={subject:null,predicate:o.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(t,o.subject,"subject"),r.object=this.modifyFirstDegreeComponent(t,o.object,"object"),r.graph=this.modifyFirstDegreeComponent(t,o.graph,"graph"),e.push(a.serializeQuad(r))}e.sort();const i=this.createMessageDigest();for(const o of e)i.update(o);return r.hash=i.digest(),r.hash}hashRelatedBlankNode(t,e,r,n){let i;i=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):r.hasId(t)?r.getId(t):this.blankNodeInfo.get(t).hash;const o=this.createMessageDigest();return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(e)),o.update(i),o.digest()}hashNDegreeQuads(t,e){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const n=this.createMessageDigest(),i=this.createHashToRelated(t,e),a=[...i.keys()].sort();for(const s of a){n.update(s);let t,r="";const a=new o(i.get(s));for(;a.hasNext();){const n=a.next();let i=e.clone(),o="";const s=[];let u=!1;for(const t of n)if(this.canonicalIssuer.hasId(t)?o+=this.canonicalIssuer.getId(t):(i.hasId(t)||s.push(t),o+=i.getId(t)),0!==r.length&&o>r){u=!0;break}if(!u){for(const t of s){const e=this.hashNDegreeQuads(t,i);if(o+=i.getId(t),o+=`<${e.hash}>`,i=e.issuer,0!==r.length&&o>r){u=!0;break}}u||(0===r.length||o<r)&&(r=o,t=i)}}n.update(r),e=t}return{hash:n.digest(),issuer:e}}modifyFirstDegreeComponent(t,e){return"BlankNode"!==e.termType?e:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,e){const r=new Map,n=this.blankNodeInfo.get(t).quads;for(const i of n)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:t,issuer:e,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:t,issuer:e,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:t,issuer:e,hashToRelated:r});return r}_hashAndTrackBlankNode({id:t,hashToBlankNodes:e}){const r=this.hashFirstDegreeQuads(t),n=e.get(r);n?n.push(t):e.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:e}){if("BlankNode"!==e.termType)return;const r=e.value,n=this.blankNodeInfo.get(r);n?n.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:e,position:r,id:n,issuer:i,hashToRelated:o}){if("BlankNode"!==e.termType||e.value===n)return;const a=e.value,s=this.hashRelatedBlankNode(a,t,i,r),u=o.get(s);u?u.push(a):o.set(s,[a])}_componentWithCanonicalId({component:t}){return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}},function(t,e,r){t.exports=class{constructor(){this._requests={}}wrapLoader(t){const e=this;return e._loader=t,function(){return e.add.apply(e,arguments)}}async add(t){let e=this._requests[t];if(e)return Promise.resolve(e);e=this._requests[t]=this._loader(t);try{return await e}finally{delete this._requests[t]}}}},function(t,e,r){const n=r(34),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),h=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=()=>1,v=(t,e,r)=>{const n=t[h].get(e);if(n){const e=n.value;if(y(t,e)){if(b(t,n),!t[s])return}else r&&(t[d]&&(n.value.now=Date.now()),t[f].unshiftNode(n));return e.value}},y=(t,e)=>{if(!e||!e.maxAge&&!t[u])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[u]&&r>t[u]},g=t=>{if(t[o]>t[i])for(let e=t[f].tail;t[o]>t[i]&&null!==e;){const r=e.prev;b(t,e),e=r}},b=(t,e)=>{if(e){const r=e.value;t[c]&&t[c](r.key,r.value),t[o]-=r.length,t[h].delete(r.key),t[f].removeNode(e)}};class m{constructor(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}}const w=(t,e,r,n)=>{let i=r.value;y(t,i)&&(b(t,r),t[s]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||p;if(this[a]="function"!=typeof e?p:e,this[s]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0,this[c]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[d]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,g(this)}get max(){return this[i]}set allowStale(t){this[s]=!!t}get allowStale(){return this[s]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[u]=t,g(this)}get maxAge(){return this[u]}set lengthCalculator(t){"function"!=typeof t&&(t=p),t!==this[a]&&(this[a]=t,this[o]=0,this[f].forEach(t=>{t.length=this[a](t.value,t.key),this[o]+=t.length})),g(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[f].length}rforEach(t,e){e=e||this;for(let r=this[f].tail;null!==r;){const n=r.prev;w(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[f].head;null!==r;){const n=r.next;w(this,t,r,e),r=n}}keys(){return this[f].toArray().map(t=>t.key)}values(){return this[f].toArray().map(t=>t.value)}reset(){this[c]&&this[f]&&this[f].length&&this[f].forEach(t=>this[c](t.key,t.value)),this[h]=new Map,this[f]=new n,this[o]=0}dump(){return this[f].map(t=>!y(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[f]}set(t,e,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[a](e,t);if(this[h].has(t)){if(s>this[i])return b(this,this[h].get(t)),!1;const a=this[h].get(t).value;return this[c]&&(this[l]||this[c](t,a.value)),a.now=n,a.maxAge=r,a.value=e,this[o]+=s-a.length,a.length=s,this.get(t),g(this),!0}const d=new m(t,e,s,n,r);return d.length>this[i]?(this[c]&&this[c](t,e),!1):(this[o]+=d.length,this[f].unshift(d),this[h].set(t,this[f].head),g(this),!0)}has(t){if(!this[h].has(t))return!1;const e=this[h].get(t).value;return!y(this,e)}get(t){return v(this,t,!0)}peek(t){return v(this,t,!1)}pop(){const t=this[f].tail;return t?(b(this,t),t.value):null}del(t){b(this,this[h].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const t=i-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[h].forEach((t,e)=>v(this,e,!1))}}},function(t,e,r){(function(t){r.d(e,"a",(function(){return h}));var n=r(0),i=r(22),o=r.n(i);const{xsd:a}=n.a,s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,u={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,l={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},f=/$0^/;class h{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const t in this)!(t in l)&&this[t]instanceof RegExp&&(this[t]=f)}else this._n3Mode=!1!==t.n3;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,e){let r=this._input;const n=this._comments;for(;;){let o,s;for(;o=this._newline.exec(r);)n&&(s=this._comment.exec(o[0]))&&t(null,{line:this._line,type:"comment",value:s[1],prefix:""}),r=r.substr(o[0].length,r.length),this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return e&&(n&&(s=this._comment.exec(r))&&t(null,{line:this._line,type:"comment",value:s[1],prefix:""}),t(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;const u=this._line,l=r[0];let f="",h="",d="",p=null,v=0,y=!1;switch(l){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(v=1,f="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){y=!0;break}case"<":if(p=this._unescapedIri.exec(r))f="IRI",h=p[1];else if(p=this._iri.exec(r)){if(h=this._unescape(p[1]),null===h||c.test(h))return i(this);f="IRI"}else r.length>1&&"<"===r[1]?(f="<<",v=2):this._n3Mode&&r.length>1&&"="===r[1]&&(f="inverse",v=2,h=">");break;case">":r.length>1&&">"===r[1]&&(f=">>",v=2);break;case"_":((p=this._blank.exec(r))||e&&(p=this._blank.exec(r+" ")))&&(f="blank",d="_",h=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(r))h=p[1];else if(({value:h,matchLength:v}=this._parseLiteral(r)),null===h)return i(this);null===p&&0===v||(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(r))h=p[1];else if(({value:h,matchLength:v}=this._parseLiteral(r)),null===h)return i(this);null===p&&0===v||(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(r))&&(f="var",h=p[0]);break;case"@":"literal"===this._previousMarker&&(p=this._langcode.exec(r))?(f="langcode",h=p[1]):(p=this._keyword.exec(r))&&(f=p[0]);break;case".":if(1===r.length?e:r[1]<"0"||r[1]>"9"){f=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(r)||e&&(p=this._number.exec(r+" ")))&&(f="literal",h=p[0],d="string"==typeof p[1]?a.double:"string"==typeof p[2]?a.decimal:a.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(r))?f=p[0].toUpperCase():y=!0;break;case"f":case"t":(p=this._boolean.exec(r))?(f="literal",h=p[0],d=a.boolean):y=!0;break;case"a":(p=this._shortPredicates.exec(r))?(f="abbreviation",h="a"):y=!0;break;case"=":this._n3Mode&&r.length>1&&(f="abbreviation",">"!==r[1]?(v=1,h="="):(v=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(v=1,f=l);break;default:y=!0}if(y&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(p=this._prefix.exec(r))?((p=this._prefixed.exec(r))||e&&(p=this._prefixed.exec(r+" ")))&&(f="prefixed",d=p[1]||"",h=this._unescape(p[2])):(f="prefix",h=p[1]||"")),"^^"===this._previousMarker)switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return e||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?i(this):this._input=r;const g={line:u,type:f,value:h,prefix:d};t(null,g),this.previousToken=g,this._previousMarker=f,r=r.substr(v||p[0].length,r.length)}function i(e){t(e._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let e=!1;const r=t.replace(s,(t,r,n,i)=>{if("string"==typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"==typeof n){let t=Number.parseInt(n,16);return t<=65535?String.fromCharCode(Number.parseInt(n,16)):String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t))}return i in u?u[i]:(e=!0,"")});return e?null:r}_parseLiteral(t){if(t.length>=3){const e=t.match(/^(?:"""|"|'''|'|)/)[0],r=e.length;let n=Math.max(this._literalClosingPos,r);for(;(n=t.indexOf(e,n))>0;){let e=0;for(;"\\"===t[n-e-1];)e++;if(e%2==0){const e=t.substring(r,n),i=e.split(/\r\n|\r|\n/).length-1,o=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(e),matchLength:o}}n++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const e=new Error(`Unexpected "${t}" on line ${this._line}.`);return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}tokenize(e,r){if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof r){const t=[];let e;if(this._tokenizeToEnd((r,n)=>r?e=r:t.push(n),!0),e)throw e;return t}o()(()=>this._tokenizeToEnd(r,!0))}else this._input="",this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",e=>{null!==this._input&&0!==e.length&&(this._pendingBuffer&&(e=t.concat([this._pendingBuffer,e]),this._pendingBuffer=null),128&e[e.length-1]?this._pendingBuffer=e:(this._input+=e,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{null!==this._input&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}}}).call(this,r(45).Buffer)},function(t,e,r){(function(e){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let r;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:e):t=>(r||(r=Promise.resolve())).then(t).catch(t=>setTimeout(()=>{throw t},0))}).call(this,r(8))},,function(t,e,r){const n=r(15),i=r(27),o=r(18),a=r(28);let s;try{s=r(29)}catch(t){}e.NQuads=r(13),e.IdentifierIssuer=r(12),e._rdfCanonizeNative=function(t){return t&&(s=t),s},e.canonize=async function(t,r){if(Array.isArray(t)||(t=e.NQuads.legacyDatasetToQuads(t)),r.useNative){if(!s)throw new Error("rdf-canonize-native not available");if(r.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((e,n)=>s.canonize(t,r,(t,r)=>t?n(t):e(r)))}if("URDNA2015"===r.algorithm)return new n(r).main(t);if("URGNA2012"===r.algorithm){if(r.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(r).main(t)}if(!("algorithm"in r))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+r.algorithm)},e._canonizeSync=function(t,r){if(Array.isArray(t)||(t=e.NQuads.legacyDatasetToQuads(t)),r.useNative){if(!s)throw new Error("rdf-canonize-native not available");if(r.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return s.canonizeSync(t,r)}if("URDNA2015"===r.algorithm)return new o(r).main(t);if("URGNA2012"===r.algorithm){if(r.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new a(r).main(t)}if(!("algorithm"in r))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+r.algorithm)}},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(16),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(8))},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){
/*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   */
const n=r(9),i=r(15);t.exports=class extends i{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new n("sha1")}modifyFirstDegreeComponent(t,e,r){return"BlankNode"!==e.termType?e:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,e){const r=new Map,n=this.blankNodeInfo.get(t).quads;let i=0;for(const o of n){let n,a;if("BlankNode"===o.subject.termType&&o.subject.value!==t)a=o.subject.value,n="p";else{if("BlankNode"!==o.object.termType||o.object.value===t)continue;a=o.object.value,n="r"}++i%100==0&&await this._yield();const s=await this.hashRelatedBlankNode(a,o,e,n),u=r.get(s);u?u.push(a):r.set(s,[a])}return r}}},function(t,e,r){
/*!
   * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
   */
const n=r(9),i=r(18);t.exports=class extends i{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new n("sha1")}modifyFirstDegreeComponent(t,e,r){return"BlankNode"!==e.termType?e:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:e.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,e){const r=new Map,n=this.blankNodeInfo.get(t).quads;for(const i of n){let n,o;if("BlankNode"===i.subject.termType&&i.subject.value!==t)o=i.subject.value,n="p";else{if("BlankNode"!==i.object.termType||i.object.value===t)continue;o=i.object.value,n="r"}const a=this.hashRelatedBlankNode(o,i,e,n),s=r.get(a);s?s.push(o):r.set(a,[o])}return r}}},function(t,e){},function(t,e,r){const n=r(31),i={};t.exports=i,i.setupDocumentLoaders=function(t){"undefined"!=typeof XMLHttpRequest&&(t.documentLoaders.xhr=n,t.useDocumentLoader("xhr"))},i.setupGlobals=function(t){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t.JsonLdProcessor})}},function(t,e,r){const{parseLinkHeader:n,buildHeaders:i}=r(2),{LINK_HEADER_CONTEXT:o}=r(14),a=r(3),s=r(19),{prependBase:u}=r(5),c=/(^|(\r\n))link:/i;t.exports=({secure:t,headers:e={},xhr:r}={headers:{}})=>(e=i(e),(new s).wrapLoader((async function i(s){if(0!==s.indexOf("http:")&&0!==s.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s});if(t&&0!==s.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:s});let l;try{l=await function(t,e,r){const n=new(t=t||XMLHttpRequest);return new Promise((t,i)=>{n.onload=()=>t(n),n.onerror=t=>i(t),n.open("GET",e,!0);for(const e in r)n.setRequestHeader(e,r[e]);n.send()})}(r,s,e)}catch(t){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:t})}if(l.status>=400)throw new a("URL could not be dereferenced: "+l.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:s,httpStatusCode:l.status});let f={contextUrl:null,documentUrl:s,document:l.response},h=null;const d=l.getResponseHeader("Content-Type");let p;if(c.test(l.getAllResponseHeaders())&&(p=l.getResponseHeader("Link")),p&&"application/ld+json"!==d){const t=n(p),e=t[o];if(Array.isArray(e))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s});e&&(f.contextUrl=e.target),h=t.alternate,h&&"application/ld+json"==h.type&&!(d||"").match(/^application\/(\w*\+)?json$/)&&(f=await i(u(s,h.target)))}return f})))},function(t,e,r){const{isArray:n,isObject:i,isString:o}=r(1),{asArray:a}=r(2),{prependBase:s}=r(5),u=r(3),c=r(33);function l(t){throw new u("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:t})}t.exports=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:e,documentLoader:r,base:s,cycles:u=new Set}){e&&i(e)&&e["@context"]&&(e=e["@context"]),e=a(e);const f=[];for(const a of e){if(o(a)){let e=this._get(a);e||(e=await this._resolveRemoteContext({activeCtx:t,url:a,documentLoader:r,base:s,cycles:u})),n(e)?f.push(...e):f.push(e);continue}if(null===a){f.push(new c({document:null}));continue}i(a)||l(e);const h=JSON.stringify(a);let d=this._get(h);d||(d=new c({document:a}),this._cacheResolvedContext({key:h,resolved:d,tag:"static"})),f.push(d)}return f}_get(t){let e=this.perOpCache.get(t);if(!e){const r=this.sharedCache.get(t);r&&(e=r.get("static"),e&&this.perOpCache.set(t,e))}return e}_cacheResolvedContext({key:t,resolved:e,tag:r}){if(this.perOpCache.set(t,e),void 0!==r){let n=this.sharedCache.get(t);n||(n=new Map,this.sharedCache.set(t,n)),n.set(r,e)}return e}async _resolveRemoteContext({activeCtx:t,url:e,documentLoader:r,base:a,cycles:u}){e=s(a,e);const{context:c,remoteDoc:l}=await this._fetchContext({activeCtx:t,url:e,documentLoader:r,cycles:u});!function t({context:e,base:r}){if(!e)return;const a=e["@context"];if(o(a))e["@context"]=s(r,a);else if(n(a))for(let n=0;n<a.length;++n){const e=a[n];o(e)?a[n]=s(r,e):i(e)&&t({context:{"@context":e},base:r})}else if(i(a))for(const n in a)t({context:a[n],base:r})}({context:c,base:a=l.documentUrl||e});const f=await this.resolve({activeCtx:t,context:c,documentLoader:r,base:a,cycles:u});return this._cacheResolvedContext({key:e,resolved:f,tag:l.tag}),f}async _fetchContext({activeCtx:t,url:e,documentLoader:r,cycles:a}){if(a.size>10)throw new u("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===t.processingMode?"loading remote context failed":"context overflow",max:10});if(a.has(e))throw new u("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===t.processingMode?"recursive context inclusion":"context overflow",url:e});let s,c;a.add(e);try{c=await r(e),s=c.document||null,o(s)&&(s=JSON.parse(s))}catch(t){throw new u("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t})}if(!i(s))throw new u("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:e});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(n(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},function(t,e,r){const n=r(20);t.exports=class{constructor({document:t}){this.document=t,this.cache=new n({max:10})}getProcessed(t){return this.cache.get(t)}setProcessed(t,e){this.cache.set(t,e)}}},function(t,e,r){function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}function i(t,e,r){var n=e===t.head?new s(r,null,e,t):new s(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function o(t,e){t.tail=new s(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function a(t,e){t.head=new s(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function s(t,e,r,n){if(!(this instanceof s))return new s(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)a(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,i=this.head;null!==i;)r.push(t.call(e,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,i=this.tail;null!==i;)r.push(t.call(e,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,o=this.head;null!==o&&n<t;n++)o=o.next;var a=[];for(n=0;o&&n<e;n++)a.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),n=0;n<r.length;n++)o=i(this,o,r[n]);return a},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(35)(n)}catch(t){}},function(t,e,r){t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},function(t,e,r){t.exports=r(11).NQuads},function(t,e,r){const n=r(3),{isArray:i,isObject:o,isEmptyObject:a,isString:s,isUndefined:u}=r(1),{isList:c,isValue:l,isGraph:f,isSubject:h}=r(4),{expandIri:d,getContextValue:p,isKeyword:v,process:y,processingMode:g}=r(6),{isAbsolute:b}=r(5),{addValue:m,asArray:w,getValues:_,validateTypeValue:x}=r(2),E={};t.exports=E;const S=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function O({activeCtx:t,activeProperty:e,value:r,options:n}){if(null==r)return null;const i=d(t,e,{vocab:!0},n);if("@id"===i)return d(t,r,{base:!0},n);if("@type"===i)return d(t,r,{vocab:!0,base:!0},n);const o=p(t,e,"@type");if(("@id"===o||"@graph"===i)&&s(r))return{"@id":d(t,r,{base:!0},n)};if("@vocab"===o&&s(r))return{"@id":d(t,r,{vocab:!0,base:!0},n)};if(v(i))return r;const a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(s(r)){const r=p(t,e,"@language");null!==r&&(a["@language"]=r);const n=p(t,e,"@direction");null!==n&&(a["@direction"]=n)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),a["@value"]=r,a}function I(t,e,r,o){const a=[],u=Object.keys(e).sort();for(const c of u){const u=d(t,c,{vocab:!0},o);let l=e[c];i(l)||(l=[l]);for(const t of l){if(null===t)continue;if(!s(t))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});const i={"@value":t};"@none"!==u&&(i["@language"]=c.toLowerCase()),r&&(i["@direction"]=r),a.push(i)}}return a}async function R({activeCtx:t,options:e,activeProperty:r,value:o,expansionMap:a,asGraph:s,indexKey:c,propertyIndex:h}){const v=[],g=Object.keys(o).sort(),b="@type"===c;for(let w of g){if(b){const r=p(t,w,"@context");u(r)||(t=await y({activeCtx:t,localCtx:r,propagate:!1,options:e}))}let g,_=o[w];i(_)||(_=[_]),_=await E.expand({activeCtx:t,activeProperty:r,element:_,options:e,insideList:!1,insideIndex:!0,expansionMap:a}),g=h?"@none"===w?"@none":O({activeCtx:t,activeProperty:c,value:w,options:e}):d(t,w,{vocab:!0},e),"@id"===c?w=d(t,w,{base:!0},e):b&&(w=g);for(let t of _){if(s&&!f(t)&&(t={"@graph":[t]}),"@type"===c)"@none"===g||(t["@type"]?t["@type"]=[w].concat(t["@type"]):t["@type"]=[w]);else{if(l(t)&&!["@language","@type","@index"].includes(c))throw new n(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:t});h?"@none"!==g&&m(t,h,g,{propertyIsArray:!0,prependValue:!0}):"@none"===g||c in t||(t[c]=w)}v.push(t)}}return v}E.expand=async({activeCtx:t,activeProperty:e=null,element:r,options:f={},insideList:j=!1,insideIndex:k=!1,typeScopedContext:T=null,expansionMap:A=(()=>{})})=>{if(null==r)return null;if("@default"===e&&(f=Object.assign({},f,{isFrame:!1})),!i(r)&&!o(r)){if(!j&&(null===e||"@graph"===d(t,e,{vocab:!0},f))){const n=await A({unmappedValue:r,activeCtx:t,activeProperty:e,options:f,insideList:j});return void 0===n?null:n}return O({activeCtx:t,activeProperty:e,value:r,options:f})}if(i(r)){let n=[];const o=p(t,e,"@container")||[];j=j||o.includes("@list");for(let a=0;a<r.length;++a){let o=await E.expand({activeCtx:t,activeProperty:e,element:r[a],options:f,expansionMap:A,insideIndex:k,typeScopedContext:T});j&&i(o)&&(o={"@list":o}),null===o&&(o=await A({unmappedValue:r[a],activeCtx:t,activeProperty:e,parent:r,index:a,options:f,expandedParent:n,insideList:j}),void 0===o)||(i(o)?n=n.concat(o):n.push(o))}return n}const C=d(t,e,{vocab:!0},f),P=p(t,e,"@context");T=T||(t.previousContext?t:null);let D=Object.keys(r).sort(),N=!k;if(N&&T&&D.length<=2&&!D.includes("@context"))for(const n of D){const e=d(T,n,{vocab:!0},f);if("@value"===e){N=!1,t=T;break}if("@id"===e&&1===D.length){N=!1;break}}N&&(t=t.revertToPreviousContext()),u(P)||(t=await y({activeCtx:t,localCtx:P,propagate:!0,overrideProtected:!0,options:f})),"@context"in r&&(t=await y({activeCtx:t,localCtx:r["@context"],options:f})),T=t;let L=null;for(const n of D)if("@type"===d(t,n,{vocab:!0},f)){L=L||n;const e=r[n],i=Array.isArray(e)?e.length>1?e.slice().sort():e:[e];for(const r of i){const e=p(T,r,"@context");u(e)||(t=await y({activeCtx:t,localCtx:e,options:f,propagate:!1}))}}let M={};await async function t({activeCtx:e,activeProperty:r,expandedActiveProperty:f,element:_,expandedParent:O,options:j={},insideList:k,typeKey:T,typeScopedContext:A,expansionMap:C}){const P=Object.keys(_).sort(),D=[];let N;const L=_[T]&&"@json"===d(e,i(_[T])?_[T][0]:_[T],{vocab:!0},j);for(const M of P){let t,T=_[M];if("@context"===M)continue;let P=d(e,M,{vocab:!0},j);if((null===P||!b(P)&&!v(P))&&(P=C({unmappedProperty:M,activeCtx:e,activeProperty:r,parent:_,options:j,insideList:k,value:T,expandedParent:O}),void 0===P))continue;if(v(P)){if("@reverse"===f)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:T});if(P in O&&"@included"!==P&&"@type"!==P)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:P})}if("@id"===P){if(!s(T)){if(!j.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:T});if(o(T)){if(!a(T))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}else{if(!i(T))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T});if(!T.every(t=>s(t)))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}}m(O,"@id",w(T).map(t=>s(t)?d(e,t,{base:!0},j):t),{propertyIsArray:j.isFrame});continue}if("@type"===P){o(T)&&(T=Object.fromEntries(Object.entries(T).map(([t,e])=>[d(A,t,{vocab:!0}),w(e).map(t=>d(A,t,{base:!0,vocab:!0}))]))),x(T,j.isFrame),m(O,"@type",w(T).map(t=>s(t)?d(A,t,{base:!0,vocab:!0},j):t),{propertyIsArray:j.isFrame});continue}if("@included"===P&&g(e,1.1)){const t=w(await E.expand({activeCtx:e,activeProperty:r,element:T,options:j,expansionMap:C}));if(!t.every(t=>h(t)))throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:T});m(O,"@included",t,{propertyIsArray:!0});continue}if("@graph"===P&&!o(T)&&!i(T))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:T});if("@value"===P){N=T,L&&g(e,1.1)?O["@value"]=T:m(O,"@value",T,{propertyIsArray:j.isFrame});continue}if("@language"===P){if(null===T)continue;if(!s(T)&&!j.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:T});T=w(T).map(t=>s(t)?t.toLowerCase():t);for(const t of T)s(t)&&!t.match(S)&&console.warn("@language must be valid BCP47: "+t);m(O,"@language",T,{propertyIsArray:j.isFrame});continue}if("@direction"===P){if(!s(T)&&!j.isFrame)throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:T});T=w(T);for(const t of T)if(s(t)&&"ltr"!==t&&"rtl"!==t)throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:T});m(O,"@direction",T,{propertyIsArray:j.isFrame});continue}if("@index"===P){if(!s(T))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:T});m(O,"@index",T);continue}if("@reverse"===P){if(!o(T))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:T});if(t=await E.expand({activeCtx:e,activeProperty:"@reverse",element:T,options:j,expansionMap:C}),"@reverse"in t)for(const e in t["@reverse"])m(O,e,t["@reverse"][e],{propertyIsArray:!0});let r=O["@reverse"]||null;for(const e in t){if("@reverse"===e)continue;null===r&&(r=O["@reverse"]={}),m(r,e,[],{propertyIsArray:!0});const i=t[e];for(let o=0;o<i.length;++o){const a=i[o];if(l(a)||c(a))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:t});m(r,e,a,{propertyIsArray:!0})}}continue}if("@nest"===P){D.push(M);continue}let U=e;const F=p(e,M,"@context");u(F)||(U=await y({activeCtx:e,localCtx:F,propagate:!0,overrideProtected:!0,options:j}));const B=p(U,M,"@container")||[];if(B.includes("@language")&&o(T))t=I(U,T,p(U,M,"@direction"),j);else if(B.includes("@index")&&o(T)){const r=B.includes("@graph"),n=p(U,M,"@index")||"@index",i="@index"!==n&&d(e,n,{vocab:!0},j);t=await R({activeCtx:U,options:j,activeProperty:M,value:T,expansionMap:C,asGraph:r,indexKey:n,propertyIndex:i})}else if(B.includes("@id")&&o(T)){const e=B.includes("@graph");t=await R({activeCtx:U,options:j,activeProperty:M,value:T,expansionMap:C,asGraph:e,indexKey:"@id"})}else if(B.includes("@type")&&o(T))t=await R({activeCtx:U.revertToPreviousContext(),options:j,activeProperty:M,value:T,expansionMap:C,asGraph:!1,indexKey:"@type"});else{const n="@list"===P;if(n||"@set"===P){let e=r;n&&"@graph"===f&&(e=null),t=await E.expand({activeCtx:U,activeProperty:e,element:T,options:j,insideList:n,expansionMap:C})}else t="@json"===p(e,M,"@type")?{"@type":"@json","@value":T}:await E.expand({activeCtx:U,activeProperty:M,element:T,options:j,insideList:!1,expansionMap:C})}if(null!==t||"@value"===P||(t=C({unmappedValue:T,expandedProperty:P,activeCtx:U,activeProperty:r,parent:_,options:j,insideList:k,key:M,expandedParent:O}),void 0!==t))if("@list"!==P&&!c(t)&&B.includes("@list")&&(t={"@list":w(t)}),B.includes("@graph")&&!B.some(t=>"@id"===t||"@index"===t)&&(t=w(t).map(t=>({"@graph":w(t)}))),U.mappings.has(M)&&U.mappings.get(M).reverse){const e=O["@reverse"]=O["@reverse"]||{};t=w(t);for(let r=0;r<t.length;++r){const i=t[r];if(l(i)||c(i))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:t});m(e,P,i,{propertyIsArray:!0})}}else m(O,P,t,{propertyIsArray:!0})}if("@value"in O)if("@json"===O["@type"]&&g(e,1.1));else if((o(N)||i(N))&&!j.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:N});for(const a of D){const s=i(_[a])?_[a]:[_[a]];for(const i of s){if(!o(i)||Object.keys(i).some(t=>"@value"===d(e,t,{vocab:!0},j)))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await t({activeCtx:e,activeProperty:r,expandedActiveProperty:f,element:i,expandedParent:O,options:j,insideList:k,typeScopedContext:A,typeKey:T,expansionMap:C})}}}({activeCtx:t,activeProperty:e,expandedActiveProperty:C,element:r,expandedParent:M,options:f,insideList:j,typeKey:L,typeScopedContext:T,expansionMap:A}),D=Object.keys(M);let U=D.length;if("@value"in M){if("@type"in M&&("@language"in M||"@direction"in M))throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:M});let i=U-1;if("@type"in M&&(i-=1),"@index"in M&&(i-=1),"@language"in M&&(i-=1),"@direction"in M&&(i-=1),0!==i)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:M});const o=null===M["@value"]?[]:w(M["@value"]),u=_(M,"@type");if(g(t,1.1)&&u.includes("@json")&&1===u.length);else if(0===o.length){const n=await A({unmappedValue:M,activeCtx:t,activeProperty:e,element:r,options:f,insideList:j});M=void 0!==n?n:null}else{if(!o.every(t=>s(t)||a(t))&&"@language"in M)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:M});if(!u.every(t=>b(t)&&!(s(t)&&0===t.indexOf("_:"))||a(t)))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:M})}}else if("@type"in M&&!i(M["@type"]))M["@type"]=[M["@type"]];else if("@set"in M||"@list"in M){if(U>1&&(2!==U||!("@index"in M)))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:M});"@set"in M&&(M=M["@set"],D=Object.keys(M),U=D.length)}else if(1===U&&"@language"in M){const n=await A(M,{unmappedValue:M,activeCtx:t,activeProperty:e,element:r,options:f,insideList:j});M=void 0!==n?n:null}if(o(M)&&!f.keepFreeFloatingNodes&&!j&&(null===e||"@graph"===C)&&(0===U||"@value"in M||"@list"in M||1===U&&"@id"in M)){const n=await A({unmappedValue:M,activeCtx:t,activeProperty:e,element:r,options:f,insideList:j});M=void 0!==n?n:null}return M}},function(t,e,r){const{isSubjectReference:n}=r(4),{createMergedNodeMap:i}=r(10),o={};t.exports=o,o.flatten=t=>{const e=i(t),r=[],o=Object.keys(e).sort();for(let i=0;i<o.length;++i){const t=e[o[i]];n(t)||r.push(t)}return r}},function(t,e,r){const n=r(3),i=r(4),o=r(1),a=r(2),{RDF_LIST:s,RDF_FIRST:u,RDF_REST:c,RDF_NIL:l,RDF_TYPE:f,RDF_JSON_LITERAL:h,XSD_BOOLEAN:d,XSD_DOUBLE:p,XSD_INTEGER:v,XSD_STRING:y}=r(14),g=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,b={};function m(t,e,r){if(t.termType.endsWith("Node"))return{"@id":t.value};const i={"@value":t.value};if(t.language)i["@language"]=t.language;else{let a=t.datatype.value;if(a||(a=y),a===h){a="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(t){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:t})}}if(e){if(a===d)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(o.isNumeric(i["@value"]))if(a===v){const t=parseInt(i["@value"],10);t.toFixed(0)===i["@value"]&&(i["@value"]=t)}else a===p&&(i["@value"]=parseFloat(i["@value"]));[d,v,p,y].includes(a)||(i["@type"]=a)}else if("i18n-datatype"===r&&a.startsWith("https://www.w3.org/ns/i18n#")){const[,t,e]=a.split(/[#_]/);t.length>0&&(i["@language"]=t,t.match(g)||console.warn("@language must be valid BCP47: "+t)),i["@direction"]=e}else a!==y&&(i["@type"]=a)}return i}t.exports=b,b.fromRDF=async(t,{useRdfType:e=!1,useNativeTypes:r=!1,rdfDirection:n=null})=>{const h={},d={"@default":h},p={};for(const i of t){const t="DefaultGraph"===i.graph.termType?"@default":i.graph.value;t in d||(d[t]={}),"@default"===t||t in h||(h[t]={"@id":t});const o=d[t],s=i.subject.value,u=i.predicate.value,c=i.object;s in o||(o[s]={"@id":s});const v=o[s],y=c.termType.endsWith("Node");if(y&&!(c.value in o)&&(o[c.value]={"@id":c.value}),u===f&&!e&&y){a.addValue(v,"@type",c.value,{propertyIsArray:!0});continue}const g=m(c,r,n);if(a.addValue(v,u,g,{propertyIsArray:!0}),y)if(c.value===l){const t=o[c.value];"usages"in t||(t.usages=[]),t.usages.push({node:v,property:u,value:g})}else c.value in p?p[c.value]=!1:p[c.value]={node:v,property:u,value:g}}for(const a in d){const t=d[a];if(!(l in t))continue;const e=t[l];if(e.usages){for(let r of e.usages){let e=r.node,n=r.property,a=r.value;const l=[],f=[];let h=Object.keys(e).length;for(;n===c&&o.isObject(p[e["@id"]])&&o.isArray(e[u])&&1===e[u].length&&o.isArray(e[c])&&1===e[c].length&&(3===h||4===h&&o.isArray(e["@type"])&&1===e["@type"].length&&e["@type"][0]===s)&&(l.push(e[u][0]),f.push(e["@id"]),r=p[e["@id"]],e=r.node,n=r.property,a=r.value,h=Object.keys(e).length,i.isBlankNode(e)););delete a["@id"],a["@list"]=l.reverse();for(const r of f)delete t[r]}delete e.usages}}const v=[],y=Object.keys(h).sort();for(const o of y){const t=h[o];if(o in d){const e=t["@graph"]=[],r=d[o],n=Object.keys(r).sort();for(const t of n){const n=r[t];i.isSubjectReference(n)||e.push(n)}}i.isSubjectReference(t)||v.push(t)}return v}},function(t,e,r){const{createNodeMap:n}=r(10),{isKeyword:i}=r(6),o=r(4),a=r(41),s=r(1),u=r(2),{RDF_FIRST:c,RDF_REST:l,RDF_NIL:f,RDF_TYPE:h,RDF_JSON_LITERAL:d,RDF_LANGSTRING:p,XSD_BOOLEAN:v,XSD_DOUBLE:y,XSD_INTEGER:g,XSD_STRING:b}=r(14),{isAbsolute:m}=r(5),w={};function _(t,e,r,n,o){const a=Object.keys(e).sort();for(const s of a){const a=e[s],u=Object.keys(a).sort();for(let e of u){const u=a[e];if("@type"===e)e=h;else if(i(e))continue;for(const i of u){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!m(s))continue;const u={termType:e.startsWith("_:")?"BlankNode":"NamedNode",value:e};if(!m(e))continue;if("BlankNode"===u.termType&&!o.produceGeneralizedRdf)continue;const c=x(i,n,t,r,o.rdfDirection);c&&t.push({subject:a,predicate:u,object:c,graph:r})}}}}function x(t,e,r,n,i){const u={};if(o.isValue(t)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};let e=t["@value"];const r=t["@type"]||null;if("@json"===r)u.value=a(e),u.datatype.value=d;else if(s.isBoolean(e))u.value=e.toString(),u.datatype.value=r||v;else if(s.isDouble(e)||r===y)s.isDouble(e)||(e=parseFloat(e)),u.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=r||y;else if(s.isNumber(e))u.value=e.toFixed(0),u.datatype.value=r||g;else if("i18n-datatype"===i&&"@direction"in t){const r="https://www.w3.org/ns/i18n#"+(t["@language"]||"")+"_"+t["@direction"];u.datatype.value=r,u.value=e}else"@language"in t?(u.value=e,u.datatype.value=r||p,u.language=t["@language"]):(u.value=e,u.datatype.value=r||b)}else if(o.isList(t)){const o=function(t,e,r,n,i){const o={termType:"NamedNode",value:c},a={termType:"NamedNode",value:l},s={termType:"NamedNode",value:f},u=t.pop(),h=u?{termType:"BlankNode",value:e.getId()}:s;let d=h;for(const c of t){const t=x(c,e,r,n,i),s={termType:"BlankNode",value:e.getId()};r.push({subject:d,predicate:o,object:t,graph:n}),r.push({subject:d,predicate:a,object:s,graph:n}),d=s}if(u){const t=x(u,e,r,n,i);r.push({subject:d,predicate:o,object:t,graph:n}),r.push({subject:d,predicate:a,object:s,graph:n})}return h}(t["@list"],e,r,n,i);u.termType=o.termType,u.value=o.value}else{const e=s.isObject(t)?t["@id"]:t;u.termType=e.startsWith("_:")?"BlankNode":"NamedNode",u.value=e}return"NamedNode"!==u.termType||m(u.value)?u:null}t.exports=w,w.toRDF=(t,e)=>{const r=new u.IdentifierIssuer("_:b"),i={"@default":{}};n(t,i,"@default",r);const o=[],a=Object.keys(i).sort();for(const n of a){let t;if("@default"===n)t={termType:"DefaultGraph",value:""};else{if(!m(n))continue;t=n.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},t.value=n}_(o,i[n],t,r,e)}return o}},function(t,e,r){t.exports=function t(e){return null===e||"object"!=typeof e||null!=e.toJSON?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((e,r,n)=>e+(0===n?"":",")+t(void 0===r||"symbol"==typeof r?null:r),"")+"]":"{"+Object.keys(e).sort().reduce((r,n,i)=>void 0===e[n]||"symbol"==typeof e[n]?r:r+(0===r.length?"":",")+t(n)+":"+t(e[n]),"")+"}"}},function(t,e,r){const{isKeyword:n}=r(6),i=r(4),o=r(1),a=r(2),s=r(5),u=r(3),{createNodeMap:c,mergeNodeMapGraphs:l}=r(10),f={};function h(t){const e={};for(const r in t)void 0!==t[r]&&(e["@"+r]=[t[r]]);return[e]}function d(t,e,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===e&&i.subject["@id"]===t["@id"])return!0}return!1}function p(t,e,r){const n="@"+r;let i=n in t?t[n][0]:e[r];if("embed"===r)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:t});return i}function v(t){if(!o.isArray(t)||1!==t.length||!o.isObject(t[0]))throw new u("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:t});if("@id"in t[0])for(const e of a.asArray(t[0]["@id"]))if(!o.isObject(e)&&!s.isAbsolute(e)||o.isString(e)&&0===e.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t});if("@type"in t[0])for(const e of a.asArray(t[0]["@type"]))if(!o.isObject(e)&&!s.isAbsolute(e)||o.isString(e)&&0===e.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t})}function y(t,e,r,s){let u=!0,c=!1;for(const l in r){let f=!1;const h=a.getValues(e,l),d=0===a.getValues(r,l).length;if("@id"===l){if(o.isEmptyObject(r["@id"][0]||{})?f=!0:r["@id"].length>=0&&(f=r["@id"].includes(h[0])),!s.requireAll)return f}else if("@type"===l){if(u=!1,d){if(h.length>0)return!1;f=!0}else if(1===r["@type"].length&&o.isEmptyObject(r["@type"][0]))f=h.length>0;else for(const t of r["@type"])f=!(!o.isObject(t)||!("@default"in t))||f||h.some(e=>e===t);if(!s.requireAll)return f}else{if(n(l))continue;{const e=a.getValues(r,l)[0];let n=!1;if(e&&(v([e]),n="@default"in e),u=!1,0===h.length&&n)continue;if(h.length>0&&d)return!1;if(void 0===e){if(h.length>0)return!1;f=!0}else if(i.isList(e)){const r=e["@list"][0];if(i.isList(h[0])){const e=h[0]["@list"];i.isValue(r)?f=e.some(t=>w(r,t)):(i.isSubject(r)||i.isSubjectReference(r))&&(f=e.some(e=>m(t,r,e,s)))}}else f=i.isValue(e)?h.some(t=>w(e,t)):i.isSubjectReference(e)?h.some(r=>m(t,e,r,s)):!!o.isObject(e)&&h.length>0}}if(!f&&s.requireAll)return!1;c=c||f}return u||c}function g(t,e){const r=t.uniqueEmbeds[t.graph],n=r[e],i=n.parent,s=n.property,u={"@id":e};if(o.isArray(i)){for(let o=0;o<i.length;++o)if(a.compareValues(i[o],u)){i[o]=u;break}}else{const t=o.isArray(i[s]);a.removeValue(i,s,u,{propertyIsArray:t}),a.addValue(i,s,u,{propertyIsArray:t})}const c=t=>{const e=Object.keys(r);for(const n of e)n in r&&o.isObject(r[n].parent)&&r[n].parent["@id"]===t&&(delete r[n],c(n))};c(e)}
/**
   * Removes the @preserve keywords from expanded result of framing.
   *
   * @param input the framed, framed output.
   * @param options the framing options used.
   *
   * @return the resulting output.
   */function b(t,e,r){o.isObject(t)?a.addValue(t,e,r,{propertyIsArray:!0}):t.push(r)}function m(t,e,r,n){if(!("@id"in r))return!1;const i=t.subjects[r["@id"]];return i&&y(t,i,e,n)}function w(t,e){const r=e["@value"],n=e["@type"],i=e["@language"],a=t["@value"]?o.isArray(t["@value"])?t["@value"]:[t["@value"]]:[],s=t["@type"]?o.isArray(t["@type"])?t["@type"]:[t["@type"]]:[],u=t["@language"]?o.isArray(t["@language"])?t["@language"]:[t["@language"]]:[];return 0===a.length&&0===s.length&&0===u.length||!(!a.includes(r)&&!o.isEmptyObject(a[0]))&&!!(!n&&0===s.length||s.includes(n)||n&&o.isEmptyObject(s[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&o.isEmptyObject(u[0]))}t.exports=f,f.frameMergedOrDefault=(t,e,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},s=new a.IdentifierIssuer("_:b");c(t,n.graphMap,"@default",s),r.merged&&(n.graphMap["@merged"]=l(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const u=[];return f.frame(n,Object.keys(n.subjects).sort(),e,u),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(t=>1===n.bnodeMap[t].length)),
// remove @preserve from results
r.link={},function t(e,r){if(o.isArray(e))return e.map(e=>t(e,r));if(o.isObject(e)){
// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(i.isValue(e))return e;if(i.isList(e))return e["@list"]=t(e["@list"],r),e;if("@id"in e){const t=e["@id"];if(r.link.hasOwnProperty(t)){const n=r.link[t].indexOf(e);if(-1!==n)return r.link[t][n];r.link[t].push(e)}else r.link[t]=[e]}for(const n in e)"@id"===n&&r.bnodesToClear.includes(e[n])?delete e["@id"]:e[n]=t(e[n],r)}return e}(u,r)},f.frame=(t,e,r,s,c=null)=>{v(r),r=r[0];const l=t.options,m={embed:p(r,l,"embed"),explicit:p(r,l,"explicit"),requireAll:p(r,l,"requireAll")};t.link.hasOwnProperty(t.graph)||(t.link[t.graph]={});const _=t.link[t.graph],x=function(t,e,r,n){const i={};for(const o of e){const e=t.graphMap[t.graph][o];y(t,e,r,n)&&(i[o]=e)}return i}(t,e,r,m),E=Object.keys(x).sort();for(const v of E){const y=x[v];if(null===c?t.uniqueEmbeds={[t.graph]:{}}:t.uniqueEmbeds[t.graph]=t.uniqueEmbeds[t.graph]||{},"@link"===m.embed&&v in _){b(s,c,_[v]);continue}const E={"@id":v};if(0===v.indexOf("_:")&&a.addValue(t.bnodeMap,v,E,{propertyIsArray:!0}),_[v]=E,("@first"===m.embed||"@last"===m.embed)&&t.is11)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(t.embedded||!t.uniqueEmbeds[t.graph].hasOwnProperty(v))if(!t.embedded||"@never"!==m.embed&&!d(y,t.graph,t.subjectStack))if(!t.embedded||"@first"!=m.embed&&"@once"!=m.embed||!t.uniqueEmbeds[t.graph].hasOwnProperty(v)){if("@last"===m.embed&&v in t.uniqueEmbeds[t.graph]&&g(t,v),t.uniqueEmbeds[t.graph][v]={parent:s,property:c},t.subjectStack.push({subject:y,graph:t.graph}),v in t.graphMap){let e=!1,n=null;"@graph"in r?(n=r["@graph"][0],e=!("@merged"===v||"@default"===v),o.isObject(n)||(n={})):(e="@merged"!==t.graph,n={}),e&&f.frame({...t,graph:v,embedded:!1},Object.keys(t.graphMap[v]).sort(),[n],E,"@graph")}"@included"in r&&f.frame({...t,embedded:!1},e,r["@included"],E,"@included");for(const e of Object.keys(y).sort())if(n(e)){if(E[e]=a.clone(y[e]),"@type"===e)for(const r of y["@type"])0===r.indexOf("_:")&&a.addValue(t.bnodeMap,r,E,{propertyIsArray:!0})}else if(!m.explicit||e in r)for(const n of y[e]){const o=e in r?r[e]:h(m);if(i.isList(n)){const o=r[e]&&r[e][0]&&r[e][0]["@list"]?r[e][0]["@list"]:h(m),s={"@list":[]};b(E,e,s);const u=n["@list"];for(const e of u)i.isSubjectReference(e)?f.frame({...t,embedded:!0},[e["@id"]],o,s,"@list"):b(s,"@list",a.clone(e))}else i.isSubjectReference(n)?f.frame({...t,embedded:!0},[n["@id"]],o,E,e):w(o[0],n)&&b(E,e,a.clone(n))}for(const t of Object.keys(r).sort()){if("@type"===t){if(!o.isObject(r[t][0])||!("@default"in r[t][0]))continue}else if(n(t))continue;const e=r[t][0]||{};if(!p(e,l,"omitDefault")&&!(t in E)){let r="@null";"@default"in e&&(r=a.clone(e["@default"])),o.isArray(r)||(r=[r]),E[t]=[{"@preserve":r}]}}for(const e of Object.keys(r["@reverse"]||{}).sort()){const n=r["@reverse"][e];for(const r of Object.keys(t.subjects))a.getValues(t.subjects[r],e).some(t=>t["@id"]===v)&&(E["@reverse"]=E["@reverse"]||{},a.addValue(E["@reverse"],e,[],{propertyIsArray:!0}),f.frame({...t,embedded:!0},[r],n,E["@reverse"][e],c))}b(s,c,E),t.subjectStack.pop()}else b(s,c,E);else b(s,c,E)}},f.cleanupNull=(t,e)=>{if(o.isArray(t))return t.map(t=>f.cleanupNull(t,e)).filter(t=>t);if("@null"===t)return null;if(o.isObject(t)){if("@id"in t){const r=t["@id"];if(e.link.hasOwnProperty(r)){const n=e.link[r].indexOf(t);if(-1!==n)return e.link[r][n];e.link[r].push(t)}else e.link[r]=[t]}for(const r in t)t[r]=f.cleanupNull(t[r],e)}return t}},function(t,e,r){const n=r(3),{isArray:i,isObject:o,isString:a,isUndefined:s}=r(1),{isList:u,isValue:c,isGraph:l,isSimpleGraph:f,isSubjectReference:h}=r(4),{expandIri:d,getContextValue:p,isKeyword:v,process:y,processingMode:g}=r(6),{removeBase:b,prependBase:m}=r(5),{addValue:w,asArray:_,compareShortestLeast:x}=r(2),E={};function S(t,e,r){if("@nest"!==d(t,e,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}t.exports=E,E.compact=async({activeCtx:t,activeProperty:e=null,element:r,options:d={},compactionMap:b=(()=>{})})=>{if(i(r)){let n=[];for(let i=0;i<r.length;++i){let o=await E.compact({activeCtx:t,activeProperty:e,element:r[i],options:d,compactionMap:b});null===o&&(o=await b({unmappedValue:r[i],activeCtx:t,activeProperty:e,parent:r,index:i,options:d}),void 0===o)||n.push(o)}return d.compactArrays&&1===n.length&&0===(p(t,e,"@container")||[]).length&&(n=n[0]),n}const m=p(t,e,"@context");if(s(m)||(t=await y({activeCtx:t,localCtx:m,propagate:!0,overrideProtected:!0,options:d})),o(r)){if(d.link&&"@id"in r&&d.link.hasOwnProperty(r["@id"])){const t=d.link[r["@id"]];for(let e=0;e<t.length;++e)if(t[e].expanded===r)return t[e].compacted}if(c(r)||h(r)){const n=E.compactValue({activeCtx:t,activeProperty:e,value:r,options:d});return d.link&&h(r)&&(d.link.hasOwnProperty(r["@id"])||(d.link[r["@id"]]=[]),d.link[r["@id"]].push({expanded:r,compacted:n})),n}if(u(r)&&(p(t,e,"@container")||[]).includes("@list"))return E.compact({activeCtx:t,activeProperty:e,element:r["@list"],options:d,compactionMap:b});const m="@reverse"===e,x={},O=t;c(r)||h(r)||(t=t.revertToPreviousContext());const I=p(O,e,"@context");s(I)||(t=await y({activeCtx:t,localCtx:I,propagate:!0,overrideProtected:!0,options:d})),d.link&&"@id"in r&&(d.link.hasOwnProperty(r["@id"])||(d.link[r["@id"]]=[]),d.link[r["@id"]].push({expanded:r,compacted:x}));let R=r["@type"]||[];R.length>1&&(R=Array.from(R).sort());const j=t;for(const e of R){const r=E.compactIri({activeCtx:j,iri:e,relativeTo:{vocab:!0}}),n=p(O,r,"@context");s(n)||(t=await y({activeCtx:t,localCtx:n,options:d,propagate:!1}))}const k=Object.keys(r).sort();for(const s of k){const h=r[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&v(s)){const e=E.compactIri({activeCtx:t,iri:s,relativeTo:{vocab:!0}});w(x,e,h)}else{if(!i(h))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===h.length){const e=E.compactIri({activeCtx:t,iri:s,value:h,relativeTo:{vocab:!0},reverse:m}),r=t.mappings.has(e)?t.mappings.get(e)["@nest"]:null;let n=x;r&&(S(t,r,d),o(x[r])||(x[r]={}),n=x[r]),w(n,e,h,{propertyIsArray:!0})}for(const e of h){const r=E.compactIri({activeCtx:t,iri:s,value:e,relativeTo:{vocab:!0},reverse:m}),n=t.mappings.has(r)?t.mappings.get(r)["@nest"]:null;let h=x;n&&(S(t,n,d),o(x[n])||(x[n]={}),h=x[n]);const v=p(t,r,"@container")||[],y=l(e),g=u(e);let O;g?O=e["@list"]:y&&(O=e["@graph"]);let I=await E.compact({activeCtx:t,activeProperty:r,element:g||y?O:e,options:d,compactionMap:b});if(g){if(i(I)||(I=[I]),v.includes("@list")){w(h,r,I,{valueIsArray:!0,allowDuplicate:!0});continue}I={[E.compactIri({activeCtx:t,iri:"@list",relativeTo:{vocab:!0}})]:I},"@index"in e&&(I[E.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=e["@index"])}if(y)if(v.includes("@graph")&&(v.includes("@id")||v.includes("@index")&&f(e))){let n;h.hasOwnProperty(r)?n=h[r]:h[r]=n={};const i=(v.includes("@id")?e["@id"]:e["@index"])||E.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}});w(n,i,I,{propertyIsArray:!d.compactArrays||v.includes("@set")})}else v.includes("@graph")&&f(e)?(i(I)&&I.length>1&&(I={"@included":I}),w(h,r,I,{propertyIsArray:!d.compactArrays||v.includes("@set")})):(i(I)&&1===I.length&&d.compactArrays&&(I=I[0]),I={[E.compactIri({activeCtx:t,iri:"@graph",relativeTo:{vocab:!0}})]:I},"@id"in e&&(I[E.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=e["@id"]),"@index"in e&&(I[E.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=e["@index"]),w(h,r,I,{propertyIsArray:!d.compactArrays||v.includes("@set")}));else if(v.includes("@language")||v.includes("@index")||v.includes("@id")||v.includes("@type")){let n,i;if(h.hasOwnProperty(r)?n=h[r]:h[r]=n={},v.includes("@language"))c(I)&&(I=I["@value"]),i=e["@language"];else if(v.includes("@index")){const n=p(t,r,"@index")||"@index",o=E.compactIri({activeCtx:t,iri:n,relativeTo:{vocab:!0}});if("@index"===n)i=e["@index"],delete I[o];else{let t;if([i,...t]=_(I[n]||[]),a(i))switch(t.length){case 0:delete I[n];break;case 1:I[n]=t[0];break;default:I[n]=t}else i=null}}else if(v.includes("@id")){const e=E.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});i=I[e],delete I[e]}else if(v.includes("@type")){const n=E.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}});let o;switch([i,...o]=_(I[n]||[]),o.length){case 0:delete I[n];break;case 1:I[n]=o[0];break;default:I[n]=o}1===Object.keys(I).length&&"@id"in e&&(I=await E.compact({activeCtx:t,activeProperty:r,element:{"@id":e["@id"]},options:d,compactionMap:b}))}i||(i=E.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}})),w(n,i,I,{propertyIsArray:v.includes("@set")})}else{const t=!d.compactArrays||v.includes("@set")||v.includes("@list")||i(I)&&0===I.length||"@list"===s||"@graph"===s;w(h,r,I,{propertyIsArray:t})}}}else{if((p(t,e,"@container")||[]).includes("@index"))continue;const r=E.compactIri({activeCtx:t,iri:s,relativeTo:{vocab:!0}});w(x,r,h)}else{const r=await E.compact({activeCtx:t,activeProperty:e,element:h,options:d,compactionMap:b});i(r)&&0===r.length||w(x,s,r)}else{const e=await E.compact({activeCtx:t,activeProperty:"@reverse",element:h,options:d,compactionMap:b});for(const r in e)if(t.mappings.has(r)&&t.mappings.get(r).reverse){const n=e[r],i=(p(t,r,"@container")||[]).includes("@set")||!d.compactArrays;w(x,r,n,{propertyIsArray:i}),delete e[r]}if(Object.keys(e).length>0){const r=E.compactIri({activeCtx:t,iri:s,relativeTo:{vocab:!0}});w(x,r,e)}}else{let e=_(h).map(t=>E.compactIri({activeCtx:O,iri:t,relativeTo:{vocab:!0}}));1===e.length&&(e=e[0]);const r=E.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}}),n=(p(t,r,"@container")||[]).includes("@set")&&g(t,1.1)||i(e)&&0===h.length;w(x,r,e,{propertyIsArray:n})}else{let e=_(h).map(e=>E.compactIri({activeCtx:t,iri:e,relativeTo:{vocab:!1},base:d.base}));1===e.length&&(e=e[0]),x[E.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=e}}return x}return r},E.compactIri=({activeCtx:t,iri:e,value:r=null,relativeTo:i={vocab:!1},reverse:a=!1,base:s=null})=>{if(null===e)return e;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);const f=t.getInverse();if(v(e)&&e in f&&"@none"in f[e]&&"@type"in f[e]["@none"]&&"@none"in f[e]["@none"]["@type"])return f[e]["@none"]["@type"]["@none"];if(i.vocab&&e in f){const n=t["@language"]||"@none",i=[];o(r)&&"@index"in r&&!("@graph"in r)&&i.push("@index","@index@set"),o(r)&&"@preserve"in r&&(r=r["@preserve"][0]),l(r)?("@index"in r&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in r||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||i.push("@graph@id","@graph@id@set")):o(r)&&!c(r)&&i.push("@id","@id@set","@type","@set@type");let s="@language",f="@null";if(a)s="@type",f="@reverse",i.push("@set");else if(u(r)){"@index"in r||i.push("@list");const t=r["@list"];if(0===t.length)s="@any",f="@none";else{let e=0===t.length?n:null,r=null;for(let n=0;n<t.length;++n){const i=t[n];let o="@none",a="@none";if(c(i)?"@direction"in i?o=`${(i["@language"]||"").toLowerCase()}_${i["@direction"]}`:"@language"in i?o=i["@language"].toLowerCase():"@type"in i?a=i["@type"]:o="@null":a="@id",null===e?e=o:o!==e&&c(i)&&(e="@none"),null===r?r=a:a!==r&&(r="@none"),"@none"===e&&"@none"===r)break}e=e||"@none",r=r||"@none","@none"!==r?(s="@type",f=r):f=e}}else{if(c(r))if("@language"in r&&!("@index"in r)){i.push("@language","@language@set"),f=r["@language"];const t=r["@direction"];t&&(f=`${f}_${t}`)}else"@direction"in r&&!("@index"in r)?f="_"+r["@direction"]:"@type"in r&&(s="@type",f=r["@type"]);else s="@type",f="@id";i.push("@set")}i.push("@none"),o(r)&&!("@index"in r)&&i.push("@index","@index@set"),c(r)&&1===Object.keys(r).length&&i.push("@language","@language@set");const h=function(t,e,r,n,i,a){null===a&&(a="@null");const s=[];if(("@id"===a||"@reverse"===a)&&o(r)&&"@id"in r){"@reverse"===a&&s.push("@reverse");const e=E.compactIri({activeCtx:t,iri:r["@id"],relativeTo:{vocab:!0}});t.mappings.has(e)&&t.mappings.get(e)&&t.mappings.get(e)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);const t=s.find(t=>t.includes("_"));t&&s.push(t.replace(/^[^_]+_/,"_"))}s.push("@none");const u=t.inverse[e];for(const o of n){if(!(o in u))continue;const t=u[o][i];for(const e of s)if(e in t)return t[e]}return null}(t,e,r,i,s,f);if(null!==h)return h}if(i.vocab&&"@vocab"in t){const r=t["@vocab"];if(0===e.indexOf(r)&&e!==r){const n=e.substr(r.length);if(!t.mappings.has(n))return n}}let h=null;const d=[];let p=t.fastCurieMap;const y=e.length-1;for(let n=0;n<y&&e[n]in p;++n)p=p[e[n]],""in p&&d.push(p[""][0]);for(let n=d.length-1;n>=0;--n){const i=d[n],o=i.terms;for(const n of o){const o=n+":"+e.substr(i.iri.length);t.mappings.get(n)._prefix&&(!t.mappings.has(o)||null===r&&t.mappings.get(o)["@id"]===e)&&(null===h||x(o,h)<0)&&(h=o)}}if(null!==h)return h;for(const[o,u]of t.mappings)if(u&&u._prefix&&e.startsWith(o+":"))throw new n(`Absolute IRI "${e}" confused with prefix "${o}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t});return i.vocab?e:"@base"in t?t["@base"]?b(m(s,t["@base"]),e):e:b(s,e)},E.compactValue=({activeCtx:t,activeProperty:e,value:r,options:n})=>{if(c(r)){const n=p(t,e,"@type"),i=p(t,e,"@language"),o=p(t,e,"@direction"),s=p(t,e,"@container")||[],u="@index"in r&&!s.includes("@index");if(!u&&"@none"!==n){if(r["@type"]===n)return r["@value"];if("@language"in r&&r["@language"]===i&&"@direction"in r&&r["@direction"]===o)return r["@value"];if("@language"in r&&r["@language"]===i)return r["@value"];if("@direction"in r&&r["@direction"]===o)return r["@value"]}const c=Object.keys(r).length,l=1===c||2===c&&"@index"in r&&!u,f="@language"in t,h=a(r["@value"]),d=t.mappings.has(e)&&null===t.mappings.get(e)["@language"];if(l&&"@none"!==n&&(!f||!h||d))return r["@value"];const v={};return u&&(v[E.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?v[E.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=E.compactIri({activeCtx:t,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(v[E.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(v[E.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),v[E.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],v}const i=d(t,e,{vocab:!0},n),o=p(t,e,"@type"),s=E.compactIri({activeCtx:t,iri:r["@id"],relativeTo:{vocab:"@vocab"===o},base:n.base});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[E.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]:s}}},function(t,e,r){t.exports=t=>{class e{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(e,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(e.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:e}),e.compact=function(e,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):t.compact(e,r)},e.expand=function(e){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):t.expand(e)},e.flatten=function(e){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):t.flatten(e)},e}},function(t,e,r){(function(t){
/*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <http://feross.org>
   * @license  MIT
   */
var n=r(46),i=r(47),o=r(48);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=s(t,n)).write(e,r);return i!==n&&(t=t.slice(0,i)),t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|d(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|d(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(t).length;default:if(n)return B(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,r);case"utf8":case"utf-8":return I(this,e,r);case"ascii":return R(this,e,r);case"latin1":case"binary":return j(this,e,r);case"base64":return O(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function m(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function w(t,e,r,n){return q(B(e,t.length-r),t,r,n)}function _(t,e,r,n){return q(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return _(t,e,r,n)}function E(t,e,r,n){return q(V(e),t,r,n)}function S(t,e,r,n){return q(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function O(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function I(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function j(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function k(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=F(t[o]);return i}function T(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function A(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function N(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,o){return o||N(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function M(t,e,r,n,o){return o||N(t,0,r,8),i.write(t,e,r,n,52,8),r+8}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return l(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):v.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(n,i),l=t.slice(e,r),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return _(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||A(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||A(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||A(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||A(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||A(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||A(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||A(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||A(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||A(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return M(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return M(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=u.isBuffer(t)?t:B(new u(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(8))},function(t,e,r){e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),a=n[0],s=n[1],u=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[l++]=255&e),1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+d]=255&a,d+=p,a/=256,c-=8);t[r+d-p]|=128*v}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){r.r(e),r.d(e,"createBlankNode",(function(){return P})),r.d(e,"createQuad",(function(){return D})),r.d(e,"jsonLDFromRDF",(function(){return b.fromRDF})),r.d(e,"jsonLDToRDF",(function(){return b.toRDF})),r.d(e,"compactJsonLD",(function(){return b.compact})),r.d(e,"TurtleParser",(function(){return _})),r.d(e,"TurtleWriter",(function(){return A}));var n=r(0);function i(t){return!!t&&"DefaultGraph"===t.termType}const{rdf:o,xsd:a}=n.a;let s,u=0;const c={namedNode:function(t){return new h(t)},blankNode:function(t){return new p(t||"n3-"+u++)},variable:function(t){return new v(t)},literal:function(t,e){if("string"==typeof e)return new d(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return""===r&&("boolean"==typeof t?r=a.boolean:"number"==typeof t&&(Number.isFinite(t)?r=Number.isInteger(t)?a.integer:a.double:(r=a.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),""===r||r===a.string?new d(`"${t}"`):new d(`"${t}"^^${r}`)},defaultGraph:function(){return s},quad:g,triple:g};var l=c;class f{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof f?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}toJSON(){return{termType:this.termType,value:this.value}}}class h extends f{get termType(){return"NamedNode"}}class d extends f{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let e=t.lastIndexOf('"')+1;return e<t.length&&"@"===t[e++]?t.substr(e).toLowerCase():""}get datatype(){return new h(this.datatypeString)}get datatypeString(){const t=this.id,e=t.lastIndexOf('"')+1,r=e<t.length?t[e]:"";return"^"===r?t.substr(e+2):"@"!==r?a.string:o.langString}equals(t){return t instanceof d?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class p extends f{constructor(t){super("_:"+t)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class v extends f{constructor(t){super("?"+t)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}s=new class extends f{constructor(){return super(""),s||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};class y extends f{constructor(t,e,r,n){super(""),this._subject=t,this._predicate=e,this._object=r,this._graph=n||s}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function g(t,e,r,n){return new y(t,e,r,n)}var b=r(7),m=r(21);let w=0;class _{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&E(this,t.factory);const e="string"==typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(e),n=/trig/.test(e),i=/triple/.test(e),o=/quad/.test(e),a=this._n3Mode=/n3/.test(e),s=i||o;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||i||a),this._supportsRDFStar=""===e||/star|\*$/.test(e),s&&(this._resolveRelativeIRI=t=>null),this._blankNodePrefix="string"!=typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new m.a({lineMode:s,n3:a}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){w=0}_setBase(t){if(t){const e=t.indexOf("#");e>=0&&(t=t.substr(0,e)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}else this._base="",this._basePath=""}_saveContext(t,e,r,n,i){const o=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:e,type:t,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){const t=this._contextStack.pop(),e=this._n3Mode;this._subject=t.subject,this._predicate=t.predicate,this._object=t.object,this._graph=t.graph,e&&(this._inversePredicate=t.inverse,this._prefixes._=t.blankPrefix,this._quantified=t.quantified)}_readInTopContext(t){switch(t.type){case"eof":return null!==this._graph?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,e){let r;switch(t.type){case"IRI":case"typeIRI":const e=this._resolveIRI(t.value);if(null===e)return this._error("Invalid IRI",t);r=this._namedNode(e);break;case"type":case"prefixed":const n=this._prefixes[t.prefix];if(void 0===n)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(n+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error("Expected entity but got "+t.type,t)}return!e&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(0===t.prefix.length)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if(void 0===(this._subject=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const e=t.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+e,t):(this._subject=null,"]"===e?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",t);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if(void 0===(this._predicate=this._readEntity(t)))return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(0===t.prefix.length)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if(void 0===(this._object=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return"{"===t.type?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return"{"!==t.type?this._error("Expected graph but got "+t.type,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return"]"===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if("]"!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const e=null===this._predicate;return this._restoreContext(),null===this._object?e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let e=null,r=null,n=this._readListItem;const i=this._subject,o=this._contextStack,a=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=e=this._blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":0===t.prefix.length?(this._literalValue=t.value,n=this._readListItemDataTypeOrLang):(e=this._literal(t.value,this._namedNode(t.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(e=this._readEntity(t)))return}if(null===r&&(this._subject=r=this._blankNode()),null===i?null===a.predicate?a.subject=r:a.object=r:this._emit(i,this.RDF_REST,r,this._graph),null!==e){if(this._n3Mode&&("IRI"===t.type||"prefixed"===t.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,e,this._graph)}return n}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let e=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(void 0===r)return;e=this._literal(this._literalValue,r),t=null;break;case"langcode":e=this._literal(this._literalValue,t.value),t=null}return{token:t,literal:e}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,e){const r=this._completeLiteral(t);if(r)return this._object=r.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return"}"!==t.type?this._readPunctuation(t):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let e,r=this._graph;const n=this._subject,i=this._inversePredicate;switch(t.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(t))){e=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(null!==n){const t=this._predicate,e=this._object;i?this._emit(e,t,n,r):this._emit(n,t,e,r)}return e}_readBlankNodePunctuation(t){let e;switch(t.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(t){return"."!==t.type?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return"prefix"!==t.type?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if("IRI"!==t.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const e=this._readEntity(t);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(t){const e="IRI"===t.type&&this._resolveIRI(t.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return"]"!==t.type?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):"."!==t.type?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let e;switch(t.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(t,!0)))break;default:return this._error("Unexpected "+t.type,t)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return","===t.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const e=this._contextStack,r=e.length&&e[e.length-1];if(r&&"item"===r.type){const t=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,t,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let e,r;const n=this._blankNode();if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(e=this._subject,this._subject=n):(e=this._object,this._object=n),this._emit(e,r,n,this._graph),this._readPath}_readBackwardPath(t){const e=this._blankNode();let r,n;if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(n=this._subject,this._subject=e):(n=this._object,this._object=e),this._emit(e,r,n,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return">>"!==t.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(t))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(">>"!==t.type)return this._error("Expected >> but got "+t.type,t);const e=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),null===this._subject?(this._subject=e,this._readPredicate):(this._object=e,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,e,r,n){this._callback(null,this._quad(t,e,r,n||this.DEFAULTGRAPH))}_error(t,e){const r=new Error(`${t} on line ${e.line}.`);r.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=x}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const e=t.length;let r="",n=-1,i=-1,o=0,a="/";for(;n<e;){switch(a){case":":if(i<0&&"/"===t[++n]&&"/"===t[++n])for(;(i=n+1)<e&&"/"!==t[i];)n=i;break;case"?":case"#":n=e;break;case"/":if("."===t[n+1])switch(a=t[1+ ++n],a){case"/":r+=t.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return r+t.substring(o,n)+t.substr(n+1);case".":if(a=t[1+ ++n],void 0===a||"/"===a||"?"===a||"#"===a){if(r+=t.substring(o,n-2),(o=r.lastIndexOf("/"))>=i&&(r=r.substr(0,o)),"/"!==a)return`${r}/${t.substr(n+1)}`;o=n+1}}}a=t[++n]}return r+t.substring(o)}parse(t,e,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${w++}_`,this._prefixCallback=r||x,this._inversePredicate=!1,this._quantified=Object.create(null),!e){const e=[];let r;if(this._callback=(t,n)=>{t?r=t:n&&e.push(n)},this._lexer.tokenize(t).every(t=>this._readCallback=this._readCallback(t)),r)throw r;return e}this._callback=e,this._lexer.tokenize(t,(t,e)=>{null!==t?(this._callback(t),this._callback=x):this._readCallback&&(this._readCallback=this._readCallback(e))})}}function x(){}function E(t,e){const r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(n.a.rdf.first),t.RDF_REST=r(n.a.rdf.rest),t.RDF_NIL=r(n.a.rdf.nil),t.N3_FORALL=r(n.a.r.forAll),t.N3_FORSOME=r(n.a.r.forSome),t.ABBREVIATIONS={a:r(n.a.rdf.type),"=":r(n.a.owl.sameAs),">":r(n.a.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}E(_.prototype,l);const S=l.defaultGraph(),{rdf:O,xsd:I}=n.a,R=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,j=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,k={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class T extends f{equals(){return!1}}class A{constructor(t,e){if(this._prefixRegex=/$0^/,t&&"function"!=typeof t.write&&(e=t,t=null),e=e||{},this._lists=e.lists,t)this._outputStream=t,this._endStream=void 0===e.end||!!e.end;else{let t="";this._outputStream={write(e,r,n){t+=e,n&&n()},end:e=>{e&&e(null,t)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(e.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=S,this._baseIRI=e.baseIRI,this._prefixIRIs=Object.create(null),e.prefixes&&this.addPrefixes(e.prefixes))}get _inDefaultGraph(){return S.equals(this._graph)}_write(t,e){this._outputStream.write(t,"utf8",e)}_writeQuad(t,e,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(S.equals(n)?"":this._encodeIriOrBlank(n)+" {\n")),this._graph=n,this._subject=null),t.equals(this._subject)?e.equals(this._predicate)?this._write(", "+this._encodeObject(r),i):this._write(`;\n    ${this._encodePredicate(this._predicate=e)} ${this._encodeObject(r)}`,i):this._write(`${(null===this._subject?"":".\n")+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=e)} ${this._encodeObject(r)}`,i)}catch(t){i&&i(t)}}_writeQuadLine(t,e,r,n,i){delete this._prefixMatch,this._write(this.quadToString(t,e,r,n),i)}quadToString(t,e,r,n){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(e)} ${this._encodeObject(r)}${n&&n.value?` ${this._encodeIriOrBlank(n)} .\n`:" .\n"}`}quadsToString(t){return t.map(t=>this.quadToString(t.subject,t.predicate,t.object,t.graph)).join("")}_encodeSubject(t){return"Quad"===t.termType?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if("NamedNode"!==t.termType)return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:"_:"+t.value;let e=t.value;this._baseIRI&&e.startsWith(this._baseIRI)&&(e=e.substr(this._baseIRI.length)),R.test(e)&&(e=e.replace(j,C));const r=this._prefixRegex.exec(e);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:e:`<${e}>`}_encodeLiteral(t){let e=t.value;if(R.test(e)&&(e=e.replace(j,C)),t.language)return`"${e}"@${t.language}`;if(this._lineMode){if(t.datatype.value===I.string)return`"${e}"`}else switch(t.datatype.value){case I.string:return`"${e}"`;case I.boolean:if("true"===e||"false"===e)return e;break;case I.integer:if(/^[+-]?\d+$/.test(e))return e;break;case I.decimal:if(/^[+-]?\d*\.\d+$/.test(e))return e;break;case I.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(e))return e}return`"${e}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===O.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:e,object:r,graph:n}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(e)} ${this._encodeObject(r)}${i(n)?"":" "+this._encodeIriOrBlank(n)}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,e,r,n,i){void 0===r?this._writeQuad(t.subject,t.predicate,t.object,t.graph,e):"function"==typeof n?this._writeQuad(t,e,r,S,n):this._writeQuad(t,e,r,n||S,i)}addQuads(t){for(let e=0;e<t.length;e++)this.addQuad(t[e])}addPrefix(t,e,r){const n={};n[t]=e,this.addPrefixes(n,r)}addPrefixes(t,e){if(!this._prefixIRIs)return e&&e();let r=!1;for(let n in t){let e=t[n];"string"!=typeof e&&(e=e.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[e]=n+=":",this._write(`@prefix ${n} <${e}>.\n`)}if(r){let t="",e="";for(const r in this._prefixIRIs)t+=t?"|"+r:r,e+=(e?"|":"")+this._prefixIRIs[r];t=t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp(`^(?:${e})[^/]*$|^(${t})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?"\n":"",e)}blank(t,e){let r,n,i=t;switch(void 0===t?i=[]:t.termType?i=[{predicate:t,object:e}]:"length"in t||(i=[t]),n=i.length){case 0:return new T("[]");case 1:if(r=i[0],!(r.object instanceof T))return new T(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let e="[";for(let o=0;o<n;o++)r=i[o],r.predicate.equals(t)?e+=", "+this._encodeObject(r.object):(e+=`${(o?";\n  ":"\n  ")+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,t=r.predicate);return new T(e+"\n]")}}list(t){const e=t&&t.length||0,r=new Array(e);for(let n=0;n<e;n++)r[n]=this._encodeObject(t[n]);return new T(`(${r.join(" ")})`)}end(t){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let e=t&&((r,n)=>{e=null,t(r,n)});if(this._endStream)try{return this._outputStream.end(e)}catch(t){}e&&e()}}function C(t){let e=k[t];return void 0===e&&(1===t.length?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function P(t){return new p(t)}function D(t,e,r,n){return new y(t,e,r,n)}}])}));e.SolidDocumentPermission=void 0,(Pg=e.SolidDocumentPermission||(e.SolidDocumentPermission={})).Read="read",Pg.Write="write",Pg.Append="append",Pg.Control="control";var Lg=function(t){l(n,t);var r=v(n);function n(t,e,i){var o;return a(this,n),c(d(o=r.call(this,e)),"url",void 0),c(d(o),"headers",void 0),o.url=t,o.headers=i,o}return u(n,[{key:"isACPResource",value:function(){var t;return!(null===(t=this.headers.get("Link"))||void 0===t||!t.match(/<http:\/\/www\.w3\.org\/ns\/solid\/acp#AccessControlResource>;[^,]+rel="type"/))}},{key:"isPersonalProfile",value:function(){return!!this.statement(this.url,Og("rdf:type"),Og("foaf:PersonalProfileDocument"))}},{key:"isStorage",value:function(){var t;return!(null===(t=this.headers.get("Link"))||void 0===t||!t.match(/<http:\/\/www\.w3\.org\/ns\/pim\/space#Storage>;[^,]+rel="type"/))}},{key:"isUserWritable",value:function(){return this.getUserPermissions().includes(e.SolidDocumentPermission.Write)}},{key:"getUserPermissions",value:function(){return this.getPermissionsFromWAC("user")}},{key:"getPublicPermissions",value:function(){return this.getPermissionsFromWAC("public")}},{key:"getLastModified",value:function(){var t,e,r,n;return null!==(t=null!==(e=null!==(r=zy(this.headers.get("last-modified")))&&void 0!==r?r:zy(null===(n=this.statement(this.url,"purl:modified"))||void 0===n?void 0:n.object.value))&&void 0!==e?e:this.getLatestDocumentDate())&&void 0!==t?t:null}},{key:"expandIRI",value:function(t){return Og(t,{defaultPrefix:this.url})}},{key:"getLatestDocumentDate",value:function(){var t=[].concat(g(this.statements(void 0,"purl:modified")),g(this.statements(void 0,"purl:created"))).map((function(t){return zy(t.object.value)})).filter((function(t){return null!==t}));return t.length>0?t.reduce((function(t,e){return t>e?t:e})):null}},{key:"getPermissionsFromWAC",value:function(t){var r,n,i,o,a,s=null!==(r=this.headers.get("WAC-Allow"))&&void 0!==r?r:"",u=null!==(n=null===(o=s,a=new RegExp("".concat(t,'="([^"]+)"')),i=o.match(a))||void 0===i?void 0:i[1])&&void 0!==n?n:"";return By([u.includes("read")&&e.SolidDocumentPermission.Read,u.includes("write")&&e.SolidDocumentPermission.Write,u.includes("append")&&e.SolidDocumentPermission.Append,u.includes("control")&&e.SolidDocumentPermission.Control])}}]),n}(Rg);function Mg(){return(Mg=o(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ng.compactJsonLD(e,{});case 2:if(!("@graph"in(r=t.sent))){t.next=5;break}return t.abrupt("return",r);case 5:if(!("@id"in r)){t.next=7;break}return t.abrupt("return",{"@graph":[r]});case 7:return t.abrupt("return",{"@graph":[]});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ug(t){return"@graph"in t}function Fg(t,e){return Bg.apply(this,arguments)}function Bg(){return(Bg=o(regeneratorRuntime.mark((function t(e,r){var n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{Accept:"text/turtle"}},t.prev=1,t.next=4,r(e,n);case 4:if(404!==(i=t.sent).status){t.next=7;break}throw new yg(e);case 7:if(![401,403].includes(i.status)){t.next=9;break}throw new gg(e,i.status);case 9:return t.next=11,i.text();case 11:return o=t.sent,t.abrupt("return",{body:o,headers:i.headers});case 15:if(t.prev=15,t.t0=t.catch(1),!(t.t0 instanceof gg)){t.next=19;break}throw t.t0;case 19:if(!(t.t0 instanceof yg)){t.next=21;break}throw t.t0;case 21:throw new vg(e,{cause:t.t0});case 22:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}function Vg(t){var e,r=t.slice(0),n={},i=hg(t).flatMap((function(t,e){return fg(By(["BlankNode"===t.object.termType?t.object.value:null,"BlankNode"===t.subject.termType?t.subject.value:null]),(function(t){return t.forEach((function(t){var r;return(null!==(r=n[t])&&void 0!==r?r:n[t]=new Set).add(e)}))}))})).filter().unique(),o=w(i);try{var a=function(){var i,o=e.value,a=n[o],s=Dg(hg(a).map((function(e){return t[e]})).filter((function(t){var e=t.subject,r=e.termType,n=e.value;return"BlankNode"===r&&n===o})).map((function(t){var e=t.predicate,r=t.object;return"BlankNode"===r.termType?e.value:e.value+r.value})).sorted().join()),u=w(a);try{for(u.s();!(i=u.n()).done;){for(var c=i.value,l=r[c],f={subject:l.subject,object:l.object},h=0,d=Object.entries(f);h<d.length;h++){var p=y(d[h],2),v=p[0],g=p[1];"BlankNode"===g.termType&&g.value===o&&(f[v]=Ng.createBlankNode(s))}qy(r,l,Ng.createQuad(f.subject,l.predicate,f.object))}}catch(t){u.e(t)}finally{u.f()}};for(o.s();!(e=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}return r}function qg(t,e,r){return Gg.apply(this,arguments)}function Gg(){return(Gg=o(regeneratorRuntime.mark((function t(e,r,n){var i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null!==(i=n)&&void 0!==i?i:window.fetch.bind(window),t.next=3,ob(r);case 3:return o=t.sent,t.next=6,n(e,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:r});case 6:return t.abrupt("return",new Lg(e,o,new Headers({})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $g(t,e){return Jg.apply(this,arguments)}function Jg(){return Jg=o(regeneratorRuntime.mark((function t(e,r){var n,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fg(e,null!=r?r:window.fetch);case 2:return n=t.sent,i=n.body,o=n.headers,t.next=7,ob(i,{baseIRI:e});case 7:return a=t.sent,t.abrupt("return",new Lg(e,a,o));case 9:case"end":return t.stop()}}),t)}))),Jg.apply(this,arguments)}function zg(t,e){return Hg.apply(this,arguments)}function Hg(){return(Hg=o(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$g(e,r);case 3:return n=t.sent,t.abrupt("return",n);case 7:if(t.prev=7,t.t0=t.catch(0),t.t0 instanceof yg){t.next=11;break}throw t.t0;case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Kg(t,e){return Wg.apply(this,arguments)}function Wg(){return(Wg=o(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Ug(e)){t.next=5;break}return t.next=3,Promise.all(e["@graph"].map((function(t){return Kg(t,r)})));case 3:return n=t.sent,t.abrupt("return",n.flat());case 5:return t.abrupt("return",Ng.jsonLDToRDF(e,{base:r}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yg(t){var e=ib(t);return Object.entries(e).reduce((function(t,e){var r=y(e,2),n=r[0],i=r[1].map((function(t){return"    "+tb(t)})).sort().join("\n");return t.concat("".concat(n.toUpperCase()," DATA {\n").concat(i,"\n}"))}),[]).join(" ;\n")}function Qg(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Cy({baseIRI:r.baseIRI}),i=new Ng.TurtleParser(n),o={quads:[],containsRelativeIRIs:!1};return new Promise((function(n,a){var s=i._resolveRelativeIRI;i._resolveRelativeIRI=function(){return o.containsRelativeIRIs=!0,i._resolveRelativeIRI=s,i._resolveRelativeIRI.apply(i,arguments)},i.parse(t,(function(t,i){var s;t?a(new pg(null!==(s=r.baseIRI)&&void 0!==s?s:null,e.SolidDocumentFormat.Turtle,t.message)):i?o.quads.push(i):n(o)}))}))}function Xg(){return(Xg=o(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ng.jsonLDFromRDF(e);case 2:return r=t.sent,t.abrupt("return",{"@graph":r});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zg(t){return(new Ng.TurtleWriter).quadsToString(t)}function tb(t){return(new Ng.TurtleWriter).quadsToString([t]).slice(0,-1)}function eb(t,e){return rb.apply(this,arguments)}function rb(){return(rb=o(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$g(e,r);case 3:return n=t.sent,t.abrupt("return",!n.isEmpty());case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function nb(){return nb=o(regeneratorRuntime.mark((function t(e){var r,n,i,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=Yy(e,/(\w+) DATA {([^}]+)}/g),i={},t.next=5,Promise.all(g(n).map(function(){var t=o(regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e[1].toLowerCase(),o=e[2],t.next=4,ob(o,r);case 4:i[n]=t.sent;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)}))),nb.apply(this,arguments)}function ib(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Yy(t,/(\w+) DATA {([^}]+)}/g),i={},o=w(n);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=a[1].toLowerCase(),u=a[2];i[s]=sb(u,r)}}catch(t){o.e(t)}finally{o.f()}return i}function ob(t){return ab.apply(this,arguments)}function ab(){return ab=o(regeneratorRuntime.mark((function t(e){var r,n,i,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},t.next=3,Qg(e,r);case 3:return n=t.sent,i=n.quads,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)}))),ab.apply(this,arguments)}function sb(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Cy({baseIRI:r.baseIRI}),i=new Ng.TurtleParser(n);try{var o=i.parse(t);return r.normalizeBlankNodes?Vg(o):o}catch(t){var a,s;throw new pg(null!==(a=r.baseIRI)&&void 0!==a?a:null,e.SolidDocumentFormat.Turtle,null!==(s=t.message)&&void 0!==s?s:"")}}function ub(t,e,r){return cb.apply(this,arguments)}function cb(){return(cb=o(regeneratorRuntime.mark((function t(e,r,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null!==(i=n)&&void 0!==i?i:window.fetch.bind(window),t.next=3,n(e,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:r});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lb(t,e){return fb.apply(this,arguments)}function fb(){return fb=o(regeneratorRuntime.mark((function t(e,r){var n,i,a,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Rg(e.getQuads()),s=c({},e.url,e),u=function(t){t.statements(void 0,"foaf:isPrimaryTopicOf").map((function(t){return t.object.value})).forEach((function(t){var e;return s[t]=null!==(e=s[t])&&void 0!==e?e:null})),t.statements(void 0,"foaf:primaryTopic").map((function(t){return t.subject.value})).forEach((function(t){var e;return s[t]=null!==(e=s[t])&&void 0!==e?e:null}))},l=function(){var t=o(regeneratorRuntime.mark((function t(){var e,n,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0,n=Object.entries(s);case 1:if(!(e<n.length)){t.next=23;break}if(i=y(n[e],2),o=i[0],null===i[1]){t.next=5;break}return t.abrupt("continue",20);case 5:return t.prev=5,t.next=8,$g(o,r);case 8:c=t.sent,s[o]=c,a.addQuads(c.getQuads()),u(c),t.next=20;break;case 14:if(t.prev=14,t.t0=t.catch(5),!(t.t0 instanceof gg)){t.next=19;break}return s[o]=!1,t.abrupt("continue",20);case 19:throw t.t0;case 20:e++,t.next=1;break;case 23:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(){return t.apply(this,arguments)}}(),u(e);case 5:return t.next=7,l();case 7:if(Object.values(s).some((function(t){return null===t}))){t.next=5;break}case 8:return t.abrupt("return",{store:a,cloaked:Object.values(s).some((function(t){return!1===t})),writableProfileUrl:e.isUserWritable()?e.url:null!==(n=null===(i=Object.values(s).find((function(t){return!!t&&t.isUserWritable()})))||void 0===i?void 0:i.url)&&void 0!==n?n:null});case 9:case"end":return t.stop()}}),t)}))),fb.apply(this,arguments)}function hb(t,e){return db.apply(this,arguments)}function db(){return db=o(regeneratorRuntime.mark((function t(e,r){var i,o,a,s,u,c,l,f,h,d,p,v,y,g,b,m,w,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=ng(e),t.next=3,$g(f,r);case 3:if((h=t.sent).isPersonalProfile()||h.contains(e,"solid:oidcIssuer")){t.next=6;break}throw new Error("".concat(e," is not a valid webId."));case 6:return t.next=8,lb(h,r);case 8:d=t.sent,p=d.store,v=d.writableProfileUrl,y=d.cloaked,g=p.statements(e,"pim:storage").map((function(t){return t.object.value})),b=p.statement(e,"solid:publicTypeIndex"),m=p.statement(e,"solid:privateTypeIndex"),w=eg(f);case 16:if(!w||0!==g.length){t.next=26;break}return t.next=19,Wy($g(w,r));case 19:if(null==(_=t.sent)||!_.isStorage()){t.next=23;break}return g.push(w),t.abrupt("break",26);case 23:w=eg(w),t.next=16;break;case 26:return t.abrupt("return",n({webId:e,cloaked:y,writableProfileUrl:v,storageUrls:Gy(g)},Cy({name:null!==(i=null===(o=p.statement(e,"vcard:fn"))||void 0===o?void 0:o.object.value)&&void 0!==i?i:null===(a=p.statement(e,"foaf:name"))||void 0===a?void 0:a.object.value,avatarUrl:null!==(s=null===(u=p.statement(e,"vcard:hasPhoto"))||void 0===u?void 0:u.object.value)&&void 0!==s?s:null===(c=p.statement(e,"foaf:img"))||void 0===c?void 0:c.object.value,oidcIssuerUrl:null===(l=p.statement(e,"solid:oidcIssuer"))||void 0===l?void 0:l.object.value,publicTypeIndexUrl:null==b?void 0:b.object.value,privateTypeIndexUrl:null==m?void 0:m.object.value})));case 27:case"end":return t.stop()}}),t)}))),db.apply(this,arguments)}function pb(){return(pb=o(regeneratorRuntime.mark((function t(e,r){var n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Wy((function(t){return hb(t,r)})),t.next=3,o(e);case 3:if(t.t2=i=t.sent,t.t1=null!==t.t2,!t.t1){t.next=7;break}t.t1=void 0!==i;case 7:if(!t.t1){t.next=11;break}t.t3=i,t.next=14;break;case 11:return t.next=13,o(e.replace(/\/$/,"").concat("/profile/card#me"));case 13:t.t3=t.sent;case 14:if(t.t4=n=t.t3,t.t0=null!==t.t4,!t.t0){t.next=18;break}t.t0=void 0!==n;case 18:if(!t.t0){t.next=22;break}t.t5=n,t.next=25;break;case 22:return t.next=24,o(tg(e).concat("/profile/card#me"));case 24:t.t5=t.sent;case 25:return t.abrupt("return",t.t5);case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vb(t){var e=function(t){return t.path&&t.path.startsWith("/")?t.path.match(/^\/[^/]*$/)?"/":"/".concat(hg(t.path.split("/")).filter().slice(0,-1).join("/"),"/").replace("//","/"):null}(t);return t.protocol&&t.domain?"".concat(t.protocol,"://").concat(t.domain).concat(null!=e?e:"/"):e}function yb(t){var e;if("@type"in t&&!("@value"in t)){t["@id"]=null!==(e=t["@id"])&&void 0!==e?e:Ky();for(var r=0,n=Object.values(t);r<n.length;r++){var i=n[r];ky(i)&&yb(i),jy(i)&&i.forEach((function(t){return ky(t)&&yb(t)}))}}}function gb(t,e,r){return bb.apply(this,arguments)}function bb(){return(bb=o(regeneratorRuntime.mark((function t(e,r,n){var i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null!==(i=n)&&void 0!==i?i:window.fetch.bind(n),o=e.storageUrls[0],a="".concat(o,"settings/").concat(r,"TypeIndex"),t.next=5,eb(a,n);case 5:if(!t.sent){t.next=9;break}t.t0="".concat(o,"settings/").concat(r,"TypeIndex-").concat(Ky()),t.next=10;break;case 9:t.t0=a;case 10:return t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function mb(t,e,r){return wb.apply(this,arguments)}function wb(){return(wb=o(regeneratorRuntime.mark((function t(e,r,n){var i,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.writableProfileUrl){t.next=2;break}throw new Error("Can't create type index without a writable profile document");case 2:return n=null!==(i=n)&&void 0!==i?i:window.fetch.bind(n),t.next=5,gb(e,r,n);case 5:return o=t.sent,a="public"===r?"<> a <http://www.w3.org/ns/solid/terms#TypeIndex> .":"\n            <> a\n                <http://www.w3.org/ns/solid/terms#TypeIndex>,\n                <http://www.w3.org/ns/solid/terms#UnlistedDocument> .\n        ",s="\n        INSERT DATA {\n            <".concat(e.webId,"> <http://www.w3.org/ns/solid/terms#").concat(r,"TypeIndex> <").concat(o,"> .\n        }\n    "),t.next=10,Promise.all([qg(o,a,n),ub(e.writableProfileUrl,s,n)]);case 10:return t.abrupt("return",o);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _b(t,e,r,n){return xb.apply(this,arguments)}function xb(){return(xb=o(regeneratorRuntime.mark((function t(e,r,n,i){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$g(e,i);case 2:return o=t.sent,a=Array.isArray(r)?r:[r],t.abrupt("return",a.map((function(t){return o.statements(void 0,"rdf:type","solid:TypeRegistration").filter((function(e){return o.contains(e.subject.value,"solid:forClass",t)})).map((function(t){return o.statements(t.subject.value,n)})).flat().map((function(t){return t.object.value})).filter((function(t){return!!t}))})).flat());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Eb(){return(Eb=o(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",mb(e,"public",r));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Sb(){return(Sb=o(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",mb(e,"private",r));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ob(){return(Ob=o(regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_b(e,r,"solid:instanceContainer",n));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ib(){return(Ib=o(regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_b(e,r,"solid:instance",n));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Rb={},jb={"%uuid%":"[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"},kb=function(t){l(r,t);var e=v(r);function r(t){var n;return a(this,r),c(d(n=e.call(this,"Couldn't find the following triple: ".concat(tb(t)))),"expectedQuad",void 0),n.expectedQuad=t,n}return r}(Sy);function Tb(t,e){var r,n=w(t);try{var i=function(){var t=r.value,n=e.find((function(e){return n=e,function(t,e){if(t.termType!==e.termType)return!1;if("Literal"===t.termType&&"Literal"===e.termType){if(t.datatype.value!==e.datatype.value)return!1;if(!Ab(t.value))return"http://www.w3.org/2001/XMLSchema#dateTime"===t.datatype.value?new Date(t.value).getTime()===new Date(e.value).getTime():t.value===e.value}return Cb(t.value,e.value)}((r=t).object,n.object)&&Cb(r.subject.value,n.subject.value)&&Cb(r.predicate.value,n.predicate.value);var r,n}));if(!n)throw new kb(t);Vy(e,n)};for(n.s();!(r=n.n()).done;)i()}catch(t){n.e(t)}finally{n.f()}}function Ab(t){return/\[\[(.*\]\[)?([^\]]+)\]\]/.test(t)}function Cb(t,e){var r,n;return Ab(t)?(null!==(n=(r=Rb)[t])&&void 0!==n?n:r[t]=function(t){var e,r=[],n=[],i=t,o=w(Yy(t,/\[\[((.*?)\]\[)?([^\]]+)\]\]/g));try{for(o.s();!(e=o.n()).done;){var a=e.value;a[2]&&r.push(a[2]),n.push(a[3]),i=i.replace(a[0],"%PATTERN".concat(n.length-1,"%"))}}catch(t){o.e(t)}finally{o.f()}i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");for(var s=0,u=Object.entries(n);s<u.length;s++){var c,l=y(u[s],2),f=l[0],h=l[1];i=i.replace("%PATTERN".concat(f,"%"),null!==(c=jb[h])&&void 0!==c?c:h)}return new RegExp(i)}(t)).test(e):t===e}function Pb(){Rb={}}function Db(t,e){return Nb.apply(this,arguments)}function Nb(){return(Nb=o(regeneratorRuntime.mark((function t(e,r){var n,i,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Pb(),t.next=3,Kg(e);case 3:return n=t.sent,t.next=6,Kg(r);case 6:if(i=t.sent,o=Zg(n),a=Zg(i),s=function(t,e){return{success:t,message:e,expected:o,actual:a}},n.length===i.length){t.next=12;break}return t.abrupt("return",s(!1,"Expected ".concat(n.length," triples, found ").concat(i.length,".")));case 12:t.prev=12,Tb(n,i),t.next=21;break;case 16:if(t.prev=16,t.t0=t.catch(12),t.t0 instanceof kb){t.next=20;break}throw t.t0;case 20:return t.abrupt("return",s(!1,t.t0.message));case 21:return t.abrupt("return",s(!0,"jsonld matches"));case 22:case"end":return t.stop()}}),t,null,[[12,16]])})))).apply(this,arguments)}function Lb(t,e){var r;Pb();for(var n=ib(t,{normalizeBlankNodes:!0}),i=ib(e,{normalizeBlankNodes:!0}),o=function(r,n){return{success:r,message:n,expected:t,actual:e}},a=0,s=Object.keys(n);a<s.length;a++){var u=s[a];if(!(u in i))return o(!1,"Couldn't find expected ".concat(u," operation."));var c=dg(n,u),l=dg(i,u);if(c.length!==l.length)return o(!1,"Expected ".concat(c.length," ").concat(u," triples, found ").concat(l.length,"."));try{Tb(c,l)}catch(t){if(!(t instanceof kb))throw t;return o(!1,"Couldn't find the following ".concat(u," triple: ").concat(tb(t.expectedQuad)))}}var f=null!==(r=Object.keys(i)[0])&&void 0!==r?r:null;return f?o(!1,"Did not expect to find ".concat(f," triples.")):o(!0,"sparql matches")}function Mb(t,e){Pb();var r=sb(t,{normalizeBlankNodes:!0}),n=sb(e,{normalizeBlankNodes:!0}),i=function(r,n){return{success:r,message:n,expected:t,actual:e}};if(r.length!==n.length)return i(!1,"Expected ".concat(r.length," triples, found ").concat(n.length,"."));try{Tb(r,n)}catch(t){if(!(t instanceof kb))throw t;return i(!1,t.message)}return i(!0,"turtle matches")}function Ub(t,e){return Fb.apply(this,arguments)}function Fb(){return(Fb=o(regeneratorRuntime.mark((function t(e,r){var n,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!==(n=r)&&void 0!==n?n:window.fetch.bind(window),t.next=3,r(e,{method:"HEAD"});case 3:if(s=t.sent,u=null!==(i=s.headers.get("Link"))&&void 0!==i?i:"",c=null!==(o=null===(a=u.match(/<([^>]+)>;\s*rel="acl"/))||void 0===a?void 0:a[1])&&void 0!==o?o:null){t.next=8;break}throw new Error("Could not find ACL Resource for '".concat(e,"'"));case 8:return t.abrupt("return",Zy(Xy(e),c));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Bb(t,e,r){return Vb.apply(this,arguments)}function Vb(){return(Vb=o(regeneratorRuntime.mark((function t(e,r,n){var i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(i=n)||void 0===i){t.next=4;break}t.t0=i,t.next=7;break;case 4:return t.next=6,Ub(e,r);case 6:t.t0=t.sent;case 7:return n=t.t0,t.next=10,zg(null!==(o=n)&&void 0!==o?o:"",r);case 10:if(a=t.sent){t.next=13;break}return t.abrupt("return",Bb(Xy(e),r));case 13:if(!a.isACPResource()){t.next=15;break}throw new mg(e,"ACP");case 15:return t.abrupt("return",a);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qb(){return(qb=o(regeneratorRuntime.mark((function t(e,r){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ub(e,r);case 2:return n=t.sent,t.next=5,Bb(e,r,n);case 5:return i=t.sent,t.abrupt("return",Cy({url:n,effectiveUrl:i.url,document:i}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Gb={turtle:function(t){var e=this._obj,r=this.assert.bind(this),n=Mb(t,e);r(n.success,n.message,"",n.expected,n.actual)},sparql:function(t){var e=this._obj,r=this.assert.bind(this),n=Lb(t,e);r(n.success,n.message,"",n.expected,n.actual)}};function $b(t,e){var r=t.success,n=e.context.utils;return{pass:r,message:r?function(){return[t.message,n.matcherHint(e.hint)].join("\n\n")}:function(){return[t.message,n.matcherHint(e.hint),["Expected: not ".concat(n.printExpected(e.expected)),"Received: ".concat(n.printReceived(e.received))].join("\n")].join("\n\n")}}}var Jb={toEqualJsonLD:function(t,e){var r=this;return o(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Db(e,t);case 2:return i=n.sent,n.abrupt("return",$b(i,{context:r,hint:"toEqualJsonLD",expected:e,received:t}));case 4:case"end":return n.stop()}}),n)})))()},toEqualSparql:function(t,e){return $b(Lb(e,t),{context:this,hint:"toEqualSparql",expected:Yg(e),received:Yg(t)})}};e.MalformedSolidDocumentError=pg,e.NetworkRequestError=vg,e.NotFoundError=yg,e.SolidDocument=Lg,e.SolidStore=Rg,e.SolidThing=Ig,e.UnauthorizedError=gg,e.UnsuccessfulNetworkRequestError=bg,e.UnsupportedAuthorizationProtocolError=mg,e.compactJsonLDGraph=function(t){return Mg.apply(this,arguments)},e.createPrivateTypeIndex=function(t,e){return Sb.apply(this,arguments)},e.createPublicTypeIndex=function(t,e){return Eb.apply(this,arguments)},e.createSolidDocument=qg,e.defineIRIPrefix=function(t,e){Sg[t]=e},e.expandIRI=Og,e.fetchLoginUserProfile=function(t,e){return pb.apply(this,arguments)},e.fetchSolidDocument=$g,e.fetchSolidDocumentACL=function(t,e){return qb.apply(this,arguments)},e.fetchSolidDocumentIfFound=zg,e.findContainerRegistrations=function(t,e,r){return Ob.apply(this,arguments)},e.findInstanceRegistrations=function(t,e,r){return Ib.apply(this,arguments)},e.installChaiPlugin=function(){chai.use((function(t){return Object.entries(Gb).forEach((function(e){var r=y(e,2),n=r[0],i=r[1];return t.Assertion.addMethod(n,i)}))}))},e.installJestPlugin=function(){expect.extend(Jb)},e.isJsonLDGraph=Ug,e.jsonldEquals=Db,e.jsonldToQuads=Kg,e.mintJsonLDIdentifiers=function(t){return fg(Ty(t),(function(t){return yb(t)}))},e.normalizeSparql=Yg,e.parseResourceSubject=function(t){var e=rg(t);return e?Cy({containerUrl:vb(e),documentName:e.path?e.path.split("/").pop():null,resourceHash:e.fragment}):{}},e.parseTurtle=Qg,e.quadToTurtle=tb,e.quadsToJsonLD=function(t){return Xg.apply(this,arguments)},e.quadsToTurtle=Zg,e.solidDocumentExists=eb,e.sparqlEquals=Lb,e.sparqlToQuads=function(t){return nb.apply(this,arguments)},e.sparqlToQuadsSync=ib,e.turtleEquals=Mb,e.turtleToQuads=ob,e.turtleToQuadsSync=sb,e.updateSolidDocument=ub,Object.defineProperty(e,"__esModule",{value:!0})}))}).call(this,r("c8ba"))},d784:function(t,e,r){"use strict";r("ac1f");var n=r("6eeb"),i=r("d039"),o=r("b622"),a=r("9263"),s=r("9112"),u=o("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=o("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,f){var p=o(t),v=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),y=v&&!i((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!v||!y||"replace"===t&&(!c||!l||h)||"split"===t&&!d){var g=/./[p],b=r(p,""[t],(function(t,e,r,n,i){return e.exec===a?v&&!i?{done:!0,value:g.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),m=b[0],w=b[1];n(String.prototype,t,m),n(RegExp.prototype,p,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}f&&s(RegExp.prototype[p],"sham",!0)}},d81d:function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").map,o=r("1dde"),a=r("ae40"),s=o("map"),u=a("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},da84:function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,r("c8ba"))},dae0:function(t,e,r){"use strict";r.r(e),r.d(e,"DataFactory",(function(){return m})),r.d(e,"Lexer",(function(){return I["a"]})),r.d(e,"Parser",(function(){return j})),r.d(e,"Writer",(function(){return U})),r.d(e,"Store",(function(){return G})),r.d(e,"StreamParser",(function(){return J})),r.d(e,"StreamWriter",(function(){return z})),r.d(e,"Util",(function(){return n}));var n={};r.r(n),r.d(n,"isNamedNode",(function(){return H})),r.d(n,"isBlankNode",(function(){return K})),r.d(n,"isLiteral",(function(){return W})),r.d(n,"isVariable",(function(){return Y})),r.d(n,"isDefaultGraph",(function(){return Q})),r.d(n,"inDefaultGraph",(function(){return X})),r.d(n,"prefix",(function(){return Z})),r.d(n,"prefixes",(function(){return tt}));var i=r("ff5e");const{rdf:o,xsd:a}=i["a"];var s,u,c=0;class l{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof l?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}toJSON(){return{termType:this.termType,value:this.value}}}class f extends l{get termType(){return"NamedNode"}}class h extends l{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){var t=this.id,e=t.lastIndexOf('"')+1;return e<t.length&&"@"===t[e++]?t.substr(e).toLowerCase():""}get datatype(){return new f(this.datatypeString)}get datatypeString(){var t,e=this.id,r=e.lastIndexOf('"')+1;return r<e.length&&"^"===(t=e[r])?e.substr(r+2):"@"!==t?a.string:o.langString}equals(t){return t instanceof h?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class d extends l{constructor(t){super("_:"+t)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class p extends l{constructor(t){super("?"+t)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class v extends l{constructor(){return super(""),u||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}}function y(t,e){if(e=e||s,!t)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":return e.variable(t.substr(1));case'"':if(e===s)return new h(t);if('"'===t[t.length-1])return e.literal(t.substr(1,t.length-2));var r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),"@"===t[r+1]?t.substr(r+2):e.namedNode(t.substr(r+3)));default:return e.namedNode(t)}}function g(t){if("string"===typeof t)return t;if(t instanceof l)return t.id;if(!t)return u.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:"+t.value;case"Variable":return"?"+t.value;case"DefaultGraph":return"";case"Literal":return'"'+t.value+'"'+(t.language?"@"+t.language:t.datatype&&t.datatype.value!==a.string?"^^"+t.datatype.value:"");default:throw new Error("Unexpected termType: "+t.termType)}}u=new v;class b{constructor(t,e,r,n){this.subject=t,this.predicate=e,this.object=r,this.graph=n||u}toJSON(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}equals(t){return!!t&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}s={namedNode:w,blankNode:_,variable:E,literal:x,defaultGraph:S,quad:O,triple:O,internal:{Term:l,NamedNode:f,BlankNode:d,Variable:p,Literal:h,DefaultGraph:v,Quad:b,Triple:b,fromId:y,toId:g}};var m=s;function w(t){return new f(t)}function _(t){return new d(t||"n3-"+c++)}function x(t,e){if("string"===typeof e)return new h('"'+t+'"@'+e.toLowerCase());let r=e?e.value:"";return""===r&&("boolean"===typeof t?r=a.boolean:"number"===typeof t&&(Number.isFinite(t)?r=Number.isInteger(t)?a.integer:a.double:(r=a.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),""===r||r===a.string?new h('"'+t+'"'):new h('"'+t+'"^^'+r)}function E(t){return new p(t)}function S(){return u}function O(t,e,r,n){return new b(t,e,r,n)}var I=r("f3bd");let R=0;class j{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&T(this,t.factory);var e="string"===typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",r="turtle"===e,n="trig"===e,i=/triple/.test(e),o=/quad/.test(e),a=this._n3Mode=/n3/.test(e),s=i||o;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||i||a),s&&(this._resolveRelativeIRI=function(t){return null}),this._blankNodePrefix="string"!==typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new I["a"]({lineMode:s,n3:a}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){R=0}_setBase(t){if(t){var e=t.indexOf("#");e>=0&&(t=t.substr(0,e)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}else this._base="",this._basePath=""}_saveContext(t,e,r,n,i){var o=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:e,type:t,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){var t=this._contextStack.pop(),e=this._n3Mode;this._subject=t.subject,this._predicate=t.predicate,this._object=t.object,this._graph=t.graph,e&&(this._inversePredicate=t.inverse,this._prefixes._=t.blankPrefix,this._quantified=t.quantified)}_readInTopContext(t){switch(t.type){case"eof":return null!==this._graph?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,e){var r;switch(t.type){case"IRI":case"typeIRI":var n=this._resolveIRI(t.value);if(null===n)return this._error("Invalid IRI",t);r=this._namedNode(n);break;case"type":case"prefixed":var i=this._prefixes[t.prefix];if(void 0===i)return this._error('Undefined prefix "'+t.prefix+':"',t);r=this._namedNode(i+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error("Expected entity but got "+t.type,t)}return!e&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(0===t.prefix.length)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;default:if(void 0===(this._subject=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){var e=t.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+e,t):(this._subject=null,"]"===e?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",t);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if(void 0===(this._predicate=this._readEntity(t)))return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(0===t.prefix.length)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(this._object=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return"{"===t.type?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return"{"!==t.type?this._error("Expected graph but got "+t.type,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return"]"===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if("]"!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var e=null===this._predicate;return this._restoreContext(),null===this._object?e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){var e=null,r=null,n=this._subject,i=this._contextStack,o=i[i.length-1],a=this._readListItem;switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=e=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;r=this.RDF_NIL;break;case"literal":0===t.prefix.length?(this._literalValue=t.value,a=this._readListItemDataTypeOrLang):(e=this._literal(t.value,this._namedNode(t.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(e=this._readEntity(t)))return}if(null===r&&(this._subject=r=this._blankNode()),null===n?null===o.predicate?o.subject=r:o.object=r:this._emit(n,this.RDF_REST,r,this._graph),null!==e){if(this._n3Mode&&("IRI"===t.type||"prefixed"===t.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,e,this._graph)}return a}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let e=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":var r=this._readEntity(t);if(void 0===r)return;e=this._literal(this._literalValue,r),t=null;break;case"langcode":e=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:e}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,e){const r=this._completeLiteral(t);if(r)return this._object=r.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return"}"!==t.type?this._readPunctuation(t):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){var e,r=this._subject,n=this._graph,i=this._inversePredicate;switch(t.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(t))){e=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',t)}if(null!==r){var o=this._predicate,a=this._object;i?this._emit(a,o,r,n):this._emit(r,o,a,n)}return e}_readBlankNodePunctuation(t){var e;switch(t.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',t)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(t){return"."!==t.type?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return"prefix"!==t.type?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if("IRI"!==t.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',t);var e=this._readEntity(t);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(t){var e="IRI"===t.type&&this._resolveIRI(t.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return"]"!==t.type?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):"."!==t.type?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){var e;switch(t.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(t,!0)))break;default:return this._error("Unexpected "+t.type,t)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return","===t.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var e=this._contextStack,r=e.length&&e[e.length-1];if(r&&"item"===r.type){var n=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(t)}}_readForwardPath(t){var e,r,n=this._blankNode();if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(e=this._subject,this._subject=n):(e=this._object,this._object=n),this._emit(e,r,n,this._graph),this._readPath}_readBackwardPath(t){var e,r,n=this._blankNode();if(void 0!==(e=this._readEntity(t)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._emit(n,e,r,this._graph),this._readPath}_getContextEndReader(){var t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}}_emit(t,e,r,n){this._callback(null,this._quad(t,e,r,n||this.DEFAULTGRAPH))}_error(t,e){var r=new Error(t+" on line "+e.line+".");r.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=k}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;var e="",r=t.length,n=-1,i=-1,o=0,a="/";while(n<r){switch(a){case":":if(i<0&&"/"===t[++n]&&"/"===t[++n])while((i=n+1)<r&&"/"!==t[i])n=i;break;case"?":case"#":n=r;break;case"/":if("."===t[n+1])switch(a=t[1+ ++n],a){case"/":e+=t.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return e+t.substring(o,n)+t.substr(n+1);case".":if(a=t[1+ ++n],void 0===a||"/"===a||"?"===a||"#"===a){if(e+=t.substring(o,n-2),(o=e.lastIndexOf("/"))>=i&&(e=e.substr(0,o)),"/"!==a)return e+"/"+t.substr(n+1);o=n+1}}}a=t[++n]}return e+t.substring(o)}parse(t,e,r){var n=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+R+++"_",this._prefixCallback=r||k,this._inversePredicate=!1,this._quantified=Object.create(null),!e){var i,o=[];if(this._callback=function(t,e){t?i=t:e&&o.push(e)},this._lexer.tokenize(t).every((function(t){return n._readCallback=n._readCallback(t)})),i)throw i;return o}this._callback=e,this._lexer.tokenize(t,(function(t,e){null!==t?(n._callback(t),n._callback=k):n._readCallback&&(n._readCallback=n._readCallback(e))}))}}function k(){}function T(t,e){var r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(i["a"].rdf.first),t.RDF_REST=r(i["a"].rdf.rest),t.RDF_NIL=r(i["a"].rdf.nil),t.N3_FORALL=r(i["a"].r.forAll),t.N3_FORSOME=r(i["a"].r.forSome),t.ABBREVIATIONS={a:r(i["a"].rdf.type),"=":r(i["a"].owl.sameAs),">":r(i["a"].log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}T(j.prototype,m);const A=m.defaultGraph(),{rdf:C,xsd:P}=i["a"];var D=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,N=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,L={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class M extends m.internal.Term{equals(){return!1}}class U{constructor(t,e){if(this._prefixRegex=/$0^/,t&&"function"!==typeof t.write&&(e=t,t=null),e=e||{},this._lists=e.lists,t)this._outputStream=t,this._endStream=void 0===e.end||!!e.end;else{var r="";this._outputStream={write(t,e,n){r+=t,n&&n()},end:function(t){t&&t(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(e.format)?this._writeQuad=this._writeQuadLine:(this._graph=A,this._prefixIRIs=Object.create(null),e.prefixes&&this.addPrefixes(e.prefixes))}get _inDefaultGraph(){return A.equals(this._graph)}_write(t,e){this._outputStream.write(t,"utf8",e)}_writeQuad(t,e,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(A.equals(n)?"":this._encodeIriOrBlank(n)+" {\n")),this._graph=n,this._subject=null),t.equals(this._subject)?e.equals(this._predicate)?this._write(", "+this._encodeObject(r),i):this._write(";\n    "+this._encodePredicate(this._predicate=e)+" "+this._encodeObject(r),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=t)+" "+this._encodePredicate(this._predicate=e)+" "+this._encodeObject(r),i)}catch(o){i&&i(o)}}_writeQuadLine(t,e,r,n,i){delete this._prefixMatch,this._write(this.quadToString(t,e,r,n),i)}quadToString(t,e,r,n){return this._encodeIriOrBlank(t)+" "+this._encodeIriOrBlank(e)+" "+this._encodeObject(r)+(n&&n.value?" "+this._encodeIriOrBlank(n)+" .\n":" .\n")}quadsToString(t){return t.map((function(t){return this.quadToString(t.subject,t.predicate,t.object,t.graph)}),this).join("")}_encodeIriOrBlank(t){if("NamedNode"!==t.termType)return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:"_:"+t.value;var e=t.value;D.test(e)&&(e=e.replace(N,F));var r=this._prefixRegex.exec(e);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:e:"<"+e+">"}_encodeLiteral(t){var e=t.value;return D.test(e)&&(e=e.replace(N,F)),t.language?'"'+e+'"@'+t.language:t.datatype.value!==P.string?'"'+e+'"^^'+this._encodeIriOrBlank(t.datatype):'"'+e+'"'}_encodePredicate(t){return t.value===C.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){return"Literal"===t.termType?this._encodeLiteral(t):this._encodeIriOrBlank(t)}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,e,r,n,i){void 0===r?this._writeQuad(t.subject,t.predicate,t.object,t.graph,e):"function"===typeof n?this._writeQuad(t,e,r,A,n):this._writeQuad(t,e,r,n||A,i)}addQuads(t){for(var e=0;e<t.length;e++)this.addQuad(t[e])}addPrefix(t,e,r){var n={};n[t]=e,this.addPrefixes(n,r)}addPrefixes(t,e){var r=this._prefixIRIs,n=!1;for(var i in t){var o=t[i];"string"!==typeof o&&(o=o.value),n=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),r[o]=i+=":",this._write("@prefix "+i+" <"+o+">.\n")}if(n){var a="",s="";for(var u in r)a+=a?"|"+u:u,s+=(s?"|":"")+r[u];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+s+")[^/]*$|^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",e)}blank(t,e){var r,n,i=t;switch(void 0===t?i=[]:t.termType?i=[{predicate:t,object:e}]:"length"in t||(i=[t]),n=i.length){case 0:return new M("[]");case 1:if(r=i[0],!(r.object instanceof M))return new M("[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]");default:for(var o="[",a=0;a<n;a++)r=i[a],r.predicate.equals(t)?o+=", "+this._encodeObject(r.object):(o+=(a?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),t=r.predicate);return new M(o+"\n]")}}list(t){for(var e=t&&t.length||0,r=new Array(e),n=0;n<e;n++)r[n]=this._encodeObject(t[n]);return new M("("+r.join(" ")+")")}end(t){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var e=t&&function(r,n){e=null,t(r,n)};if(this._endStream)try{return this._outputStream.end(e)}catch(r){}e&&e()}}function F(t){var e=L[t];return void 0===e&&(1===t.length?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}var B=r("d485");const{toId:V,fromId:q}=m.internal;class G{constructor(t,e){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,e||!t||t[0]||(e=t,t=null),e=e||{},this._factory=e.factory||m,t&&this.addQuads(t)}get size(){var t=this._size;if(null!==t)return t;t=0;var e,r,n=this._graphs;for(var i in n)for(var o in e=n[i].subjects)for(var a in r=e[o])t+=Object.keys(r[a]).length;return this._size=t}_addToIndex(t,e,r,n){var i=t[e]||(t[e]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}_removeFromIndex(t,e,r,n){var i,o=t[e],a=o[r];for(i in delete a[n],a)return;for(i in delete o[r],o)return;delete t[e]}_findInIndex(t,e,r,n,i,o,a,s,u,c){var l,f,h,d=!e+!r+!n,p=d>1?Object.keys(this._ids):this._entities;for(var v in e&&((l=t,t={})[e]=l[e]),t){var y=p[v];if(f=t[v])for(var g in r&&((l=f,f={})[r]=l[r]),f){var b=p[g];if(h=f[g])for(var m=(n?n in h?[n]:[]:Object.keys(h)),w=0;w<m.length;w++){var _={subject:null,predicate:null,object:null};_[i]=q(y,this._factory),_[o]=q(b,this._factory),_[a]=q(p[m[w]],this._factory);var x=this._factory.quad(_.subject,_.predicate,_.object,q(s,this._factory));if(c)c.push(x);else if(u(x))return!0}}}return c}_loop(t,e){for(var r in t)e(r)}_loopByKey0(t,e,r){var n,i;if(n=t[e])for(i in n)r(i)}_loopByKey1(t,e,r){var n,i;for(n in t)i=t[n],i[e]&&r(n)}_loopBy2Keys(t,e,r,n){var i,o,a;if((i=t[e])&&(o=i[r]))for(a in o)n(a)}_countInIndex(t,e,r,n){var i,o,a,s=0;for(var u in e&&((i=t,t={})[e]=i[e]),t)if(o=t[u])for(var c in r&&((i=o,o={})[r]=i[r]),o)(a=o[c])&&(n?n in a&&s++:s+=Object.keys(a).length);return s}_getGraphs(t){if(!$(t))return this._graphs;var e={};return e[t]=this._graphs[t],e}_uniqueEntities(t){var e=Object.create(null),r=this._entities;return function(n){n in e||(e[n]=!0,t(q(r[n])))}}addQuad(t,e,r,n){e||(n=t.graph,r=t.object,e=t.predicate,t=t.subject),t=V(t),e=V(e),r=V(r),n=V(n);var i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._ids,a=this._entities;t=o[t]||(o[a[++this._id]=t]=this._id),e=o[e]||(o[a[++this._id]=e]=this._id),r=o[r]||(o[a[++this._id]=r]=this._id);var s=this._addToIndex(i.subjects,t,e,r);return this._addToIndex(i.predicates,e,r,t),this._addToIndex(i.objects,r,t,e),this._size=null,s}addQuads(t){for(var e=0;e<t.length;e++)this.addQuad(t[e])}import(t){var e=this;return t.on("data",(function(t){e.addQuad(t)})),t}removeQuad(t,e,r,n){e||(n=t.graph,r=t.object,e=t.predicate,t=t.subject),t=V(t),e=V(e),r=V(r),n=V(n);var i,o,a,s=this._ids,u=this._graphs;if(!(t=s[t])||!(e=s[e])||!(r=s[r])||!(i=u[n])||!(o=i.subjects[t])||!(a=o[e])||!(r in a))return!1;for(t in this._removeFromIndex(i.subjects,t,e,r),this._removeFromIndex(i.predicates,e,r,t),this._removeFromIndex(i.objects,r,t,e),null!==this._size&&this._size--,i.subjects)return!0;return delete u[n],!0}removeQuads(t){for(var e=0;e<t.length;e++)this.removeQuad(t[e])}remove(t){var e=this;return t.on("data",(function(t){e.removeQuad(t)})),t}removeMatches(t,e,r,n){return this.remove(this.match(t,e,r,n))}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,e,r,n){t=t&&V(t),e=e&&V(e),r=r&&V(r),n=n&&V(n);var i,o,a,s,u=[],c=this._getGraphs(n),l=this._ids;if($(t)&&!(o=l[t])||$(e)&&!(a=l[e])||$(r)&&!(s=l[r]))return u;for(var f in c)(i=c[f])&&(o?s?this._findInIndex(i.objects,s,o,a,"object","subject","predicate",f,null,u):this._findInIndex(i.subjects,o,a,null,"subject","predicate","object",f,null,u):a?this._findInIndex(i.predicates,a,s,null,"predicate","object","subject",f,null,u):s?this._findInIndex(i.objects,s,null,null,"object","subject","predicate",f,null,u):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",f,null,u));return u}match(t,e,r,n){var i=new B["Readable"]({objectMode:!0});return i._read=()=>{for(var o of this.getQuads(t,e,r,n))i.push(o);i.push(null)},i}countQuads(t,e,r,n){t=t&&V(t),e=e&&V(e),r=r&&V(r),n=n&&V(n);var i,o,a,s,u=0,c=this._getGraphs(n),l=this._ids;if($(t)&&!(o=l[t])||$(e)&&!(a=l[e])||$(r)&&!(s=l[r]))return 0;for(var f in c)(i=c[f])&&(u+=t?r?this._countInIndex(i.objects,s,o,a):this._countInIndex(i.subjects,o,a,s):e?this._countInIndex(i.predicates,a,s,o):this._countInIndex(i.objects,s,o,a));return u}forEach(t,e,r,n,i){this.some((function(e){return t(e),!1}),e,r,n,i)}every(t,e,r,n,i){var o=!1,a=!this.some((function(e){return o=!0,!t(e)}),e,r,n,i);return o&&a}some(t,e,r,n,i){e=e&&V(e),r=r&&V(r),n=n&&V(n),i=i&&V(i);var o,a,s,u,c=this._getGraphs(i),l=this._ids;if($(e)&&!(a=l[e])||$(r)&&!(s=l[r])||$(n)&&!(u=l[n]))return!1;for(var f in c)if(o=c[f])if(a){if(u){if(this._findInIndex(o.objects,u,a,s,"object","subject","predicate",f,t,null))return!0}else if(this._findInIndex(o.subjects,a,s,null,"subject","predicate","object",f,t,null))return!0}else if(s){if(this._findInIndex(o.predicates,s,u,null,"predicate","object","subject",f,t,null))return!0}else if(u){if(this._findInIndex(o.objects,u,null,null,"object","subject","predicate",f,t,null))return!0}else if(this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",f,t,null))return!0;return!1}getSubjects(t,e,r){var n=[];return this.forSubjects((function(t){n.push(t)}),t,e,r),n}forSubjects(t,e,r,n){e=e&&V(e),r=r&&V(r),n=n&&V(n);var i,o,a,s=this._ids,u=this._getGraphs(n);if(t=this._uniqueEntities(t),!($(e)&&!(o=s[e])||$(r)&&!(a=s[r])))for(n in u)(i=u[n])&&(o?a?this._loopBy2Keys(i.predicates,o,a,t):this._loopByKey1(i.subjects,o,t):a?this._loopByKey0(i.objects,a,t):this._loop(i.subjects,t))}getPredicates(t,e,r){var n=[];return this.forPredicates((function(t){n.push(t)}),t,e,r),n}forPredicates(t,e,r,n){e=e&&V(e),r=r&&V(r),n=n&&V(n);var i,o,a,s=this._ids,u=this._getGraphs(n);if(t=this._uniqueEntities(t),!($(e)&&!(o=s[e])||$(r)&&!(a=s[r])))for(n in u)(i=u[n])&&(o?a?this._loopBy2Keys(i.objects,a,o,t):this._loopByKey0(i.subjects,o,t):a?this._loopByKey1(i.predicates,a,t):this._loop(i.predicates,t))}getObjects(t,e,r){var n=[];return this.forObjects((function(t){n.push(t)}),t,e,r),n}forObjects(t,e,r,n){e=e&&V(e),r=r&&V(r),n=n&&V(n);var i,o,a,s=this._ids,u=this._getGraphs(n);if(t=this._uniqueEntities(t),!($(e)&&!(o=s[e])||$(r)&&!(a=s[r])))for(n in u)(i=u[n])&&(o?a?this._loopBy2Keys(i.subjects,o,a,t):this._loopByKey1(i.objects,o,t):a?this._loopByKey0(i.predicates,a,t):this._loop(i.objects,t))}getGraphs(t,e,r){var n=[];return this.forGraphs((function(t){n.push(t)}),t,e,r),n}forGraphs(t,e,r,n){for(var i in this._graphs)this.some((function(e){return t(e.graph),!0}),e,r,n,i)}createBlankNode(t){var e,r;if(t){e=t="_:"+t,r=1;while(this._ids[e])e=t+r++}else do{e="_:b"+this._blankNodeIndex++}while(this._ids[e]);return this._ids[e]=++this._id,this._entities[this._id]=e,this._factory.blankNode(e.substr(2))}extractLists({remove:t=!1,ignoreErrors:e=!1}={}){var r={},n=e?()=>!0:(t,e)=>{throw new Error(`${t.value} ${e}`)},o=this.getQuads(null,i["a"].rdf.rest,i["a"].rdf.nil,null),a=t?[...o]:[];return o.forEach(e=>{var o,s,u=[],c=!1,l=e.graph,f=e.subject;while(f&&!c){var h,d,p=this.getQuads(null,null,f,null),v=this.getQuads(f,null,null,null),y=null,g=null,b=null;for(h=0;h<v.length&&!c;h++)d=v[h],d.graph.equals(l)?o?c=n(f,"has non-list arcs out"):d.predicate.value===i["a"].rdf.first?y?c=n(f,"has multiple rdf:first arcs"):a.push(y=d):d.predicate.value===i["a"].rdf.rest?g?c=n(f,"has multiple rdf:rest arcs"):a.push(g=d):p.length?c=n(f,"can't be subject and object"):(o=d,s="subject"):c=n(f,"not confined to single graph");for(h=0;h<p.length&&!c;++h)d=p[h],o?c=n(f,"can't have coreferences"):d.predicate.value===i["a"].rdf.rest?b?c=n(f,"has incoming rdf:rest arcs"):b=d:(o=d,s="object");y?u.unshift(y.object):c=n(f,"has no list head"),f=b&&b.subject}c?t=!1:o&&(r[o[s].value]=u)}),t&&this.removeQuads(a),r}}function $(t){return"string"===typeof t||t instanceof String}class J extends B["Transform"]{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;var e,r,n=this,i=new j(t);i.parse({on:function(t,n){switch(t){case"data":e=n;break;case"end":r=n;break}}},(function(t,e){t&&n.emit("error",t)||e&&n.push(e)}),(function(t,e){n.emit("prefix",t,e)})),this._transform=function(t,r,n){e(t),n()},this._flush=function(t){r(),t()}}import(t){var e=this;return t.on("data",(function(t){e.write(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.emit("error",t)})),this}}class z extends B["Transform"]{constructor(t){super({encoding:"utf8"}),this._writableState.objectMode=!0;var e=this,r=this._writer=new U({write:function(t,r,n){e.push(t),n&&n()},end:function(t){e.push(null),t&&t()}},t);this._transform=function(t,e,n){r.addQuad(t,n)},this._flush=function(t){r.end(t)}}import(t){var e=this;return t.on("data",(function(t){e.write(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.emit("error",t)})),t.on("prefix",(function(t,r){e._writer.addPrefix(t,r)})),this}}function H(t){return!!t&&"NamedNode"===t.termType}function K(t){return!!t&&"BlankNode"===t.termType}function W(t){return!!t&&"Literal"===t.termType}function Y(t){return!!t&&"Variable"===t.termType}function Q(t){return!!t&&"DefaultGraph"===t.termType}function X(t){return Q(t.graph)}function Z(t,e){return tt({"":t},e)("")}function tt(t,e){var r=Object.create(null);for(var n in t)i(n,t[n]);function i(t,n){if("string"===typeof n){var i=Object.create(null);r[t]=function(t){return i[t]||(i[t]=e.namedNode(n+t))}}else if(!(t in r))throw new Error("Unknown prefix: "+t);return r[t]}return e=e||m,i}},dbb4:function(t,e,r){var n=r("23e7"),i=r("83ab"),o=r("56ef"),a=r("fc6a"),s=r("06cf"),u=r("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,r,n=a(t),i=s.f,c=o(n),l={},f=0;while(c.length>f)r=i(n,e=c[f++]),void 0!==r&&u(l,e,r);return l}})},dc14:function(t,e,r){"use strict";(function(e,n){var i=r("966d");function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){L(e,t)}}t.exports=m;var a,s=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:i.nextTick;m.WritableState=b;var u=Object.create(r("3a7c"));u.inherits=r("3fb5");var c={deprecate:r("b7d1")},l=r("429b"),f=r("8707").Buffer,h=n.Uint8Array||function(){};function d(t){return f.from(t)}function p(t){return f.isBuffer(t)||t instanceof h}var v,y=r("4681");function g(){}function b(t,e){a=a||r("b19a"),t=t||{};var n=e instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,s=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){R(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function m(t){if(a=a||r("b19a"),!v.call(m,this)&&!(this instanceof a))return new m(t);this._writableState=new b(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),l.call(this)}function w(t,e){var r=new Error("write after end");t.emit("error",r),i.nextTick(e,r)}function _(t,e,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"===typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(n,a),o=!1),o}function x(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=f.from(e,r)),e}function E(t,e,r,n,i,o){if(!r){var a=x(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,s,n,i,o);return u}function S(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function O(t,e,r,n,o){--e.pendingcb,r?(i.nextTick(o,n),i.nextTick(D,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(o(n),t._writableState.errorEmitted=!0,t.emit("error",n),D(t,e))}function I(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function R(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(I(r),e)O(t,r,n,e,i);else{var o=A(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||T(t,r),n?s(j,t,r,o,i):j(t,r,o,i)}}function j(t,e,r,n){r||k(t,e),e.pendingcb--,n(),D(t,e)}function k(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function T(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;var s=0,u=!0;while(r)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,S(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{while(r){var c=r.chunk,l=r.encoding,f=r.callback,h=e.objectMode?1:c.length;if(S(t,e,!1,h,c,l,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),D(t,e)}))}function P(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(C,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function D(t,e){var r=A(e);return r&&(P(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}function N(t,e,r){e.ending=!0,D(t,e),r&&(e.finished?i.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function L(t,e,r){var n=t.entry;t.entry=null;while(n){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}u.inherits(m,l),b.prototype.getBuffer=function(){var t=this.bufferedRequest,e=[];while(t)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(b.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!v.call(this,t)||this===m&&(t&&t._writableState instanceof b)}})):v=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&p(t);return o&&!f.isBuffer(t)&&(t=d(t)),"function"===typeof e&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),"function"!==typeof r&&(r=g),n.ended?w(this,r):(o||_(this,n,t,r))&&(n.pendingcb++,i=E(this,n,o,t,e,r)),i},m.prototype.cork=function(){var t=this._writableState;t.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||T(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,r){var n=this._writableState;"function"===typeof t?(r=t,t=null,e=null):"function"===typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||N(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=y.destroy,m.prototype._undestroy=y.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r("4362"),r("c8ba"))},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},ddb0:function(t,e,r){var n=r("da84"),i=r("fdbc"),o=r("e260"),a=r("9112"),s=r("b622"),u=s("iterator"),c=s("toStringTag"),l=o.values;for(var f in i){var h=n[f],d=h&&h.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(v){d[u]=l}if(d[c]||a(d,c,f),i[f])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(v){d[p]=o[p]}}}},ddbf:function(t,e,r){!function(e,r){t.exports=r()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t){function e(e){var r=this.constructor,n=t.call(this,e)||this;return n.name=r.name,Object.setPrototypeOf(n,r.prototype),n}return i(e,t),e}(Error),a=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},s=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=new(function(){function t(){this._bootedModels={}}return t.prototype.useEngine=function(t){this._engine=t},t.prototype.model=function(t){return this._bootedModels[t]},t.prototype.loadModel=function(t,e){t in e||(e.boot(t),this._bootedModels[t]=e)},t.prototype.loadModels=function(t){for(var e in t)t.hasOwnProperty(e)&&this.loadModel(e,t[e])},t.prototype.requireEngine=function(){if(!this._engine)throw new o("Engine must be initialized before performing any operations. Learn more at https://soukai.js.org/guide/engines.html");return this._engine},t.prototype.closeConnections=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this._engine&&"closeConnections"in this._engine?[4,this._engine.closeConnections()]:[2];case 1:return t.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}()),c=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(t){function e(e,r){var n=t.call(this,"Model "+e+": "+r+". Learn more at https://soukai.js.org/guide/defining-models.html")||this;return n.modelName=e,n}return c(e,t),e}(o),f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function h(t){for(var e in t=f({},t))t.hasOwnProperty(e)&&null!==t[e]&&"object"==typeof t[e]&&t[e].constructor===Object&&(t[e]=h(t[e]));return t}function d(t,e){if(t===e)return!0;var r=typeof t;if(r!==typeof e)return!1;if("object"!==r||null===t||null===e)return!1;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!d(t[n],e[n]))return!1;return!0}function p(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}var v={deepClone:h,deepEquals:d,isObject:p},y=new(function(){function t(){}return t.prototype.contains=function(t,e){return-1!==t.indexOf(e)},t.prototype.flatten=function(t){return"flat"in t?t.flat():[].concat.apply([],t)},t.prototype.unique=function(t){var e=new Set(t),r=[];return e.forEach((function(t){return r.push(t)})),r},t.prototype.withoutIndexes=function(t,e){var r=this;return t.map((function(t,e){return[t,e]})).filter((function(t){t[0];var n=t[1];return!r.contains(e,n)})).map((function(t){return t[0]}))},t}());function g(t){return t.split(/_|\s/).map((function(t){return t.length>0?t.substr(0,1).toUpperCase()+t.substr(1):t})).join("")}function b(t){return t.split(/_|\s|(?=[A-Z])/).map((function(t,e){return 0===t.length?t:0===e?t.toLowerCase():t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()})).join("")}var m,w=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},_=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},x=function(){function t(t,e,r,n){this.related=null,this.deleteStrategy=null,this.parent=t,this.relatedClass=e,this.foreignKeyName=r,this.localKeyName=n||e.primaryKey}return Object.defineProperty(t.prototype,"loaded",{get:function(){return null!==this.related},enumerable:!0,configurable:!0}),t.prototype.getModels=function(){return w(this,void 0,void 0,(function(){return _(this,(function(t){switch(t.label){case 0:return this.loaded?[3,2]:[4,this.resolve()];case 1:t.sent(),t.label=2;case 2:return[2,this.getLoadedModels()]}}))}))},t.prototype.getLoadedModels=function(){return Array.isArray(this.related)?this.related:this.related?[this.related]:[]},t.prototype.unload=function(){this.related=null},t.prototype.onDelete=function(t){return this.deleteStrategy=t,this},t}(),E=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),S=function(t){function e(e,r,n,i){return t.call(this,e,r,n||b(r.name+"_"+r.primaryKey+"s"),i)||this}return E(e,t),e}(x),O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),I=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},R=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O(e,t),e.prototype.resolve=function(){return I(this,void 0,void 0,(function(){var t,e,r,n;return R(this,(function(i){switch(i.label){case 0:return t=this.parent.getAttribute(this.foreignKeyName),e=this,this.localKeyName!==this.relatedClass.primaryKey?[3,2]:[4,this.relatedClass.all({$in:t})];case 1:return r=i.sent(),[3,4];case 2:return[4,this.relatedClass.all((n={},n[this.localKeyName]={$or:t.map((function(t){return{$eq:t}})).concat(t.map((function(t){return{$contains:t}})))},n))];case 3:r=i.sent(),i.label=4;case 4:return e.related=r,[2,this.related]}}))}))},e}(S),k=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(t){function e(e,r,n,i){return t.call(this,e,r,n||b(r.name+"_"+r.primaryKey),i)||this}return k(e,t),e}(x),A=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},P=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A(e,t),e.prototype.resolve=function(){return C(this,void 0,void 0,(function(){var t,e,r,n;return P(this,(function(i){switch(i.label){case 0:return t=this.parent.getAttribute(this.foreignKeyName),e=this,this.localKeyName!==this.relatedClass.primaryKey?[3,2]:[4,this.relatedClass.find(t)];case 1:return r=i.sent(),[3,4];case 2:return[4,this.relatedClass.first((n={},n[this.localKeyName]=t,n))];case 3:r=i.sent(),i.label=4;case 4:return e.related=r,[2,this.related]}}))}))},e}(T),N=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),L=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},M=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.prototype.resolve=function(){return L(this,void 0,void 0,(function(){var t,e,r;return M(this,(function(n){switch(n.label){case 0:return t=this.parent.getAttribute(this.localKeyName),e=this,[4,this.relatedClass.all((r={},r[this.foreignKeyName]={$or:[{$eq:t},{$contains:t}]},r))];case 1:return e.related=n.sent(),[2,this.related]}}))}))},e}(S),F=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),B=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},V=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.resolve=function(){return B(this,void 0,void 0,(function(){var t,e,r;return V(this,(function(n){switch(n.label){case 0:return t=this.parent.getAttribute(this.localKeyName),e=this,[4,this.relatedClass.first((r={},r[this.foreignKeyName]={$or:[{$eq:t},{$contains:t}]},r))];case 1:return e.related=n.sent(),[2,this.related]}}))}))},e}(T),G=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},$=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},J=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};!function(t){t.Number="number",t.String="string",t.Boolean="boolean",t.Array="array",t.Object="object",t.Date="date",t.Key="key"}(m||(m={}));var z=Object.values(m),H=["createdAt","updatedAt"],K=function(){function t(t,e){if(void 0===t&&(t={}),void 0===e&&(e=!1),!("__pureInstance"in t))return this.modelClass.ensureBooted(),this.initialize(t,e),this._proxy}return Object.defineProperty(t,"instance",{get:function(){return new this},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureInstance",{get:function(){return new this({__pureInstance:!0})},enumerable:!0,configurable:!0}),t.boot=function(e){var r=this,n={};if(void 0===r.collection)r.collection=e.toLowerCase()+"s";else if("string"!=typeof r.collection)throw new l(e,"Collection name not defined or invalid format");if("boolean"==typeof r.timestamps||void 0===r.timestamps)if(void 0===r.timestamps||r.timestamps){for(var i=0,o=H;i<o.length;i++)n[u=o[i]]={type:m.Date,required:!1};r.timestamps=H}else r.timestamps=[];else{if(!Array.isArray(r.timestamps))throw new l(e,"Invalid timestamps definition");for(var a=0,s=r.timestamps;a<s.length;a++){var u=s[a];if(-1===H.indexOf(u))throw new l(e,"Invalid timestamp field defined ("+u+")");n[u]={type:m.Date,required:!1}}}if(void 0!==r.fields)for(var u in r.fields)if(r.fields.hasOwnProperty(u)&&(n[u]=W(e,u,r.fields[u]),-1!==r.timestamps.indexOf(u)&&(n[u].type!==m.Date||n[u].required)))throw new l(e,"Field "+u+" definition must be type date and not required because it is used an automatic timestamp. Learn more at https://soukai.js.org/guide/defining-models.html#automatic-timestamps");r.primaryKey in n||(n[r.primaryKey]={type:m.Key,required:!1});for(var c=Object.getOwnPropertyNames(r.pureInstance),f=[],h=Object.getPrototypeOf(r.pureInstance);h!==t.prototype;){c.push.apply(c,h.constructor.classFields);for(var d=0,p=Object.getOwnPropertyNames(h);d<p.length;d++){var v=p[d];v.endsWith("Relationship")&&"function"==typeof r.pureInstance[v]&&f.push(v.substring(0,v.length-12))}h=Object.getPrototypeOf(h)}r.classFields=y.unique(c),r.relations=y.unique(f),r.fields=n,r.modelName=e},t.create=function(t){return void 0===t&&(t={}),new this(t).save()},t.createFromEngineDocument=function(t,e){return this.instance.createFromEngineDocument(t,e)},t.createManyFromEngineDocuments=function(t){return this.instance.createManyFromEngineDocuments(t)},t.find=function(t){var e=this;return this.ensureBooted(),u.requireEngine().readOne(this.collection,this.instance.serializeKey(t)).then((function(r){return e.createFromEngineDocument(t,r)})).catch((function(){return null}))},t.all=function(t){return $(this,void 0,void 0,(function(){var e;return J(this,(function(r){switch(r.label){case 0:return this.ensureBooted(),[4,u.requireEngine().readMany(this.collection,t)];case 1:return e=r.sent(),[4,this.createManyFromEngineDocuments(e)];case 2:return[2,r.sent()]}}))}))},t.first=function(t){return $(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,this.all(t)];case 1:return[2,e.sent()[0]||null]}}))}))},t.ensureBooted=function(){if(void 0===this.modelName)throw new o("Model has not been booted (did you forget to call Soukai.loadModel?) Learn more at https://soukai.js.org/guide/defining-models.html")},Object.defineProperty(t.prototype,"modelClass",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.prototype.update=function(t){for(var e in void 0===t&&(t={}),t=this.castAttributes(t,this.modelClass.fields))this.setAttribute(e,t[e]);return this.hasAutomaticTimestamp("updatedAt")&&this.touch(),this.save()},t.prototype.hasRelation=function(t){return-1!==this.modelClass.relations.indexOf(t)},t.prototype.getRelation=function(t){return this._relations[t]||null},t.prototype.loadRelation=function(t){return this.requireRelation(t).resolve()},t.prototype.loadRelationIfUnloaded=function(t){return $(this,void 0,void 0,(function(){return J(this,(function(e){return[2,this.isRelationLoaded(t)?this.getRelationModels(t):this.loadRelation(t)]}))}))},t.prototype.unloadRelation=function(t){this.requireRelation(t).unload()},t.prototype.getRelationModels=function(t){return this.requireRelation(t).related},t.prototype.setRelationModels=function(t,e){this.requireRelation(t).related=e},t.prototype.isRelationLoaded=function(t){return this.requireRelation(t).loaded},t.prototype.hasAttribute=function(t){for(var e=t.split("."),r=Z(this._attributes,this.modelClass.fields);e.length>0;)if(void 0===(r=r[e.shift()]))return!1;return!0},t.prototype.setAttribute=function(t,e){e=this.castAttribute(e,this.modelClass.fields[t]),this._attributes[t]=e,delete this._dirtyAttributes[t],v.deepEquals(this._originalAttributes[t],e)||(this._dirtyAttributes[t]=e),this.hasAutomaticTimestamp("updatedAt")&&"updatedAt"!==t&&this.touch()},t.prototype.setAttributes=function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var n=r[e],i=n[0],o=n[1];this.setAttribute(i,o)}},t.prototype.getAttribute=function(t,e){void 0===e&&(e=!1);for(var r=t.split("."),n=this.getAttributes(e);r.length>0;)if(void 0===(n=n[r.shift()]))return n;return n},t.prototype.getAttributes=function(t){return void 0===t&&(t=!1),t?h(this._attributes):Z(this._attributes,this.modelClass.fields)},t.prototype.unsetAttribute=function(t){this._attributes.hasOwnProperty(t)&&(t in this.modelClass.fields?this._attributes[t]=void 0:delete this._attributes[t],void 0!==this._originalAttributes[t]&&(this._dirtyAttributes[t]=void 0),this.hasAutomaticTimestamp("updatedAt")&&this.touch())},t.prototype.isDirty=function(t){return t?t in this._dirtyAttributes:Object.values(this._dirtyAttributes).length>0},t.prototype.getPrimaryKey=function(){return this._attributes[this.modelClass.primaryKey]},t.prototype.getSerializedPrimaryKey=function(){var t=this.getPrimaryKey();return t?this.serializeKey(t):null},t.prototype.delete=function(){return $(this,void 0,void 0,(function(){var t;return J(this,(function(e){switch(e.label){case 0:return this._exists?[4,this.getCascadeModels()]:[2,this];case 1:return t=e.sent(),[4,this.deleteModelsFromEngine(t)];case 2:return e.sent(),t.forEach((function(t){return t.resetEngineData()})),[2,this]}}))}))},t.prototype.save=function(){return $(this,void 0,void 0,(function(){var t,e;return J(this,(function(r){switch(r.label){case 0:return Q(this._attributes,this.modelClass.fields),this.isDirty()?(t=this._exists,[4,this.syncDirty()]):[2,this];case 1:return e=r.sent(),this._wasRecentlyCreated=this._wasRecentlyCreated||!t,this._attributes[this.modelClass.primaryKey]=this.parseKey(e),this.cleanDirty(),[2,this]}}))}))},t.prototype.touch=function(){this.setAttribute("updatedAt",new Date)},t.prototype.setExists=function(t){this._exists=t},t.prototype.exists=function(){return this._exists},t.prototype.wasRecentlyCreated=function(){return this._wasRecentlyCreated},t.prototype.initialize=function(t,e){this._exists=e,this._wasRecentlyCreated=!1,this.initializeProxy(),this.initializeAttributes(t,e),this.initializeRelations()},t.prototype.initializeProxy=function(){this._proxy=new Proxy(this,{get:function(t,e,r){if("string"!=typeof e||e in t||-1!==t.modelClass.classFields.indexOf(e))return Reflect.get(t,e,r);var n="get"+g(e)+"Attribute";if("function"==typeof t[n])return t[n]();if(t.hasRelation(e))return t.isRelationLoaded(e)?t.getRelationModels(e):void 0;if(e.startsWith("related")){var i=b(e.substr(7));if(t.hasRelation(i))return t._relations[i]}return t.getAttribute(e)},set:function(t,e,r,n){return"string"!=typeof e||e in t||-1!==t.modelClass.classFields.indexOf(e)?Reflect.set(t,e,r,n):t.hasRelation(e)?(t.setRelationModels(e,r),!0):(t.setAttribute(e,r),!0)},deleteProperty:function(t,e){return"string"!=typeof e||e in t?Reflect.deleteProperty(t,e):t.hasRelation(e)?(t.unloadRelation(e),!0):e in t._attributes&&-1===t.modelClass.classFields.indexOf(e)?(t.unsetAttribute(e),!0):Reflect.deleteProperty(t,e)}})},t.prototype.initializeAttributes=function(t,e){this._attributes=v.deepClone(t),this._originalAttributes=e?v.deepClone(t):{},this._dirtyAttributes=e?{}:v.deepClone(t),e||(this.hasAutomaticTimestamp("createdAt")&&!("createdAt"in t)&&(this._attributes.createdAt=new Date,this._dirtyAttributes.createdAt=this._attributes.createdAt),this.hasAutomaticTimestamp("updatedAt")&&!("updatedAt"in t)&&(this._attributes.updatedAt=new Date,this._dirtyAttributes.updatedAt=this._attributes.updatedAt)),this._attributes=this.castAttributes(Y(this._attributes,this.modelClass.fields),this.modelClass.fields)},t.prototype.initializeRelations=function(){var t=this;this._relations=this.modelClass.relations.reduce((function(e,r){var n=t._proxy[b(r)+"Relationship"]();return n.name=r,e[r]=n,e}),{})},t.prototype.createFromEngineDocument=function(t,e){return $(this,void 0,void 0,(function(){var r;return J(this,(function(n){switch(n.label){case 0:return[4,this.parseEngineDocumentAttributes(t,e)];case 1:return(r=n.sent())[this.modelClass.primaryKey]=t,[2,new this.modelClass(r,!0)]}}))}))},t.prototype.createManyFromEngineDocuments=function(t){return $(this,void 0,void 0,(function(){var e=this;return J(this,(function(r){return[2,Promise.all(Object.entries(t).map((function(t){var r=t[0],n=t[1];return e.createFromEngineDocument(e.parseKey(r),n)})))]}))}))},t.prototype.syncDirty=function(){return $(this,void 0,void 0,(function(){var t,e,r;return J(this,(function(n){switch(n.label){case 0:return t=u.requireEngine(),this._exists?(e=this.getDirtyEngineDocumentUpdates(),r=this.getSerializedPrimaryKey(),[4,t.update(this.modelClass.collection,r,e)]):[2,t.create(this.modelClass.collection,this.toEngineDocument(),this.getSerializedPrimaryKey()||void 0)];case 1:return n.sent(),[2,r]}}))}))},t.prototype.cleanDirty=function(){this._originalAttributes=v.deepClone(this._attributes),this._dirtyAttributes={},this._exists=!0},t.prototype.getCascadeModels=function(){return $(this,void 0,void 0,(function(){var t,e,r,n=this;return J(this,(function(i){switch(i.label){case 0:return t=this.modelClass.relations.map((function(t){return n._relations[t]})).filter((function(t){return"cascade"===t.deleteStrategy})).map((function(t){return $(n,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,t.getModels()];case 1:return[2,e.sent().map((function(t){return t.getCascadeModels()}))]}}))}))})),[4,Promise.all(t)];case 1:return e=i.sent(),[4,Promise.all(y.flatten(e))];case 2:return r=i.sent(),[2,y.flatten(r).concat([this]).filter((function(t){return t.exists()}))]}}))}))},t.prototype.deleteModelsFromEngine=function(t){return $(this,void 0,void 0,(function(){var e,r;return J(this,(function(n){switch(n.label){case 0:return e=u.requireEngine(),r=t.map((function(t){return[t.modelClass.collection,t.getSerializedPrimaryKey()]})),[4,Promise.all(r.map((function(t){var r=t[0],n=t[1];return e.delete(r,n)})))];case 1:return n.sent(),[2]}}))}))},t.prototype.resetEngineData=function(){delete this._attributes[this.modelClass.primaryKey],this._exists=!1,this._dirtyAttributes=v.deepClone(this._attributes)},t.prototype.hasOne=function(t,e,r){return new q(this,t,e,r)},t.prototype.belongsToOne=function(t,e,r){return new D(this,t,e,r)},t.prototype.hasMany=function(t,e,r){return new U(this,t,e,r)},t.prototype.belongsToMany=function(t,e,r){return new j(this,t,e,r)},t.prototype.castAttributes=function(t,e){var r={};for(var n in t)r[n]=this.castAttribute(t[n],e[n]);return r},t.prototype.castAttribute=function(t,e){var r=this;if(X(t))return t;if(void 0===e)switch(typeof t){case"object":return t.toString();case"symbol":case"function":case"undefined":return;default:return t}switch(e.type){case m.Date:return new Date(t);case m.Object:return this.castAttributes(t,e.fields);case m.Array:return t.map((function(t){return r.castAttribute(t,e.items)}));case m.Boolean:return!!t;case m.Number:return parseFloat(t);case m.String:return t.toString();default:return t}},t.prototype.hasAutomaticTimestamp=function(t){return-1!==this.modelClass.timestamps.indexOf(t)},t.prototype.toEngineDocument=function(){return Z(this._attributes,this.modelClass.fields)},t.prototype.getDirtyEngineDocumentUpdates=function(){var t=v.deepClone(this._dirtyAttributes);for(var e in t)void 0===t[e]&&(t[e]={$unset:!0});return t},t.prototype.parseEngineDocumentAttributes=function(t,e){return $(this,void 0,void 0,(function(){return J(this,(function(t){return[2,G({},e)]}))}))},t.prototype.serializeKey=function(t){return t.toString()},t.prototype.parseKey=function(t){return t},t.prototype.requireRelation=function(t){if(!(t in this._relations))throw new o("Attempting to use undefined "+t+" relation.");return this._relations[t]},t.primaryKey="id",t.classFields=[],t.relations=[],t}();function W(t,e,r,n){void 0===n&&(n=!0);var i={};if(-1!==z.indexOf(r))i.type=r;else{if("object"!=typeof r)throw new l(t,"Invalid field definition "+e);i=r}if(void 0===i.type)i={fields:i,type:m.Object};else if(-1===z.indexOf(i.type))throw new l(t,"Invalid field definition "+e);switch(n&&(i.required=!!i.required),i.type){case m.Object:if(void 0===i.fields)throw new l(t,"Field definition of type object requires fields attribute "+e);for(var o in i.fields)i.fields.hasOwnProperty(o)&&(i.fields[o]=W(t,o,i.fields[o]));break;case m.Array:if(void 0===i.items)throw new l(t,"Field definition of type array requires items attribute. Field: '"+e+"'");i.items=W(t,"items",i.items,!1)}return i}function Y(t,e){for(var r in e){var n=e[r];if(!(r in t))switch(n.type){case m.Object:t[r]={};break;case m.Array:t[r]=[];break;default:t[r]=void 0}n.type===m.Object&&(t[r]=Y(t[r],n.fields))}return t}function Q(t,e){for(var r in e){var n=e[r];if(n.required&&(!(r in t)||X(t[r])))throw new o("The "+r+" attribute is required.");r in t&&!X(t[r])&&n.type===m.Object&&Q(t[r],n.fields)}}function X(t){return null==t}function Z(t,e,r){for(var n in void 0===r&&(r=!1),t=h(t))if(void 0===t[n])delete t[n];else if(n in e&&e[n].type===m.Object){var i=Z(t[n],e[n].fields,!0);void 0===i?delete t[n]:t[n]=i}return r&&0===Object.keys(t).length?void 0:t}var tt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),et=function(t){function e(e){var r=t.call(this,"Could not create document with id "+e+" because it is already in use.")||this;return r.id=e,r}return tt(e,t),e}(o),rt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nt=function(t){function e(e){var r=t.call(this,"Couldn't find document with id "+e+".")||this;return r.id=e,r}return rt(e,t),e}(o),it={generate:function t(e){return e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t)}},ot=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},at=function(){function t(){var t=this;this.documentsIn=function(t,e,r){return y.contains(r,t)},this.attributeEq=function(t,e,r){return d(t[e],r)},this.attributeContains=function(e,r,n){Array.isArray(n)||(n=[n]);var i=e&&e[r];return!!Array.isArray(i)&&!n.find((function(e){return!i.find((function(r){return t.filterValue(r,e)}))}))},this.attributeOr=function(e,r,n){return!!n.find((function(n){return!!t.filterValue(e,(i={},i[r]=n,i));var i}))},this.attributeIn=function(t,e,r){return y.contains(r,t[e])},this.attributeUpdate=function(e,r,n){p(n)?t.isOperation(n,t.attributeUpdates)?t.runOperation(n,t.attributeUpdates,e,r):p(e[r])?t.updateAttributes(e[r],n):e[r]=n:e[r]=n},this.attributeUpdateItems=function(e,r,n){Array.isArray(n)||(n=[n]);for(var i=function(n,i,o){n&&n.$in&&(n.$in=n.$in.map((function(t){return t.toString()})));var a=t.requireArrayProperty("$updateItems",e,r),s=t.filterDocuments(a.reduce((function(t,e,r){return ot({},t,((n={})[r]=p(e)?e:{},n));var n}),{}),n||{});i&&Object.keys(s).forEach((function(e){var r;t.updateAttributes(s,((r={})[e]=i,r)),a[e]=s[e]})),o&&(e[r]=y.withoutIndexes(a,Object.keys(s).map(parseInt)))},o=0,a=n;o<a.length;o++){var s=a[o];i(s.$where,s.$update,s.$unset)}},this.attributePush=function(e,r,n){t.requireArrayProperty("$push",e,r).push(n)},this.attributeUnset=function(t,e,r){if(!0!==r)for(var n=0,i=r=Array.isArray(r)?r:[r];n<i.length;n++){var o=i[n];delete t[e][o]}else delete t[e]},this.attributeApply=function(e,r,n){for(var i=0,o=n;i<o.length;i++){var a=o[i];t.runOperation(a,t.attributeUpdates,e,r)}},this.rootFilters={$in:this.documentsIn},this.attributeFilters={$eq:this.attributeEq,$contains:this.attributeContains,$or:this.attributeOr,$in:this.attributeIn},this.attributeUpdates={$update:this.attributeUpdate,$updateItems:this.attributeUpdateItems,$push:this.attributePush,$unset:this.attributeUnset,$apply:this.attributeApply}}return t.prototype.filterDocuments=function(t,e){var r=this;return void 0===e&&(e={}),Object.entries(t).reduce((function(t,n){var i=n[0],o=n[1];return r.filterDocument(i,o,e)&&(t[i]=o),t}),{})},t.prototype.updateAttributes=function(t,e){if(this.isOperation(e,{$unset:this.attributeUnset}))for(var r=e.$unset,n=0,i=Array.isArray(r)?r:[r];n<i.length;n++){var o=i[n];this.attributeUnset(t,o,!0)}else for(var a=0,s=Object.entries(e);a<s.length;a++){var u=s[a],c=u[0],l=u[1];this.attributeUpdate(t,c,l)}},t.prototype.obtainDocumentId=function(t){return t||it.generate()},t.prototype.filterDocument=function(t,e,r){var n=this;void 0===r&&(r={}),r=ot({},r);for(var i=0,o=Object.keys(r).filter((function(t){return t in n.rootFilters}));i<o.length;i++){var a=o[i];if(!this.rootFilters[a](t,e,r[a]))return!1;delete r[a]}return this.filterValue(e,r)},t.prototype.filterValue=function(t,e){var r=this;return void 0===e&&(e={}),p(e)?this.isOperation(e,this.attributeFilters)?this.runOperation(e,this.attributeFilters,{value:t},"value"):!!p(t)&&!Object.entries(e).find((function(e){var n=e[0],i=e[1];return!(r.isOperation(i,r.attributeFilters)?r.runOperation(i,r.attributeFilters,t,n):r.attributeEq(t,n,i))})):this.attributeEq({value:t},"value",e)},t.prototype.isOperation=function(t,e){if(!p(t))return!1;var r=Object.keys(t),n=r[0],i=r.slice(1);return!(!n||0!==i.length||!(n in e))},t.prototype.runOperation=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Object.entries(t)[0],o=i[0],a=i[1];return e[o].apply(e,r.concat([a]))},t.prototype.requireArrayProperty=function(t,e,r){if(!e||!Array.isArray(e[r]))throw new Error(t+" operator can only be applied to array attributes");return e[r]},t}();let st,ut;const ct=new WeakMap,lt=new WeakMap,ft=new WeakMap,ht=new WeakMap,dt=new WeakMap;let pt={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return lt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ft.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return gt(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function vt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ut||(ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(bt(this),e),gt(ct.get(this))}:function(...e){return gt(t.apply(bt(this),e))}:function(e,...r){const n=t.call(bt(this),e,...r);return ft.set(n,e.sort?e.sort():[e]),gt(n)}}function yt(t){return"function"==typeof t?vt(t):(t instanceof IDBTransaction&&function(t){if(lt.has(t))return;const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),n()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});lt.set(t,e)}(t),e=t,(st||(st=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,pt):t);var e}function gt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(gt(t.result)),n()},o=()=>{r(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(e=>{e instanceof IDBCursor&&ct.set(e,t)}).catch(()=>{}),dt.set(e,t),e}(t);if(ht.has(t))return ht.get(t);const e=yt(t);return e!==t&&(ht.set(t,e),dt.set(e,t)),e}const bt=t=>dt.get(t);function mt(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=gt(a);return n&&a.addEventListener("upgradeneeded",t=>{n(gt(a.result),t.oldVersion,t.newVersion,gt(a.transaction))}),r&&a.addEventListener("blocked",()=>r()),s.then(t=>{o&&t.addEventListener("close",()=>o()),i&&t.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}function wt(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",()=>e()),gt(r).then(()=>{})}const _t=["get","getKey","getAll","getAllKeys","count"],xt=["put","add","delete","clear"],Et=new Map;function St(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Et.get(e))return Et.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=xt.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!_t.includes(r))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let a=o.store;n&&(a=a.index(e.shift()));const s=a[r](...e);return i&&await o.done,s};return Et.set(e,o),o}pt=(t=>({...t,get:(e,r,n)=>St(e,r)||t.get(e,r,n),has:(e,r)=>!!St(e,r)||t.has(e,r)}))(pt);var Ot=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},It=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Rt=function(){function t(t){void 0===t&&(t=null),this.database=t?"soukai-"+t:"soukai",this.helper=new at}return t.prototype.purgeDatabase=function(){return Ot(this,void 0,void 0,(function(){var t=this;return It(this,(function(e){switch(e.label){case 0:return this.closeConnections(),[4,Promise.all([wt(this.database+"-meta",{blocked:function(){return t.throwDatabaseBlockedError()}}),wt(this.database,{blocked:function(){return t.throwDatabaseBlockedError()}})])];case 1:return e.sent(),[2]}}))}))},t.prototype.closeConnections=function(){return Ot(this,void 0,void 0,(function(){return It(this,(function(t){return this._metadataConnection&&this._metadataConnection.close(),this._documentsConnection&&this._documentsConnection.close(),delete this._metadataConnection,delete this._documentsConnection,[2]}))}))},t.prototype.create=function(t,e,r){return Ot(this,void 0,void 0,(function(){return It(this,(function(n){switch(n.label){case 0:return r=this.helper.obtainDocumentId(r),[4,this.documentExists(t,r)];case 1:if(n.sent())throw new et(r);return[4,this.createDocument(t,r,e)];case 2:return n.sent(),[2,r]}}))}))},t.prototype.readOne=function(t,e){return Ot(this,void 0,void 0,(function(){var r;return It(this,(function(n){switch(n.label){case 0:return[4,this.collectionExists(t)];case 1:if(!n.sent())throw new nt(e);return[4,this.getDocument(t,e)];case 2:if(!(r=n.sent()))throw new nt(e);return[2,r]}}))}))},t.prototype.readMany=function(t,e){return Ot(this,void 0,void 0,(function(){var r,n;return It(this,(function(i){switch(i.label){case 0:return r={},[4,this.getCollections()];case 1:return-1===(n=i.sent()).indexOf(t)?[2,r]:[4,this.withDocumentsTransaction(n,t,"readonly",(function(t){var e=function(t){if(t)return r[t.key]=t.value,t.continue().then(e)};return t.store.openCursor().then(e)}))];case 2:return i.sent(),[2,this.helper.filterDocuments(r,e)]}}))}))},t.prototype.update=function(t,e,r){return Ot(this,void 0,void 0,(function(){var n;return It(this,(function(i){switch(i.label){case 0:return[4,this.getDocument(t,e)];case 1:if(!(n=i.sent()))throw new nt(e);return this.helper.updateAttributes(n,r),[4,this.updateDocument(t,e,n)];case 2:return i.sent(),[2]}}))}))},t.prototype.delete=function(t,e){return Ot(this,void 0,void 0,(function(){return It(this,(function(r){switch(r.label){case 0:return[4,this.documentExists(t,e)];case 1:if(!r.sent())throw new nt(e);return[4,this.deleteDocument(t,e)];case 2:return r.sent(),[2]}}))}))},t.prototype.collectionExists=function(t){return Ot(this,void 0,void 0,(function(){return It(this,(function(e){switch(e.label){case 0:return[4,this.getCollections()];case 1:return[2,-1!==e.sent().indexOf(t)]}}))}))},t.prototype.documentExists=function(t,e){return Ot(this,void 0,void 0,(function(){return It(this,(function(r){switch(r.label){case 0:return[4,this.getDocument(t,e)];case 1:return[2,!!r.sent()]}}))}))},t.prototype.getDocument=function(t,e){return Ot(this,void 0,void 0,(function(){var r;return It(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.getCollections()];case 1:return-1===(r=n.sent()).indexOf(t)?[2,null]:[4,this.withDocumentsTransaction(r,t,"readonly",(function(t){return t.store.get(e)}))];case 2:return[2,n.sent()||null];case 3:return n.sent(),[2,null];case 4:return[2]}}))}))},t.prototype.createDocument=function(t,e,r){return Ot(this,void 0,void 0,(function(){var n;return It(this,(function(i){switch(i.label){case 0:return[4,this.getCollections()];case 1:return-1!==(n=i.sent()).indexOf(t)?[3,3]:[4,this.createCollection(t)];case 2:i.sent(),n.push(t),i.label=3;case 3:return[2,this.withDocumentsTransaction(n,t,"readwrite",(function(t){return t.store.add(r,e),t.done}))]}}))}))},t.prototype.updateDocument=function(t,e,r){return Ot(this,void 0,void 0,(function(){var n;return It(this,(function(i){switch(i.label){case 0:return[4,this.getCollections()];case 1:return n=i.sent(),[2,this.withDocumentsTransaction(n,t,"readwrite",(function(t){return t.store.put(r,e),t.done}))]}}))}))},t.prototype.deleteDocument=function(t,e){return Ot(this,void 0,void 0,(function(){var r;return It(this,(function(n){switch(n.label){case 0:return[4,this.getCollections()];case 1:return r=n.sent(),[2,this.withDocumentsTransaction(r,t,"readwrite",(function(t){return t.store.delete(e),t.done}))]}}))}))},t.prototype.withMetadataTransaction=function(t,e){return Ot(this,void 0,void 0,(function(){var r,n,i=this;return It(this,(function(o){switch(o.label){case 0:return r=this,(n=this._metadataConnection)?[3,2]:[4,mt(this.database+"-meta",1,{upgrade:function(t){t.objectStoreNames.contains("collections")||t.createObjectStore("collections",{keyPath:"name"})},blocked:function(){return i.throwDatabaseBlockedError()}})];case 1:n=o.sent(),o.label=2;case 2:return r._metadataConnection=n,[2,this.retryingOnTransactionInactive((function(){var r=i._metadataConnection.transaction("collections",t);return e(r)}))]}}))}))},t.prototype.withDocumentsTransaction=function(t,e,r,n){return Ot(this,void 0,void 0,(function(){var i,o,a=this;return It(this,(function(s){switch(s.label){case 0:return i=this,(o=this._documentsConnection)?[3,2]:[4,mt(this.database,t.length,{upgrade:function(e){for(var r=0,n=t;r<n.length;r++){var i=n[r];e.objectStoreNames.contains(i)||e.createObjectStore(i)}},blocked:function(){return a.throwDatabaseBlockedError()}})];case 1:o=s.sent(),s.label=2;case 2:return i._documentsConnection=o,[2,this.retryingOnTransactionInactive((function(){var t=a._documentsConnection.transaction(e,r);return n(t)}))]}}))}))},t.prototype.retryingOnTransactionInactive=function(t){try{return t()}catch(e){if(!(e instanceof Error)||!e.name.toLowerCase().includes("inactive")&&!e.message.toLowerCase().includes("inactive"))throw e;return t()}},t.prototype.getCollections=function(){return Ot(this,void 0,void 0,(function(){return It(this,(function(t){return[2,this.withMetadataTransaction("readonly",(function(t){return t.store.getAllKeys()}))]}))}))},t.prototype.createCollection=function(t){return Ot(this,void 0,void 0,(function(){return It(this,(function(e){switch(e.label){case 0:return[4,this.withMetadataTransaction("readwrite",(function(e){return e.store.add({name:t}),e.done}))];case 1:return e.sent(),this._documentsConnection&&(this._documentsConnection.close(),delete this._documentsConnection),[2]}}))}))},t.prototype.throwDatabaseBlockedError=function(){throw new o("An attempt to open an IndexedDB connection has been blocked, remember to call IndexedDBEngine.closeConnections when necessary. Learn more at https://developer.mozilla.org/en-US/docs/Web/API/IDBOpenDBRequest/blocked_event")},t}(),jt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},kt=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Tt=function(){function t(){this.db={},this.helper=new at}return Object.defineProperty(t.prototype,"database",{get:function(){return this.db},enumerable:!0,configurable:!0}),t.prototype.create=function(t,e,r){var n=this.collection(t);if((r=this.helper.obtainDocumentId(r))in n)throw new et(r);return n[r]=e,Promise.resolve(r)},t.prototype.readOne=function(t,e){var r=this.collection(t);return e in r?Promise.resolve(r[e]):Promise.reject(new nt(e))},t.prototype.readMany=function(t,e){return jt(this,void 0,void 0,(function(){var r;return kt(this,(function(n){return this.hasCollection(t)?(r=this.collection(t),[2,this.helper.filterDocuments(r,e)]):[2,{}]}))}))},t.prototype.update=function(t,e,r){var n=this.collection(t);if(e in n){var i=n[e];return this.helper.updateAttributes(i,r),Promise.resolve()}return Promise.reject(new nt(e))},t.prototype.delete=function(t,e){var r=this.collection(t);return e in r?(delete r[e],Promise.resolve()):Promise.reject(new nt(e))},t.prototype.hasCollection=function(t){return t in this.db},t.prototype.collection=function(t){return this.hasCollection(t)||(this.db[t]={}),this.db[t]},t}(),At=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Ct=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Pt=function(){function t(t){void 0===t&&(t=""),this.prefix=t,this.helper=new at}return t.prototype.clear=function(){for(var t=0,e=Object.keys(localStorage);t<e.length;t++){var r=e[t];r.startsWith(this.prefix)&&localStorage.removeItem(r)}},t.prototype.create=function(t,e,r){return At(this,void 0,void 0,(function(){var n;return Ct(this,(function(i){if(n=this.readItem(t,{}),(r=this.helper.obtainDocumentId(r))in n)throw new et(r);return n[r]=this.serializeAttributes(e),this.writeItem(t,n),[2,r]}))}))},t.prototype.readOne=function(t,e){return At(this,void 0,void 0,(function(){var r;return Ct(this,(function(n){if(r=this.readItem(t,{}),!(e in r))throw new nt(e);return[2,this.deserializeAttributes(r[e])]}))}))},t.prototype.readMany=function(t,e){return At(this,void 0,void 0,(function(){var r,n;return Ct(this,(function(i){for(n in r=this.readItem(t,{}))r[n]=this.deserializeAttributes(r[n]);return[2,this.helper.filterDocuments(r,e)]}))}))},t.prototype.update=function(t,e,r){return At(this,void 0,void 0,(function(){var n,i;return Ct(this,(function(o){if(n=this.readItem(t,{}),!(e in n))throw new nt(e);return i=this.deserializeAttributes(n[e]),this.helper.updateAttributes(i,r),n[e]=this.serializeAttributes(i),this.writeItem(t,n),[2]}))}))},t.prototype.delete=function(t,e){return At(this,void 0,void 0,(function(){var r;return Ct(this,(function(n){if(r=this.readItem(t,{}),!(e in r))throw new nt(e);return delete r[e],this.writeItem(t,r),[2]}))}))},t.prototype.readItem=function(t,e){void 0===e&&(e=null);var r=localStorage.getItem(this.prefix+t);return null!==r?JSON.parse(r):e},t.prototype.writeItem=function(t,e){localStorage.setItem(this.prefix+t,JSON.stringify(e))},t.prototype.serializeAttributes=function(t){for(var e in t){var r=t[e];t[e]=this.serializeAttributeValue(r)}return t},t.prototype.serializeAttributeValue=function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.serializeAttributeValue(t)})):t instanceof Date?{__dateTime:t.getTime()}:"object"==typeof t?this.serializeAttributes(t):t},t.prototype.deserializeAttributes=function(t){for(var e in t){var r=t[e];t[e]=this.deserializeAttributeValue(r)}return t},t.prototype.deserializeAttributeValue=function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.deserializeAttributeValue(t)})):"object"==typeof t&&"__dateTime"in t?new Date(t.__dateTime):t},t}(),Dt=function(){function t(t){this.engine=t}return t.prototype.create=function(t,e,r){return console.log("CREATE",t,e,r),this.engine.create(t,e,r).then((function(t){return console.log("CREATED",t),t})).catch((function(t){throw console.error(t),t}))},t.prototype.readOne=function(t,e){return console.log("READ ONE",t,e),this.engine.readOne(t,e).then((function(t){return console.log("FOUND",t),t})).catch((function(t){throw console.error(t),t}))},t.prototype.readMany=function(t,e){return console.log("READ ALL",t,e),this.engine.readMany(t,e).then((function(t){return console.log("FOUND",t),t})).catch((function(t){throw console.error(t),t}))},t.prototype.update=function(t,e,r){return console.log("UPDATE",t,e,r),this.engine.update(t,e,r).then((function(){return console.log("UPDATED")})).catch((function(t){throw console.error(t),t}))},t.prototype.delete=function(t,e){return console.log("DELETE",t,e),this.engine.delete(t,e).then((function(){return console.log("DELETED")})).catch((function(t){throw console.error(t),t}))},t}();function Nt(t){for(var e={},r=0,n=t.keys();r<n.length;r++){var i=n[r],o=(i.match(/^(?:\.\/)?(.+)\.(j|t)s$/)||[])[1];void 0!==o&&(e[o]=t(i).default)}return e}r.d(e,"definitionsFromContext",(function(){return Nt})),r.d(e,"Model",(function(){return K})),r.d(e,"Soukai",(function(){return u})),r.d(e,"EngineHelper",(function(){return at})),r.d(e,"LogEngine",(function(){return Dt})),r.d(e,"InMemoryEngine",(function(){return Tt})),r.d(e,"LocalStorageEngine",(function(){return Pt})),r.d(e,"IndexedDBEngine",(function(){return Rt})),r.d(e,"SoukaiError",(function(){return o})),r.d(e,"DocumentNotFound",(function(){return nt})),r.d(e,"DocumentAlreadyExists",(function(){return et})),r.d(e,"InvalidModelDefinition",(function(){return l})),r.d(e,"BelongsToManyRelation",(function(){return j})),r.d(e,"BelongsToOneRelation",(function(){return D})),r.d(e,"HasManyRelation",(function(){return U})),r.d(e,"HasOneRelation",(function(){return q})),r.d(e,"MultiModelRelation",(function(){return S})),r.d(e,"Relation",(function(){return x})),r.d(e,"SingleModelRelation",(function(){return T})),r.d(e,"FieldType",(function(){return m})),e.default=u}])}))},dde1:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a630"),r("fb6a"),r("b0c0"),r("d3b7"),r("25f0"),r("3ca3");var n=r("b680");function i(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(t,e):void 0}}},df75:function(t,e,r){var n=r("ca84"),i=r("7839");t.exports=Object.keys||function(t){return n(t,i)}},df7c:function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t){"string"!==typeof t&&(t+="");var e,r=0,n=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){r=e+1;break}}else-1===n&&(i=!1,n=e+1);return-1===n?"":t.slice(r,n)}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,n="/"===a.charAt(0))}return e=r(i(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),a="/"===o(t,-1);return t=r(i(t.split("/"),(function(t){return!!t})),!n).join("/"),t||n||(t="."),t&&a&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var r=t.length-1;r>=0;r--)if(""!==t[r])break;return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=n(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,r=0,n=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){r=a+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)};var o="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r("4362"))},dfab:function(t,e,r){!function(e,n){t.exports=n(r("ddbf"),r("50cc"),r("c20d"),r("dae0"))}(window,(function(t,e,r,n){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e){t.exports=r},function(t,e){t.exports=n},function(t,e,r){"use strict";r.r(e),r.d(e,"DocumentFormat",(function(){return Nt})),r.d(e,"MalformedDocumentError",(function(){return Gt})),r.d(e,"NetworkError",(function(){return Jt})),r.d(e,"SolidContainerModel",(function(){return Se})),r.d(e,"SolidDocument",(function(){return Ut})),r.d(e,"SolidEngine",(function(){return ce})),r.d(e,"SolidModel",(function(){return Lt}));var n,i=r(0),o=r.n(i),a=r(1),s=r(2),u=r(3),c=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h=new(function(){function t(){}return t.prototype.resolve=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.shift();t.length>0;){var n=t.shift();n.startsWith("/")?r=this.base(r)+n:n.startsWith("http://")||n.startsWith("https://")?r=n:r.endsWith("/")?r+=n:r+="/"+n}return r},t.prototype.resolveDirectory=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.resolve.apply(this,l(t));return r.endsWith("/")?r:r+"/"},t.prototype.base=function(t){var e=t.indexOf("://"),r=t.substr(e+3).indexOf("/");return-1!==r?t.substring(0,e+3+r):t},t.prototype.parentDirectory=function(t){t.endsWith("/")&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return-1!==e?t.substr(0,e+1):t},t.prototype.fileName=function(t){var e=t.lastIndexOf("/");return-1!==e?t.substr(e+1):""},t.prototype.directoryName=function(t){return t.endsWith("/")||(t=this.parentDirectory(t)),this.fileName(t.slice(0,-1))},t.prototype.parse=function(t){var e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;var r=e[4]||"",n=c(-1===r.indexOf(":")?[r]:r.split(":"),2),i=n[0],o=n[1];return{protocol:e[2]||void 0,domain:i||void 0,port:o||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}},t.prototype.clean=function(t,e){var r,n,i=this.parse(t);if(!i)return t;try{for(var o=f(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=c(a.value,2),u=s[0],l=s[1];i[u]=!1!==e[u]&&l||""}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return[i.protocol?i.protocol+"://":"",i.domain||"",i.port?":"+i.port:"",i.path||"",i.query?"?"+i.query:"",i.fragment?"#"+i.fragment:""].join("")},t.prototype.route=function(t){return this.clean(t,{protocol:!0,domain:!0,port:!0,path:!0,query:!1,fragment:!1})},t}()),d=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){this.name=t},v=function(){function t(t,e,r){this.resourceUrl=t,this.name=e,this.value=r}return t.fromStatement=function(t){var e="NamedNode"===t.subject.termType?t.subject.value:null;return t.predicate.value===B("rdf:type")?this.type(e,t.object.value):"NamedNode"===t.object.termType?this.reference(e,t.predicate.value,t.object.value):"BlankNode"===t.object.termType?this.reference(e,t.predicate.value,null):"Variable"===t.object.termType?this.reference(e,t.predicate.value,new p(t.object.value)):this.literal(e,t.predicate.value,t.object.datatype.value===B("xsd:dateTime")?new Date(t.object.value):t.object.value)},t.literal=function(t,e,r){return new y(t,e,r)},t.reference=function(t,e,r){return new g(t,e,r)},t.type=function(t,e){return new b(t,e)},t.toTurtle=function(t,e){return void 0===e&&(e=null),t.map((function(t){return t.toTurtle(e)+" ."})).join("\n")},t.prototype.toTurtle=function(t){return void 0===t&&(t=null),this.getTurtleSubject(t)+" "+this.getTurtlePredicate()+" "+this.getTurtleObject(t)},t.prototype.clone=function(e){switch(e=null!=e?e:this.resourceUrl,this.type){case 2:return t.literal(e,this.name,this.value);case 0:return t.type(e,this.value);case 1:return t.reference(e,this.name,this.value)}},t.prototype.getTurtleReference=function(t,e){var r=null==t?void 0:t.indexOf("#");return t&&t!==e?null!==e&&t.startsWith(e)&&-1!==r?"<#"+t.substr(r+1)+">":"<"+encodeURI(t)+">":"<>"},t.prototype.getTurtleSubject=function(t){return this.getTurtleReference(this.resourceUrl,t)},t.prototype.getTurtlePredicate=function(){return"<"+encodeURI(this.name)+">"},t}(),y=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type=2,i}return d(e,t),e.prototype.getTurtleObject=function(){if(this.value instanceof Date){var t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map((function(t){return t.toString().padStart(2,"0")}))};return'"'+t(this.value.getUTCFullYear(),this.value.getUTCMonth()+1,this.value.getUTCDate()).join("-")+"T"+t(this.value.getUTCHours(),this.value.getUTCMinutes(),this.value.getUTCSeconds()).join(":")+'Z"^^<'+B("xsd:dateTime")+">"}return JSON.stringify(this.value)},e}(v),g=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type=1,i}return d(e,t),e.prototype.getTurtleObject=function(t){return this.value instanceof p?this.value.name:this.getTurtleReference(this.value,t)},e}(v),b=function(t){function e(e,r){var n=t.call(this,e,B("rdf:type"),r)||this;return n.type=0,n}return d(e,t),e.prototype.getTurtlePredicate=function(){return"a"},e.prototype.getTurtleObject=function(){return"<"+encodeURI(this.value)+">"},e}(v),m=v,w=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},_=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(w(arguments[e]));return t},x=function(){function t(t){this.url=t,this.statements=[],this.types=[],this.properties=[],this.propertiesIndex={}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue(B("foaf:name"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.getPropertyValue(B("rdfs:label"))},enumerable:!0,configurable:!0}),t.prototype.isType=function(t){return-1!==this.types.indexOf(B(t))},t.prototype.getPropertyValue=function(t,e){void 0===e&&(e=null);var r=w(this.propertiesIndex[B(t)]||[],1)[0];return r?r.value:e},t.prototype.getPropertyValues=function(t){return(this.propertiesIndex[B(t)]||[]).map((function(t){return t.value}))},t.prototype.addStatement=function(t){if(t.subject.value===this.url){var e=m.fromStatement(t);0===e.type&&this.types.push(e.value),this.statements.push(t),this.properties.push(e),this.propertiesIndex[e.name]=_(this.propertiesIndex[e.name]||[],[e])}},t}(),E=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},S=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(E(arguments[e]));return t},O=new(function(){function t(){}return t.prototype.create=function(t){return Array.isArray(t)?t:[t]},t.prototype.clean=function(t){return t.filter((function(t){return!!t}))},t.prototype.contains=function(t,e){return-1!==t.indexOf(e)},t.prototype.filter=function(t){return t.filter((function(t){return!!t}))},t.prototype.flatten=function(t){return t.reduce((function(t,e){return S(t,e)}),[])},t.prototype.last=function(t){return t[t.length-1]},t.prototype.make=function(t,e){return void 0===e&&(e=null),new Array(t).fill(e)},t.prototype.range=function(t){for(var e=[],r=0;r<t;r++)e.push(r);return e},t.prototype.removeItem=function(t,e){var r=t.indexOf(e);return-1!==r&&t.splice(r,1),e},t.prototype.unique=function(t,e){void 0===e&&(e=null);var r=t.map((function(t){return e?e(t):t}));return t.filter((function(t,e){return r.indexOf(r[e])===e}))},t.prototype.without=function(t,e){return t.filter((function(t){return-1===e.indexOf(t)}))},t.prototype.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],n=function(e){r.push(t.map((function(t){return t[e]})))},i=0;i<t[0].length;i++)n(i);return r},t}()),I=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},R=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},j=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},k=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(j(arguments[e]));return t},T=function(){function t(t,e,r){void 0===e&&(e=[]),void 0===r&&(r={}),this.url=t,this.statements=e,this.metadata=r,this.resourcesIndex=this.statements.reduce((function(t,e){var r=e.subject.value;return r in t||(t[r]=new x(r)),t[r].addStatement(e),t}),{}),this.resources=Object.values(this.resourcesIndex),this.properties=this.resources.reduce((function(t,e){return k(t,e.properties)}),[])}return t.prototype.isEmpty=function(){return 0===this.statements.length},t.prototype.hasProperty=function(t,e){return t in this.resourcesIndex&&e in this.resourcesIndex[t].propertiesIndex},t.prototype.toJsonLD=function(){return I(this,void 0,void 0,(function(){return R(this,(function(t){return[2,V.createJsonLD(this.statements)]}))}))},t.prototype.resource=function(t){var e;return null!==(e=this.resourcesIndex[t])&&void 0!==e?e:null},t.prototype.clone=function(e){var r=this;void 0===e&&(e=null);var n=new t(e||this.url),i=O.without(Object.getOwnPropertyNames(this),["url"]);return Object.assign(n,i.reduce((function(t,e){return t[e]=r[e],t}),{})),n},t}(),A=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=function(){return(C=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},P=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},D=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},N=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},L=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(N(arguments[e]));return t},M=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U={foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",pim:"http://www.w3.org/ns/pim/space#",posix:"http://www.w3.org/ns/posix/stat#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",xsd:"http://www.w3.org/2001/XMLSchema#"},F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A(e,t),e}(i.SoukaiError);function B(t,e){if(void 0===e&&(e={}),/^https?:\/\//.test(t))return t;var r=t.indexOf(":");if(-1===r)return t;e=C(C({},U),e);var n=t.substr(0,r);return n in e?e[n]+t.substr(n.length+1):t}var V=new(function(){function t(){}return t.prototype.parseTurtle=function(t,e){var r=this;return void 0===e&&(e={}),new Promise((function(n,i){var o=[],a=new u.Parser({baseIRI:e.baseUrl||"",format:e.format||"text/turtle"}),s={containsRelativeIRIs:!1,describedBy:r.getDescribedBy(e)},c=a._resolveRelativeIRI;a._resolveRelativeIRI=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.containsRelativeIRIs=!0,a._resolveRelativeIRI=c,a._resolveRelativeIRI.apply(a,L(t))},a.parse(t,(function(t,r){t?i(new F(t.message)):r?o.push(r):n(new T(e.baseUrl||"",o,s))}))}))},t.prototype.parseJsonLD=function(t){return P(this,void 0,void 0,(function(){return D(this,(function(e){return[2,new Promise((function(e,r){var n=[],i=new a.JsonLdParser({baseIRI:t["@id"]||""});i.on("data",(function(t){n.push(t)})),i.on("error",r),i.on("end",(function(){return e(new T(t["@id"]||null,n))})),i.write(JSON.stringify(t)),i.end()}))]}))}))},t.prototype.createJsonLD=function(t){return P(this,void 0,void 0,(function(){return D(this,(function(e){return t.sort((function(t,e){return t.subject.value.localeCompare(e.subject.value)})),[2,new Promise((function(e,r){var n,i,o=new s.JsonLdSerializer,a="";o.on("data",(function(t){return a+=t})),o.on("error",r),o.on("end",(function(){return e({"@graph":JSON.parse(a)})}));try{for(var u=M(t),c=u.next();!c.done;c=u.next()){var l=c.value;o.write(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o.end()}))]}))}))},t.prototype.flattenJsonLD=function(t){return P(this,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,this.parseJsonLD(t)];case 1:return[2,e.sent().toJsonLD()]}}))}))},t.prototype.getJsonLDProperty=function(t,e){if((e=B(e))in t)return this.getJsonLDPropertyValue(t[e]);if("@context"in t){var r=t["@context"],n=Object.entries(r).find((function(t){var r=N(t,2),n=(r[0],r[1]);return e.startsWith(n)}));if(n){var i=t[("@vocab"===n[0]?"":n[0]+":")+e.substr(n[1].length)];return this.getJsonLDPropertyValue(i)}}},t.prototype.getJsonLDPropertyValue=function(t){if(void 0!==t)return Array.isArray(t)&&1===t.length?t[0]:t},t.prototype.getDescribedBy=function(t){var e,r;if(null===(e=t.headers)||void 0===e?void 0:e.has("Link")){var n=null===(r=t.headers.get("Link"))||void 0===r?void 0:r.match(/<([^>]+)>; rel="describedBy"/i);if(n)return h.resolve(t.baseUrl||"",n[1])}},t}()),q=new(function(){function t(){}return t.prototype.slug=function(t){return t.replace(/[^\d\w]/g,"-").replace(/-+/g,"-").toLowerCase()},t.prototype.fixUrl=function(t){var e=t.indexOf("://")+3;return t.substr(0,e)+t.substr(e).replace(/\/\//g,"/")},t}()),G=new(function(){function t(){}return t.prototype.generate=function(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,this.generate)},t}()),$=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),J=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},z=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},H=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},W=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(K(arguments[e]));return t},Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $(e,t),e.prototype.resolve=function(){return J(this,void 0,void 0,(function(){var t,e,r,n,i,o,a,s,u,c=this;return z(this,(function(l){switch(l.label){case 0:this.__modelsInSameDocument&&this.__modelsInOtherDocumentIds||(this.__modelsInSameDocument=[],this.__modelsInOtherDocumentIds=this.parent.getAttribute(this.foreignKeyName)),t={};try{for(e=H(this.__modelsInOtherDocumentIds),r=e.next();!r.done;r=e.next())n=r.value,(i=h.parentDirectory(n))in t||(t[i]=[]),t[i].push(n)}catch(t){s={error:t}}finally{try{r&&!r.done&&(u=e.return)&&u.call(e)}finally{if(s)throw s.error}}return[4,Promise.all(Object.keys(t).map((function(e){return c.relatedClass.from(e).all({$in:t[e]})})))];case 1:return o=l.sent(),a=o.reduce((function(t,e){return t.push.apply(t,W(e)),t}),[]),this.related=W(this.__modelsInSameDocument,a),[2,this.related]}}))}))},e.prototype.__loadDocumentModels=function(t,e){return J(this,void 0,void 0,(function(){var r,n,o,a,s,u=this;return z(this,(function(c){switch(c.label){case 0:return r=new i.EngineHelper,n=this.parent.getAttribute(this.foreignKeyName),o=this.relatedClass.prepareEngineFilters(),a=e["@graph"].filter((function(t){return-1!==n.indexOf(t["@id"])})).reduce((function(t,e){return t[e["@id"]]={"@graph":[e]},t}),{}),s=this,[4,Promise.all(Object.entries(r.filterDocuments(a,o)).map((function(e){var r=K(e,2),n=r[0],i=r[1];return u.relatedClass.createFromEngineDocument(t,i,n)})))];case 1:return s.__modelsInSameDocument=c.sent(),this.__modelsInOtherDocumentIds=n.filter((function(t){return!u.__modelsInSameDocument.some((function(e){return e.url===t}))})),this.__modelsInOtherDocumentIds.length>0||(this.related=this.__modelsInSameDocument.slice(0)),[2]}}))}))},e}(i.BelongsToManyRelation),Q=function(){return(Q=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},X=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},tt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},et=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tt(arguments[e]));return t},rt=new(function(){function t(){}return t.prototype.tap=function(t,e){return e?(e(t),t):this.proxyTap(t)},t.prototype.proxyTap=function(t){var e=new Proxy(t,{get:function(t,r,n){var i=Reflect.get(t,r,n);return"function"!=typeof i?i:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return i.call.apply(i,et([t],r)),e}}});return e},t}()),nt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},it=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ot=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},at=function(){function t(){}return t.prototype.deleteModels=function(t){return nt(this,void 0,void 0,(function(){var e,r=this;return it(this,(function(n){switch(n.label){case 0:return e=this.decantDocumentModelsByContainer(t),[4,Promise.all(Object.entries(e).map((function(t){var e=ot(t,2),n=e[0],i=e[1];return r.deleteContainerDocumentsModels(n,i)})))];case 1:return n.sent(),[2]}}))}))},t.prototype.decantDocumentModelsByContainer=function(t){var e=this.decantModelsByDocument(t);return Object.entries(e).reduce((function(t,e){var r=ot(e,2),n=r[0],i=r[1],o=h.parentDirectory(n);return o in t||(t[o]=[]),t[o].push({documentUrl:n,models:i}),t}),{})},t.prototype.decantModelsByDocument=function(t){return t.reduce((function(t,e){var r=e.getDocumentUrl();return r in t||(t[r]=[]),t[r].push(e),t}),{})},t.prototype.deleteContainerDocumentsModels=function(t,e){return nt(this,void 0,void 0,(function(){var r,n=this;return it(this,(function(i){switch(i.label){case 0:return[4,o.a.requireEngine().readMany(t,{$in:e.map((function(t){return t.documentUrl}))})];case 1:return r=i.sent(),[4,Promise.all(e.map((function(e){var i=e.documentUrl,o=e.models;return n.deleteDocumentModels(r,t,i,o)})))];case 2:return i.sent(),[2]}}))}))},t.prototype.deleteDocumentModels=function(t,e,r,n){return nt(this,void 0,void 0,(function(){var i,a;return it(this,(function(s){switch(s.label){case 0:return i=o.a.requireEngine(),a=n.map((function(t){return t.url})),t[r]["@graph"].some((function(t){return!a.some((function(e){return e===t["@id"]}))}))?[3,2]:[4,i.delete(e,r)];case 1:return s.sent(),[2];case 2:return[4,i.update(e,r,{"@graph":{$updateItems:{$where:{"@id":{$in:a}},$unset:!0}}})];case 3:return s.sent(),[2]}}))}))},t}(),st=function(){return(st=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ut=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ct=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},ft=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ht=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lt(arguments[e]));return t},dt=function(){},pt=function(){function t(t,e){void 0===e&&(e=!0),this.declarations={},this.vocabs=Object.entries(t).map((function(t){var e=lt(t,2),r=e[0];return{name:r,iriPrefix:e[1],propertyPrefix:r+":",used:!1}})),this.compactIRIs=e,this.vocabs[0].name="@vocab",this.vocabs[0].propertyPrefix="",this.vocabs[0].used=!0}return t.prototype.compactIRI=function(t){var e,r;try{for(var n=ft(this.vocabs),i=n.next();!i.done;i=n.next()){var o=i.value;if(t.startsWith(o.iriPrefix))return o.used=!0,""+o.propertyPrefix+t.substr(o.iriPrefix.length)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t},t.prototype.addDeclaration=function(t,e){this.declarations[t]=e},t.prototype.toJsonLD=function(){var t=this.vocabs.filter((function(t){return t.used})).reduce((function(t,e){var r;return st(st({},t),((r={})[e.name]=e.iriPrefix,r))}),{});return st(st({},t),this.declarations)},t}(),vt=function(){function t(){}return t.prototype.serializeToJsonLD=function(t,e){var r,n;void 0===t&&(t=!0),e=e||new pt(this.modelClass.rdfContexts);var i={"@context":{},"@type":null};try{for(var o=ft(Object.entries(this.getAttributes())),a=o.next();!a.done;a=o.next()){var s=lt(a.value,2),u=s[0],c=s[1];this.setJsonLDField(i,u,c,e)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return t&&this.includeRelatedJsonLDInstances(i,e),this.setJsonLDTypes(i,e),this.setJsonLDContexts(i,e),i},t.prototype.convertJsonLDToAttributes=function(t){return ut(this,void 0,void 0,(function(){var e,r,n,i,o,a,s,u,c,l,f,h,d,p;return ct(this,(function(v){switch(v.label){case 0:return[4,V.parseJsonLD(t)];case 1:e=v.sent(),r=e.resource(t["@id"]),n=this.modelClass.fields,(i={})[this.modelClass.primaryKey]=t["@id"];try{for(o=ft(Object.entries(n)),a=o.next();!a.done;a=o.next())s=lt(a.value,2),u=s[0],c=s[1],u!==this.modelClass.primaryKey&&(l=lt(r.getPropertyValues(c.rdfProperty)),f=l[0],h=l.slice(1),void 0!==f&&(i[u]=h.length>0?ht([f],h):f))}catch(t){d={error:t}}finally{try{a&&!a.done&&(p=o.return)&&p.call(o)}finally{if(d)throw d.error}}return[2,i]}}))}))},t.prototype.convertEngineFiltersToJsonLD=function(t){var e={},r=new pt(this.modelClass.rdfContexts),n=ht(this.modelClass.rdfsClasses),i=n.map((function(t){return r.compactIRI(t)})),o=[];n.length>0&&(o.push({$contains:i}),o.push({$contains:n})),1===n.length&&(o.push({$eq:i[0]}),o.push({$eq:n[0]})),t.$in&&(e.$in=t.$in,delete t.$in);var a=this.convertAttributeValuesToJsonLD(t);return o.length>0&&(a["@type"]={$or:o}),Object.keys(a).length>0&&(e["@graph"]={$contains:a}),e},t.prototype.convertEngineUpdatesToJsonLD=function(t){return this.convertAttributeValuesToJsonLD(t)},t.prototype.setJsonLDField=function(t,e,r,n){if(e!==this.modelClass.primaryKey){var i=this.modelClass.fields[e],o=i?i.rdfProperty:this.getDefaultRdfContext()+e;this.setJsonLDProperty(t,n.compactIRIs?n.compactIRI(o):o,r,i)}else t["@id"]=r.toString()},t.prototype.includeRelatedJsonLDInstances=function(t,e){var r,n,o=this,a=this.modelClass.relations.map((function(t){return[t,o.getRelation(t)]})),s=function(r,n){if(!n.loaded||!(n instanceof i.HasManyRelation||n instanceof i.HasOneRelation))return"continue";var o=B(n.foreignKeyName,n.relatedClass.rdfContexts),a=function(t){var r=t.serializeToJsonLD(!1,e);return delete r["@context"],delete r[o],r};t[r]=n instanceof i.HasManyRelation?n.related.map((function(t){return a(t)})):a(n.related),e.addDeclaration(r,{"@reverse":o})};try{for(var u=ft(a),c=u.next();!c.done;c=u.next()){var l=lt(c.value,2);s(l[0],l[1])}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}},t.prototype.setJsonLDTypes=function(t,e){var r=ht(this.modelClass.rdfsClasses).map((function(t){return e.compactIRI(t)}));1===r.length?t["@type"]=r[0]:r.length>0&&(t["@type"]=r)},t.prototype.setJsonLDContexts=function(t,e){t["@context"]=e.toJsonLD()},t.prototype.setJsonLDProperty=function(t,e,r,n){return void 0===n&&(n=null),("object"!=typeof r||1!==Object.keys(r).length||Object.keys(r)[0].startsWith("$"))&&(r=this.castJsonLDValue(r,n)),!(r instanceof dt)&&(t[e]=r,!0)},t.prototype.castJsonLDValue=function(t,e){var r=this;switch(void 0===e&&(e=null),e&&e.type||null){case i.FieldType.Key:return{"@id":t.toString()};case i.FieldType.Date:return{"@type":"http://www.w3.org/2001/XMLSchema#dateTime","@value":new Date(t).toISOString()};case i.FieldType.Array:switch(t.length){case 0:return new dt;case 1:return this.castJsonLDValue(t[0],e.items);default:return t.map((function(t){return r.castJsonLDValue(t,e.items)}))}default:return JSON.parse(JSON.stringify(t))}},t.prototype.convertAttributeValuesToJsonLD=function(t){var e,r,n=new pt(this.modelClass.rdfContexts,!1),i={};try{for(var o=ft(Object.entries(t)),a=o.next();!a.done;a=o.next()){var s=lt(a.value,2),u=s[0],c=s[1];this.setJsonLDField(i,u,c,n)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i},t}(),yt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},bt=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},mt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},wt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(mt(arguments[e]));return t},_t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.__newModels=[],e.useSameDocument=!1,e}return yt(e,t),e.prototype.resolve=function(){return gt(this,void 0,void 0,(function(){var t;return bt(this,(function(e){switch(e.label){case 0:return this.__modelsInSameDocument&&this.__modelsInOtherDocumentIds?[4,this.relatedClass.all({$in:this.__modelsInOtherDocumentIds})]:[2,[]];case 1:return t=e.sent(),this.related=wt(this.__modelsInSameDocument,t),[2,this.related]}}))}))},e.prototype.create=function(t){return void 0===t&&(t={}),gt(this,void 0,void 0,(function(){var e;return bt(this,(function(r){switch(r.label){case 0:return this.assertLoaded("create"),e=this.relatedClass.newInstance(t),[4,this.save(e)];case 1:return r.sent(),[2,e]}}))}))},e.prototype.save=function(t){return gt(this,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return this.assertLoaded("save"),this.add(t),this.useSameDocument?[3,2]:[4,t.save()];case 1:return e.sent(),[3,4];case 2:return this.parent.exists()?[4,this.parent.save()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},e.prototype.add=function(t){this.assertLoaded("add"),this.related.includes(t)||this.__newModels.includes(t)||(this.parent.exists()&&this.initializeInverseRelations(t),t.exists()||this.__newModels.push(t),this.related.push(t))},e.prototype.usingSameDocument=function(t){return void 0===t&&(t=!0),this.useSameDocument=t,this},e.prototype.__loadDocumentModels=function(t,e){var r;return gt(this,void 0,void 0,(function(){var n,o,a,s,u,c=this;return bt(this,(function(l){switch(l.label){case 0:return n=new i.EngineHelper,o=null===(r=this.relatedClass.fields[this.foreignKeyName])||void 0===r?void 0:r.rdfProperty,a=this.relatedClass.prepareEngineFilters(),s=e["@graph"].filter((function(t){var e=V.getJsonLDProperty(t,o);return"object"==typeof e&&"@id"in e&&e["@id"]===c.parent.url})).reduce((function(t,e){return t[e["@id"]]={"@graph":[e]},t}),{}),u=this,[4,Promise.all(Object.entries(n.filterDocuments(s,a)).map((function(e){var r=mt(e,2),n=r[0],i=r[1];return c.relatedClass.createFromEngineDocument(t,i,n)})))];case 1:return u.__modelsInSameDocument=l.sent(),this.__modelsInOtherDocumentIds=Object.keys(s).filter((function(t){return!c.__modelsInSameDocument.some((function(e){return e.url===t}))})),this.__modelsInOtherDocumentIds.length>0||(this.related=this.__modelsInSameDocument.slice(0)),[2]}}))}))},e.prototype.initializeInverseRelations=function(t){var e,r,n=this.parent.constructor;try{for(var o=_t(this.relatedClass.relations),a=o.next();!a.done;a=o.next()){var s=a.value,u=t.getRelation(s);u.relatedClass===n&&(u instanceof i.BelongsToManyRelation?(t.setAttribute(u.foreignKeyName,[this.parent.url]),u.related=[this.parent]):u instanceof i.BelongsToOneRelation&&(t.setAttribute(u.foreignKeyName,this.parent.url),u.related=this.parent))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},e.prototype.assertLoaded=function(t){if(!this.loaded){if(this.parent.exists())throw new i.SoukaiError('The "'+t+'" method cannot be called before loading the relationship');this.related=[]}},e}(i.HasManyRelation),Et=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),St=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Ot=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},It=function(t){function e(e,r){return t.call(this,e,r,"url")||this}return Et(e,t),e.prototype.resolve=function(){return St(this,void 0,void 0,(function(){var t,e,r;return Ot(this,(function(n){switch(n.label){case 0:return t=this.relatedClass.collection,e=h.parentDirectory(this.parent.url),r=this,[4,this.relatedClass.from(h.parentDirectory(e)).find(e)];case 1:return r.related=n.sent(),this.relatedClass.collection=t,[2,this.related]}}))}))},e}(i.SingleModelRelation),Rt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jt=function(){return(jt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},kt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Tt=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},At=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Ct=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(At(arguments[e]));return t},Pt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._sourceDocumentUrl=null,e}return Rt(e,t),e.from=function(t){return this.collection=t,this},e.at=function(t){return this.from(t)},e.boot=function(e){var r=this;t.boot.call(this,e),this.rdfContexts=jt(jt({},this.rdfContexts),{solid:"http://www.w3.org/ns/solid/terms#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",ldp:"http://www.w3.org/ns/ldp#",purl:"http://purl.org/dc/terms/"});var n=this.instance.getDefaultRdfContext();for(var i in this.instance.hasAutomaticTimestamp("createdAt")&&void 0===this.fields.createdAt.rdfProperty&&(this.fields.createdAt.rdfProperty=B("purl:created")),this.instance.hasAutomaticTimestamp("updatedAt")&&void 0===this.fields.updatedAt.rdfProperty&&(this.fields.updatedAt.rdfProperty=B("purl:modified")),this.rdfsClasses=new Set(Ct(this.rdfsClasses).map((function(t){return-1===t.indexOf(":")?n+t:B(t,r.rdfContexts)}))),this.fields)this.fields[i].rdfProperty=B(this.fields[i].rdfProperty||""+n+i,this.rdfContexts);this.fields[this.primaryKey].rdfProperty=null},e.createFromEngineDocument=function(t,e,r){return this.instance.createFromEngineDocument(t,e,r)},e.find=function(t){return kt(this,void 0,void 0,(function(){var e,r,n,i;return Tt(this,(function(a){switch(a.label){case 0:e=this.instance.serializeKey(t),r=h.route(e),n=h.parentDirectory(r),this.ensureBooted(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.a.requireEngine().readOne(n,r)];case 2:return i=a.sent(),[2,this.instance.createFromEngineDocument(r,i,e)];case 3:return a.sent(),[2,null];case 4:return[2]}}))}))},e.all=function(e){var r=this;return void 0===e&&(e={}),e=this.prepareEngineFilters(e),this.withCollection((function(){return t.all.call(r,e)}))},e.prepareEngineFilters=function(t){return void 0===t&&(t={}),this.instance.convertEngineFiltersToJsonLD(t)},e.newInstance=function(t,e){return void 0===e&&(e=!1),new this(t,e)},e.newFromJsonLD=function(t,e){return kt(this,void 0,void 0,(function(){var r,n,i,o,a,s,u,c,l,f;return Tt(this,(function(d){switch(d.label){case 0:return[4,V.flattenJsonLD(t)];case 1:return r=d.sent(),n=e||h.route(t["@id"]),[4,this.instance.parseEngineDocumentAttributes(n,r,t["@id"])];case 2:return i=d.sent(),[4,(o=new this(i)).loadDocumentModels(n,r)];case 3:d.sent(),o.resetEngineData(),a=function(t){var e=o._relations[t],r=e.getLoadedModels();r.forEach((function(t){return t.resetEngineData()})),e instanceof xt&&(r.forEach((function(t){delete t[e.foreignKeyName],e.__newModels.push(t)})),e.__modelsInSameDocument=[])};try{for(s=Pt(this.relations),u=s.next();!u.done;u=s.next())c=u.value,a(c)}catch(t){l={error:t}}finally{try{u&&!u.done&&(f=s.return)&&f.call(s)}finally{if(l)throw l.error}}return[2,o]}}))}))},e.withCollection=function(t,e){return void 0===t&&(t=""),kt(this,void 0,void 0,(function(){var r,n;return Tt(this,(function(o){switch(o.label){case 0:if(r=this.collection,"string"!=typeof t&&(e=t,t=""),!e)throw new i.SoukaiError("Invalid method given to withCollection (SolidModel internals)");return this.collection=t||r,[4,e()];case 1:return n=o.sent(),this.collection=r,[2,n]}}))}))},e.prototype.save=function(e){var r=this;return this.modelClass.withCollection(e||this.guessCollection(),(function(){return kt(r,void 0,void 0,(function(){var e;return Tt(this,(function(r){switch(r.label){case 0:!this.url&&this.modelClass.mintsUrls&&this.mintUrl(),r.label=1;case 1:return r.trys.push([1,3,,5]),[4,t.prototype.save.call(this)];case 2:return r.sent(),[3,5];case 3:if(!((e=r.sent())instanceof i.DocumentAlreadyExists))throw e;return this.url=this.newUniqueUrl(this.url),[4,t.prototype.save.call(this)];case 4:return r.sent(),[3,5];case 5:return[2,this]}}))}))}))},e.prototype.delete=function(){var e=this;return this.modelClass.withCollection(this.guessCollection()||"",(function(){return t.prototype.delete.call(e)}))},e.prototype.mintUrl=function(t,e,r){this.setAttribute(this.modelClass.primaryKey,this.newUrl(t,r)),t&&(this._documentExists=null==e||e)},e.prototype.toJsonLD=function(){return this.serializeToJsonLD()},e.prototype.getIdAttribute=function(){return this.getAttribute("url")},e.prototype.setExists=function(e){this._documentExists=e&&this._documentExists,t.prototype.setExists.call(this,e)},e.prototype.documentExists=function(){return this._documentExists},e.prototype.setDocumentExists=function(t){this._documentExists=t},e.prototype.isDirty=function(e){return e?t.prototype.isDirty.call(this,e):!!t.prototype.isDirty.call(this)||this.getDirtyDocumentModels().length>0},e.prototype.getDocumentUrl=function(){return this.url?h.route(this.url):null},e.prototype.getSourceDocumentUrl=function(){return this._sourceDocumentUrl},e.prototype.getContainerUrl=function(){var t=this.getDocumentUrl();return t?h.parentDirectory(t):null},e.prototype.getSourceContainerUrl=function(){var t=this.getSourceDocumentUrl();return t?h.parentDirectory(t):null},e.prototype.initialize=function(e,r){t.prototype.initialize.call(this,e,r),this._documentExists=r},e.prototype.createFromEngineDocument=function(t,e,r){return kt(this,void 0,void 0,(function(){var n,i=this;return Tt(this,(function(o){switch(o.label){case 0:return[4,function(){return kt(i,void 0,void 0,(function(){var n;return Tt(this,(function(i){switch(i.label){case 0:return[4,this.parseEngineDocumentAttributes(t,e,r)];case 1:return(n=i.sent())[this.modelClass.primaryKey]=r||t,[2,new this.modelClass(n,!0)]}}))}))}()];case 1:return[4,(n=o.sent()).loadDocumentModels(t,e)];case 2:return o.sent(),[2,rt.tap(n,(function(e){return e._sourceDocumentUrl=t}))]}}))}))},e.prototype.createManyFromEngineDocuments=function(t){return kt(this,void 0,void 0,(function(){var e,r,n,i=this;return Tt(this,(function(o){switch(o.label){case 0:return e=Ct(this.modelClass.rdfsClasses),r=function(t){return!e.some((function(e){return!t.isType(e)}))},[4,Promise.all(Object.entries(t).map((function(t){var e=At(t,2),n=e[0],o=e[1];return kt(i,void 0,void 0,(function(){var t,e=this;return Tt(this,(function(i){switch(i.label){case 0:return[4,V.parseJsonLD(o)];case 1:return t=i.sent(),[2,Promise.all(t.resources.filter(r).map((function(t){return kt(e,void 0,void 0,(function(){return Tt(this,(function(e){return[2,this.createFromEngineDocument(n,o,t.url)]}))}))})))]}}))}))})))];case 1:return n=o.sent(),[2,O.flatten(n)]}}))}))},e.prototype.loadDocumentModels=function(t,e){return kt(this,void 0,void 0,(function(){var r;return Tt(this,(function(n){switch(n.label){case 0:return r=Object.values(this._relations).filter((function(t){return t instanceof xt||t instanceof Y})),[4,Promise.all(r.map((function(r){return r.__loadDocumentModels(t,e)})))];case 1:return n.sent(),[2]}}))}))},e.prototype.syncDirty=function(){return kt(this,void 0,void 0,(function(){var t,e,r,n,i,a,s=this;return Tt(this,(function(u){switch(u.label){case 0:return t=o.a.requireEngine(),e=this.getSerializedPrimaryKey(),r=this.getDocumentUrl(),n=function(){return t.create(s.modelClass.collection,s.toEngineDocument(),r||void 0)},i=function(){return t.update(s.modelClass.collection,r,{"@graph":{$push:s.serializeToJsonLD(!1)}})},a=function(){return t.update(s.modelClass.collection,r,s.getDirtyEngineDocumentUpdates())},[4,function(){return s._documentExists?s._exists?a():i():n()}()];case 1:return u.sent(),[2,e]}}))}))},e.prototype.cleanDirty=function(){var e,r,n;t.prototype.cleanDirty.call(this),this.getDirtyDocumentModels().map((function(t){return t.cleanDirty()})),this._documentExists=!0;var i=Object.values(this._relations).filter((function(t){return t instanceof xt&&t.useSameDocument}));try{for(var o=Pt(i),a=o.next();!a.done;a=o.next()){var s=a.value;s.__modelsInSameDocument=s.__modelsInSameDocument||[],(n=s.__modelsInSameDocument).push.apply(n,Ct(s.__newModels)),s.__newModels=[]}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},e.prototype.deleteModelsFromEngine=function(t){return kt(this,void 0,void 0,(function(){return Tt(this,(function(e){switch(e.label){case 0:return[4,this.deleteModels(t)];case 1:return e.sent(),[2]}}))}))},e.prototype.hasMany=function(t,e,r){return new xt(this,t,e,r)},e.prototype.belongsToMany=function(t,e,r){return new Y(this,t,e,r)},e.prototype.isContainedBy=function(t){return new It(this,t)},e.prototype.getDefaultRdfContext=function(){return Object.values(this.modelClass.rdfContexts).shift()||""},e.prototype.toEngineDocument=function(){return{"@graph":Ct([this.serializeToJsonLD(!1)],this.prepareDirtyDocumentModels().map((function(t){return t.serializeToJsonLD(!1)})))}},e.prototype.getDirtyEngineDocumentUpdates=function(){var e=[];if(e.push.apply(e,Ct(this.prepareDirtyDocumentModels().map((function(t){return{$push:t.serializeToJsonLD(!1)}})))),t.prototype.isDirty.call(this)){var r=t.prototype.getDirtyEngineDocumentUpdates.call(this);e.push({$updateItems:{$where:{"@id":this.url},$update:this.convertEngineUpdatesToJsonLD(r)}})}return 1===e.length?{"@graph":e[0]}:{"@graph":{$apply:e}}},e.prototype.parseEngineDocumentAttributes=function(t,e,r){return void 0===r&&(r=null),kt(this,void 0,void 0,(function(){var n;return Tt(this,(function(i){return r=r||t,n=e["@graph"].find((function(t){return t["@id"]===r})),[2,this.convertJsonLDToAttributes(n)]}))}))},e.prototype.castAttribute=function(e,r){return r&&r.type===i.FieldType.Array&&!Array.isArray(e)?[e]:t.prototype.castAttribute.call(this,e,r)},e.prototype.newUrl=function(t,e){return(t=null!=t?t:h.resolve(this.modelClass.collection,G.generate()))+"#"+(null!=e?e:this.modelClass.defaultResourceHash)},e.prototype.newUniqueUrl=function(t){return(t=null!=t?t:this.newUrl())+"-"+G.generate()},e.prototype.guessCollection=function(){if(this.url)return h.parentDirectory(this.url)},e.prototype.getDirtyDocumentModels=function(){var t=this,e=this.getDocumentUrl();return O.flatten(Object.values(this._relations).filter((function(t){return t.loaded&&t instanceof xt&&t.useSameDocument})).map((function(r){var n,i,o=Ct(r.__newModels),a=function(t){if(!t.isDirty()||t.getDocumentUrl()!==e||o.some((function(e){return e===t})))return"continue";o.push(t)};try{for(var s=Pt(r.getLoadedModels()),u=s.next();!u.done;u=s.next())a(u.value)}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o.forEach((function(e){return e.setAttribute(r.foreignKeyName,t.url)})),o})))},e.prototype.prepareDirtyDocumentModels=function(){var t=this,e=this.getDirtyDocumentModels();if(0===e.length)return[];this.url||this.mintUrl();var r=this.getDocumentUrl();return e.forEach((function(e){return!e.url&&e.mintUrl(r,t._documentExists,G.generate())})),e},e.primaryKey="url",e.rdfContexts={},e.rdfsClasses=[],e.defaultResourceHash="it",e.mintsUrls=!0,e}(i.Model);!function(t,e){var r,n,i=e.reduce((function(t,e){return Q(Q({},t),Object.getOwnPropertyDescriptors(e.prototype))}),{});try{for(var o=X(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=Z(a.value,2),u=s[0],c=s[1];Object.defineProperty(t.prototype,u,c)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}(Dt,[at,vt]);var Nt,Lt=Dt,Mt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.timestamps=["updatedAt"],e}(Lt),Ft=function(t,e){this.resourceUrl=t,this.newResourceUrl=e,this.type=2},Bt=function(t,e,r){this.resourceUrl=t,this.property=e,this.value=r,this.type=1},Vt=function(t){this.property=t,this.type=0},qt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(t){t.RDF="RDF"}(Nt||(Nt={}));var Gt=function(t){function e(e,r,n){var i=t.call(this,"Malformed "+r+" document found at "+e+" - "+n)||this;return i.documentUrl=e,i.documentFormat=r,i.malformationDetails=n,i}return qt(e,t),e}(i.SoukaiError),$t=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jt=function(t){function e(e,r){var n=t.call(this,e+" ("+r.message+")")||this;return n.original=r,n}return $t(e,t),e}(i.SoukaiError),zt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ht=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Kt=new(function(){function t(){}return t.prototype.createMap=function(t,e){var r,n,i={};try{for(var o=zt(t),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[e]]=s}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.prototype.deepEquals=function(t,e){if(t===e)return!0;var r=typeof t;if(r!==typeof e)return!1;if("object"!==r||null===t||null===e)return!1;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!this.deepEquals(t[n],e[n]))return!1;return!0},t.prototype.withoutEmpty=function(t){var e,r,n={};try{for(var i=zt(Object.entries(t)),o=i.next();!o.done;o=i.next()){var a=Ht(o.value,2),s=a[0],u=a[1];null!=u&&(n[s]=u)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t}()),Wt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Yt=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Qt=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},Xt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qt(arguments[e]));return t},Zt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},te=[B("ldp:contains"),B("posix:mtime"),B("posix:size"),B("purl:modified")],ee=[B("ldp:Container"),B("ldp:BasicContainer")],re=function(){function t(t){var e=this;this.fetch=function(r,n){return Wt(e,void 0,void 0,(function(){var e,i;return Yt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(r,n)];case 1:return[2,o.sent()];case 2:throw e=o.sent(),i="object"==typeof r?r.url:r,new Jt("Error fetching "+i,e);case 3:return[2]}}))}))}}return t.prototype.createDocument=function(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=[]),Wt(this,void 0,void 0,(function(){var n;return Yt(this,(function(i){return n=B("ldp:Container"),[2,r.some((function(t){return t.resourceUrl===e&&0===t.type&&t.value===n}))?this.createContainerDocument(t,e,r):this.createNonContainerDocument(t,e,r)]}))}))},t.prototype.getDocument=function(t){return Wt(this,void 0,void 0,(function(){var e,r,n;return Yt(this,(function(i){switch(i.label){case 0:return[4,this.fetch(t,{headers:{Accept:"text/turtle"}})];case 1:return 200!==(e=i.sent()).status?[2,null]:[4,e.text()];case 2:r=i.sent(),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,V.parseTurtle(r,{headers:e.headers,baseUrl:t})];case 4:return[2,i.sent()];case 5:throw n=i.sent(),new Gt(t,Nt.RDF,n.message);case 6:return[2]}}))}))},t.prototype.getDocuments=function(t,e){return void 0===e&&(e=!1),Wt(this,void 0,void 0,(function(){var r,n;return Yt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),e?[4,this.getContainerDocuments(t)]:[3,2];case 1:return r=i.sent(),[3,4];case 2:return[4,this.getNonContainerDocumentsUsingGlobbing(t)];case 3:r=i.sent(),i.label=4;case 4:return[2,r];case 5:if((n=i.sent())instanceof F)throw new Gt(t,Nt.RDF,n.message);return console.error(n),[2,[]];case 6:return[2]}}))}))},t.prototype.updateDocument=function(t,e){var r;return Wt(this,void 0,void 0,(function(){var n;return Yt(this,(function(o){switch(o.label){case 0:return 0===e.length?[2]:[4,this.getDocument(t)];case 1:if(null===(n=o.sent()))throw new i.DocumentNotFound(t);return this.processChangeUrlOperations(n,e),this.processUpdatePropertyOperations(n,e),(null===(r=n.resource(t))||void 0===r?void 0:r.isType(B("ldp:Container")))?[4,this.updateContainerDocument(n,e)]:[3,3];case 2:return o.sent(),[3,5];case 3:return[4,this.updateNonContainerDocument(n,e)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))},t.prototype.deleteDocument=function(t){var e;return Wt(this,void 0,void 0,(function(){var r,n,i,o=this;return Yt(this,(function(a){switch(a.label){case 0:return[4,this.getDocument(t)];case 1:return null===(r=a.sent())?[2]:(null===(e=r.resource(t))||void 0===e?void 0:e.isType(B("ldp:Container")))?[4,Promise.all([this.getDocuments(t,!0),this.getDocuments(t)])]:[3,4];case 2:return n=a.sent(),[4,Promise.all(O.flatten(n).map((function(t){return o.deleteDocument(t.url)})))];case 3:a.sent(),a.label=4;case 4:return[4,this.fetch(t,{method:"DELETE"})];case 5:return i=a.sent(),this.assertSuccessfulResponse(i,"Error deleting document at "+t),[2]}}))}))},t.prototype.documentExists=function(t){return Wt(this,void 0,void 0,(function(){var e;return Yt(this,(function(r){switch(r.label){case 0:return[4,this.fetch(t,{headers:{Accept:"text/turtle"}})];case 1:return 200!==(e=r.sent()).status?[3,3]:[4,e.text()];case 2:return[2,r.sent().length>0];case 3:if(404===e.status)return[2,!1];throw new i.SoukaiError("Couldn't determine if document at "+t+" exists, got "+e.status+" response");case 4:return[2]}}))}))},t.prototype.createContainerDocument=function(t,e,r){return Wt(this,void 0,void 0,(function(){var n,o;return Yt(this,(function(a){switch(a.label){case 0:if(e&&!e.startsWith(t))throw new i.SoukaiError("Explicit document url should start with the parent url");if(e&&!e.endsWith("/"))throw new i.SoukaiError("Container urls must end with a trailing slash, given "+e);return n=e?"at "+e:"under "+t,[4,this.fetch(t,{method:"POST",headers:Kt.withoutEmpty({"Content-Type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',Slug:e?h.directoryName(e):null}),body:m.toTurtle(this.withoutReservedContainerProperties(e,r),e)})];case 1:return o=a.sent(),this.assertSuccessfulResponse(o,"Error creating container "+n),[2,e||h.resolve(t,o.headers.get("Location")||"")]}}))}))},t.prototype.createNonContainerDocument=function(t,e,r){return Wt(this,void 0,void 0,(function(){var n,o;return Yt(this,(function(a){switch(a.label){case 0:return e?[3,2]:[4,this.fetch(t,{headers:{"Content-Type":"text/turtle"},method:"POST",body:m.toTurtle(r,e)})];case 1:return n=a.sent(),this.assertSuccessfulResponse(n,"Error creating document under "+t),[2,h.resolve(t,n.headers.get("Location")||"")];case 2:if(!e.startsWith(t))throw new i.SoukaiError("A minted document url should start with the parent url");return[4,this.fetch(e,{method:"PATCH",headers:{"Content-Type":"application/sparql-update","If-None-Match":"*"},body:"INSERT DATA { "+m.toTurtle(r,e)+" }"})];case 3:return o=a.sent(),this.assertSuccessfulResponse(o,"Error creating document at "+e),[2,e]}}))}))},t.prototype.getContainerDocuments=function(t){var e;return Wt(this,void 0,void 0,(function(){var r,n,i,o=this;return Yt(this,(function(a){switch(a.label){case 0:return[4,this.fetch(t,{headers:{Accept:"text/turtle"}})];case 1:return r=a.sent(),this.assertSuccessfulResponse(r,"Error getting container documents from "+t),[4,r.text()];case 2:return n=a.sent(),[4,V.parseTurtle(n,{baseUrl:t})];case 3:return i=a.sent(),[4,Promise.all((null===(e=i.resource(t))||void 0===e?void 0:e.getPropertyValues("ldp:contains").map((function(t){return i.resource(t)})).filter((function(t){return null!==t&&t.isType("ldp:Container")})).map((function(t){return o.getDocument(t.url)})))||[])];case 4:return[2,a.sent()]}}))}))},t.prototype.getNonContainerDocumentsUsingGlobbing=function(t){return Wt(this,void 0,void 0,(function(){var e,r,n,i;return Yt(this,(function(o){switch(o.label){case 0:return[4,this.fetch(t+"*",{headers:{Accept:"text/turtle"}})];case 1:return e=o.sent(),this.assertSuccessfulResponse(e,"Error getting container documents using globbing from "+t),[4,e.text()];case 2:return r=o.sent(),[4,V.parseTurtle(r,{baseUrl:t})];case 3:return n=o.sent(),i=n.statements.reduce((function(t,e){var r=h.clean(e.subject.value,{fragment:!1});return r in t||(t[r]=[]),t[r].push(e),t}),{}),[2,Object.entries(i).map((function(t){var e=Qt(t,2),r=e[0],n=e[1];return new T(r,n)}))]}}))}))},t.prototype.updateContainerDocument=function(t,e){return Wt(this,void 0,void 0,(function(){var r,n;return Yt(this,(function(i){switch(i.label){case 0:return r=function(e){return new Bt(t.url,e)},n=function(e){return new Bt(t.url,B("rdf:type"),e)},e.push.apply(e,Xt(te.map(r))),e.push.apply(e,Xt(ee.map(n))),[4,this.updateNonContainerDocument(t.clone(t.metadata.describedBy||t.url+".meta"),e)];case 1:return i.sent(),[2]}}))}))},t.prototype.updateNonContainerDocument=function(t,e){return Wt(this,void 0,void 0,(function(){var r,n,i,o,a,s;return Yt(this,(function(u){switch(u.label){case 0:return r=Qt(function(t){return t.reduce((function(t,e){switch(e.type){case 0:t[0].push(e.property);break;case 1:t[1].push(O.filter([e.resourceUrl,e.property,e.value]))}return t}),[[],[]])}(e),2),n=r[0],i=r[1],o=m.toTurtle(n,t.url),a=m.toTurtle(t.properties.filter((function(t){return i.some((function(e){var r=Qt(e,3),n=r[0],i=r[1],o=r[2];return!(n!==t.resourceUrl||i&&i!==t.name||o&&o!==t.value)}))})),t.url),[4,this.fetch(t.url,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:O.filter([a.length>0&&"DELETE DATA { "+a+" }",o.length>0&&"INSERT DATA { "+o+" }"]).join(" ; ")})];case 1:return s=u.sent(),this.assertSuccessfulResponse(s,"Error updating document at "+t.url),[2]}}))}))},t.prototype.withoutReservedContainerProperties=function(t,e){return e.filter((function(e){return e.resourceUrl!==t||!function(t){return O.contains(te,t.name)}(e)&&!function(t){return 0===t.type&&O.contains(ee,t.value)}(e)}))},t.prototype.processChangeUrlOperations=function(t,e){var r,n,i=function(t){var e;return t.reduce((function(t,e){return t[e.type].push(e),t}),((e={})[0]=[],e[1]=[],e[2]=[],e))}(e),o=function(r){var n=t.resource(r.resourceUrl);if(!n)return"continue";var o=i[0].filter((function(t){return t.property.resourceUrl===r.resourceUrl})),a=i[1].filter((function(t){return t.resourceUrl===r.resourceUrl}));o.forEach((function(t){return t.property=t.property.clone(r.newResourceUrl)})),a.forEach((function(t){return t.resourceUrl=r.newResourceUrl})),e.push(new Bt(r.resourceUrl)),e.push.apply(e,Xt(n.properties.filter((function(t){return!o.some((function(e){return e.property.name===t.name}))&&!a.some((function(e){return!e.property||e.property===t.name}))})).map((function(t){return new Vt(t.clone(r.newResourceUrl))})))),O.removeItem(e,r)};try{for(var a=Zt(i[2]),s=a.next();!s.done;s=a.next())o(s.value)}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.processUpdatePropertyOperations=function(t,e){var r,n,i=e.filter((function(e){return 0===e.type&&0!==e.property.type&&t.hasProperty(e.property.resourceUrl,e.property.name)}));try{for(var o=Zt(i),a=o.next();!a.done;a=o.next()){var s=a.value.property;e.push(new Bt(s.resourceUrl,s.name))}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t.prototype.assertSuccessfulResponse=function(t,e){if(2!==Math.floor(t.status/100))throw new i.SoukaiError(e+", returned "+t.status+" status code")},t}(),ne=function(){return(ne=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ie=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},oe=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ae=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},se=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ae(arguments[e]));return t},ue=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ce=function(){function t(t,e){void 0===e&&(e={}),this.listeners=[],this.helper=new i.EngineHelper,this.client=new re(t),this.config=ne({globbingBatchSize:5},e)}return t.prototype.create=function(t,e,r){return ie(this,void 0,void 0,(function(){var n,o;return oe(this,(function(a){switch(a.label){case 0:return this.validateJsonLDGraph(e),(n=r)?[4,this.client.documentExists(r)]:[3,2];case 1:n=a.sent(),a.label=2;case 2:if(n)throw new i.DocumentAlreadyExists(r);return[4,this.getJsonLDGraphProperties(e)];case 3:return o=a.sent(),[4,this.client.createDocument(t,r,o)];case 4:return[2,a.sent()]}}))}))},t.prototype.readOne=function(t,e){return ie(this,void 0,void 0,(function(){var t,r;return oe(this,(function(n){switch(n.label){case 0:return[4,this.client.getDocument(e)];case 1:if(null===(t=n.sent()))throw new i.DocumentNotFound(e);return r=this.convertToEngineDocument(t),this.emit("onRDFDocumentLoaded",t.url,t.metadata),[2,r]}}))}))},t.prototype.readMany=function(t,e){return void 0===e&&(e={}),ie(this,void 0,void 0,(function(){var r,n,i=this;return oe(this,(function(o){switch(o.label){case 0:return[4,this.getDocumentsForFilters(t,e)];case 1:return r=o.sent(),n=r.reduce((function(t,e){return t[e.url]=i.convertToEngineDocument(e),i.emit("onRDFDocumentLoaded",e.url,e.metadata),t}),{}),[2,this.helper.filterDocuments(n,e)]}}))}))},t.prototype.update=function(t,e,r){return ie(this,void 0,void 0,(function(){var t;return oe(this,(function(n){switch(n.label){case 0:return[4,this.extractJsonLDGraphUpdate(r)];case 1:return t=n.sent(),[4,this.client.updateDocument(e,t)];case 2:return n.sent(),[2]}}))}))},t.prototype.delete=function(t,e){return ie(this,void 0,void 0,(function(){return oe(this,(function(t){switch(t.label){case 0:return[4,this.client.deleteDocument(e)];case 1:return t.sent(),[2]}}))}))},t.prototype.addListener=function(t){this.listeners.push(t)},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);-1!==e&&this.listeners.splice(e,1)},t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.listeners.forEach((function(r){var n;return null===(n=r[t])||void 0===n?void 0:n.call.apply(n,se([r],e))}))},t.prototype.getDocumentsForFilters=function(t,e){return ie(this,void 0,void 0,(function(){var r,n;return oe(this,(function(i){switch(i.label){case 0:return r=this.extractJsonLDGraphTypes(e),e.$in?[4,this.getDocumentsFromUrls(e.$in,r)]:[3,2];case 1:return n=i.sent(),[3,4];case 2:return[4,this.getContainerDocuments(t,r)];case 3:n=i.sent(),i.label=4;case 4:return[2,n]}}))}))},t.prototype.getDocumentsFromUrls=function(t,e){return ie(this,void 0,void 0,(function(){var r,n,i,o=this;return oe(this,(function(a){switch(a.label){case 0:return r=t.reduce((function(t,e){var r,n=h.parentDirectory(e);return ne(ne({},t),((r={})[n]=se(t[n]||[],[e]),r))}),{}),n=Object.entries(r).map((function(t){var r=ae(t,2),n=r[0],i=r[1];return ie(o,void 0,void 0,(function(){var t,r=this;return oe(this,(function(o){switch(o.label){case 0:return null!==this.config.globbingBatchSize&&i.length>=this.config.globbingBatchSize?[2,this.getContainerDocuments(n,e)]:(t=i.map((function(t){return r.client.getDocument(t)})),[4,Promise.all(t)]);case 1:return[2,o.sent().filter((function(t){return null!=t}))]}}))}))})),[4,Promise.all(n)];case 1:return i=a.sent(),[2,O.flatten(i)]}}))}))},t.prototype.getContainerDocuments=function(t,e){return ie(this,void 0,void 0,(function(){return oe(this,(function(r){switch(r.label){case 0:return[4,this.client.getDocuments(t,-1!==e.indexOf(B("ldp:Container")))];case 1:return[2,r.sent()]}}))}))},t.prototype.convertToEngineDocument=function(t){return{"@graph":t.resources.map((function(t){var e,r,n={},i=function(t,e){var r=ae(e),i=r[0],o=r.slice(1),a=t,s=function(t){return t};switch(i.type){case 0:a="@type";break;case 1:s=function(t){return{"@id":t}};break;case 2:s=function(t){return t instanceof Date?{"@type":"http://www.w3.org/2001/XMLSchema#dateTime","@value":t.toISOString()}:t}}n[a]=0===o.length?s(i.value):se([i],o).map((function(t){return s(t.value)}))};try{for(var o=ue(Object.entries(t.propertiesIndex)),a=o.next();!a.done;a=o.next()){var s=ae(a.value,2);i(s[0],s[1])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n["@id"]=t.url,n}))}},t.prototype.validateJsonLDGraph=function(t){if(!Array.isArray(t["@graph"]))throw new i.SoukaiError("Invalid JSON-LD graph provided for SolidEngine. Are you using a model that isn't a SolidModel?")},t.prototype.extractJsonLDGraphUpdate=function(t){return ie(this,void 0,void 0,(function(){var e,r,n=this;return oe(this,(function(o){switch(o.label){case 0:if(!this.isJsonLDGraphUpdate(t))throw new i.SoukaiError("Invalid JSON-LD graph updates provided for SolidEngine. Are you using a model that isn't a SolidModel?");return e=[],t["@graph"].$updateItems&&e.push.apply(e,se(O.flatten(O.create(t["@graph"].$updateItems).map((function(t){return n.extractJsonLDGraphItemsUpdate(t)}))))),t["@graph"].$push?[4,this.extractJsonLDGraphItemPush(t["@graph"].$push)]:[3,2];case 1:r=o.sent(),e.push.apply(e,se(r)),o.label=2;case 2:return[2,e]}}))}))},t.prototype.extractJsonLDGraphItemsUpdate=function(t){var e,r,n=t.$where,o=t.$update,a=t.$unset;if(!n||!("@id"in n))throw new i.SoukaiError("Invalid JSON-LD graph updates provided for SolidEngine. Are you using a model that isn't a SolidModel?");if(a)return n["@id"].$in.map((function(t){return new Bt(t)}));var s=n["@id"],u=o,c=[];try{for(var l=ue(Object.entries(u)),f=l.next();!f.done;f=l.next()){var h=ae(f.value,2),d=h[0],p=h[1];if(null===p)throw new i.SoukaiError("SolidEngine doesn't support setting properties to null, delete");"object"==typeof p&&"$unset"in p?c.push(new Bt(s,d)):"object"==typeof p&&"@id"in p?c.push(new Vt(m.reference(s,d,p["@id"]))):"object"==typeof p&&"@type"in p&&"http://www.w3.org/2001/XMLSchema#dateTime"===p["@type"]?c.push(new Vt(m.literal(s,d,new Date(p["@value"])))):"@id"!==d?"@type"!==d?c.push(new Vt(m.literal(s,d,p))):c.push(new Vt(m.type(s,p))):c.push(new Ft(s,p))}}catch(t){e={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return c},t.prototype.extractJsonLDGraphItemPush=function(t){return ie(this,void 0,void 0,(function(){return oe(this,(function(e){switch(e.label){case 0:return[4,this.getJsonLDGraphProperties(t)];case 1:return[2,e.sent().map((function(t){return new Vt(t)}))]}}))}))},t.prototype.extractJsonLDGraphTypes=function(t){if(!this.isJsonLDGraphTypesFilter(t))return[];var e=t["@graph"].$contains["@type"].$or.reduce((function(t,e){return"$contains"in e&&t.push.apply(t,se(e.$contains)),"$eq"in e&&t.push(e.$eq),t}),[]);return O.unique(e.filter((function(t){return t.startsWith("http")})))},t.prototype.getJsonLDGraphProperties=function(t){return ie(this,void 0,void 0,(function(){return oe(this,(function(e){switch(e.label){case 0:return[4,V.parseJsonLD(t)];case 1:return[2,e.sent().properties]}}))}))},t.prototype.isJsonLDGraphUpdate=function(t){return"object"==typeof t["@graph"]&&("object"==typeof t["@graph"].$updateItems||"object"==typeof t["@graph"].$push)},t.prototype.isJsonLDGraphTypesFilter=function(t){return"object"==typeof t["@graph"]&&"object"==typeof t["@graph"].$contains&&"object"==typeof t["@graph"].$contains["@type"]&&Array.isArray(t["@graph"].$contains["@type"].$or)},t}(),le=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fe=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},he=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},de=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},pe=function(t){function e(e){return t.call(this,e,Ut,"resourceUrls")||this}return le(e,t),Object.defineProperty(e.prototype,"container",{get:function(){return this.parent},enumerable:!0,configurable:!0}),e.prototype.resolve=function(){return fe(this,void 0,void 0,(function(){var e,r=this;return he(this,(function(n){switch(n.label){case 0:return o.a.engine instanceof ce?[2,t.prototype.resolve.call(this)]:[4,o.a.engine.readMany(this.container.getDocumentUrl())];case 1:return e=n.sent(),this.related=Object.entries(e).map((function(t){var e=de(t,2),n=e[0],i=e[1];return new Ut({url:n,updatedAt:r.getLatestUpdateDate(i["@graph"])})})),[2,this.related]}}))}))},e.prototype.getLatestUpdateDate=function(t){var e=t.reduce((function(t,e){var r,n,i,o,a=(null!==(o=null!==(i=null!==(n=null!==(r=e["purl:modified"])&&void 0!==r?r:e["http://purl.org/dc/terms/modified"])&&void 0!==n?n:e["purl:created"])&&void 0!==i?i:e["http://purl.org/dc/terms/created"])&&void 0!==o?o:{"@value":0})["@value"],s=new Date(a).getTime();return Math.max(t,s)}),0);return new Date(e)},e}(Y),ve=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ye=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ge=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},be=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},me=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(be(arguments[e]));return t},we=function(t){function e(e,r){return t.call(this,e,r,"resourceUrls","url")||this}return ve(e,t),e.prototype.resolve=function(){return ye(this,void 0,void 0,(function(){var t;return ge(this,(function(e){switch(e.label){case 0:return t=this,[4,this.relatedClass.from(this.parent.url).all({$in:this.parent.resourceUrls})];case 1:return t.related=e.sent(),[2,this.related]}}))}))},e.prototype.create=function(t){return void 0===t&&(t={}),ye(this,void 0,void 0,(function(){var e;return ge(this,(function(r){switch(r.label){case 0:return e=this.relatedClass.newInstance(t),[4,this.save(e)];case 1:return r.sent(),[2,e]}}))}))},e.prototype.save=function(t){return ye(this,void 0,void 0,(function(){return ge(this,(function(e){switch(e.label){case 0:if(!this.parent.exists())throw new i.SoukaiError("Cannot save a model because the container doesn't exist");return[4,t.save(this.parent.url)];case 1:return e.sent(),o.a.engine instanceof ce?[3,3]:[4,this.parent.update({resourceUrls:me(this.parent.resourceUrls,[t.getDocumentUrl()])})];case 2:e.sent(),e.label=3;case 3:return this.loaded&&this.related.push(t),[2]}}))}))},e}(i.BelongsToManyRelation),_e=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xe=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Ee=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _e(e,t),e.boot=function(e){t.boot.call(this,e),this.rdfsClasses.add(B("ldp:Container")),this.fields.resourceUrls={type:i.FieldType.Array,required:!1,rdfProperty:"http://www.w3.org/ns/ldp#contains",items:{type:i.FieldType.Key}},Ut.boot("SolidDocument")},e.prototype.documentsRelationship=function(){return new pe(this)},e.prototype.save=function(e){return xe(this,void 0,void 0,(function(){return Ee(this,(function(r){switch(r.label){case 0:return[4,t.prototype.save.call(this,e)];case 1:return r.sent(),this.wasRecentlyCreated()&&!this.isRelationLoaded("documents")&&this.setRelationModels("documents",[]),[2,this]}}))}))},e.prototype.contains=function(t){return new we(this,t)},e.prototype.newUrl=function(){var t=this.hasAttribute("name")?q.slug(this.getAttribute("name")):G.generate();return h.resolveDirectory(this.modelClass.collection,t)},e.prototype.newUniqueUrl=function(t){t=null!=t?t:this.newUrl();var e=G.generate(),r=h.directoryName(t);return h.resolveDirectory(h.parentDirectory(t),r+"-"+e)},e}(Lt),Oe=new(function(){function t(){}return t.prototype.loadSolidModels=function(){o.a.loadModels({SolidDocument:Ut})},t}());e.default=Oe}])}))},e01a:function(t,e,r){"use strict";var n=r("23e7"),i=r("83ab"),o=r("da84"),a=r("5135"),s=r("861d"),u=r("9bf2").f,c=r("e893"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};c(h,l);var d=h.prototype=l.prototype;d.constructor=h;var p=d.toString,v="Symbol(test)"==String(l("test")),y=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(f,t))return"";var r=v?e.slice(7,-1):e.replace(y,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:h})}},e163:function(t,e,r){var n=r("5135"),i=r("7b0b"),o=r("f772"),a=r("e177"),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},e177:function(t,e,r){var n=r("d039");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,r){"use strict";var n=r("fc6a"),i=r("44d2"),o=r("3f8c"),a=r("69f3"),s=r("7dd0"),u="Array Iterator",c=a.set,l=a.getterFor(u);t.exports=s(Array,"Array",(function(t,e){c(this,{type:u,target:n(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(t,e,r){var n=r("6eeb");t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},e372:function(t,e,r){e=t.exports=r("ad71"),e.Stream=e,e.Readable=e,e.Writable=r("dc14"),e.Duplex=r("b19a"),e.Transform=r("27bf"),e.PassThrough=r("780f")},e3db:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},e423:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return l}));var n=r("276c"),i=r("e954"),o=r("92a6"),a=r("920b"),s=r("ddbf"),u=r("dfab"),c=r("6ea5"),l=function(t){Object(a["a"])(r,t);var e=Object(o["a"])(r);function r(){return Object(n["a"])(this,r),e.apply(this,arguments)}return Object(i["a"])(r,[{key:"movieRelationship",value:function(){return this.belongsToOne(c["default"],"object")}},{key:"fixLegacyAttributes",value:function(t,e){this._attributes.url=t,this._attributes.object=e}}]),r}(u["SolidModel"]);l.ldpResource=!1,l.rdfContexts={schema:"https://schema.org/"},l.rdfsClasses=["schema:WatchAction"],l.timestamps=["createdAt"],l.fields={object:{type:s["FieldType"].Key,rdfProperty:"schema:object",required:!0},startTime:s["FieldType"].Date,endTime:s["FieldType"].Date}},e439:function(t,e,r){var n=r("23e7"),i=r("d039"),o=r("fc6a"),a=r("06cf").f,s=r("83ab"),u=i((function(){a(1)})),c=!s||u;n({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},e43f:function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r("bd36"))},e538:function(t,e,r){var n=r("b622");e.f=n},e58c:function(t,e,r){"use strict";var n=r("fc6a"),i=r("a691"),o=r("50c4"),a=r("a640"),s=r("ae40"),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),d=l||!f||!h;t.exports=d?function(t){if(l)return c.apply(this,arguments)||0;var e=n(this),r=o(e.length),a=r-1;for(arguments.length>1&&(a=u(a,i(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:c},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e6cf:function(t,e,r){"use strict";var n,i,o,a,s=r("23e7"),u=r("c430"),c=r("da84"),l=r("d066"),f=r("fea9"),h=r("6eeb"),d=r("e2cc"),p=r("d44e"),v=r("2626"),y=r("861d"),g=r("1c0b"),b=r("19aa"),m=r("c6b6"),w=r("8925"),_=r("2266"),x=r("1c7e"),E=r("4840"),S=r("2cf4").set,O=r("b575"),I=r("cdf9"),R=r("44de"),j=r("f069"),k=r("e667"),T=r("69f3"),A=r("94ca"),C=r("b622"),P=r("2d00"),D=C("species"),N="Promise",L=T.get,M=T.set,U=T.getterFor(N),F=f,B=c.TypeError,V=c.document,q=c.process,G=l("fetch"),$=j.f,J=$,z="process"==m(q),H=!!(V&&V.createEvent&&c.dispatchEvent),K="unhandledrejection",W="rejectionhandled",Y=0,Q=1,X=2,Z=1,tt=2,et=A(N,(function(){var t=w(F)!==String(F);if(!t){if(66===P)return!0;if(!z&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype["finally"])return!0;if(P>=51&&/native code/.test(F))return!1;var e=F.resolve(1),r=function(t){t((function(){}),(function(){}))},n=e.constructor={};return n[D]=r,!(e.then((function(){}))instanceof r)})),rt=et||!x((function(t){F.all(t)["catch"]((function(){}))})),nt=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},it=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;O((function(){var i=e.value,o=e.state==Q,a=0;while(n.length>a){var s,u,c,l=n[a++],f=o?l.ok:l.fail,h=l.resolve,d=l.reject,p=l.domain;try{f?(o||(e.rejection===tt&&ut(t,e),e.rejection=Z),!0===f?s=i:(p&&p.enter(),s=f(i),p&&(p.exit(),c=!0)),s===l.promise?d(B("Promise-chain cycle")):(u=nt(s))?u.call(s,h,d):h(s)):d(i)}catch(v){p&&!c&&p.exit(),d(v)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&at(t,e)}))}},ot=function(t,e,r){var n,i;H?(n=V.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},(i=c["on"+t])?i(n):t===K&&R("Unhandled promise rejection",r)},at=function(t,e){S.call(c,(function(){var r,n=e.value,i=st(e);if(i&&(r=k((function(){z?q.emit("unhandledRejection",n,t):ot(K,t,n)})),e.rejection=z||st(e)?tt:Z,r.error))throw r.value}))},st=function(t){return t.rejection!==Z&&!t.parent},ut=function(t,e){S.call(c,(function(){z?q.emit("rejectionHandled",t):ot(W,t,e.value)}))},ct=function(t,e,r,n){return function(i){t(e,r,i,n)}},lt=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=X,it(t,e,!0))},ft=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw B("Promise can't be resolved itself");var i=nt(r);i?O((function(){var n={done:!1};try{i.call(r,ct(ft,t,n,e),ct(lt,t,n,e))}catch(o){lt(t,n,o,e)}})):(e.value=r,e.state=Q,it(t,e,!1))}catch(o){lt(t,{done:!1},o,e)}}};et&&(F=function(t){b(this,F,N),g(t),n.call(this);var e=L(this);try{t(ct(ft,this,e),ct(lt,this,e))}catch(r){lt(this,e,r)}},n=function(t){M(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Y,value:void 0})},n.prototype=d(F.prototype,{then:function(t,e){var r=U(this),n=$(E(this,F));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=z?q.domain:void 0,r.parent=!0,r.reactions.push(n),r.state!=Y&&it(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=L(t);this.promise=t,this.resolve=ct(ft,t,e),this.reject=ct(lt,t,e)},j.f=$=function(t){return t===F||t===o?new i(t):J(t)},u||"function"!=typeof f||(a=f.prototype.then,h(f.prototype,"then",(function(t,e){var r=this;return new F((function(t,e){a.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(F,G.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:et},{Promise:F}),p(F,N,!1,!0),v(N),o=l(N),s({target:N,stat:!0,forced:et},{reject:function(t){var e=$(this);return e.reject.call(void 0,t),e.promise}}),s({target:N,stat:!0,forced:u||et},{resolve:function(t){return I(u&&this===o?F:this,t)}}),s({target:N,stat:!0,forced:rt},{all:function(t){var e=this,r=$(e),n=r.resolve,i=r.reject,o=k((function(){var r=g(e.resolve),o=[],a=0,s=1;_(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,r.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=$(e),n=r.reject,i=k((function(){var i=g(e.resolve);_(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},e6e5:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r("4f5c"),e),i(r("56af"),e),i(r("fb42"),e),i(r("0bc7"),e),i(r("21ee"),e),i(r("424d"),e),i(r("5bc9"),e)},e870:function(t,e,r){"use strict";(function(t){var e=r("c64a");t.window=t,Object(e["a"])(t)}).call(this,r("c8ba"))},e893:function(t,e,r){var n=r("5135"),i=r("56ef"),o=r("06cf"),a=r("9bf2");t.exports=function(t,e){for(var r=i(e),s=a.f,u=o.f,c=0;c<r.length;c++){var l=r[c];n(t,l)||s(t,l,u(e,l))}}},e8b5:function(t,e,r){var n=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e8f5:function(t,e,r){"use strict";(function(t){r.d(e,"b",(function(){return s})),r.d(e,"e",(function(){return u})),r.d(e,"d",(function(){return h})),r.d(e,"c",(function(){return y})),r.d(e,"a",(function(){return g}));r("9ab4");var n=r("f404"),i=r("c020"),o=r("f7f6"),a=r("fbdd");function s(t,e,r){if(e in t){var n=t[e],i=r(n);if("function"===typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(o){}t[e]=i}}function u(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function c(t){if(Object(n["d"])(t)){var e=t,r={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}if(Object(n["f"])(t)){var a=t,s={};s.type=a.type;try{s.target=Object(n["c"])(a.target)?Object(o["h"])(a.target):Object.prototype.toString.call(a.target)}catch(u){s.target="<unknown>"}try{s.currentTarget=Object(n["c"])(a.currentTarget)?Object(o["h"])(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(u){s.currentTarget="<unknown>"}for(var i in"undefined"!==typeof CustomEvent&&Object(n["g"])(t,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a);return s}return t}function l(t){return~-encodeURI(t).split(/%..|./).length}function f(t){return l(JSON.stringify(t))}function h(t,e,r){void 0===e&&(e=3),void 0===r&&(r=102400);var n=y(t,e);return f(n)>r?h(t,e-1,r):n}function d(t){var e=Object.prototype.toString.call(t);if("string"===typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var r=p(t);return Object(n["i"])(r)?r:e}function p(e,r){return"domain"===r&&e&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===r?"[DomainEmitter]":"undefined"!==typeof t&&e===t?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":Object(n["l"])(e)?"[SyntheticEvent]":"number"===typeof e&&e!==e?"[NaN]":void 0===e?"[undefined]":"function"===typeof e?"[Function: "+Object(o["e"])(e)+"]":e}function v(t,e,r,o){if(void 0===r&&(r=1/0),void 0===o&&(o=new i["a"]),0===r)return d(e);if(null!==e&&void 0!==e&&"function"===typeof e.toJSON)return e.toJSON();var a=p(e,t);if(Object(n["i"])(a))return a;var s=c(e),u=Array.isArray(e)?[]:{};if(o.memoize(e))return"[Circular ~]";for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(u[l]=v(l,s[l],r-1,o));return o.unmemoize(e),u}function y(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,r){return v(t,r,e)})))}catch(r){return"**non-serializable**"}}function g(t,e){void 0===e&&(e=40);var r=Object.keys(c(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return Object(a["d"])(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:Object(a["d"])(i,e)}return""}}).call(this,r("c8ba"))},e954:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.d(e,"a",(function(){return i}))},e95a:function(t,e,r){var n=r("b622"),i=r("3f8c"),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},f069:function(t,e,r){"use strict";var n=r("1c0b"),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},f071:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerLanguage=void 0;const n=r("e6e5");class i{canCombineWithGraph(){return!1}async handle(t,e,r,i,o,a){const s=await r.getContainerKey(i[a],i,a);if(Array.isArray(o))o=o.map(t=>({"@value":t,"@language":s}));else{if("string"!==typeof o)throw new n.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(o)}', but expected string`,n.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);o={"@value":o,"@language":s}}await e.newOnValueJob(i.slice(0,i.length-1),o,a-1,!0),e.emittedStack[a]=!1}}e.ContainerHandlerLanguage=i},f20d:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("3410"),r("131a");function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}},f232:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeyword=void 0;class n{constructor(t){this.keyword=t}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,n,i){return!1}async test(t,e,r,n,i){return r===this.keyword}}e.EntryHandlerKeyword=n},f3bd:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return f}));var n=r("ff5e");const{xsd:i}=n["a"],{fromCharCode:o}=String;var a=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,s={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},u=/[\x00-\x20<>\\"\{\}\|\^\`]/,c={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},l=/$0^/;class f{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s()\[\]\{\}"'<])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode)for(var e in this._n3Mode=!1,this)!(e in c)&&this[e]instanceof RegExp&&(this[e]=l);else this._n3Mode=!1!==t.n3;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,e){var r=this._input,n=this._comments;while(1){var o,a;while(o=this._newline.exec(r))n&&(a=this._comment.exec(o[0]))&&t(null,{line:this._line,type:"comment",value:a[1],prefix:""}),r=r.substr(o[0].length,r.length),this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return e&&(n&&(a=this._comment.exec(r))&&t(null,{line:this._line,type:"comment",value:a[1],prefix:""}),t(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;var s=this._line,c="",l="",f="",h=r[0],d=null,p=0,v=!1;switch(h){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(p=1,c="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){v=!0;break}case"<":if(d=this._unescapedIri.exec(r))c="IRI",l=d[1];else if(d=this._iri.exec(r)){if(l=this._unescape(d[1]),null===l||u.test(l))return g(this);c="IRI"}else this._n3Mode&&r.length>1&&"="===r[1]&&(c="inverse",p=2,l=">");break;case"_":((d=this._blank.exec(r))||e&&(d=this._blank.exec(r+" ")))&&(c="blank",f="_",l=d[1]);break;case'"':if(d=this._simpleQuotedString.exec(r))l=d[1];else if(({value:l,matchLength:p}=this._parseLiteral(r)),null===l)return g(this);null===d&&0===p||(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(d=this._simpleApostropheString.exec(r))l=d[1];else if(({value:l,matchLength:p}=this._parseLiteral(r)),null===l)return g(this);null===d&&0===p||(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(d=this._variable.exec(r))&&(c="var",l=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(r))?(c="langcode",l=d[1]):(d=this._keyword.exec(r))&&(c=d[0]);break;case".":if(1===r.length?e:r[1]<"0"||r[1]>"9"){c=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(r)||e&&(d=this._number.exec(r+" ")))&&(c="literal",l=d[0],f="string"===typeof d[1]?i.double:"string"===typeof d[2]?i.decimal:i.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(r))?c=d[0].toUpperCase():v=!0;break;case"f":case"t":(d=this._boolean.exec(r))?(c="literal",l=d[0],f=i.boolean):v=!0;break;case"a":(d=this._shortPredicates.exec(r))?(c="abbreviation",l="a"):v=!0;break;case"=":this._n3Mode&&r.length>1&&(c="abbreviation",">"!==r[1]?(p=1,l="="):(p=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(p=1,c=h);break;default:v=!0}if(v&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(r))?((d=this._prefixed.exec(r))||e&&(d=this._prefixed.exec(r+" ")))&&(c="prefixed",f=d[1]||"",l=this._unescape(d[2])):(c="prefix",l=d[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return e||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?g(this):this._input=r;var y={line:s,type:c,value:l,prefix:f};t(null,y),this.previousToken=y,this._previousMarker=c,r=r.substr(p||d[0].length,r.length)}function g(e){t(e._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){try{return t.replace(a,(function(t,e,r,n){var i;if(e){if(i=parseInt(e,16),isNaN(i))throw new Error;return o(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<=65535?o(i):o(55296+(i-=65536)/1024,56320+(1023&i))}var a=s[n];if(!a)throw new Error;return a}))}catch(e){return null}}_parseLiteral(t){if(t.length>=3){const e=t.match(/^(?:"""|"|'''|'|)/)[0],r=e.length;let n=Math.max(this._literalClosingPos,r);while((n=t.indexOf(e,n))>0){let e=0;while("\\"===t[n-e-1])e++;if(e%2===0){const e=t.substring(r,n),i=e.split(/\r\n|\r|\n/).length-1,o=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(e),matchLength:o}}n++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;var e=new Error('Unexpected "'+t+'" on line '+this._line+".");return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}tokenize(e,r){var n=this;if(this._line=1,"string"===typeof e){if(this._input=e,"function"!==typeof r){var i,o=[];if(this._tokenizeToEnd((function(t,e){t?i=t:o.push(e)}),!0),i)throw i;return o}setImmediate((function(){n._tokenizeToEnd(r,!0)}))}else this._input="",this._pendingBuffer=null,"function"===typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(function(e){null!==n._input&&0!==e.length&&(n._pendingBuffer&&(e=t.concat([n._pendingBuffer,e]),n._pendingBuffer=null),128&e[e.length-1]?n._pendingBuffer=e:(n._input+=e,n._tokenizeToEnd(r,!1)))})),e.on("end",(function(){null!==n._input&&n._tokenizeToEnd(r,!0)})),e.on("error",r)}}}).call(this,r("b639").Buffer)},f3f3:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var n=r("fc11");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},f404:function(t,e,r){"use strict";function n(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return v(t,Error)}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function u(t){return null===t||"object"!==typeof t&&"function"!==typeof t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!==typeof Event&&v(t,Event)}function f(t){return"undefined"!==typeof Element&&v(t,Element)}function h(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function d(t){return Boolean(t&&t.then&&"function"===typeof t.then)}function p(t){return c(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t,e){try{return t instanceof e}catch(r){return!1}}r.d(e,"d",(function(){return n})),r.d(e,"e",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"k",(function(){return s})),r.d(e,"i",(function(){return u})),r.d(e,"h",(function(){return c})),r.d(e,"f",(function(){return l})),r.d(e,"c",(function(){return f})),r.d(e,"j",(function(){return h})),r.d(e,"m",(function(){return d})),r.d(e,"l",(function(){return p})),r.d(e,"g",(function(){return v}))},f5df:function(t,e,r){var n=r("00ee"),i=r("c6b6"),o=r("b622"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(r){}};t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(e=Object(t),a))?r:s?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},f772:function(t,e,r){var n=r("5692"),i=r("90e3"),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},f7f6:function(t,e,r){"use strict";(function(t,n,i){r.d(e,"i",(function(){return s})),r.d(e,"f",(function(){return c})),r.d(e,"m",(function(){return l})),r.d(e,"k",(function(){return f})),r.d(e,"d",(function(){return h})),r.d(e,"c",(function(){return d})),r.d(e,"b",(function(){return p})),r.d(e,"a",(function(){return v})),r.d(e,"g",(function(){return y})),r.d(e,"h",(function(){return g})),r.d(e,"l",(function(){return E})),r.d(e,"j",(function(){return O})),r.d(e,"e",(function(){return R}));var o=r("f404");r("fbdd");function a(t,e){return t.require(e)}function s(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof t?t:0)}var u={};function c(){return s()?n:"undefined"!==typeof window?window:"undefined"!==typeof self?self:u}function l(){var t=c(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=4095&r[3]|16384,r[4]=16383&r[4]|32768;var n=function(t){var e=t.toString(16);while(e.length<4)e="0"+e;return e};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,r="x"===t?e:3&e|8;return r.toString(16)}))}function f(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}function h(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function d(t){var e=c(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach((function(t){t in e.console&&n[t].__sentry_original__&&(i[t]=n[t],n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(i).forEach((function(t){n[t]=i[t]})),o}function p(t,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||r||"Error"}function v(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(r){t.exception.values[0].mechanism[r]=e[r]}))}catch(r){}}function y(){try{return document.location.href}catch(t){return""}}function g(t){try{var e=t,r=5,n=80,i=[],o=0,a=0,s=" > ",u=s.length,c=void 0;while(e&&o++<r){if(c=b(e),"html"===c||o>1&&a+i.length*u+c.length>=n)break;i.push(c),a+=c.length,e=e.parentNode}return i.reverse().join(s)}catch(l){return"<unknown>"}}function b(t){var e,r,n,i,a,s=t,u=[];if(!s||!s.tagName)return"";if(u.push(s.tagName.toLowerCase()),s.id&&u.push("#"+s.id),e=s.className,e&&Object(o["k"])(e))for(r=e.split(/\s+/),a=0;a<r.length;a++)u.push("."+r[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)n=c[a],i=s.getAttribute(n),i&&u.push("["+n+'="'+i+'"]');return u.join("")}var m=Date.now(),w=0,_={now:function(){var t=Date.now()-m;return t<w&&(t=w),w=t,t},timeOrigin:m},x=function(){if(s())try{var t=a(i,"perf_hooks");return t.performance}catch(r){return _}var e=c().performance;return e&&e.now?(void 0===e.timeOrigin&&(e.timeOrigin=e.timing&&e.timing.navigationStart||m),e):_}();function E(){return(x.timeOrigin+x.now())/1e3}var S=6e4;function O(t,e){if(!e)return S;var r=parseInt(""+e,10);if(!isNaN(r))return 1e3*r;var n=Date.parse(""+e);return isNaN(n)?S:n-t}var I="<anonymous>";function R(t){try{return t&&"function"===typeof t&&t.name||I}catch(e){return I}}}).call(this,r("4362"),r("c8ba"),r("dd40")(t))},faa1:function(t,e,r){"use strict";var n,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};function a(t){console&&console.warn&&console.warn(t)}n=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!==t};function u(){u.init.call(this)}t.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function f(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function h(t,e,r,n){var i,o,s;if(l(r),o=t._events,void 0===o?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"===typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=f(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a(u)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function v(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?m(i):g(i,i.length)}function y(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function b(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function m(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"===typeof u)o(u,this,e);else{var c=u.length,l=g(u,c);for(r=0;r<c;++r)o(l[r],this,e)}return!0},u.prototype.addListener=function(t,e){return h(this,t,e,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,e){return h(this,t,e,!0)},u.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},u.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},u.prototype.removeListener=function(t,e){var r,n,i,o,a;if(l(e),n=this._events,void 0===n)return this;if(r=n[t],void 0===r)return this;if(r===e||r.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():b(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var e,r,n;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)i=o[n],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},u.prototype.listeners=function(t){return v(this,t,!0)},u.prototype.rawListeners=function(t){return v(this,t,!1)},u.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},fb42:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):i(t.value).then(a,s)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0,r("7274");const i=r("56af"),o=r("c7e2"),a=r("e43f");class s{constructor(t){this.fetcher=t}load(t){return n(this,void 0,void 0,(function*(){const e=yield(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(e.ok&&e.headers){let r=e.headers.get("Content-Type");if(r){const t=r.indexOf(";");t>0&&(r=r.substr(0,t))}if("application/ld+json"===r)return yield e.json();if(e.headers.has("Link")){let r;if(e.headers.forEach((e,n)=>{if("link"===n){const n=o.parse(e);for(const e of n.get("type","application/ld+json"))if("alternate"===e.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+t);r=a.resolve(e.uri,t)}}}),r)return this.load(r)}throw new i.ErrorCoded("Unsupported JSON-LD media type "+r,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(e.statusText||"Status code: "+e.status)}))}}e.FetchDocumentLoader=s},fb6a:function(t,e,r){"use strict";var n=r("23e7"),i=r("861d"),o=r("e8b5"),a=r("23cb"),s=r("50c4"),u=r("fc6a"),c=r("8418"),l=r("b622"),f=r("1dde"),h=r("ae40"),d=f("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),y=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var r,n,l,f=u(this),h=s(f.length),d=a(t,h),p=a(void 0===e?h:e,h);if(o(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?i(r)&&(r=r[v],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return y.call(f,d,p);for(n=new(void 0===r?Array:r)(g(p-d,0)),l=0;d<p;d++,l++)d in f&&c(n,l,f[d]);return n.length=l,n}})},fbd1:function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));r("4de4"),r("7db0"),r("d81d"),r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0");var n=r("d0af"),i=(r("96cf"),r("c964")),o=r("276c"),a=r("e954"),s=r("92a6"),u=r("920b"),c=r("d709"),l=r("2197"),f=r("dfab"),h=r("ddbf"),d=r.n(h),p=r("b0d7"),v=r("5e9c"),y=r("3349"),g=r("cd34"),b=r("191b"),m=function(t){Object(u["a"])(r,t);var e=Object(s["a"])(r);function r(t){var n,i,a;return Object(o["a"])(this,r),a=e.call(this,null!==(n=t.name)&&void 0!==n?n:"Unknown",null!==(i=t.avatarUrl)&&void 0!==i?i:null),a.profile=t,a}return Object(a["a"])(r,[{key:"initSoukaiEngine",value:function(){d.a.useEngine(new f["SolidEngine"](b["a"].fetch,{globbingBatchSize:null}))}},{key:"logout",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b["a"].logout();case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"toJSON",value:function(){return this.profile}},{key:"getCachedMoviesContainer",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getMoviesContainerDocument();case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return",null);case 5:return t.next=7,v["a"].getFromDocument(e,1e4);case 7:return r=t.sent,i=(r||[]).filter((function(t){return t.modelClass===p["default"]})),o=Object(n["a"])(i,1),a=o[0],t.abrupt("return",a||null);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"initMoviesContainer",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new Date,t.next=3,this.getMoviesContainerUrl();case 3:if(r=t.sent,!r){t.next=10;break}return t.next=7,p["default"].find(r);case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=null;case 11:if(n=t.t0,t.t1=n,t.t1){t.next=17;break}return t.next=16,this.createMoviesContainer();case 16:t.t1=t.sent;case 17:return i=t.t1,v["a"].rememberDocument(i.url,e),v["a"].remember(i,Object(l["objectWithoutEmpty"])({documents:i.documents})),t.abrupt("return",i);case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getMoviesContainerDocument",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getMoviesContainerUrl();case 2:if(t.t1=e=t.sent,t.t0=null!==t.t1,!t.t0){t.next=6;break}t.t0=void 0!==e;case 6:if(!t.t0){t.next=10;break}t.t2=e,t.next=11;break;case 10:t.t2="";case 11:if(r=t.t2,n=Object(l["urlParentDirectory"])(r),n){t.next=15;break}return t.abrupt("return",null);case 15:return t.prev=15,t.next=18,Object(c["fetchSolidDocument"])(n,b["a"].fetch);case 18:return i=t.sent,o=i.statement(r,"purl:modified"),t.abrupt("return",o?new f["SolidDocument"]({url:r,updatedAt:new Date(o.object.value)},!0):null);case 23:return t.prev=23,t.t3=t["catch"](15),t.abrupt("return",null);case 26:case"end":return t.stop()}}),t,this,[[15,23]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getMoviesContainerUrl",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("undefined"!==typeof this.moviesContainerUrl){t.next=4;break}return t.next=3,this.fetchMoviesContainerUrl();case 3:this.moviesContainerUrl=t.sent;case 4:return t.abrupt("return",this.moviesContainerUrl);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"fetchMoviesContainerUrl",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,null===(e=this.profile.privateTypeIndexUrl)||void 0===e){t.next=5;break}t.t0=e,t.next=8;break;case 5:return t.next=7,this.createTypeIndex();case 7:t.t0=t.sent;case 8:return i=t.t0,t.next=11,Object(c["fetchSolidDocument"])(i,b["a"].fetch);case 11:return o=t.sent,a=o.statements(void 0,"rdf:type","solid:TypeRegistration").find((function(t){return o.contains(t.subject.value,"solid:forClass","schema:Movie")&&o.contains(t.subject.value,"solid:instanceContainer")})),t.abrupt("return",a&&null!==(r=null===(n=o.statement(a.subject.value,"solid:instanceContainer"))||void 0===n?void 0:n.object.value)&&void 0!==r?r:null);case 16:return t.prev=16,t.t1=t["catch"](0),t.abrupt("return",null);case 19:case"end":return t.stop()}}),t,this,[[0,16]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"createMoviesContainer",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i,o,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===(e=this.profile.privateTypeIndexUrl)||void 0===e){t.next=4;break}t.t0=e,t.next=7;break;case 4:return t.next=6,this.createTypeIndex();case 6:t.t0=t.sent;case 7:return r=t.t0,n=this.profile.storageUrls[0],i=new p["default"]({name:"Movies"}),o=["https://schema.org/Movie","https://schema.org/WatchAction"],i.setRelationModels("movies",[]),i.setRelationModels("documents",[]),t.next=15,i.save(n);case 15:return t.next=17,Promise.all(o.map((function(t){var e=new y["default"]({forClass:t,instanceContainer:i.url});return e.mintUrl(a.profile.privateTypeIndexUrl,!0,Object(l["uuid"])()),e.save(Object(l["requireUrlParentDirectory"])(r))})));case 17:return t.abrupt("return",i);case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"createTypeIndex",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["createPrivateTypeIndex"])(this.profile,b["a"].fetch);case 2:return e=t.sent,this.profile.privateTypeIndexUrl=e,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}],[{key:"isSolidUserJSON",value:function(t){return"webId"in t}},{key:"fromJSON",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new r(e));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),r}(g["a"])},fbdd:function(t,e,r){"use strict";r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return s}));var n=r("f404");function i(t,e){return void 0===e&&(e=0),"string"!==typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){var r=t,n=r.length;if(n<=150)return r;e>n&&(e=n);var i=Math.max(e-60,0);i<5&&(i=0);var o=Math.min(i+140,n);return o>n-5&&(o=n),o===n&&(i=Math.max(o-140,0)),r=r.slice(i,o),i>0&&(r="'{snip} "+r),o<n&&(r+=" {snip}"),r}function a(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch(o){r.push("[value cannot be serialized]")}}return r.join(e)}function s(t,e){return!!Object(n["k"])(t)&&(Object(n["j"])(e)?e.test(t):"string"===typeof e&&-1!==t.indexOf(e))}},fbf1:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("e439"),r("5d41");var n=r("f20d");function i(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Object(n["a"])(t),null===t)break;return t}function o(t,e,r){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=i(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}},o(t,e,r||t)}},fc11:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},fc6a:function(t,e,r){var n=r("44ad"),i=r("1d80");t.exports=function(t){return n(i(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,r){var n=r("4930");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,r){var n=r("da84");t.exports=n.Promise},ff5e:function(t,e,r){"use strict";var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",o="http://www.w3.org/2000/10/swap/";e["a"]={xsd:{decimal:i+"decimal",boolean:i+"boolean",double:i+"double",integer:i+"integer",string:i+"string"},rdf:{type:n+"type",nil:n+"nil",first:n+"first",rest:n+"rest",langString:n+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:o+"reify#forSome",forAll:o+"reify#forAll"},log:{implies:o+"log#implies"}}}});
//# sourceMappingURL=0.81b0a3fd.worker.js.map