{"version":3,"sources":["webpack:///./src/assets/icons/tviso.svg","webpack:///./src/assets/icons/cog.svg","webpack:///./src/components/MarkdownContent.vue?c47f","webpack:///./src/models/users/OfflineUser.ts","webpack:///./src/components/modals/OfflineLogoutModal.vue?231c","webpack:///./src/components/modals/OfflineLogoutModal.vue","webpack:///./src/components/modals/OfflineLogoutModal.vue?8a11","webpack:///./src/components/modals/OfflineLogoutModal.vue?bf81","webpack:///./src/services/Auth.ts","webpack:///./src/services/Search.ts","webpack:///./src/services/index.ts","webpack:///./src/components/MoviesGridItem.vue?b845","webpack:///./src/utils/EventBus.ts","webpack:///./src/components/modals/ImportMediaModal.vue?ae80","webpack:///./src/components/modals/ImportIMDbMoviesModal.vue?7332","webpack:///./src/components/modals/ImportIMDbMoviesModal.vue","webpack:///./src/components/modals/ImportIMDbMoviesModal.vue?2ac4","webpack:///./src/components/modals/ImportIMDbMoviesModal.vue?36d6","webpack:///./src/utils/CSV.ts","webpack:///./src/components/modals/ImportMediaModal.vue","webpack:///./src/components/modals/ImportMediaModal.vue?ebe8","webpack:///./src/components/modals/ImportMediaModal.vue?2980","webpack:///./src/assets/icons/wrench.svg","webpack:///./src/components/base/BaseButton.vue?7d70","webpack:///./src/components/base/BaseButton.vue","webpack:///./src/components/base/BaseButton.vue?cec6","webpack:///./src/components/base/BaseButton.vue?0fea","webpack:///./src/assets/icons/more.svg","webpack:///./src/utils/Time.ts","webpack:///./src/assets/icons/github.svg","webpack:///./src/plugins/soukai.ts","webpack:///./src/authentication/Authenticator.ts","webpack:///./src/authentication/InruptAuthenticator.ts","webpack:///./src/authentication/LegacyAuthenticator.ts","webpack:///./src/authentication/authenticators.ts","webpack:///./src/authentication/SolidAuth.ts","webpack:///./src/assets/icons/checkmark.svg","webpack:///./src/models/soukai sync ^\\.\\/.*$","webpack:///./src/components/base/BaseTransitionGroup.vue?1846","webpack:///./src/components/base/BaseTransitionGroup.vue","webpack:///./src/components/base/BaseTransitionGroup.vue?1847","webpack:///./src/assets/icons/error.svg","webpack:///./src/components/modals/ConfirmModal.vue?da68","webpack:///./src/components/base/BaseLink.vue?6221","webpack:///./src/components/base/BaseLink.vue","webpack:///./src/components/base/BaseLink.vue?0341","webpack:///./src/components/base/BaseLink.vue?1978","webpack:///./src/components/base/BaseIcon.vue?508f","webpack:///./src/components/base/BaseIcon.vue","webpack:///./src/components/base/BaseIcon.vue?a4bf","webpack:///./src/components/base/BaseIcon.vue?706c","webpack:///./src/assets/icons/search-empty.svg","webpack:///./src/models/soukai/TypeRegistration.ts","webpack:///./src/errors/MediaKrakenError.ts","webpack:///./src/utils/UUID.ts","webpack:///./src/utils/Storage.ts","webpack:///./src/services/Service.ts","webpack:///./src/workers/LoadMediaWorker.index.ts","webpack:///./src/assets/icons/cheveron-up.svg","webpack:///./src/assets/styles/main.scss?5806","webpack:///./src/assets/icons/bug.svg","webpack:///./src/migrations/scripts sync nonrecursive \\.ts$","webpack:///./src/utils/Files.ts","webpack:///./src/components/MovieDetails.vue?a07e","webpack:///./src/components/MovieDetails.vue","webpack:///./src/components/MovieDetails.vue?57d2","webpack:///./src/components/MovieDetails.vue?ebcf","webpack:///./src/assets/icons/upload.svg","webpack:///./src/models/ModelsCache.ts","webpack:///./src/plugins/vuex.ts","webpack:///./src/components/modals/MovieModal.vue?2892","webpack:///./src/components/modals/MovieModal.vue","webpack:///./src/components/modals/MovieModal.vue?a3e6","webpack:///./src/components/modals/MovieModal.vue?a70e","webpack:///./src/utils/AsyncOperation.ts","webpack:///./src/services/UI.ts","webpack:///./src/utils/Obj.ts","webpack:///./src/components/modals/AlertModal.vue?08c0","webpack:///./src/components/modals/AlertModal.vue","webpack:///./src/components/modals/AlertModal.vue?d7e5","webpack:///./src/components/modals/AlertModal.vue?86f8","webpack:///./src/components/modals/ConfirmModal.vue?9a3a","webpack:///./src/components/modals/ConfirmModal.vue","webpack:///./src/components/modals/ConfirmModal.vue?b292","webpack:///./src/components/modals/ConfirmModal.vue?b9db","webpack:///./src/components/modals/LoadingModal.vue?4bc7","webpack:///./src/components/modals/LoadingModal.vue","webpack:///./src/components/modals/LoadingModal.vue?8142","webpack:///./src/components/modals/LoadingModal.vue?236a","webpack:///./src/assets/markdown lazy ^\\.\\/.*\\.md$ namespace object","webpack:///./src/errors/MediaValidationError.ts","webpack:///./src/assets/icons/view-list.svg","webpack:///./src/components/MoviePoster.vue?3edd","webpack:///./src/components/MoviePoster.vue","webpack:///./src/components/MoviePoster.vue?7f8a","webpack:///./src/components/MoviePoster.vue?b214","webpack:///./src/components/base/BasePageHeader.vue?3953","webpack:///./src/components/base/BasePageHeader.vue","webpack:///./src/components/base/BasePageHeader.vue?ec7a","webpack:///./src/components/base/BasePageHeader.vue?04b8","webpack:///./src/utils/parsers/GoodFilmsMoviesParser.ts","webpack:///./src/errors/UnsuitableMediaError.ts","webpack:///./src/utils/parsers/IMDbMoviesParser.ts","webpack:///./src/utils/netflix.ts","webpack:///./src/errors/MediaNotFoundError.ts","webpack:///./src/utils/parsers/NetflixMoviesParser.ts","webpack:///./src/utils/parsers/TVisoMoviesParser.ts","webpack:///./src/services/Media.ts","webpack:///./src/components/modals/ImportProgressModal.vue?8298","webpack:///./src/components/modals/ImportProgressModal.vue","webpack:///./src/components/modals/ImportProgressModal.vue?6ecb","webpack:///./src/components/modals/ImportProgressModal.vue?6fb2","webpack:///./src/components/modals/ImportResultModal.vue?5cdd","webpack:///./src/components/modals/ImportResultModalItem.vue?8558","webpack:///./src/components/modals/ImportResultModalItem.vue","webpack:///./src/components/modals/ImportResultModalItem.vue?a4c2","webpack:///./src/components/modals/ImportResultModalItem.vue?d640","webpack:///./src/components/modals/ImportResultModal.vue","webpack:///./src/components/modals/ImportResultModal.vue?bbf8","webpack:///./src/components/modals/ImportResultModal.vue?4134","webpack:///./src/components/modals/MarkdownModal.vue?3518","webpack:///./src/components/modals/MarkdownModal.vue","webpack:///./src/components/modals/MarkdownModal.vue?4097","webpack:///./src/components/modals/MarkdownModal.vue?6d0a","webpack:///./src/assets/icons/logout.svg","webpack:///./src/models/soukai/Movie.ts","webpack:///./src/services/Viewer.ts","webpack:///./src/assets/icons sync ^\\.\\/.*\\.svg$","webpack:///./src/assets/icons/bookmark.svg","webpack:///./src/api/TheMovieDBApi.ts","webpack:///./src/assets/icons/add.svg","webpack:///./src/assets/icons/info.svg","webpack:///./src/components/mixins/Transition.ts","webpack:///./src/utils/media/TMDBResolver.ts","webpack:///./src/assets/icons/time.svg","webpack:///./src/assets/icons/media-kraken-confused.svg","webpack:///./src/assets/icons/photo.svg","webpack:///./src/assets/img/costumes lazy ^\\.\\/.*\\.png$ namespace object","webpack:///./src/components/modals/ErrorInfoModal.vue?8a2a","webpack:///./src/components/modals/ErrorInfoModalButton.vue?11b7","webpack:///./src/components/modals/ErrorInfoModalButton.vue","webpack:///./src/components/modals/ErrorInfoModalButton.vue?c6d3","webpack:///./src/components/modals/ErrorInfoModalButton.vue?1b46","webpack:///./src/components/modals/ErrorInfoModal.vue","webpack:///./src/components/modals/ErrorInfoModal.vue?e5d4","webpack:///./src/components/modals/ErrorInfoModal.vue?b5dc","webpack:///./src/components/base/index.ts","webpack:///./src/assets/icons/copy.svg","webpack:///./src/assets/icons/close.svg","webpack:///./src/assets/icons/halloween.svg","webpack:///./src/assets/icons/media-kraken.svg","webpack:///./src/components/base sync nonrecursive \\.vue$","webpack:///./src/assets/icons/hour-glass.svg","webpack:///./src/assets/icons/question.svg","webpack:///./src/assets/icons/browser.svg","webpack:///./src/assets/img/logos/goodfilms.png","webpack:///./src/services/Browser.ts","webpack:///./src/assets/icons/solid-emblem.svg","webpack:///./src/assets/icons/netflix.svg","webpack:///./src/components/MarkdownContent.vue?a7fe","webpack:///./src/components/MarkdownContent.vue","webpack:///./src/components/MarkdownContent.vue?6e1c","webpack:///./src/components/MarkdownContent.vue?1d54","webpack:///./src/routing/pages/HomePage.vue","webpack:///./src/App.vue?1383","webpack:///./src/components/AppHeader.vue?1bfe","webpack:///./src/components/AppHeaderProfile.vue?9210","webpack:///./src/components/modals/SettingsModal.vue?ea12","webpack:///./src/components/modals/SettingsModal.vue","webpack:///./src/components/modals/SettingsModal.vue?6333","webpack:///./src/components/modals/SettingsModal.vue?2b35","webpack:///./src/components/UserAvatar.vue?ef4b","webpack:///./src/components/UserAvatar.vue","webpack:///./src/components/UserAvatar.vue?45b0","webpack:///./src/components/UserAvatar.vue?4a86","webpack:///./src/components/AppHeaderProfile.vue","webpack:///./src/components/AppHeaderProfile.vue?88fd","webpack:///./src/components/AppHeaderProfile.vue?cd9b","webpack:///./src/components/AppHeaderSearch.vue?78f2","webpack:///./src/components/AppHeaderSearchResults.vue?8ba4","webpack:///./src/components/LoadingDots.vue?8e17","webpack:///./src/components/LoadingDots.vue","webpack:///./src/components/LoadingDots.vue?1b8e","webpack:///./src/components/LoadingDots.vue?74fe","webpack:///./src/components/AppHeaderSearchResults.vue","webpack:///./src/components/AppHeaderSearchResults.vue?bcc1","webpack:///./src/components/AppHeaderSearchResults.vue?745f","webpack:///./src/components/AppHeaderSearch.vue","webpack:///./src/components/AppHeaderSearch.vue?32f8","webpack:///./src/components/AppHeaderSearch.vue?9b0a","webpack:///./src/components/AppHeader.vue","webpack:///./src/components/AppHeader.vue?0189","webpack:///./src/components/AppHeader.vue?42d3","webpack:///./src/components/AppSnackbars.vue?0cc1","webpack:///./src/components/AppSnackbar.vue?734f","webpack:///./src/components/AppSnackbar.vue","webpack:///./src/components/AppSnackbar.vue?c658","webpack:///./src/components/AppSnackbar.vue?ffce","webpack:///./src/components/AppSnackbars.vue","webpack:///./src/components/AppSnackbars.vue?97be","webpack:///./src/components/AppSnackbars.vue?ffd3","webpack:///./src/components/CrashReport.vue?8923","webpack:///./src/components/CrashReport.vue","webpack:///./src/components/CrashReport.vue?2b8e","webpack:///./src/components/CrashReport.vue?b97e","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/routing/pages/CollectionPage.vue?0b25","webpack:///./src/routing/pages/CollectionPage.vue","webpack:///./src/routing/pages/CollectionPage.vue?32d9","webpack:///./src/routing/pages/CollectionPage.vue?7142","webpack:///./src/routing/pages/Error404Page.vue?2cb4","webpack:///./src/components/NotFound.vue?37c1","webpack:///./src/components/NotFound.vue","webpack:///./src/components/NotFound.vue?9ab7","webpack:///./src/components/NotFound.vue?9042","webpack:///./src/routing/pages/Error404Page.vue","webpack:///./src/routing/pages/Error404Page.vue?fb4e","webpack:///./src/routing/pages/Error404Page.vue?d5c4","webpack:///./src/routing/pages/HomePage.vue?4ff8","webpack:///./src/components/modals/SeedCollectionModal.vue?db52","webpack:///./src/components/modals/SeedCollectionModal.vue","webpack:///./src/components/modals/SeedCollectionModal.vue?3f0c","webpack:///./src/components/modals/SeedCollectionModal.vue?a57b","webpack:///./src/routing/pages/HomePage.vue?c0f0","webpack:///./src/routing/pages/HomePage.vue?8f9f","webpack:///./src/routing/pages/LoginPage.vue?7a18","webpack:///./src/components/LoginPrevious.vue?1fd5","webpack:///./src/components/LoginPrevious.vue","webpack:///./src/components/LoginPrevious.vue?7971","webpack:///./src/components/LoginPrevious.vue?3b3b","webpack:///./src/components/LoginSolid.vue?ab88","webpack:///./src/components/LoginSolid.vue","webpack:///./src/components/LoginSolid.vue?d585","webpack:///./src/components/LoginSolid.vue?2382","webpack:///./src/routing/pages/LoginPage.vue","webpack:///./src/routing/pages/LoginPage.vue?d7d0","webpack:///./src/routing/pages/LoginPage.vue?2d5e","webpack:///./src/routing/pages/MoviePage.vue?7659","webpack:///./src/routing/pages/MoviePage.vue","webpack:///./src/routing/pages/MoviePage.vue?14b5","webpack:///./src/routing/pages/MoviePage.vue?0ff1","webpack:///./src/routing/pages/UnauthorizedPage.vue?8966","webpack:///./src/routing/pages/UnauthorizedPage.vue","webpack:///./src/routing/pages/UnauthorizedPage.vue?1d5a","webpack:///./src/routing/pages/UnauthorizedPage.vue?8ff5","webpack:///./src/routing/pages/UnsupportedBrowserPage.vue?a4d3","webpack:///./src/routing/pages/UnsupportedBrowserPage.vue","webpack:///./src/routing/pages/UnsupportedBrowserPage.vue?b831","webpack:///./src/routing/pages/UnsupportedBrowserPage.vue?1294","webpack:///./src/routing/index.ts","webpack:///./src/plugins/registerServiceWorker.ts","webpack:///./src/plugins/router.ts","webpack:///./src/plugins/index.ts","webpack:///./src/bootstrap.ts","webpack:///./src/components/AppModal.vue?b61e","webpack:///./src/components/AppModal.vue","webpack:///./src/components/AppModal.vue?4f78","webpack:///./src/components/AppModal.vue?8149","webpack:///./src/components/mixins/Modal.ts","webpack:///./src/components/CollectionBrowser.vue?6b5a","webpack:///./src/utils/location.ts","webpack:///./src/components/CollectionBrowser.vue","webpack:///./src/components/CollectionBrowser.vue?cf15","webpack:///./src/components/CollectionBrowser.vue?65cc","webpack:///./src/utils/Errors.ts","webpack:///./src/assets/icons/hot.svg","webpack:///./src/assets/icons/trash.svg","webpack:///./src/workers/index.ts","webpack:///./src/components/AppModals.vue?21af","webpack:///./src/components/AppModals.vue","webpack:///./src/components/AppModals.vue?b305","webpack:///./src/components/AppModals.vue?64f2","webpack:///./src/migrations/Migration.ts","webpack:///./src/migrations/index.ts","webpack:///./src/components/modals/HalloweenRecommendationsModal.vue?e037","webpack:///./src/components/modals/HalloweenRecommendationsModal.vue","webpack:///./src/components/modals/HalloweenRecommendationsModal.vue?4ad3","webpack:///./src/components/modals/HalloweenRecommendationsModal.vue?0f89","webpack:///./src/services/App.ts","webpack:///./src/models/soukai/MediaContainer.ts","webpack:///./src/components/MoviesGrid.vue?4772","webpack:///./src/utils/Arr.ts","webpack:///./src/assets/icons/reload.svg","webpack:///./src/components/base/BaseToggle.vue?d438","webpack:///./src/components/base/BaseToggle.vue","webpack:///./src/components/base/BaseToggle.vue?fc99","webpack:///./src/components/base/BaseToggle.vue?c733","webpack:///./src/authentication/index.ts","webpack:///./src/utils/Url.ts","webpack:///./src/components/base/BaseMenu.vue?d421","webpack:///./src/components/base/BaseMenu.vue","webpack:///./src/components/base/BaseMenu.vue?414e","webpack:///./src/components/base/BaseMenu.vue?c894","webpack:///./src/utils/Str.ts","webpack:///./src/components/LoadingDots.vue?8a57","webpack:///./src/utils/polyfills.ts","webpack:///./src/migrations/scripts/0.1.4.ts","webpack:///./src/models/users/User.ts","webpack:///./src/utils/DOM.ts","webpack:///./src/assets/icons/search.svg","webpack:///./src/components/AppOverlay.vue?a61f","webpack:///./src/components/AppOverlay.vue","webpack:///./src/components/AppOverlay.vue?ea2d","webpack:///./src/components/AppOverlay.vue?501f","webpack:///./src/assets/icons/menu.svg","webpack:///./src/utils/parsers/JSONLDMoviesParser.ts","webpack:///./src/components/LoadingCircle.vue?1030","webpack:///./src/components/LoadingCircle.vue","webpack:///./src/components/LoadingCircle.vue?8c39","webpack:///./src/components/LoadingCircle.vue?4bc0","webpack:///./src/components/MoviesGrid.vue?268f","webpack:///./src/components/LazyArea.vue?e893","webpack:///./src/components/LazyArea.vue","webpack:///./src/components/LazyArea.vue?c685","webpack:///./src/components/LazyArea.vue?1bd5","webpack:///./src/components/MoviesGridItem.vue?622e","webpack:///./src/components/MoviesGridItem.vue","webpack:///./src/components/MoviesGridItem.vue?603a","webpack:///./src/components/MoviesGridItem.vue?93fe","webpack:///./src/components/MoviesGrid.vue","webpack:///./src/components/MoviesGrid.vue?8821","webpack:///./src/components/MoviesGrid.vue?1ac4","webpack:///./src/models/soukai/WatchAction.ts","webpack:///./src/components/CollectionBrowser.vue?134d","webpack:///./src/migrations/scripts/0.1.7.ts","webpack:///./src/assets/icons/terminal.svg","webpack:///./src/utils/parsers/TMDBMoviesParser.ts","webpack:///./src/utils/Http.ts","webpack:///./src/workers/WebWorkerRunner.ts","webpack:///./src/components/base/BaseTransition.vue?2635","webpack:///./src/components/base/BaseTransition.vue","webpack:///./src/components/base/BaseTransition.vue?4c0d","webpack:///./src/assets/icons/download.svg","webpack:///./src/components/AppFooter.vue?893a","webpack:///./src/components/AppFooter.vue","webpack:///./src/components/AppFooter.vue?10aa","webpack:///./src/components/AppFooter.vue?e295","webpack:///./src/utils/Markdown.ts","webpack:///./src/assets/icons/imdb.svg","webpack:///./src/assets/icons/jsonld.svg","webpack:///./src/assets/icons/tmdb.svg","webpack:///./src/models/users/SolidUser.ts","webpack:///./src/assets/icons/cheveron-down.svg"],"names":["functional","render","_h","_vm","_c","data","_v","children","classNames","class","staticClass","style","staticStyle","attrs","rest","Object","assign","concat","Storage","get","json","offline","set","engine","purgeDatabase","remove","useEngine","MediaContainer","find","moviesContainer","at","create","name","User","this","$createElement","_self","id","options","on","$event","$ui","openFileMarkdownModal","$media","exportCollection","close","$auth","logout","staticRenderFns","Modal","extend","component","storeNamespace","loggedIn","refreshing","setState","updateUser","loginUrl","authenticationMethod","loading","SolidAuth","login","status","LoggingIn","Failed","alert","force","isOffline","empty","openModal","OfflineLogoutModal","error","$route","query","forbidden","unauthorizedError","$router","push","$app","ready","boot","onUserUpdated","solidUser","user","SolidUser","onError","handleSolidSessionError","url","isLoggedIn","newUser","previousUser","ModelsCache","clear","EventBus","emit","currentRoute","replace","title","subtitle","handleLogout","clearCrashReport","Errors","report","setCrashReport","actions","label","priority","handle","state","Service","searching","searchInput","searchResultsContainer","keyboardListener","removeClickAwayListener","search","Time","debounce","updateSearchResults","document","body","clientWidth","desktop","input","stopListeningKeyboard","startListeningKeyboard","open","instance","$nextTick","focus","onClickAway","filter","el","stop","results","highlightedResultIndex","cancel","trim","length","startsWith","result","index","indexOf","resultsLength","highlightedResult","openResult","exists","params","uuid","MovieModal","movie","getSearchResults","filterText","Str","slug","searchIndex","entry","searchableText","includes","map","TheMovieDBApi","searchMovies","response","promisedResults","TMDBMoviesParser","parse","movies","collectionMovie","is","Promise","all","addEventListener","event","captureHotKey","preventDefault","removeEventListener","target","key","toLowerCase","DOM","isWritable","start","update","Services","bootServices","app","appServices","App","$browser","Browser","Media","$search","UI","$viewer","Viewer","$store","prototype","values","service","launch","listeners","listener","off","isEmpty","unregister","payload","eventListeners","resolve","once","_l","source","mediaSourceNames","importMedia","helpReplacements","_e","requestSourceUrl","openSearch","directives","rawName","value","expression","textareaPlaceholder","domProps","composing","text","submit","computed","join","methods","match","slice","regex","exec","imdb","resolveModal","csv","rows","skipEmptyLines","relaxColumnCount","header","shift","h","camel","row","item","i","sources","IMDb","Netflix","JSONLD","TViso","GoodFilms","filePath","tag","isDevelopment","versionName","jsonld","sourceUrl","wait","getSourceData","importMovies","getDataFromModal","getDataFromFile","CSV","JSON","format","Files","upload","accept","fileContents","parseData","Array","isArray","Error","modal","ImportIMDbMoviesModal","href","_b","noPadding","$emit","type","computedIconClass","icon","textClass","_t","props","Boolean","default","String","iconClass","$slots","callback","delay","timeout","debouncedCallback","args","setTimeout","clearTimeout","date","Date","isNaN","getTime","milliseconds","requestAnimationFrame","loadModels","loadSolidModels","booted","startSession","removeListener","session","toArray","onSessionStarted","call","authenticator","onSessionEnded","fetch","handleIncomingRedirect","_login","_logout","window","location","webId","oidcIssuer","clientName","redirectUrl","promisedClient","onSessionUpdated","activeSessionWebId","client","currentSession","then","trackSession","LoggedIn","bind","authenticators","Inrupt","Legacy","STORAGE_PREVIOUS_LOGIN_KEY","_fetch","authenticatorListener","has","_previousLogin","useAuthenticator","profile","oidcIssuerUrl","loginData","seconds","addListener","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","code","keys","module","exports","Transition","moveDuration","Number","moveClass","animationsEnabled","enabled","duration","split","vueTransitionProps","vueTransitionListeners","routerTo","route","costumeImageUrl","iconComponent","required","TypeRegistration","ldpResource","rdfContexts","rdfsClasses","timestamps","fields","forClass","Key","rdfProperty","instanceContainer","MediaKrakenError","message","setPrototypeOf","UUID","placeholder","Math","random","toString","generate","localStorage","setItem","stringify","defaultValue","getItem","removeItem","reject","resolveReady","rejectReady","catch","property","getters","registerStoreModule","store","initialState","getInitialState","registerModule","namespaced","mutations","newState","getComputedStateDefinitions","getter","watch","commit","Format","MediaType","BODY_CANCEL_EVENTS","MEDIA_TYPES_ACCEPT","cancelActiveUpload","activeUpload","onchange","onInputChanged","config","setAttribute","promise","initializeActiveUpload","output","click","filename","content","mediaType","URL","createObjectURL","Blob","anchor","createElement","display","download","appendChild","revokeObjectURL","removeChild","Raw","registerCancelUploadListener","files","reader","FileReader","onload","onerror","readAsText","backgroundImage","posterUrl","_s","releaseDate","getFullYear","isActive","watched","_g","markWatched","pending","markWatchLater","deleteMovie","scopedSlots","_u","fn","ref","toggleActionsMenu","toggle","description","externalModel","domain","DOMAIN_ICONS","components","MoviePoster","externalModels","externalUrls","Url","parseRootDomain","updateModel","confirm","loadRelationIfUnloaded","action","delete","setRelationModels","removeMovie","showSnackbar","transient","validAge","updatedAt","getDocumentData","abs","deserializeModels","documentUrl","documentUpdatedAt","setDocumentData","models","model","relatedModels","getDocumentUrl","serializeModel","deleteDocumentData","connection","getConnection","retryingOnTransactionInactive","transaction","put","done","modelName","modelClass","attributes","getAttributes","relationModelNames","reduce","relation","getRelation","relatedClass","relationAttributes","entries","modelData","deserializeModel","newInstance","relatedModelsAttributes","relatedModelClass","upgrade","db","createObjectStore","operation","use","Store","mobile","addToCollection","fetchMissingAttributes","relatedMovies","save","forgetDocument","delayed","DefaultListener","ongoingDelayedOperations","synchronizeUI","showError","updateSnackbar","hideSnackbar","snackbar","snackbarId","expectedDuration","delayTimeout","AsyncOperation","DEFAULT_EXPECTED_DURATION","clearDelayTimeout","Layout","obj","newObject","flattenEntries","undefined","flattened","cancelLabel","acceptLabel","MarkdownContent","markdown","LoadingCircle","screenBreakpoints","Desktop","STORAGE_ANIMATIONS_KEY","mobileMenu","desktopMenu","menuTriggers","myCollection","modalResolves","clickListener","removeMenuClickAwayListener","clickAwayListeners","bootupProgressMessage","querySelector","menu","button","splice","LoadingModal","cancellable","closeModal","headerHidden","menuOpen","contains","trigger","toggleMenu","closeMenu","openMenu","file","replacements","MarkdownModal","partialOptions","modals","findIndex","Arr","withoutIndex","titleOrMessage","AlertModal","messageOrOptions","ConfirmModal","secondLineIndex","substring","lifetime","handler","ErrorInfoModal","snackbars","animations","affectedAttributes","initialAttributes","only","complete","setAttributes","fail","elementsOrIsAway","isAway","element","updateClickAwayListeners","withoutItem","textContent","watchWindowMedia","watchAuth","layoutMediaQueries","Mobile","layout","reverse","active","_","showOverlay","startListeningClicks","stopListeningClicks","breakpoint","media","matchMedia","updateState","matches","getComputedState","webpackAsyncContext","ids","MediaValidationError","reasons","noMargin","filmTitle","filmReleaseYear","parseInt","releaseYear","release_date","Movie","reason","alreadyInCollection","TMDBResolver","resolveImdbId","isMovie","tmpMovie","escapeRegexText","getSeparators","separatorsMatch","firstSeparator","secondSeparator","getComponentStats","dates","dateRegex","RegExp","stats","min","Infinity","max","average","forEach","findComponentIndex","componentStats","exclude","matching","variance","sort","a","b","regExp","digit","padStart","day","groups","month","year","shortYear","getNetflixDateParser","dayIndex","monthIndex","yearIndex","names","ceil","SHOW_TITLE_REGEX","isInvalid","DataMediaType","Status","dateParser","parseDate","test","watchedAt","findMovie","createdAt","dateString","MediaSource","isValidDateString","checkedDate","checkedAt","Watched","width","importOperation","current","total","cancelImport","watchedMovies","inspectWatched","pendingMovies","inspectPending","log","ignored","inspectIgnored","unprocessed","inspectUnprocessed","invalid","inspectInvalid","failed","inspectFailed","ImportResultModalItem","added","counter","logs","Markdown","codeBlock","notFound","handleCustomTrigger","ImportProgressModal","progressModalId","parser","getMoviesParser","cancelled","prepare","movieData","waitAnimationFrame","validate","ImportResultModal","loaded","toJsonLD","unload","load","ignoredDocumentUrls","migrateSchema","toJSON","initSoukaiEngine","collection","handleUnauthorized","handleMalformedDocument","handleUnknownError","JSONLDMoviesParser","ignoreDocument","malformedDocumentUrls","reload","Function","created","loadMarkdown","originalSourceDocumentUrl","hasMany","usingSameDocument","onDelete","imdbId","tmdbId","resolveTMDBMovie","tmdbMovie","regenerateUrls","relatedActions","startTime","endTime","wasRecentlyCreated","sourceDocumentUrl","getSourceDocumentUrl","resourceHash","fragment","defaultResourceHash","fixedUrl","legacyActions","getLoadedModels","fixedActionUrls","actionResourceHash","requireEngine","getSourceContainerUrl","$updateItems","$where","$update","fixLegacyAttributes","getMovie","imdb_id","isDocumentRoot","documentActions","mintUrl","_attributes","imdbUrl","tmdbUrl","items","MOVIES_CHUNK_SIZE","collectionUrl","updateMoviesContainer","searchParams","history","replaceState","pushState","movieUrl","globbingBatchSize","watchWindowHistory","now","updateMovie","onpopstate","loadMoviesContainer","resourceUrls","from","$in","chunkMovies","request","externalId","path","parameters","api_key","append","Animation","appear","enterDuration","leaveDuration","animation","enterActiveClass","enterClass","enterToClass","leaveActiveClass","leaveClass","leaveToClass","durations","enter","leave","transitionClasses","transitionClassesArrays","mergeAnimationClasses","enterActive","enterTo","leaveActive","leaveTo","phase","classes","beforeLeave","animationClasses","resolveAnimationClasses","p","Fade","Scale","ResizeWidth","ResizeHeight","SlideUp","cache","fromCache","external_source","movie_results","person_results","tv_results","resolveModel","t","errorName","errorMessage","inspect","copy","sentryId","githubReportUrl","stackTrace","isLink","actionText","capitalize","ErrorInfoModalButton","stack","encodeURIComponent","textarea","position","top","select","execCommand","requireComponent","fileName","isIndexedDBSupported","supportsIndexedDB","capabilities","stubUrl","rememberDocument","html","contentClicked","HTMLElement","getEventTrigger","$el","HTMLAnchorElement","dataset","parentElement","Sorting","userWebId","avatarUrl","menuOption","isErrorReportingAvailable","$$v","errorReporting","isErrorReportingEnabled","setAnimationsEnabled","setReportingEnabled","substr","UserAvatar","menuOptions","optionHandler","showHalloweenRecommendations","SettingsModal","mounted","setMobileMenu","$refs","setDesktopMenu","addMenuTrigger","setMyCollection","beforeDestroy","removeMenuTrigger","stopPropagation","_k","keyCode","highlightResultAbove","highlightResultBelow","resultButtonTitle","highlightResult","LoadingDots","stopSearch","setSearchResultsContainer","destroyed","AppHeaderSearchResults","setSearchInput","ROUTE_HOT_KEYS","AppHeaderProfile","AppHeaderSearch","clickAction","DEFAULT_LIFETIME","AppSnackbar","crashReport","AppFooter","AppHeader","AppModals","AppOverlay","AppSnackbars","CrashReport","setInput","CollectionBrowser","hideHeader","showHeader","NotFound","sortingOptions","toggleSortingMenu","sortingText","pendingMoviesSummary","_m","seedCollection","importImdbTop100RatedMovies","MAX_MOVIES","MAX_ROWS","MoviesGrid","sorting","MostRecent","gridColumns","resizeListener","Oldest","option","moviesCount","measureGridColumns","ImportMediaModal","SeedCollectionModal","gridElement","movieElement","firstElementChild","floor","previousLoginUrl","loginWithPreviousLogin","forgetPreviousLogin","submitLoginWithSolid","loginWithSolid","loginOffline","$$selectedVal","selected","val","_value","multiple","method","authenticationMethodNames","authenticationMethodDescription","authenticationMethodUrl","showAuthenticationMethods","authenticationMethods","authenticationMethodDescriptions","authenticationMethodUrls","LoginPrevious","LoginSolid","previousLogin","replaceLegacyDomains","isUsingLegacySolidCommunity","replaceLegacySolidCommunity","replaceDomain","MovieDetails","movieUuid","refreshCredentials","githubIssueTitle","githubIssueBody","setRefreshing","isFirefox","navigator","userAgent","routes","LoginPage","HomePage","UnauthorizedPage","UnsupportedBrowserPage","CollectionPage","redirect","MoviePage","Error404Page","getForcedRoute","supported","initRouter","router","onReady","githubPagesRedirect","pull","beforeEach","to","next","forcedRoute","console","registered","cached","updatefound","updated","mode","base","setErrorHandler","errorHandler","onunhandledrejection","prepareInitialRoute","initialRoute","removeBootupOverlay","classList","impatientKrakenTimeout","getElementById","init","servicesBooted","$mount","productionTip","plugins","fullscreen","scrollable","AppModal","filteredMovies","actionsMenuOpen","watchedFilterOptions","toggleWatchedFilterMenu","watchedFilterText","watchedFilterMobileText","collectionQualifier","showFilters","hideFilters","searchFilter","goToTop","updateQueryParameters","_url","parameter","getQueryParameter","queryParameters","WatchedFilter","hasScrolled","scrollTop","documentElement","showGoTop","watchedFilter","All","scrollListener","mobileText","WatchLater","filteredIndex","filtersTrigger","STORAGE_ENABLED_KEY","sentryInitialized","reportingEnabled","userWantsReportingEnabled","initializeSentry","onReportingEnabled","onReportingDisabled","reportingError","serializedError","responseStatus","errorClass","errorData","documentFormat","malformationDetails","resolveError","isReportingAvailable","dsn","hydrateMovie","actionsAttributes","hydrateMoviesContainer","loadMedia","worker","Worker","runner","updateProgressMessage","updateBootupProgressMessage","confirmSchemaMigration","confirmMarkdown","run","currentTarget","version","migrationScript","storageVersion","parseVersion","storageMajor","storageMinor","storagePatch","migrationMajor","migrationMinor","migrationPatch","VERSION_STORAGE_KEY","requireMigration","migrations","importHalloweenMovies","shuffle","array","j","existingMovie","runMigrations","hasSeenHalloweenRecommendations","HALLOWEEN_RECOMMENDATIONS_STORAGE_KEY","HalloweenRecommendationsModal","increaseVisits","prepareHalloweenCostume","registerListener","environment","releaseNotesUrl","upgradeStorage","visits","VISITS_STORAGE_KEY","isReportingEnabled","costume","round","img","image","src","alt","add","replaceWith","previousVersion","runStorageMigrations","migration","isNecessary","apply","fixedUpdatedAt","describedBy","metaDocumentUrl","getCreatedAtFromMetaDocument","headers","serializeTurtleDate","latest","readOne","getContainerUrl","isLegacyMetaDocument","containerResource","properties","expectedProperties","some","digits","numbers","number","getUTCFullYear","getUTCMonth","getUTCDate","time","getUTCHours","getUTCMinutes","getUTCSeconds","flattenedItems","nestedItems","arr","checked","prop","AuthenticationStatus","AuthenticationMethod","defaultAuthenticationMethod","parts","endsWith","protocolIndex","pathIndex","lastIndexOf","host","port","protocol","direction","triggerOption","toUpperCase","str","word","separator","normalize","setUpPolyfills","globalObject","setImmediate","clearImmediate","migrate","getCachedMoviesContainer","cachedMoviesContainer","initMoviesContainer","NON_WRITABLE_INPUT_TYPES","nodeName","getAttribute","isContentEditable","css","parent","ruler","size","types","contexts","movieType","prefix","newFromJsonLD","chunk","chunkIndex","wrapperClass","forceVisible","slot","sendMovieToCollection","visible","$_observer","IntersectionObserver","isIntersecting","observe","disconnect","linkTitle","setMovie","CHUNK_ROWS","measureGrid","addPadding","tailwindMeasures","measurePixels","maxGridWidth","minCellWidth","gapSize","gridWidth","columns","cellsWidth","imageBorders","cellsHeight","LazyArea","MoviesGridItem","withinCollection","grid","movieChunks","chunks","totalMovies","chunkSize","offset","placeholderHeight","placeholderStyle","$_resizeListener","offsetTop","offsetLeft","positionAtMyCollection","left","myCollectionElement","myCollectionRect","getBoundingClientRect","gridRect","clientHeight","WatchAction","belongsToOne","object","idp","overview","poster_path","statusText","blob","Response","delegate","workerPromise","_resolve","_reject","onmessage","onMessage","postMessage","operationId","handleOperation","serialize","camelCaseName","serializeResponse","CODE_BLOCK","renderer","Renderer","link","getMoviesContainerDocument","moviesContainerDocument","getFromDocument","getMoviesContainerUrl","existingContainer","createMoviesContainer","remember","documents","parentUrl","modified","statement","moviesContainerUrl","fetchMoviesContainerUrl","privateTypeIndexUrl","createTypeIndex","typeIndexUrl","moviesContainerType","statements","subject","storage","storageUrls","rdfsClass","typeRegistration"],"mappings":"6JACqB,cACbA,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAAC,CAAC,UAAY,WAAWA,EAAMC,GACtCC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,MAAQ,oBAAoB,QAAU,6BAA6B,MAAQ,UAAU,OAAS,UAAWH,IACjKC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,m7EAAm7E,YAAY,UAAU,KAAO,mB,iFCtB9+E,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,kZ,oCCvBnD,yBAAohB,EAAG,G,2XCWlgB,E,wDAUjB,uDACU,kBAAmB,M,iEARzB,OAAOK,EAAA,KAAQC,IAAI,6BAA6B,K,wCAGpBC,GAC5B,MAAO,YAAaA,GAAQA,EAAKC,Y,4LAQjCH,EAAA,KAAQI,IAAI,6BAA6B,G,wRAInCC,EAAS,IAAOA,QAElB,IAAOA,O,gCACDA,EAAOC,gB,OAEjBN,EAAA,KAAQO,OAAO,6B,6IAIf,IAAOC,UAAU,IAAI,qBAAgB,mB,+BAIrC,MAAO,CAAEL,SAAS,K,sNAMX,M,kTAIuBM,EAAA,WAAeC,KAAqB,6B,cAA5DC,E,yBAECA,GACAF,EAAA,WAAeG,GAAG,sBAAsBC,OAAO,CAAEC,KAAM,Y,yGA7C7BC,EAAA,M,4DCXrChC,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,QAAQ,MAAQ,sCAAsC,CAAClC,EAAG,IAAI,CAACM,YAAY,yCAAyC,CAACP,EAAIG,GAAG,aAAaF,EAAG,WAAW,CAACmC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,IAAIC,sBAAsB,0BAA0B,CAACvC,EAAIG,GAAG,6BAA6BH,EAAIG,GAAG,SAASF,EAAG,SAAS,CAACD,EAAIG,GAAG,+BAA+BH,EAAIG,GAAG,4EAA4EF,EAAG,WAAW,CAACmC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIwC,OAAOC,sBAAsB,CAACzC,EAAIG,GAAG,8BAA8BH,EAAIG,GAAG,oEAAoE,GAAGF,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,aAAa,CAACM,YAAY,yEAAyE6B,GAAG,CAAC,MAAQpC,EAAI0C,QAAQ,CAAC1C,EAAIG,GAAG,cAAcF,EAAG,aAAa,CAACM,YAAY,yCAAyC6B,GAAG,CAAC,MAAQ,SAASC,GAAQrC,EAAI2C,MAAMC,QAAO,IAAS5C,EAAI0C,WAAW,CAAC1C,EAAIG,GAAG,gBAAgB,MAC3mC0C,EAAkB,G,YC+BP,EAAAC,EAAA,KAAMC,OAAO,IChCmY,I,YCO3ZC,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,EAAAG,E,QCWM,E,wDAArB,iD,0BAEuB,EAAAC,eAAyB,OAFhD,E,4DAyBQ,OAAOlB,KAAKmB,W,oCAGKC,GACjBpB,KAAKqB,SAAS,CAAED,iB,iMAIVpB,KAAKsB,WAAW,IAAI,G,yMAGFC,EAAkBC,G,uGACrB,EAASjB,IAAIkB,SAC9B,kBAAMC,EAAA,KAAUC,MAAMJ,EAAUC,KAChC,iB,OAFEI,E,YAKEA,E,cACC,OAAqBC,U,SAMrB,OAAqBC,O,yBALtB,EAASvB,IAAIwB,MACT,6BACA,gG,mCAIJ,EAASxB,IAAIwB,MAAM,gBAAiB,8C,6TAK5BC,E,gCACXhC,KAAKmB,S,qDAGNnB,KAAKiC,WAAc,EAASxB,OAAOyB,OAAUF,E,uBAC7C,EAASzB,IAAI4B,UAAUC,G,0BAK3BpC,KAAKsB,WAAW,M,kJAGMe,GACtB,GAA6B,iBAAzB,EAASC,OAAOxC,KAApB,CAGA,IAAMyC,EAA4B,GAE9BF,EAAMG,YACND,EAAMC,UAAY,QAEtBxC,KAAKqB,SAAS,CAAEoB,kBAAmBJ,IACnC,EAASK,QAAQC,KAAK,CAAE7C,KAAM,eAAgByC,a,8RAKxC,EAASK,KAAKC,M,uBACdnB,EAAA,KAAUoB,KAAK,CACjBC,cAAe,SAACC,KACN,EAAKC,MAAU,EAAKA,gBAAgBC,EAAA,OAI1C,EAAK5B,WAAW0B,IAEpBG,QAAS,SAACd,GACFA,aAAiB,yBACjB,EAAKe,wBAAwBf,EAAO,4CAA6CA,EAAMgB,KAK3F,EAAKD,wBAAwBf,M,WAIjC,EAAYiB,a,gCACNtD,KAAKsB,WAAW,IAAI,G,iJAI9B,MAAO,CACH2B,KAAM,KACNR,kBAAmB,KACnBrB,YAAY,K,sMAIKmC,E,+BAAuB,KACtCC,EAAexD,KAAKiD,KAErBM,GACDE,EAAA,KAAYC,QAEZH,IAAYC,E,oDAGhBxD,KAAKqB,SAAS,CAAE4B,KAAMM,IAEjBA,E,wBACDC,EAAc3C,SAEd8C,EAAA,KAASC,KAAK,UAE6B,UAAvC,EAASlB,QAAQmB,aAAa/D,MAC9B,EAAS4C,QAAQC,KAAK,CAAE7C,KAAM,U,4CAKhCyD,EAAQ5B,Q,QAE6B,UAAvC,EAASe,QAAQmB,aAAa/D,MAC9B,EAAS4C,QAAQoB,QAAQ,CAAEhE,KAAM,SAErC6D,EAAA,KAASC,KAAK,QAASL,G,wJAGKlB,EAAc0B,EAAgBC,GAC1D,IAAMC,EAAY,yDAAG,8GACXR,EAAA,KAAYC,QADD,uBAEXhC,EAAA,KAAUb,SAFC,OAGjB8C,EAAA,KAASC,KAAK,UACd,EAAShB,KAAKsB,mBAJG,2CAAH,qDAOlBC,EAAA,KAAOC,OAAO/B,GAEd,EAASO,KAAKyB,eACVhC,EACA,CACI0B,MAAOA,GAAS,sCAChBC,WACAM,QAAStE,KAAKmB,SACR,GACA,CAAC,CACCoD,MAAO,SACPC,SAAU,EACVC,OAAQR,Q,+BAhKxB,QAASjE,KAAK0E,MAAMzB,O,2BAIpB,OAAOjD,KAAK0E,MAAMzB,O,wCAIlB,OAAOjD,KAAK0E,MAAMjC,oB,iCAIlB,QAASzC,KAAK0E,MAAMtD,a,gCAIpB,OAAOpB,KAAKmB,SAAWnB,KAAKiD,gBAAgB,EAAc,S,GArBhC0B,EAAA,M,oLCJb,E,wDAArB,iD,0BAEW,EAAAC,WAAqB,EAET,EAAA1D,eAAyB,SAEpC,EAAA2D,YAAuC,KACvC,EAAAC,uBAA6C,KAE7C,EAAAC,iBAAyC,KACzC,EAAAC,wBAA2C,KAE3C,EAAAC,OAAgCC,EAAA,KAAKC,UACzC,kBAAM,EAAKC,wBACXC,SAASC,KAAKC,YAAc,OAAkBC,QAAW,IAAM,KAdvE,E,8DAmC0BC,GAClBzF,KAAK6E,YAAcY,EAET,OAAVA,EACMzF,KAAK0F,wBACL1F,KAAK2F,2B,gDAGkBb,GAC7B9E,KAAK8E,uBAAyBA,I,8BAGtB,WACiB,OAArB9E,KAAK6E,aAAwB7E,KAAK4F,OAGtC5F,KAAKqB,SAAS,CAAEuE,MAAM,IACtB,OAAIC,SAASC,WAAU,kBAAM,EAAKjB,YAAakB,WAE/C/F,KAAKgF,wBAA0B,EAASzE,IAAIyF,YACxC,CAAChG,KAAK6E,YAAa7E,KAAK8E,wBAAwBmB,QAAO,SAAAC,GAAE,QAAMA,MAC/D,kBAAM,EAAKC,a,6BAKVnG,KAAK4F,OAGV5F,KAAKqB,SAAS,CACVuE,MAAM,EACNrD,MAAO,GACP6D,QAAS,GACTC,uBAAwB,OAG5BrG,KAAKiF,OAAOqB,SAEPtG,KAAKgF,0BAGVhF,KAAKgF,0BACLhF,KAAKgF,wBAA0B,S,wFAGfzC,G,oFAChBvC,KAAKqB,SAAS,CACVkB,QACA6D,QAAS,GACTC,uBAAwB,OAG5BrG,KAAK4E,UAAYrC,EAAMgE,OAAOC,OAAS,EAElCxG,KAAK4E,U,uBACN5E,KAAKiF,OAAOqB,S,0BAKZ/D,EAAMkE,WAAW,KACjBzG,KAAKoF,sBAELpF,KAAKiF,S,gJAGUyB,GACnB,IAAMC,EAAQ3G,KAAKoG,QAAQQ,QAAQF,IAEpB,IAAXC,GAAgB3G,KAAK0E,MAAM2B,yBAA2BM,GAG1D3G,KAAKqB,SAAS,CAAEgF,uBAAwBM,M,6CAIxC,IAAME,EAAgB7G,KAAKoG,QAAQI,OAC7BH,EAAyBrG,KAAK0E,MAAM2B,uBAEpB,IAAlBQ,IAG2B,OAA3BR,EAMJrG,KAAKqB,SAAS,CACVgF,wBAAyBA,EAAyBQ,EAAgB,GAAKA,IANvE7G,KAAKqB,SAAS,CAAEgF,uBAAwBQ,EAAgB,O,6CAW5D,IAAMA,EAAgB7G,KAAKoG,QAAQI,OAC7BH,EAAyBrG,KAAK0E,MAAM2B,uBAEpB,IAAlBQ,IAG2B,OAA3BR,EAMJrG,KAAKqB,SAAS,CACVgF,wBAAyBA,EAAyB,GAAKQ,IANvD7G,KAAKqB,SAAS,CAAEgF,uBAAwB,O,+BAWb,OAA3BrG,KAAK8G,mBAGT9G,KAAK+G,WAAW/G,KAAK8G,qB,iCAGPJ,GAAoB,MAC7BA,EAAOM,SAG+B,UAAvC,EAAStE,QAAQmB,aAAa/D,OAC9B,YAAS4C,QAAQmB,aAAaoD,cAA9B,eAAsCC,QAASR,EAAOQ,MAEtD,EAASxE,QAAQC,KAAK,CAAE7C,KAAM,QAASmH,OAAQ,CAAEC,KAAMR,EAAOQ,QAL9D,EAAS3G,IAAI4B,UAAUgF,EAAA,KAAY,CAAEC,MAAOV,IAOhD1G,KAAKmG,S,wCAIL,MAAO,CACHP,MAAM,EACNrD,MAAO,GACP6D,QAAS,GACTC,uBAAwB,Q,uMAKtBgB,E,yDAAmB,WAAO9E,GAAP,+FACjBA,EAAMkE,WAAW,KADA,uBAEXa,EAAaC,EAAA,KAAIC,KAAKjF,EAAO,IAFlB,kBAIV,EAAS9B,OAAOgH,YAClBxB,QAAO,SAAAyB,GAAK,OAAIA,EAAMC,eAAeC,SAASN,MAC9CO,KAAI,SAAAH,GAAK,OAAIA,EAAMN,UANP,uBASEU,EAAA,KAAcC,aAAaxF,EAAMgE,QATnC,cASfyB,EATe,OAUfC,EAAkBD,EAAS5B,QAAQyB,IAAjB,yDAAqB,WAAM1J,GAAN,uGACrB+J,EAAA,KAAiBC,MAAMhK,GADF,cACnCiJ,EADmC,yBAGlC,EAAS3G,OAAO2H,OAAO1I,MAAK,SAAA2I,GAAe,OAAIA,EAAgBC,GAAGlB,OAClEA,GAJkC,2CAArB,uDAVH,SAgBRmB,QAAQC,IAAIP,GAhBJ,oF,+DAmBHZ,EAAiBrH,KAAKuC,MAAMgE,Q,OAA5CH,E,OAENpG,KAAK4E,WAAY,EACjB5E,KAAKqB,SAAS,CACV+E,UACAC,uBAAwBD,EAAQI,OAAS,EAAI,EAAI,O,wJAI3B,WACtBxG,KAAK+E,kBAGTM,SAASoD,iBAAiB,UAAWzI,KAAK+E,iBAAmB,SAAA2D,GACpD,EAAKC,cAAcD,IAGxBA,EAAME,qB,8CAKL5I,KAAK+E,mBAGVM,SAASwD,oBAAoB,UAAW7I,KAAK+E,kBAE7C/E,KAAK+E,iBAAmB,Q,uCAGwB,IAA5B+D,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,IAC5B,QACK/I,KAAK4F,OACN,CAAC,IAAK,KAAKgC,SAASmB,EAAIC,gBACvBC,EAAA,KAAIC,WAAWJ,MAEhB9I,KAAKmJ,QAEO,MAARJ,GACA/I,KAAKoJ,OAAO,MAET,K,4BAzNX,OAAOpJ,KAAK0E,MAAMnC,Q,2BAIlB,OAAOvC,KAAK0E,MAAMkB,O,8BAIlB,OAAO5F,KAAK0E,MAAM0B,U,wCAIlB,OAA6C,OAAtCpG,KAAK0E,MAAM2B,uBACZ,KACArG,KAAK0E,MAAM0B,QAAQpG,KAAK0E,MAAM2B,4B,GAhCR1B,EAAA,M,YCC9B0E,EAAW,GAEV,SAAeC,EAAtB,kC,8DAAO,WAA4BC,GAA5B,8FACGC,EAAiD,CACnD5G,KAAM,IAAI6G,EAAA,KACV7I,MAAO,IAAI,EACX8I,SAAU,IAAIC,EAAA,KACdlJ,OAAQ,IAAImJ,EAAA,KACZC,QAAS,IAAI,EACbtJ,IAAK,IAAIuJ,EAAA,KACTC,QAAS,IAAIC,EAAA,MAGjBX,EAAS,WAAaE,EAAI7G,QAC1B2G,EAAS,UAAYE,EAAIjH,OACzB+G,EAAS,UAAYE,EAAIU,OAEzBpL,OAAOC,OAAOuK,EAAUG,GACxB3K,OAAOC,OAAO,OAAIoL,UAAWV,GAhB1B,SAkBGjB,QAAQC,IAAI3J,OAAOsL,OAAOX,GAAa3B,KAAI,SAACuC,GAAD,OAAsBA,EAAQC,aAlB5E,2C,wBAqBQ,gB,oCCjDf,yBAAmhB,EAAG,G,0ICIzgB1G,EAAb,+CAEY,KAAA2G,UAA6D,GAFzE,kDAIyB5B,EAAe6B,GAA0B,WAM1D,OALM7B,KAAS1I,KAAKsK,YAChBtK,KAAKsK,UAAU5B,GAAS,iBAAmB,KAE/C1I,KAAKsK,UAAU5B,GAAO/F,KAAK4H,GAEpB,kBAAM,EAAKC,IAAI9B,EAAO6B,MAVrC,0BAa0B7B,EAAe6B,GAC3B7B,KAAS1I,KAAKsK,YAGpBtK,KAAKsK,UAAU5B,GAAOnJ,OAAOgL,GAEzBvK,KAAKsK,UAAU5B,GAAO+B,kBACfzK,KAAKsK,UAAU5B,MApBlC,2BAuBgBA,EAAe6B,GACvB,IAAMG,EAAa1K,KAAKK,GAAGqI,GAAO,SAAAiC,GAC9BJ,EAASI,GACTD,SA1BZ,sFA8BsBhC,EAAeiC,GA9BrC,0FA+BcjC,KAAS1I,KAAKsK,UA/B5B,wDAkCcM,EAAiB5K,KAAKsK,UAAU5B,GAlC9C,SAoCcH,QAAQC,IAAIoC,EAAe/C,KAAI,SAAA0C,GAAQ,OAAIA,EAASI,OApClE,wIAuCiBjC,GAAa,WACtB,OAAO,IAAIH,SAAQ,SAAAsC,GAAO,OAAI,EAAKC,KAAKpC,EAAOmC,UAxCvD,KA6Ce,WAAIlH,G,oCCjDnB,IAAI5F,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACM,YAAY,SAASG,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,QAAQ,MAAQ,kBAAkB,CAAClC,EAAG,IAAI,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,yDAAyDF,EAAG,MAAM,CAACM,YAAY,0DAA0DP,EAAI8M,GAAI9M,EAAW,SAAE,SAAS+M,GAAQ,OAAO9M,EAAG,MAAM,CAAC6K,IAAIiC,EAAOxM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,SAAS,CAACM,YAAY,mLAAmLG,MAAM,CAAC,KAAO,SAAS,MAAQ,eAAiBV,EAAIgN,iBAAiBD,GAAQ,aAAa,eAAiB/M,EAAIgN,iBAAiBD,IAAS3K,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIiN,YAAYF,MAAW,CAAa,YAAXA,EAAsB9M,EAAG,WAAW,CAACM,YAAY,gBAAgBG,MAAM,CAAC,KAAOqM,KAAsB,cAAXA,EAAwB9M,EAAG,WAAW,CAACM,YAAY,YAAYG,MAAM,CAAC,KAAOqM,KAAU9M,EAAG,MAAM,CAACM,YAAY,iDAAiDE,YAAY,CAAC,WAAa,YAAY,CAACR,EAAG,MAAM,CAACS,MAAM,CAAC,IAAM,EAAQ,cAA0C,GAAe,SAAXqM,EAAmB9M,EAAG,SAAS,CAACM,YAAY,+DAA+DG,MAAM,CAAC,KAAO,SAAS,MAAQ,qCAAqC0B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,IAAIC,sBAAsB,UAAYwK,EAAQ/M,EAAIkN,iBAAiBH,OAAY,CAAC9M,EAAG,WAAW,CAACM,YAAY,UAAUG,MAAM,CAAC,KAAO,eAAe,GAAGV,EAAImN,YAAW,GAAGlN,EAAG,IAAI,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,uEAAuEF,EAAG,WAAW,CAACS,MAAM,CAAC,IAAMV,EAAIoN,mBAAmB,CAACpN,EAAIG,GAAG,mBAAmBH,EAAIG,GAAG,yBAAyB,GAAGF,EAAG,IAAI,CAACM,YAAY,iCAAiC,CAACP,EAAIG,GAAG,wDAAwDF,EAAG,WAAW,CAACmC,GAAG,CAAC,MAAQpC,EAAIqN,aAAa,CAACrN,EAAIG,GAAG,sCAAsCH,EAAIG,GAAG,OAAO,MAC3nE0C,EAAkB,G,oECDlB,EAAS,WAAa,IAAI7C,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACM,YAAY,SAASG,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,QAAQ,MAAQ,qBAAqB,CAAClC,EAAG,IAAI,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,oEAAoEF,EAAG,WAAW,CAACS,MAAM,CAAC,IAAM,qCAAqC,CAACV,EAAIG,GAAG,oBAAoBH,EAAIG,GAAG,OAAO,GAAGF,EAAG,IAAI,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,wHAAwHF,EAAG,WAAW,CAACqN,WAAW,CAAC,CAACzL,KAAK,QAAQ0L,QAAQ,UAAUC,MAAOxN,EAAQ,KAAEyN,WAAW,SAASlN,YAAY,gJAAgJG,MAAM,CAAC,KAAO,KAAK,YAAcV,EAAI0N,qBAAqBC,SAAS,CAAC,MAAS3N,EAAQ,MAAGoC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOwI,OAAO+C,YAAqB5N,EAAI6N,KAAKxL,EAAOwI,OAAO2C,WAAUxN,EAAIG,GAAG,KAAKF,EAAG,aAAa,CAACM,YAAY,wEAAwE6B,GAAG,CAAC,MAAQpC,EAAI8N,SAAS,CAAC9N,EAAIG,GAAG,sBAAsB,IACrtC,EAAkB,G,4CCiCP,EAAA2C,EAAA,KAAMC,OAAO,CACxB7C,KAAM,iBAAO,CAAE2N,KAAM,KACrBE,SAAU,CACNL,oBADM,WAEF,MAAO,CACH,0BACA,2CACA,yCACA,uCACA,sCACA,WACFM,KAAK,QAGfC,QAAS,CACLH,OADK,WAED,IAAII,EACEhO,EAAO,GACP2N,EAAO9L,KAAK8L,KAAKM,MAAM,GACvBC,EAAQ,6DAEd,MAAOF,EAAQE,EAAMC,KAAKR,GACtB3N,EAAKwE,KAAK,CAAE4J,KAAMJ,EAAM,KAG5BnM,KAAKO,IAAIiM,aAAaxM,KAAKG,GAAIhC,OC3DuX,I,YCO9Z8C,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,6ECdT,E,oGAE8CwL,GAC5C,IAAMC,EAAO,IAASD,EAAK,CACvBlG,MAAM,EACNoG,gBAAgB,EAChBC,kBAAkB,IAGtB,GAAIF,EAAKlG,OAAS,EACd,MAAO,GAEX,IAAMqG,EAASH,EAAKI,QAASjF,KAAI,SAAAkF,GAAC,OAAIxF,EAAA,KAAIyF,MAAMzF,EAAA,KAAIC,KAAKuF,OAEzD,OAAOL,EAAK7E,KAAI,SAAAoF,GAGZ,IAFA,IAAMC,EAAO,GAEJC,EAAI,EAAGA,EAAIN,EAAOrG,OAAQ2G,IAC/BD,EAAKL,EAAOM,IAAMF,EAAIE,GAG1B,OAAOD,S,KAMJ,MAAI,E,wBCkCJ,EAAAnM,EAAA,KAAMC,OAAO,CACxB7C,KAAM,iBAAO,CACTiP,QAASvO,OAAOsL,OAAOP,EAAA,QAE3BoC,SAAU,CACNf,iBAAkB,8CACbrB,EAAA,KAAYyD,KAAO,QADN,iBAEbzD,EAAA,KAAY0D,QAAU,WAFT,iBAGb1D,EAAA,KAAY2D,OAAS,WAHR,iBAIb3D,EAAA,KAAY4D,MAAQ,SAJP,iBAKb5D,EAAA,KAAY6D,UAAY,eALX,GAOlBtC,iBARM,WASF,IAAMuC,EAAW,mBACXC,EAAM3N,KAAK4C,KAAKgL,cAAgB,OAAS5N,KAAK4C,KAAKiL,YAEzD,MAAO,CACHC,OAAQ,CACJzK,IAAK,GAAF,OAAKrD,KAAK4C,KAAKmL,UAAf,iBAAiCJ,EAAjC,YAAwCD,MAIvDrC,iBAlBM,WAmBF,gBAAUrL,KAAK4C,KAAKmL,UAApB,yDAGR7B,QAAS,CACCZ,WADD,WACW,+JACZ,EAAK3K,QADO,SAINuE,EAAA,KAAK8I,KAAK,KAJJ,OAMZ,EAAKnE,QAAQV,QAND,8CAQV+B,YATD,SASaF,GAAmB,uLAEV,EAAKiD,cAAcjD,GAFT,UAEvB7M,EAFuB,OAIT,IAAhBA,EAAKqI,OAJoB,iEAQvB,EAAK/F,OAAOyN,aAAa/P,EAAM6M,GARR,OAU7B,EAAKrK,QAVwB,qDAY7B,EAAKJ,IAAIwB,MACL,gBACA,qFAdyB,6DAkB/BkM,cA3BD,SA2BejD,GAAmB,6JAC3BA,EAD2B,cAE1BpB,EAAA,KAAYyD,KAFc,SAI1BzD,EAAA,KAAY6D,WAJc,OAK1B7D,EAAA,KAAY0D,QALc,0CAGpB,EAAKa,oBAHe,gCAMpB,EAAKC,gBAAgB,OAAUC,MANX,gCAQpB,EAAKD,gBAAgB,OAAUE,OARX,8CAWjCF,gBAtCD,SAsCiBG,GAAiB,gLACRC,EAAA,KAAMC,OAAO,CAAEC,OAAQH,IADf,UAC7BI,EAD6B,OAEd,OAAjBA,EAF+B,yCAGxB,IAHwB,UAK7BxQ,EAAO,EAAKyQ,UAAUL,EAAQI,GAC/BE,MAAMC,QAAQ3Q,GANgB,sBAOzB,IAAI4Q,MAAM,wCAPe,gCAS5B5Q,GAT4B,8CAWjCgQ,iBAjDD,WAiDiB,uKACZa,EAAQ,EAAKzO,IAAI4B,UAAoB8M,GADzB,SAECD,EAAMtI,OAFP,cAEZvI,EAFY,yBAIXA,GAAQ,IAJG,8CAMtByQ,UAvDK,SAuDKL,EAAmBI,GAAoB,MAC7C,OAAO,sBACF,OAAUL,MAAO,kBAAMA,KAAKnG,MAAMwG,MADhC,iBAEF,OAAUN,KAAM,kBAAM,EAAIlG,MAAMwG,MAF9B,GAGLJ,SCtJ+Y,ICOzZ,EAAY,eACd,EACAxQ,EACA+C,GACA,EACA,KACA,KACA,MAIa,S,0FCjBM,cACbhD,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,4G,2CCvBnD,IAAIZ,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAGD,EAAIiR,KAAO,IAAM,SAASjR,EAAIkR,GAAG,CAACxB,IAAI,YAAYnP,YAAY,+BAA+BD,MAAM,CAAE,aAAcN,EAAImR,WAAY/O,GAAG,CAAC,MAAQ,SAASC,IAASrC,EAAIiR,MAAQjR,EAAIoR,MAAM,QAAS/O,MAAW,YACtSrC,EAAIiR,KACE,CACEA,KAAMjR,EAAIiR,KACVpG,OAAQ,UAEV,CAAEwG,KAAMrR,EAAI8N,OAAS,SAAW,WACzC,GAAO,CAAE9N,EAAQ,KAAEC,EAAG,WAAW,CAACK,MAAMN,EAAIsR,kBAAkB5Q,MAAM,CAAC,KAAOV,EAAIuR,QAAQvR,EAAImN,KAAKlN,EAAG,OAAO,CAACK,MAAMN,EAAIwR,WAAW,CAACxR,EAAIyR,GAAG,YAAY,IAAI,IAC1J5O,EAAkB,G,YCqBP,SAAIE,OAAO,CACtB2O,MAAO,CACH5D,OAAQ,CACJuD,KAAMM,QACNC,SAAS,GAEbX,KAAM,CACFI,KAAMQ,OACND,QAAS,MAEbL,KAAM,CACFF,KAAMQ,OACND,QAAS,MAEbJ,UAAW,CACPH,KAAMQ,OACND,QAAS,IAEbE,UAAW,CACPT,KAAMQ,OACND,QAAS,MAEbT,UAAW,CACPE,KAAMM,QACNC,SAAS,IAGjB7D,SAAU,CACNuD,kBADM,WAEF,OAAOvP,KAAK+P,WAAc,WAAa/P,KAAKgQ,OAAOH,QAAU,QAAU,QC1DoU,I,YCOnZ5O,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAAG,E,0FCjBM,cACbnD,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,sG,0EClB7CuG,E,uGAEkC+K,EAAkCC,GAClE,IAAIC,EAEEC,EAA6C,SAA7CA,IAA+D,2BAAdC,EAAc,yBAAdA,EAAc,gBACjED,EAAkB9J,SAClB6J,EAAUG,YAAW,kBAAML,EAAQ,WAAR,EAAYI,KAAOH,IAKlD,OAFAE,EAAkB9J,OAAS,kBAAMiK,aAAaJ,IAEvCC,I,wCAGc3E,GACrB,GAAqB,kBAAVA,EACP,OAAO,EAEX,IAAM+E,EAAO,IAAIC,KAAKhF,GAEtB,OAAQiF,MAAMF,EAAKG,a,2BAGXC,GACR,OAAO,IAAIrI,SAAQ,SAAAsC,GAAO,OAAIyF,WAAWzF,EAAS+F,Q,2CAIlD,OAAO,IAAIrI,SAAQ,SAAAsC,GAAO,OAAIgG,uBAAsB,kBAAMhG,c,KAKnD,WAAI3F,G,iFCtCE,cACbpH,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,eAAgBH,IAClFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,i8B,kCCvBnD,8CAGA,IAAOmS,WAAW,oCAAuB,YACzC,IAAYC,mB,sPCUkB,E,WAA9B,oCAGY,KAAAzG,UAAuC,iBAAkB,I,sMAQzDtK,KAAKgR,O,yCACEhR,KAAKgR,Q,cAEhBhR,KAAKgR,OAAS,IAAI,mB,SAEZhR,KAAKiR,e,OAEXjR,KAAKgR,OAAOnG,U,2IAGGN,GAAsB,WAIrC,OAHKvK,KAAKsK,UAAU1C,SAAS2C,IACzBvK,KAAKsK,UAAU3H,KAAK4H,GAEjB,WACH,EAAK2G,eAAe3G,M,qCAINA,GACbvK,KAAKsK,UAAU1C,SAAS2C,IAG7BvK,KAAKsK,UAAU/K,OAAOgL,K,kGAKO4G,G,4GACvB5I,QAAQC,IACVxI,KAAKsK,UAAU8G,UAAUvJ,IAAzB,yDACI,WAAM0C,GAAN,iHACUA,EAAS8G,wBADnB,aACU,EAA2BC,KAAK/G,EAAhC,gBACFgH,cAAe,GACZJ,IAHX,2CADJ,kCAAAnR,KAAA,iB,6SAYEuI,QAAQC,IACVxI,KAAKsK,UAAU8G,UAAUvJ,IAAzB,yDACI,WAAM0C,GAAN,iHACUA,EAASiH,sBADnB,aACU,EAAyBF,KAAK/G,GADxC,2CADJ,kCAAAvK,KAAA,iB,4HC7DN,E,uWAO8E,uD,2BAApE6P,QAAW4B,E,EAAAA,MAAOC,E,EAAAA,uBAAwB/P,E,EAAAA,MAAOd,E,EAAAA,OAIzDb,KAAKyR,MAAQA,EACbzR,KAAK2R,OAAShQ,EACd3B,KAAK4R,QAAU/Q,E,UAEO6Q,EAAuBG,OAAOC,SAAS5C,M,WAAvDiC,E,gBAEFA,Q,IAAAA,O,EAAAA,EAAS7N,Y,kCACHK,EAAA,KAASC,KAAK,4BAA6B6N,G,yBAC3CzR,KAAKqR,iBAAiB,CAAEU,MAAOZ,EAAQY,Q,iMAIlCC,G,iGACThS,KAAK2R,OAAO,CACdK,aACAC,WAAY,eACZC,YAAaL,OAAOC,SAAS5C,O,gCAG1B,OAAqBrN,W,qSAItB7B,KAAK4R,U,uBACL5R,KAAKwR,iB,8GAnCe,GAwCnB,MAAI,ECxCb,E,4VAWMxR,KAAKmS,e,gCACCnS,KAAKmS,e,+CAMTC,E,yDAAmB,WAAOjB,GAAP,4FACrBA,EAAUA,GAAW,MAEV,QAAP,EAAAA,SAAA,eAASY,SAAUM,EAHF,oDAMrBA,EAAkB,UAAGlB,SAAH,aAAG,EAASY,OAE1BM,EARiB,gCASX,EAAKhB,iBAAiB,CAAEU,MAAOM,IATpB,+CAWX,EAAKb,iBAXM,4C,sDAczBxR,KAAKmS,eAAiB,IAAI,mB,SAGQ,uD,uBAAjBG,E,EAATzC,QAIR7P,KAAKmS,eAAetH,QAAQyH,G,UAEtBA,EAAOC,iBAAiBC,KAAKJ,G,QAEnCE,EAAOG,aAAaL,G,iMAGLJ,G,uGACThS,KAAKiR,e,uBAEWjR,KAAKmS,eAAgB1G,MAAO9J,MAAMqQ,G,cAAlDb,E,yBAECA,EAAU,OAAqBuB,SAAW,OAAqB7Q,W,qSAIhE7B,KAAKiR,e,uBACLjR,KAAKmS,eAAgB1G,MAAO5K,S,OAIlC,aAAQtB,OAAO,qB,qIAxDH,MACN+S,EAAM,UAAGtS,KAAKmS,sBAAR,aAAG,EAAqB1G,MAEpC,OAAO6G,EAASA,EAAOb,MAAMkB,KAAKL,GAAUT,OAAOJ,U,GAPzB,GAiEnB,MAAI,ECnEbmB,GAAc,sBACf,OAAqBC,OAAS,GADf,iBAEf,OAAqBC,OAAS,GAFf,GAKL,ICUTC,EAA6B,0BAE7B,E,uGAiBctB,GACZzR,KAAKgT,OAASvB,I,sFAGAlH,G,oFACdvK,KAAKuK,SAAWA,EAChBvK,KAAKiT,sBAAwB,CACzB5B,iBAAkBrR,KAAKqR,iBAAiBsB,KAAK3S,MAC7CwR,eAAgBxR,KAAKwR,eAAemB,KAAK3S,OAGxC,aAAQkT,IAAIH,G,wDAGjB/S,KAAKmT,eAAiB,aAAQlU,IAAI8T,G,kBAGxB/S,KAAKoT,iBAAiBpT,KAAKmT,eAAe3R,sB,4DAEhD+I,EAASpH,QAAT,M,2MAIW5B,EAAkBC,G,yGAC7BxB,KAAKmR,Q,yCACE,OAAqBuB,U,cAEhClR,EAAoB,UAAGA,SAAH,QAA2B,O,SAEzB,mCAAsBD,G,cAAtC8R,E,OACAC,E,iBAAgBD,Q,IAAAA,O,EAAAA,EAASC,qB,QAAiB,qBAAO,iBAACD,QAAD,IAACA,OAAD,EAACA,EAAStB,aAAV,QAAmBxQ,GACpEgS,EAAoC,CAAEhS,WAAUC,wBAEtD,aAAQpC,IAAI2T,EAA4BQ,G,mBAGRvT,KAAKoT,iBAAiB5R,G,eAA5C+P,E,iBACeA,EAAc5P,MAAM2R,G,WAAnC1R,E,OAEFA,IAAW,OAAqBC,U,kCAC1B,mBAAM,CAAE2R,QAAS,K,iCAEpB5R,G,4CAEP,aAAQrC,OAAOwT,G,kBAER,OAAqBjR,Q,8SAK5B,aAAQoR,IAAIH,IACZ,aAAQxT,OAAOwT,GAEf/S,KAAKmT,uBACEnT,KAAKmT,e,mBAEVnT,KAAKuR,qB,aAAL,EAAoB1Q,S,2MAGCW,G,wFACvBxB,KAAKuR,gBACLvR,KAAKuR,cAAcL,eAAelR,KAAKiT,8BAEhCjT,KAAKuR,eAGhBvR,KAAKuR,cAAgB,EAAe/P,GAEpCxB,KAAKuR,cAAckC,YAAYzT,KAAKiT,uB,kBAG1BjT,KAAKuR,cAAczO,O,gEAEzB9C,KAAKuR,cAAcL,eAAelR,KAAKiT,8BAEhCjT,KAAKuR,c,sCAITvR,KAAKuR,e,qNAGeJ,G,8FACvBA,EAAQY,SAAR,UAAkB/R,KAAKmR,eAAvB,aAAkB,EAAcY,O,iEAGd,mCAAsBZ,EAAQY,MAAOZ,EAAQI,cAAcE,O,OAA3E4B,E,OACApQ,EAAO,IAAIC,EAAA,KAAUmQ,GAE3BrT,KAAKmR,QAAUA,EACfnR,KAAKuK,SAASxH,cAAcE,G,iJAIvBjD,KAAKmR,iBAGHnR,KAAKmR,QACZnR,KAAKuK,SAASxH,cAAc,S,4BA3GhB,UACZ,2BAAO/C,KAAKgT,cAAZ,kBAAsBhT,KAAKmR,eAA3B,aAAsB,EAAcI,cAAcE,aAAlD,QAA2DI,OAAOJ,MAAMkB,KAAKd,U,oCAGzD,MACpB,iBAAO7R,KAAKmT,sBAAZ,QAA8B,S,KA2GvB,WAAI,G,iFC9IE,cACbrV,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,wC,yCCvBnD,IAAIkJ,EAAM,CACT,mBAAoB,OACpB,sBAAuB,OACvB,UAAW,OACX,aAAc,OACd,qBAAsB,OACtB,wBAAyB,OACzB,gBAAiB,OACjB,mBAAoB,QAIrB,SAAS6L,EAAeC,GACvB,IAAIxT,EAAKyT,EAAsBD,GAC/B,OAAOE,EAAoB1T,GAE5B,SAASyT,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEjM,EAAK8L,GAAM,CACpC,IAAII,EAAI,IAAIhF,MAAM,uBAAyB4E,EAAM,KAEjD,MADAI,EAAEC,KAAO,mBACHD,EAEP,OAAOlM,EAAI8L,GAEZD,EAAeO,KAAO,WACrB,OAAOpV,OAAOoV,KAAKpM,IAEpB6L,EAAe7I,QAAU+I,EACzBM,EAAOC,QAAUT,EACjBA,EAAevT,GAAK,Q,iGC7BhB,EAAQW,E,oCCKG,EAAAsT,EAAA,KAAWpT,OAAO,CAC7B2O,MAAO,CACHhC,IAAK,CACD2B,KAAMQ,OACND,QAAS,OAEbwE,aAAc,CACV/E,KAAMgF,OACNzE,QAAS,MAEb0E,UAAW,CACPjF,KAAMQ,OACND,QAAS,KAGjB9R,OAf6B,SAetBgP,GACH,OAAK/M,KAAKwU,mBAAsBxU,KAAKyU,QAG9B1H,EACH,mBACA,CACI4C,MAAO,gBACHhC,IAAK3N,KAAK2N,IACV4G,UAAW,CACP,iBACA,aAAevU,KAAKqU,cAAgBrU,KAAK0U,WAFlC,sBAGJ1U,KAAKuU,UAAUI,MAAM,OAC1B1I,KAAK,MACJjM,KAAK4U,oBAEZvU,GAAIL,KAAK6U,wBAEb7U,KAAKgQ,OAAOH,SAhBL9C,EAAE/M,KAAK2N,IAAK3N,KAAKgQ,OAAOH,YCtBqX,I,YFO5Z5O,EAAY,eACd,EACA,EACAH,GACA,EACA,KACA,KACA,MAIa,aAAAG,E,0FGjBM,cACbnD,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,8L,oCCvBnD,yBAAsiB,EAAG,G,2CCAziB,IAAIZ,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAQC,EAAS,MAAEC,EAAG,cAAc,CAACM,YAAY,uEAAuEG,MAAM,CAAC,MAAQV,EAAI8F,MAAM,GAAK9F,EAAI6W,WAAW,CAAC7W,EAAIyR,GAAG,YAAY,GAAIzR,EAAO,IAAEC,EAAG,IAAI,CAACM,YAAY,uEAAuEG,MAAM,CAAC,OAAS,SAAS,MAAQV,EAAI8F,MAAM,KAAO9F,EAAIoF,MAAM,CAACpF,EAAIyR,GAAG,YAAY,GAAGxR,EAAG,SAAS,CAACM,YAAY,uEAAuEG,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIoR,MAAM,QAAS/O,MAAW,CAACrC,EAAIyR,GAAG,YAAY,IACvpB5O,EAAkB,G,YC+BP,SAAIE,OAAO,CACtB2O,MAAO,CACH5L,MAAO,CACHuL,KAAMQ,OACND,QAAS,MAEbxM,IAAK,CACDiM,KAAMQ,OACND,QAAS,MAEbkF,MAAO,CACHzF,KAAMQ,OACND,QAAS,OAGjB7D,SAAU,CACN8I,SADM,WAEF,MAAO,CAAEhV,KAAME,KAAK+U,WCjDqX,I,YCOjZ9T,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAAG,E,oDClBf,IAAIlD,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAQC,EAAmB,gBAAEC,EAAG,MAAM,CAACS,MAAM,CAAC,IAAMV,EAAI+W,gBAAgB,IAAM,MAAM9W,EAAGD,EAAIgX,cAAc,CAACtH,IAAI,YAAYnP,YAAY,kBAC3NsC,EAAkB,G,wBCOP,SAAIE,OAAO,CACtB2O,MAAO,CACH7P,KAAM,CACFwP,KAAMQ,OACNoF,UAAU,IAGlBlJ,SAAU,CACNiJ,cADM,WAEF,OAAO,UAAQ,YAAkBjV,KAAKF,KAAxB,SAAoC+P,SAEtDmF,gBAJM,WAKF,MAAkB,iBAAdhV,KAAKF,KACE,KAGJE,KAAK4C,KAAKoS,oBCxBwX,I,YCOjZ/T,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAAG,E,4GCjBM,cACbnD,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,oMAAoMT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,oK,iJCpBxPwW,E,qIAAyB,iBAE5B,EAAAC,aAAc,EAEd,EAAAC,YAAc,CACxB,MAAS,qCAGC,EAAAC,YAAc,CAAC,0BAEf,EAAAC,YAAa,EAEb,EAAAC,OAAS,CACnBC,SAAU,CACNnG,KAAM,eAAUoG,IAChBC,YAAa,iBACbT,UAAU,GAEdU,kBAAmB,CACftG,KAAM,eAAUoG,IAChBC,YAAa,0BACbT,UAAU,K,0JCxBDW,E,wDAEjB,WAAYC,GAAgB,oCACxB,cAAMA,GAGN,EAAKhW,MAAO,2CAAWA,KACvBjB,OAAOkX,eAAPlX,OAAA,OAAAA,CAAA,IAA4B,2CAAWqL,WALf,E,yBAFc6E,S,wGCAxCiH,E,uGAGcC,GACZ,OAAOA,GACAA,EAA8B,GAAhBC,KAAKC,UAAiBF,EAAc,GAAGG,SAAS,IAC/D,uCACGtS,QAAQ,SAAU9D,KAAKqW,c,KAKzB,WAAIL,G,gECZbhX,E,kGAES+J,EAAa0C,GACC,qBAAVA,IACPA,EAAQ,iBAEZ6K,aAAaC,QAAQxN,EAAKuF,KAAKkI,UAAU/K,M,0BAGlC1C,GAAqC,IAAxB0N,EAAwB,uDAAJ,KAClChL,EAAQ6K,aAAaI,QAAQ3N,GAEnC,OAAc,OAAV0C,EACOgL,EAEG,kBAAVhL,EAGG6C,KAAKnG,MAAMsD,QAHlB,I,0BAMO1C,GACP,OAAqC,OAA9BuN,aAAaI,QAAQ3N,K,6BAGlBA,GACVuN,aAAaK,WAAW5N,K,2BAGhBA,GAAqC,IAAxB0N,EAAwB,uDAAJ,KACzC,IAAKzW,KAAKkT,IAAInK,GACV,OAAO0N,EAEX,IAAMhL,EAAQzL,KAAKf,IAAI8J,GAIvB,OAFA/I,KAAKT,OAAOwJ,GAEL0C,M,KAKA,WAAIzM,G,kKCjCW2F,E,WAW1B,+CANmB,KAAAzD,eAAyB,GAOxClB,KAAK6C,MAAQ,IAAI0F,SAAQ,SAACsC,EAAS+L,GAC/B,EAAKC,aAAehM,EACpB,EAAKiM,YAAcF,K,wDAOvB,OAFA5W,KAAK8C,OAAO0P,KAAKxS,KAAK6W,cAAcE,MAAM/W,KAAK8W,aAExC9W,KAAK6C,Q,uCAO0CmU,GACtD,OAAO,OAAS/M,OAAOgN,QAAhB,UAA2BjX,KAAKkB,eAAhC,YAAkD8V,M,yKAIzDhX,KAAKkX,oBAAoB,OAASjN,Q,mJAGRkN,GAC1B,IAAMC,EAAepX,KAAKqX,kBAEe,IAArCxY,OAAOoV,KAAKmD,GAAc5Q,QAG9B2Q,EAAMG,eAAetX,KAAKkB,eAAgB,CACtCqW,YAAY,EACZ7S,MAAO0S,EACPI,UAAW,CACPnW,SAAU,SAACqD,EAAc+S,GACrB5Y,OAAOC,OAAO4F,EAAO+S,KAG7BR,QAASjX,KAAK0X,kC,iCAKlBC,EACA1H,GAA4C,WAE5C,OAAO,OAAShG,OAAO2N,OACnB,SAAClT,EAAOsH,GAAR,OAAqB2L,EAAOjT,EAAM,EAAKxD,gBAAiB8K,KACxDiE,K,wCAKJ,MAAO,K,oDAIP,MAAO,K,+BAGQwH,GACf,OAASxN,OAAO4N,OAAhB,UAA0B7X,KAAKkB,eAA/B,aAA0DuW,K,4BAhD1D,OAAO,OAASxN,OAAOvF,MAAM1E,KAAKkB,iBAAmBlB,KAAKqX,sB,6BClClEnD,EAAOC,QAAU,IAA0B,2B,+ECCtB,cACbrW,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,sF,oCCvBnD,yBAAoa,EAAG,G,0GCClZ,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,qZ,uBCvBnD,IAAIkJ,EAAM,CACT,aAAc,OACd,aAAc,QAIf,SAAS6L,EAAeC,GACvB,IAAIxT,EAAKyT,EAAsBD,GAC/B,OAAOE,EAAoB1T,GAE5B,SAASyT,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEjM,EAAK8L,GAAM,CACpC,IAAII,EAAI,IAAIhF,MAAM,uBAAyB4E,EAAM,KAEjD,MADAI,EAAEC,KAAO,mBACHD,EAEP,OAAOlM,EAAI8L,GAEZD,EAAeO,KAAO,WACrB,OAAOpV,OAAOoV,KAAKpM,IAEpB6L,EAAe7I,QAAU+I,EACzBM,EAAOC,QAAUT,EACjBA,EAAevT,GAAK,Q,sICrBF2X,EAIAC,E,6DAJlB,SAAkBD,GACd,gBADJ,CAAkBA,MAAM,KAIxB,SAAkBC,GACd,6BACA,oBAFJ,CAAkBA,MAAS,KAkB3B,IAAMC,EAAqB,CAAC,QAAS,YAAa,aAE5CC,GAAkB,sBACnBF,EAAUzJ,KAAO,SADE,iBAEnByJ,EAAU1J,IAAM,QAFG,GAKlBG,E,WAAN,+CAKY,KAAA0J,mBAAA,wCAAqB,iGACpB,EAAKC,aADe,iDAIzBH,EAAmBnQ,KACf,SAAAa,GAAK,OAAIrD,SAASC,KAAKuD,oBAAoBH,EAAO,EAAKwP,uBAG3D,EAAKC,aAAatN,QAAS,aACpB,EAAKsN,aATa,2C,wDAYb1S,GAAuB,WACnCzF,KAAKyF,MAAQA,EACbzF,KAAKyF,MAAM2S,SAAW,kBAAM,EAAKC,oB,+BAGE,IAAzBC,EAAyB,uDAAF,GACjC,GAAItY,KAAKmY,aACL,OAAO5P,QAAQqO,OAAO,6CAE1B5W,KAAKyF,MAAM8S,aAAa,QAAS,IACjCvY,KAAKyF,MAAM8S,aAAa,SAAUN,EAAmBK,EAAO5J,SAAY,KAExE,IAAM8J,EAAUxY,KAAKyY,uBAAuBH,EAAOI,QAInD,OAFA1Y,KAAKyF,MAAMkT,QAEJH,I,+BAGKI,EAAkBC,GAAsD,IAArCC,EAAqC,uDAAdf,EAAUzJ,KAC1EjL,EAAMwO,OAAOkH,IAAIC,gBAAgB,IAAIC,KAAK,CAACJ,GAAU,CAACvJ,KAAMwJ,KAC5DI,EAAS7T,SAAS8T,cAAc,KAEtCD,EAAOza,MAAM2a,QAAU,OACvBF,EAAOhK,KAAO7L,EACd6V,EAAOG,SAAWT,EAClBvT,SAASC,KAAKgU,YAAYJ,GAC1BA,EAAOP,QACP9G,OAAOkH,IAAIQ,gBAAgBlW,GAC3BgC,SAASC,KAAKkU,YAAYN,K,+CAG4B,WAA3BR,EAA2B,uDAAVZ,EAAO2B,IAOnD,OANAzZ,KAAKmY,aAAe,CAAEO,UAGtB,OAAK1K,KAAK,KACLwE,MAAK,kBAAMwF,EAAmBnQ,KAAI,SAAAa,GAAK,OAAI,EAAKgR,6BAA6BhR,SAE3E,IAAIH,SAAsB,SAACsC,EAAS+L,GACvC,EAAKuB,aAActN,QAAUA,EAC7B,EAAKsN,aAAcvB,OAASA,O,mDAIClO,GACjCrD,SAASC,KAAKmD,iBAAiBC,EAAO1I,KAAKkY,sB,uCAI3C,GAAKlY,KAAKmY,cAAiBnY,KAAKyF,MAAMkU,OAAqC,IAA5B3Z,KAAKyF,MAAMkU,MAAMnT,OAAhE,CAGA,IAAMoT,EAAS,IAAIC,WACb1B,EAAenY,KAAKmY,aAkB1B,cAhBOnY,KAAKmY,aAEZyB,EAAOE,OAAS,WACP3B,GAGLA,EAAatN,QAAS+O,EAAOlT,SAGjCkT,EAAOG,QAAU,SAAA1X,GACR8V,GAGLA,EAAavB,OAAQvU,IAGlB8V,EAAaO,QAChB,KAAKZ,EAAO2B,IACRG,EAAOI,WAAWha,KAAKyF,MAAMkU,MAAM,IACnC,Y,KAMD,WAAInL,G,kCCjInB,IAAIzQ,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACM,YAAY,uCAAuC,CAACN,EAAG,MAAM,CAACM,YAAY,yCAAyC,CAACN,EAAG,MAAM,CAACM,YAAY,wDAAwD,CAACN,EAAG,MAAM,CAACM,YAAY,iCAAkCP,EAAImJ,MAAe,UAAElJ,EAAG,MAAM,CAACM,YAAY,uCAAuCC,MAAM,CAC/awH,OAAQ,aACRgU,gBAAkB,QAAWhc,EAAImJ,MAAe,UAAI,QACnDlJ,EAAG,WAAW,CAACM,YAAY,qKAAqKG,MAAM,CAAC,KAAO,YAAY,GAAGT,EAAG,cAAc,CAACM,YAAY,sDAAsDD,MAAM,CAAE,iCAAkCN,EAAImJ,MAAM8S,WAAYvb,MAAM,CAAC,IAAMV,EAAImJ,MAAM8S,cAAc,GAAGhc,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,KAAK,CAACM,YAAY,iDAAiD,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAImJ,MAAMrD,OAAO,KAAM9F,EAAImJ,MAAiB,YAAElJ,EAAG,OAAO,CAACM,YAAY,uBAAuB,CAACP,EAAIG,GAAG,KAAKH,EAAIkc,GAAGlc,EAAImJ,MAAMgT,YAAYC,eAAe,QAAQpc,EAAImN,OAAOlN,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAAGP,EAAI8L,QAAQuQ,SAGrbrc,EAAImN,KAH2blN,EAAGD,EAAImJ,MAAMmT,QAAU,MAAQ,SAAStc,EAAIuc,GAAGvc,EAAIkR,GAAG,CAACxB,IAAI,YAAYnP,YAAY,wBAAwB,YAAYP,EAAImJ,MAAMmT,QAAU,GAAK,CAAEjL,KAAM,WAAW,GAAOrR,EAAImJ,MAAMmT,QAAU,GAAK,CAAE5B,MAAO1a,EAAIwc,cAAe,CAACvc,EAAG,MAAM,CAACM,YAAY,oBAAoBD,MAAM,CACvmC,iBAAkBN,EAAImJ,MAAMmT,QAC5B,2CAA4Ctc,EAAImJ,MAAMsT,UACvD,CAAEzc,EAAImJ,MAAa,QAAE,CAAClJ,EAAG,WAAW,CAACM,YAAY,kCAAkCG,MAAM,CAAC,KAAO,UAAUT,EAAG,OAAO,CAACM,YAAY,sBAAsB,CAACP,EAAIG,GAAG,kBAAkBH,EAAImN,KAAKlN,EAAG,WAAW,CAACM,YAAY,eAAeD,MAAM,CAAE,2BAA4BN,EAAImJ,MAAMsT,SAAU/b,MAAM,CAAC,KAAO,eAAeT,EAAG,OAAO,CAACK,MAAM,CAAE,2BAA4BN,EAAImJ,MAAMsT,UAAW,CAACzc,EAAIG,GAAG,cAAc,MAAe,KAAOH,EAAI8L,QAAQuQ,SAMvOrc,EAAImN,KAN6OlN,EAAG,WAAW,CAACS,MAAM,CAAC,UAAY,YAAY,QAAU,CAClgBV,EAAImJ,OAASnJ,EAAImJ,MAAMmT,QAClB,CAAEzO,KAAM,cAAe0D,KAAM,OAAQ/K,OAAQxG,EAAI0c,gBACjD,CAAE7O,KAAM,QAAS0D,KAAM,YAAa/K,OAAQxG,EAAIwc,aACtD,CAAE3O,KAAM,SAAU0D,KAAM,QAAS/K,OAAQxG,EAAI2c,eAAiBC,YAAY5c,EAAI6c,GAAG,CAAC,CAAC/R,IAAI,UAAUgS,GAAG,SAASC,GACjH,IAAIC,EAAoBD,EAAIE,OAChD,MAAO,CAAChd,EAAG,aAAa,CAACM,YAAY,wEAAwEG,MAAM,CAAC,KAAO,OAAO,aAAa,oBAAoB,aAAa,IAAI0B,GAAG,CAAC,MAAQ4a,SAAyB,MAAK,EAAM,eAAwB,GAAG/c,EAAG,IAAI,CAACM,YAAY,iCAAiC,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAImJ,MAAM+T,aAAe,mBAAmB,OAAQld,EAAkB,eAAEC,EAAG,KAAK,CAACM,YAAY,sCAAsCP,EAAI8M,GAAI9M,EAAkB,gBAAE,SAASmd,GAAe,OAAOld,EAAG,KAAK,CAAC6K,IAAIqS,EAAcC,OAAO7c,YAAY,QAAQ,CAACN,EAAG,IAAI,CAACS,MAAM,CAAC,KAAOyc,EAAc/X,IAAI,OAAS,WAAW,CAAE+X,EAAkB,KAAEld,EAAG,WAAW,CAACM,YAAY,aAAaG,MAAM,CAAC,KAAOyc,EAAc5L,QAAQtR,EAAG,OAAO,CAACM,YAAY,mEAAmE,CAACP,EAAIG,GAAG,YAAYH,EAAIkc,GAAGiB,EAAcC,QAAQ,QAAQ,QAAO,GAAGpd,EAAImN,YACv3BtK,EAAkB,G,oGCmHhBwa,EAA6C,CAC/C,WAAY,OACZ,iBAAkB,QAGP,SAAIta,OAAO,CACtBua,WAAY,CACRC,cAAA,MAEJ7L,MAAO,CACHvI,MAAO,CACHkI,KAAMzQ,OACNqW,UAAU,IAGlBlJ,SAAU,CACNyP,eADM,WAEF,OAAKzb,KAAKoH,MAGHpH,KAAKoH,MAAMsU,aAAa7T,KAAI,SAAAxE,GAC/B,IAAMgY,EAASM,EAAA,KAAIC,gBAAgBvY,GAEnC,MAAO,CACHA,MACAgY,SACA7L,KAAM8L,EAAaD,IAAW,SAR3B,OAanBnP,QAAS,CACCuO,YADD,WACY,2JACR,EAAKrT,QAAS,EAAKA,MAAMmT,QADjB,iEAIP,EAAKha,IAAIsb,YAAY,EAAKzU,OAAO,SAAAA,GAAK,OAAIA,EAAMwQ,WAJzC,8CAMX+C,eAPD,WAOe,2JACX,EAAKvT,MADM,iEAIJ,EAAK7G,IAAIub,QAAQ,mCAJb,kFAOV,EAAKvb,IAAIkB,QAAT,wCACF,8GACU,EAAK2F,MAAO2U,uBAAuB,WAD7C,uBAEUxT,QAAQC,IAAI,EAAKpB,MAAO9C,QAASuD,KAAI,SAAAmU,GAAM,OAAIA,EAAOC,aAFhE,OAII,EAAK7U,MAAO8U,kBAAkB,UAAW,IAJ7C,2CADE,oBAOW,EAAK9U,MAAMrD,MAPtB,sBAPU,8CAiBd6W,YAxBD,WAwBY,2JACR,EAAKxT,MADG,iEAID,EAAK7G,IAAIub,QAAQ,sBAJhB,yEAOb,EAAKpZ,QAAQC,KAAK,CAAE7C,KAAoC,IAA9B,EAAKW,OAAO2H,OAAO5B,OAAe,OAAS,eAPxD,SASP,EAAKjG,IAAIkB,QAAT,wCACF,8GACU,EAAKhB,OAAO0b,YAAY,EAAK/U,OADvC,uBAEU,EAAKA,MAAO6U,SAFtB,2CADE,qBAKY,EAAK7U,MAAMrD,MALvB,UATO,OAiBb,EAAKxD,IAAI6b,aAAT,YACS,EAAKhV,MAAMrD,MADpB,6CAEI,CAAEsY,WAAW,IAnBJ,kDCvL8W,I,YCOnYpb,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,0FCjBM,cACbnD,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,uD,qNCA7C8E,E,yKAI2B4B,G,wGAAyBiX,E,+BAAmB,EAChEjX,EAASkX,U,yCACH,M,uBAEQvc,KAAKwc,gBAAgBnX,EAAShC,K,UAA3ClF,E,OAEDA,KAAQ+X,KAAKuG,IAAIpX,EAASkX,UAAU5L,UAAYxS,EAAKoe,UAAU5L,WAAa2L,G,yCACtE,M,gCAEJtc,KAAK0c,kBAAkBve,I,4MAGJwe,EAAqBC,G,oFAC1CA,E,iEAGC5c,KAAK6c,gBAAgBF,EAAa,CACpCG,OAAQ,GACRP,UAAWK,I,sMAIGG,G,0GAAmBC,E,+BAA8C,GAC7EL,EAAcI,EAAME,iBAErBN,E,iEAGc3c,KAAKwc,gBAAgBG,G,UAAlCxe,E,OAEDA,E,wDAGLA,EAAK2e,OAAOC,EAAM1Z,KAAOrD,KAAKkd,eAAeH,EAAOC,G,UAE9Chd,KAAK6c,gBAAgBF,EAAaxe,G,2MAGhBkF,G,iGAClBrD,KAAKmd,mBAAmB9Z,G,2RAI1BrD,KAAKod,aACLpd,KAAKod,WAAWzc,eACTX,KAAKod,Y,SAGV,eAAS,gB,0MAGW/Z,G,kHAEGrD,KAAKqd,gB,cAAxBD,E,gBACapd,KAAKsd,+BAA8B,WAClD,IAAMC,EAAcH,EAAWG,YAAY,eAAgB,YAE3D,OAAOA,EAAYpG,MAAMlY,IAAIoE,M,cAH3BlF,E,yBAMCA,GAAQ,M,8DAER,M,qNAIekF,EAAalF,G,uGACd6B,KAAKqd,gB,cAAxBD,E,gBAEApd,KAAKsd,+BAA8B,WACrC,IAAMC,EAAcH,EAAWG,YAAY,eAAgB,aAI3D,OAFAA,EAAYpG,MAAMqG,IAAIrf,EAAMkF,GAErBka,EAAYE,Q,gNAIMpa,G,uGACJrD,KAAKqd,gB,cAAxBD,E,gBAEApd,KAAKsd,+BAA8B,WACrC,IAAMC,EAAcH,EAAWG,YAAY,eAAgB,aAI3D,OAFAA,EAAYpG,MAAM8E,OAAO5Y,GAElBka,EAAYE,Q,+IAIJV,EAAmBC,GACtC,MAAO,CACHU,UAAWX,EAAMY,WAAWD,UAC5BE,WAAYb,EAAMc,gBAClBC,mBAAoBjf,OACfoV,KAAK+I,GACLe,QAAO,SAACD,EAAoBE,GAGzB,OAFAF,EAAmBE,GAAYjB,EAAMkB,YAAYD,GAAWE,aAAaR,UAElEI,IACR,IACPK,mBAAoBtf,OACfuf,QAAQpB,GACRe,QAAO,SAACI,EAAD,GAA2C,0BAArBH,EAAqB,KAAXlB,EAAW,KAG/C,OAFAqB,EAAmBH,GAAYlB,EAAOjV,KAAI,SAAAkV,GAAK,OAAIA,EAAMc,mBAElDM,IACR,O,wCAIWhgB,GAAwB,WAC9C,OAAOU,OAAOsL,OAAOhM,EAAK2e,QAAQjV,KAAI,SAAAwW,GAAS,OAAI,EAAKC,iBAAiBD,Q,uCAGpDlgB,GAIrB,IAHA,IAAMwf,EAAa,IAAOZ,MAAM5e,EAAKuf,WAC/BX,EAAQY,EAAWY,YAAYpgB,EAAKyf,YAAY,GAFhB,0CAI1BI,EAJ0B,KAIhBQ,EAJgB,KAKlCzB,EAAMb,kBACF8B,EACAQ,EAAwB3W,KAAI,SAAA+V,GACxB,IAAMa,EAAoB,IAAO1B,MAAM5e,EAAK2f,mBAAmBE,IAE/D,OAAOS,EAAkBF,YAAYX,GAAY,QAN7D,MAAkD/e,OAAOuf,QAAQjgB,EAAKggB,oBAAtE,eAA2F,IAW3F,OAAOpB,I,qLAIF/c,KAAKod,W,gCACkB,eAAO,eAAgB,EAAG,CAC9CsB,QAD8C,SACtCC,GACJA,EAAGC,kBAAkB,mB,OAF7B5e,KAAKod,W,uCAMFpd,KAAKod,Y,6JAIyByB,GACrC,IACI,OAAOA,IACT,MAAOxc,GACL,KACMA,aAAiB0M,SACd1M,EAAMvC,KAAKkJ,cAAcpB,SAAS,cAClCvF,EAAMyT,QAAQ9M,cAAcpB,SAAS,YAG1C,MAAMvF,EAGV,OAAOwc,S,KAMJ,WAAIpb,G,oCC/LnB,4BAGA,OAAIqb,IAAI,QAEO,WAAI,OAAKC,MAAM,K,kCCL9B,IAAIhhB,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,QAAQ,WAAanC,EAAIsC,IAAIye,SAAS,CAAC9gB,EAAG,MAAM,CAACM,YAAY,4CAA4C,CAAEP,EAAImJ,MAAe,UAAElJ,EAAG,MAAM,CAACM,YAAY,yDAAyD,CAAEP,EAAIsC,IAAU,OAAE,CAACrC,EAAG,SAAS,CAACM,YAAY,oEAAoEG,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQpC,EAAI0C,QAAQ,CAACzC,EAAG,WAAW,CAACM,YAAY,wBAAwBG,MAAM,CAAC,KAAO,YAAY,GAAGT,EAAG,MAAM,CAACM,YAAY,yCAAyC,CAACN,EAAG,MAAM,CAACM,YAAY,iCAAiCN,EAAG,MAAM,CAACM,YAAY,uCAAuCC,MAAM,CAC9uBwH,OAAQ,aACRgU,gBAAkB,QAAWhc,EAAImJ,MAAe,UAAI,WAChDnJ,EAAImN,KAAKlN,EAAG,cAAc,CAACM,YAAY,sDAAsDG,MAAM,CAAC,IAAMV,EAAImJ,MAAM8S,cAAc,GAAGjc,EAAImN,KAAKlN,EAAG,MAAM,CAACM,YAAY,sCAAsC,CAACN,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,KAAK,CAACM,YAAY,yBAAyB,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAImJ,MAAMrD,OAAO,KAAM9F,EAAImJ,MAAiB,YAAElJ,EAAG,OAAO,CAACM,YAAY,yBAAyB,CAACP,EAAIG,GAAG,KAAKH,EAAIkc,GAAGlc,EAAImJ,MAAMgT,YAAYC,eAAe,QAAQpc,EAAImN,OAAOlN,EAAG,MAAM,CAACM,YAAY,cAAeP,EAAIsC,IAAIiF,UAAYvH,EAAImJ,MAAM8S,UAAWhc,EAAG,SAAS,CAACM,YAAY,kEAAkEG,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQpC,EAAI0C,QAAQ,CAACzC,EAAG,WAAW,CAACM,YAAY,wBAAwBG,MAAM,CAAC,KAAO,YAAY,GAAGV,EAAImN,OAAQnN,EAAImJ,MAAiB,YAAElJ,EAAG,IAAI,CAACM,YAAY,8DAA8D,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAImJ,MAAM+T,aAAa,OAAOld,EAAImN,KAAMnN,EAAkB,eAAEC,EAAG,KAAK,CAACM,YAAY,sCAAsCP,EAAI8M,GAAI9M,EAAkB,gBAAE,SAASmd,GAAe,OAAOld,EAAG,KAAK,CAAC6K,IAAIqS,EAAcC,OAAO7c,YAAY,QAAQ,CAACN,EAAG,IAAI,CAACS,MAAM,CAAC,KAAOyc,EAAc/X,IAAI,OAAS,WAAW,CAAE+X,EAAkB,KAAEld,EAAG,WAAW,CAACM,YAAY,aAAaG,MAAM,CAAC,KAAOyc,EAAc5L,QAAQtR,EAAG,OAAO,CAACM,YAAY,mEAAmE,CAACP,EAAIG,GAAG,YAAYH,EAAIkc,GAAGiB,EAAcC,QAAQ,QAAQ,QAAO,GAAGpd,EAAImN,KAAKlN,EAAG,MAAM,CAACM,YAAY,cAAcN,EAAG,MAAM,CAACM,YAAY,mEAAmE,CAACN,EAAG,IAAI,CAACM,YAAY,6CAA6C,CAACP,EAAIG,GAAG,kCAAkCF,EAAG,MAAM,CAACM,YAAY,QAAQ,CAACN,EAAG,aAAa,CAACM,YAAY,gDAAgDG,MAAM,CAAC,KAAO,OAAO,aAAa,wBAAwB,aAAa,gBAAgB0B,GAAG,CAAC,MAAQ,SAASC,GAAQrC,EAAIghB,iBAAgB,GAAQhhB,EAAI0C,WAAW,CAAC1C,EAAIG,GAAG,mBAAmBF,EAAG,aAAa,CAACM,YAAY,kDAAkDG,MAAM,CAAC,KAAO,YAAY,aAAa,wBAAwB,aAAa,gBAAgB0B,GAAG,CAAC,MAAQ,SAASC,GAAQrC,EAAIghB,iBAAgB,GAAOhhB,EAAI0C,WAAW,CAAC1C,EAAIG,GAAG,gBAAgB,YAC3vE0C,EAAkB,G,4FCyGhBwa,EAA6C,CAC/C,WAAY,OACZ,iBAAkB,QAGP,EAAAva,EAAA,KAAMC,OAAO,CACxBua,WAAY,CAAEC,cAAA,MACd7L,MAAO,CACHvI,MAAO,CACHkI,KAAMzQ,OACNqW,UAAU,IAGlBlJ,SAAU,CACNyP,eADM,WAEF,OAAKzb,KAAKoH,MAGHpH,KAAKoH,MAAMsU,aAAa7T,KAAI,SAAAxE,GAC/B,IAAMgY,EAASM,EAAA,KAAIC,gBAAgBvY,GAEnC,MAAO,CACHA,MACAgY,SACA7L,KAAM8L,EAAaD,IAAW,SAR3B,OAanBnP,QAAS,CACC+S,gBADD,SACiB1E,GAAgB,qKAC5BnT,EAAQ,EAAKA,MADe,SAG5B,EAAK7G,IAAIkB,QAAT,wCACF,kGACQ8Y,EADR,gCAEcnT,EAAMwQ,QAFpB,uBAIUxQ,EAAM8X,yBAJhB,uBAKU,EAAKze,OAAOd,gBAAiBwf,cAAcC,KAAKhY,GAL1D,uBAMU3D,EAAA,KAAY4b,eAAe,EAAK5e,OAAOd,gBAAiB0D,KANlE,2CADE,mBASU+D,EAAMrD,MAThB,6BAH4B,OAelC,EAAKxD,IAAI6b,aAAT,aACUhV,EAAMrD,MADhB,6BAC0CqD,EAAMF,KADhD,wCAEI,CAAEmV,WAAW,IAjBiB,iDC3IyW,I,YCOnZpb,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,kZChBT,E,WAAN,oCAKY,KAAAqe,SAAmB,E,2DAGvBC,EAAgBC,2BAChBxf,KAAKsf,SAAU,EACftf,KAAKyf,kB,oCAIAzf,KAAKsf,UAGVC,EAAgBC,2BAChBxf,KAAKyf,mB,+BAGOpd,GACPrC,KAAKsf,UAGVC,EAAgBC,2BAChBxf,KAAKyf,gBAEDpd,GACA,OAAS9B,IAAImf,UAAUrd,M,sCAI3B,GAAiD,IAA7Ckd,EAAgBC,yBAApB,CAMA,IAAM1J,EAAuD,IAA7CyJ,EAAgBC,yBAC1B,oBADU,iBAEAD,EAAgBC,yBAFhB,eAIhBxf,KAAK2f,eAAe7J,IAAY9V,KAAKoc,aAAatG,QAT9C9V,KAAK4f,iB,mCAYQ9J,GACjB,IAAM+J,EAAW,OAAStf,IAAI6b,aAAatG,EAAS,CAAErU,SAAS,IAE/D8d,EAAgBO,WAAaD,EAAS1f,K,qCAGnB2V,GACnB,OAAmC,OAA/ByJ,EAAgBO,aAGpB,OAASvf,IAAIof,eAAeJ,EAAgBO,WAAYhK,IAEjD,K,qCAI4B,OAA/ByJ,EAAgBO,aAGpB,OAASvf,IAAIqf,aAAaL,EAAgBO,YAC1CP,EAAgBO,WAAa,U,KAhElB,EAAAN,yBAAmC,EACnC,EAAAM,WAA4B,K,IA2E1B,E,WAOjB,WAAYvV,GAAmB,uBAC3BvK,KAAKuK,SAAWA,GAAY,IAAI,E,qDAGvBwV,GAAyB,WAClC/f,KAAKggB,aAAe1P,YAChB,kBAAM,EAAK1M,KAAK,eAChBmc,GAAoBE,EAAeC,2BAGvClgB,KAAK4D,KAAK,e,iCAIV5D,KAAKmgB,oBAELngB,KAAK4D,KAAK,iB,2BAGFvB,GACRrC,KAAKmgB,oBAELngB,KAAK4D,KAAK,WAAYvB,K,0CAIjBrC,KAAKggB,eAGVzP,aAAavQ,KAAKggB,qBACXhgB,KAAKggB,gB,2BAGHtX,GAAqC,6BAAX2H,EAAW,iCAAXA,EAAW,kBAC1C3H,KAAS1I,KAAKuK,WACb,EAAAvK,KAAKuK,UAAS7B,GAAd,QAAgC2H,O,KAxC3B,EAAA6P,0BAA4B,I,IC/DzCE,E,wBCnBC,G,uHAGEC,EAAQpM,GAER,IAFiB,EAEXqM,EAAiB,GAFN,iBAICrM,GAJD,IAIjB,2BAAwB,KAAblL,EAAa,QACdA,KAAOsX,IAGbC,EAAUvX,GAAOsX,EAAItX,KARR,8BAWjB,OAAOuX,I,8BAIPD,EAAQpM,GAER,IAFiB,EAEXqM,EAAS,kBAAWD,GAFT,iBAICpM,GAJD,IAIjB,2BAAwB,KAAblL,EAAa,eACbuX,EAAUvX,IALJ,8BAQjB,OAAOuX,I,uCAGgBD,GACvB,OAAOrgB,KAAKugB,eACR1hB,OACKuf,QAAQiC,GACRpa,QAAO,sCAAKwF,GAAL,uBAA0B+U,IAAV/U,Q,qCAIL2S,EAA0BtV,GACrD,OAAOsV,EAAQL,QAAO,SAAC0C,EAAD,GAAiC,0BAAf1X,EAAe,KAAV0C,EAAU,KAGnD,OAFAgV,EAAU1X,GAAO0C,EAEVgV,IACR3X,GAAU,Q,MAKN,MAAI,E,wBC/Cf/K,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,UAAU,CAAEnC,EAAS,MAAEC,EAAG,KAAK,CAACM,YAAY,gDAAgD,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI8F,OAAO,OAAO9F,EAAImN,KAAKlN,EAAG,IAAI,CAACM,YAAY,kCAAkC,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI6X,SAAS,OAAO5X,EAAG,aAAa,CAACM,YAAY,8EAA8E6B,GAAG,CAAC,MAAQpC,EAAI0C,QAAQ,CAAC1C,EAAIG,GAAG,WAAW,IACzgB0C,EAAkB,G,YCmBP,EAAAC,EAAA,KAAMC,OAAO,CACxB2O,MAAO,CACH5L,MAAO,CACHuL,KAAMQ,OACND,QAAS,MAEbiG,QAAS,CACLxG,KAAMQ,OACNoF,UAAU,MC5BiY,I,YCOnZ,EAAY,eACd,EACAnX,EACA+C,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAI7C,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACM,YAAY,gBAAgBG,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,UAAU,CAAEnC,EAAS,MAAEC,EAAG,KAAK,CAACM,YAAY,oDAAoD,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI8F,OAAO,OAAO9F,EAAImN,KAAMnN,EAAY,SAAEC,EAAG,kBAAkB,CAACM,YAAY,+BAA+BG,MAAM,CAAC,QAAUV,EAAI6X,WAAW5X,EAAG,IAAI,CAACM,YAAY,kCAAkC,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI6X,SAAS,OAAO5X,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,aAAa,CAACM,YAAY,yEAAyE6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,IAAIiM,aAAavO,EAAIkC,IAAI,MAAU,CAAClC,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAIyiB,aAAa,OAAOxiB,EAAG,aAAa,CAACM,YAAY,yCAAyC6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,IAAIiM,aAAavO,EAAIkC,IAAI,MAAS,CAAClC,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI0iB,aAAa,QAAQ,IAAI,IACh9B,EAAkB,G,YC6BP,EAAA5f,EAAA,KAAMC,OAAO,CACxBua,WAAY,CACRqF,kBAAA,MAEJjR,MAAO,CACH5L,MAAO,CACHuL,KAAMQ,OACND,QAAS,MAEbiG,QAAS,CACLxG,KAAMQ,OACNoF,UAAU,GAEd2L,SAAU,CACNvR,KAAMM,QACNC,SAAS,GAEb8Q,YAAa,CACTrR,KAAMQ,OACND,QAAS,MAEb6Q,YAAa,CACTpR,KAAMQ,OACND,QAAS,aCrDoY,ICQrZ,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,oBCnBX,EAAS,WAAa,IAAI5R,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,UAAU,CAAClC,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,gBAAgB,CAACM,YAAY,kCAAmCP,EAAW,QAAEC,EAAG,kBAAkB,CAACS,MAAM,CAAC,QAAUV,EAAI6X,WAAW7X,EAAImN,MAAM,MACnV,EAAkB,G,YCcP,EAAArK,EAAA,KAAMC,OAAO,CACxBua,WAAY,CACRuF,gBAAA,KACAF,kBAAA,MAEJjR,MAAO,CACHmG,QAAS,CACLxG,KAAMQ,OACND,QAAS,iBCvBoY,ICOrZ,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,qBbCf,SAAKuQ,GACD,qBACA,wBAFJ,CAAKA,MAAM,KAiCJ,IAAMW,EAAiB,kBACzBX,EAAOY,QAAU,KAkChBC,EAAyB,0BAEV,G,wDAArB,iD,0BAEuB,EAAA/f,eAAyB,KAEpC,EAAAggB,WAAiC,KACjC,EAAAC,YAAkC,KAClC,EAAAC,aAAoC,GACpC,EAAAC,aAAmC,KACnC,EAAAC,cAA0C,GAE1C,EAAAC,cAAsC,KACtC,EAAAC,4BAA+C,KAC/C,EAAAC,mBAA0C,GAC1C,EAAAC,sBAAwBrc,SAASsc,cAAc,qCAb3D,E,6DA2DyBC,GACjB5hB,KAAKkhB,WAAaU,I,qCAGAA,GAClB5hB,KAAKmhB,YAAcS,I,qCAGDC,IACyB,IAAvC7hB,KAAKohB,aAAaxa,QAAQib,IAG9B7hB,KAAKohB,aAAaze,KAAKkf,K,wCAGFA,GACrB,IAAMlb,EAAQ3G,KAAKohB,aAAaxa,QAAQib,IAEzB,IAAXlb,GAGJ3G,KAAKohB,aAAaU,OAAOnb,EAAO,K,sCAGb0a,GACnBrhB,KAAKqhB,aAAeA,I,yFAGApR,EAA4B6F,G,yGAC5B9V,KAAKmC,UAAU4f,EAAc,CAAEjM,WAAW,CAAEkM,aAAa,I,cAAvEhT,E,yBAGmBiB,I,cAAfvJ,E,yBAECA,G,uBAEP1G,KAAKiiB,WAAWjT,EAAM7O,IAAI,G,wKAK9BH,KAAKqB,SAAS,CAAE6gB,cAAc,M,mCAI9BliB,KAAKqB,SAAS,CAAE6gB,cAAc,M,iCAGnB,WACPliB,KAAKmiB,WAGTniB,KAAKqB,SAAS,CAAE8gB,UAAU,IAE1BniB,KAAKwhB,4BAA8BxhB,KAAKgG,aACpC,SAAA8C,GAAM,QACA,EAAK8Y,MAAS,EAAKA,OAAS9Y,IAAW,EAAK8Y,KAAMQ,SAAStZ,MAC5D,EAAKsY,aAAa1hB,MAAK,SAAA2iB,GAAO,OAAIvZ,IAAWuZ,GAAWA,EAAQD,SAAStZ,SAE9E,kBAAM,EAAKwZ,mB,kCAKVtiB,KAAKmiB,WAGVniB,KAAKqB,SAAS,CAAE8gB,UAAU,IAErBniB,KAAKwhB,8BAGVxhB,KAAKwhB,8BACLxhB,KAAKwhB,4BAA8B,S,mCAInCxhB,KAAKmiB,SAAWniB,KAAKuiB,YAAcviB,KAAKwiB,a,4CAGfC,GAAoC,IAAtBC,EAAsB,uDAAF,GAC3D1iB,KAAKmC,UAAUwgB,EAAA,KAAe,CAAEF,OAAMC,mB,gCAItCzhB,GAE0C,WAD1C0O,EAC0C,uDAD1B,GAChBiT,EAA0C,uDAAF,GAElCziB,EAAK6V,EAAA,KAAKK,WACV3P,EAAS,IAAI6B,SAAW,SAAAsC,GAAO,OAAI,EAAKyW,cAAcnhB,GAAM0K,KAC5DzK,EAAU,gBACZ4hB,aAAa,GACVY,GAED5T,EAAQ,CACV7O,KACAC,UACAa,YACAyF,SACAiJ,MAAO,kBACAA,EADF,CAEDxP,KACAC,aAWR,OAPAJ,KAAKqB,SAAS,CACVwhB,OAAQ,GAAF,sBACC7iB,KAAK6iB,QADN,CAEF7T,MAIDA,I,iCAGO7O,GAAkC,IAAtB6B,EAAsB,wDAC1C2E,EAAQ3G,KAAK6iB,OAAOC,WAAU,SAAA9T,GAAK,OAAIA,EAAM7O,KAAOA,MAE3C,IAAXwG,IAGC3E,GAAUhC,KAAK6iB,OAAOlc,GAAOvG,QAAQ4hB,eAGtC7hB,KAAMH,KAAKshB,gBACXthB,KAAKshB,cAAcnhB,YAEZH,KAAKshB,cAAcnhB,IAG9BH,KAAKqB,SAAS,CAAEwhB,OAAQE,EAAA,KAAIC,aAAahjB,KAAK6iB,OAAQlc,Q,mCAGtCxG,EAAYuG,GACxBvG,KAAMH,KAAKshB,gBACXthB,KAAKshB,cAAcnhB,GAAIuG,UAEhB1G,KAAKshB,cAAcnhB,IAG9BH,KAAKiiB,WAAW9hB,GAAI,K,4BAKX8iB,EAAwBnN,GACjC,IAAM/R,EAAQ+R,EAAUmN,OAAiBzC,EACzC1K,EAAUA,GAAWmN,EAErBjjB,KAAKmC,UAAU+gB,EAAY,CAAEnf,QAAO+R,c,8BAMpCmN,EACAE,GAC4B,IAA5B/iB,EAA4B,uDAAF,GAE1BA,EAAsC,WAA5B,eAAO+iB,GAAgCA,EAAmB/iB,EAEpE,IAAM2D,EAAoC,kBAArBof,EAAgCF,EAAiB,KAChEnN,EAAsC,kBAArBqN,EAAgCA,EAAmBF,EACpEjU,EAAQhP,KAAKmC,UAAmBihB,EAAxB,gBAAwCrf,QAAO+R,WAAY1V,GAAW,CAAE4hB,aAAa,IAEnG,OAAOhT,EAAMtI,S,iGAGY+b,G,gHAAcriB,E,+BAA4C,GAC/E2D,EAAQ,K,SACS,UAAO,YAAqB0e,EAA5B,Q,cAAjB3M,E,OAAyDjG,QAEzDiG,EAAQrP,WAAW,QACb4c,EAAkBvN,EAAQlP,QAAQ,MAExC7C,EAAQ+R,EAAQwN,UAAU,EAAGD,GAC7BvN,EAAUA,EAAQwN,UAAUD,EAAkB,I,kBAG3CrjB,KAAK8b,QAAQ/X,EAAO+R,EAApB,gBACH+K,UAAU,GACPzgB,K,0IAIMiC,GAAU,WACvB8B,EAAA,KAAOM,OAAOpC,GADS,MAGIrC,KAAKoc,aAC5B,4DACA,CACI/Z,OAAO,EACPga,WAAW,EACXkH,SAAU,IACVvH,OAAQ,CACJlQ,KAAM,eACN0X,QAAS,WACL,EAAK5D,aAAaE,GAClB,EAAK3d,UAAUshB,EAAA,KAAgB,CAAEphB,SAAS,CAAE2f,aAAa,QAV7DlC,EAHW,EAGf3f,K,mCAiBQ2V,GAAuD,IAAtC1V,EAAsC,uDAAF,GAC/Dyf,EAAW,CACb1f,GAAI6V,EAAA,KAAKK,WACTP,UACA1V,QAAS,gBACLqB,SAAS,EACTY,OAAO,EACPga,WAAW,GACRjc,IAWX,OAPAJ,KAAKqB,SAAS,CACVqiB,UAAW,GAAF,sBACF1jB,KAAK0jB,WADH,CAEL7D,MAIDA,I,qCAGW1f,EAAY2V,GAAuD,IAAtC1V,EAAsC,uDAAF,GAC7EuG,EAAQ3G,KAAK0jB,UAAUZ,WAAU,SAAAjD,GAAQ,OAAIA,EAAS1f,KAAOA,KAEnE,IAAe,IAAXwG,EACA,OAAO,KAEX,IAAMkZ,EAAW7f,KAAK0jB,UAAU/c,GAKhC,OAHAkZ,EAAS/J,QAAUA,EACnBjX,OAAOC,OAAO+gB,EAASzf,QAASA,GAEzByf,I,mCAGS1f,GAChB,IAAMwG,EAAQ3G,KAAK0jB,UAAUZ,WAAU,SAAAjD,GAAQ,OAAIA,EAAS1f,KAAOA,MAEpD,IAAXwG,GAGJ3G,KAAKqB,SAAS,CAAEqiB,UAAWX,EAAA,KAAIC,aAAahjB,KAAK0jB,UAAW/c,O,2CAGpC8N,GACpBzU,KAAKwU,oBAAsBC,IAG/BzU,KAAKqB,SAAS,CAAEsiB,WAAYlP,IAC5BzV,EAAA,KAAQI,IAAI6hB,EAAwBxM,M,6FAIpCsI,EACA3T,G,8GACAwa,E,+BAA+B,GAEzB/E,EAAY,IAAI,EAChBgF,EAAoB,EAAIC,KAAK/G,EAAMc,gBAAiB+F,G,SAGtD/E,EAAU1V,Q,SAEJC,EAAO2T,G,uBACPA,EAAMqC,O,OAEZP,EAAUkF,W,qDAEVhH,EAAMiH,cAAcH,GAEpBhF,EAAUoF,KAAV,M,wJAKJC,EACAjU,GAA8B,WAExB1F,EAA8B,CAChC4Z,OAAQtV,MAAMC,QAAQoV,GAChB,SAAApb,GAAM,OAAKob,EAAiBxkB,MAAK,SAAA0kB,GAAO,OAAIA,IAAYtb,GAAUsb,EAAQhC,SAAStZ,OACnFob,EACNjU,YAKJ,OAFAjQ,KAAKqkB,yBAAL,yBAAkCrkB,KAAKyhB,oBAAvC,CAA2DlX,KAEpD,kBAAM,EAAK8Z,yBAAyBtB,EAAA,KAAIuB,YAAY,EAAK7C,mBAAoBlX,O,kDAGrDuL,GAC1B9V,KAAK0hB,wBAGV1hB,KAAK0hB,sBAAsB6C,YAAczO,K,mQAMzC9V,KAAKwkB,mBACLxkB,KAAKykB,Y,iJAGgB,MACrB,MAAO,CACHC,oBAAkB,sBACbtE,EAAOuE,QAAS,GADH,iBAEbvE,EAAOY,SAAU,GAFJ,GAIlBkB,cAAc,EACdC,UAAU,EACVU,OAAQ,GACRa,UAAW,GACXC,WAAY3kB,EAAA,KAAQC,IAAIgiB,GAAwB,M,oDAKpD,MAAO,CACH2D,OADG,YACiC,MAA3BF,EAA2B,EAA3BA,mBAA2B,iBACD7lB,OAAOuf,QAAQsG,GAAoBG,WADlC,IAChC,2BAA6E,iCAAjED,EAAiE,KAAzDE,EAAyD,KACzE,GAAKA,EAGL,OAAOF,GALqB,8BAQhC,OAAOxE,EAAOuE,QAElB3F,OAXG,SAWI+F,EAXJ,GAWuC,IAAvBH,EAAuB,EAAvBA,OACf,OAAOA,IAAWxE,EAAOuE,QAE7BK,YAdG,cAc+D,IAApDnC,EAAoD,EAApDA,OAAQV,EAA4C,EAA5CA,SAAqBnD,EAAuB,EAAvBA,OACvC,OAAQA,GAAUmD,GAAaU,EAAOrc,OAAS,M,+CAK1B8D,GAC7BtK,KAAKyhB,mBAAqBnX,EAE1BtK,KAAKyhB,mBAAmBjb,OAAS,EAC3BxG,KAAKilB,uBACLjlB,KAAKklB,wB,6CAGa,WACpBllB,KAAKuhB,eAGTlc,SAASoD,iBAAiB,QAASzI,KAAKuhB,cAAgB,SAAAxN,GACpD,IADwD,EAClDjL,EAASiL,EAAEjL,OADuC,iBAGrB,EAAK2Y,oBAHgB,IAGxD,2BAA4D,eAA/C0C,EAA+C,EAA/CA,OAAQlU,EAAuC,EAAvCA,SACjB,GAAKkU,EAAOrb,KAGO,IAAfmH,IAIJ,YADA8D,EAAEnL,kBAVkD,mC,4CAiBvD5I,KAAKuhB,gBAGVlc,SAASwD,oBAAoB,QAAS7I,KAAKuhB,eAE3CvhB,KAAKuhB,cAAgB,Q,yCAIrB,IADoB,qDACRqD,EADQ,KACAO,EADA,KAEVC,EAAQvT,OAAOwT,WAAP,sBAAiCF,EAAjC,QACRG,EAAc,kBAAM,EAAKjkB,SAAS,CACpCqjB,mBAAoB,kBACb,EAAKhgB,MAAMggB,mBADA,kBAEbE,EAASQ,EAAMG,aAIxBH,EAAM3c,iBAAiB,SAAU6c,GAEjCA,KAXJ,MAAmCzmB,OAAOuf,QAAQ2C,GAAlD,eAAsE,M,kCAezD,WACbpd,EAAA,KAAStD,GAAG,UAAU,kBAAM,EAAKkiB,iB,6BA5bjC,OAAOviB,KAAKwlB,iBAAiB,Y,6BAI7B,OAAOxlB,KAAKwlB,iBAAiB,Y,8BAI7B,OAAOxlB,KAAK4kB,SAAWxE,EAAOY,U,mCAI9B,OAAOhhB,KAAK0E,MAAMwd,e,+BAIlB,OAAOliB,KAAK0E,MAAMyd,W,0CAIlB,OAAOniB,KAAKqhB,e,6BAIZ,OAAOrhB,KAAK0E,MAAMme,S,gCAIlB,OAAO7iB,KAAK0E,MAAMgf,Y,wCAIlB,OAAO1jB,KAAK0E,MAAMif,a,kCAIlB,OAAO3jB,KAAKwlB,iBAAiB,iB,2BAI7B,OAAOxlB,KAAKgf,OAAShf,KAAKkhB,WAAalhB,KAAKmhB,gB,GAxDpBxc,EAAA,O,qBczFhC,IAAIkD,EAAM,CACT,aAAc,CACb,OACA,kBAED,2BAA4B,CAC3B,OACA,kBAED,gCAAiC,CAChC,OACA,kBAED,wBAAyB,CACxB,OACA,kBAED,qBAAsB,CACrB,OACA,kBAED,sBAAuB,CACtB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,cAAe,CACd,OACA,mBAGF,SAAS4d,EAAoB9R,GAC5B,IAAIE,EAAoBC,EAAEjM,EAAK8L,GAC9B,OAAOpL,QAAQsC,UAAU2H,MAAK,WAC7B,IAAIuB,EAAI,IAAIhF,MAAM,uBAAyB4E,EAAM,KAEjD,MADAI,EAAEC,KAAO,mBACHD,KAIR,IAAI2R,EAAM7d,EAAI8L,GAAMxT,EAAKulB,EAAI,GAC7B,OAAO7R,EAAoBE,EAAE2R,EAAI,IAAIlT,MAAK,WACzC,OAAOqB,EAAoB1T,MAG7BslB,EAAoBxR,KAAO,WAC1B,OAAOpV,OAAOoV,KAAKpM,IAEpB4d,EAAoBtlB,GAAK,OACzB+T,EAAOC,QAAUsR,G,0HClDIE,E,wDAIjB,WAAYC,GAAiB,oCACzB,cAAM,2BAEN,EAAKA,QAAUA,EAHU,E,UAJiB,S,iFCD7B,cACb9nB,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,sE,oCCvBnD,IAAIZ,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,mDAAmD,CAACN,EAAG,MAAM,CAACM,YAAY,uBAAuBN,EAAG,MAAM,CAACM,YAAY,gCAAgC,CAACN,EAAG,WAAW,CAACM,YAAY,4FAA4FG,MAAM,CAAC,KAAO,WAAYV,EAAS,MAAEC,EAAG,MAAM,CAACM,YAAY,uJAAuJ,CAACN,EAAG,OAAO,CAACD,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAI8F,YAAY9F,EAAImN,KAAMnN,EAAO,IAAEC,EAAG,MAAM,CAACM,YAAY,iCAAiCG,MAAM,CAAC,IAAMV,EAAIoF,OAAOpF,EAAImN,MAAM,MACzuBtK,EAAkB,G,YCwBP,SAAIE,OAAO,CACtB2O,MAAO,CACHtM,IAAK,CACDiM,KAAMQ,OACND,QAAS,MAEb9L,MAAO,CACHuL,KAAMQ,OACND,QAAS,SCjCiX,I,YCOlY5O,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,kDClBf,IAAIlD,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACM,YAAY,+BAA+BD,MAAM,CAAE,QAASN,EAAI4nB,WAAY,CAAC5nB,EAAIyR,GAAG,YAAY,IACrM5O,EAAkB,G,YCQP,SAAIE,OAAO,CACtB2O,MAAO,CACHkW,SAAU,CACNvW,KAAMM,QACNC,SAAS,MCbsY,I,YCOvZ5O,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAAG,E,kbCJT,E,kKAEoB9C,G,sFAEY,kBAAnBA,EAAK2nB,WACc,IAA1B3nB,EAAK2nB,UAAUtf,QAEqB,qBAAzBrI,EAAK4nB,iBACZrV,MAAMsV,SAAS7nB,EAAK4nB,mB,sBAGlB,IAAIJ,EAAA,KAAqB,CAAC,mB,4LAGrBxnB,G,6GACW2J,EAAA,KAAcC,aAAa5J,EAAK2nB,W,uBAAlD1f,E,EAAAA,QACF6f,EAAc9nB,EAAK4nB,gBAAkBC,SAAS7nB,EAAK4nB,iBAAmB,KACtE5Z,EAAQ/F,EAAQ1G,MAClB,SAAAgH,GAAM,OACc,OAAhBuf,GAEIvf,EAAOwf,cACP,IAAIzV,KAAK/J,EAAOwf,cAAc7L,gBAAkB4L,K,kBAIrD9Z,EACDjE,EAAA,KAAiBC,MAAMgE,GACvB,IAAIga,EAAA,WAAM,CAAEpiB,MAAO5F,EAAK2nB,a,4GAKvB,MAAI,E,YC7CE,E,wDAIjB,WAAYM,GAAc,oCACtB,cAAM,CAACA,IAEP,EAAKA,OAASA,EAHQ,E,UAJoBT,EAAA,M,YCc5C,E,kKAEoBxnB,G,0FACO,kBAAdA,EAAKoO,K,sBACN,IAAIoZ,EAAA,KAAqB,CAAC,mB,uBAE1B3lB,KAAKqmB,oBAAoBloB,G,mFAGfmoB,EAAA,KAAaC,cAAcpoB,EAAKoO,M,UAA9CwQ,E,OACQ,OAAVA,E,uBACM,IAAI4I,EAAA,KAAqB,CAAC,qC,WAC1B7d,EAAA,KAAc0e,QAAQzJ,G,uBACtB,IAAI,EAAqB,e,kMAGpB5e,G,8FACTiJ,EAAQ,IAAI+e,EAAA,WAAM,CACpBpiB,MAAO,GACP2X,aAAc,CAAC,8BAAD,OAA+Bvd,EAAKoO,SAGtDnF,EAAM8U,kBAAkB,UAAW,I,kBAE5B9U,G,0MAGuBjJ,G,yGACP6B,KAAKmI,MAAMhK,G,cAA5BsoB,E,OACApe,EAAkB,OAAS5H,OAAO2H,OAAO1I,MAAK,SAAA2I,GAAe,OAAIA,EAAgBC,GAAGme,M,oBAEjFpe,G,iHAKF,MAAI,E,sJC3CnB,SAASqe,EAAgB5a,GACrB,OAAOA,EAAKhI,QAAQ,sBAAuB,QAG/C,SAAS6iB,EAAcnW,GACnB,IAAMoW,EAAkBpW,EAAKrE,MAAM,6BAC7B0a,EAAc,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAkB,GACnCE,EAAe,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAkB,GAE1C,MAAO,CAACC,EAAgBC,GAG5B,SAASC,EACLF,EACAC,EACAE,GAEA,IAFe,EAETC,EAAY,IAAIC,OAAJ,gBACLR,EAAgBG,GADX,iBACmCH,EAAgBI,GADnD,WAGZK,EAAQ,mBAAM,GAAGtf,KAAI,iBAAO,CAC9Buf,IAAKC,IACLC,IAAK,EACLC,QAAS,MARE,iBAWIP,GAXJ,IAWf,2BAGI,IAHsB,MAAfxW,EAAe,QAChBrE,EAAK,UAAGqE,EAAKrE,MAAM8a,UAAd,QAA4BhD,KAAK,mBAEnC9W,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAMlM,EAAY+kB,SAAS7Z,EAAMgB,EAAE,IAEnC,GAAIuD,MAAMzP,IAA4B,IAAdA,EACpB,MAAM,IAAI8N,MAAM,mBAGpBoY,EAAMha,GAAGia,IAAMlR,KAAKkR,IAAID,EAAMha,GAAGia,IAAKnmB,GACtCkmB,EAAMha,GAAGma,IAAMpR,KAAKoR,IAAIH,EAAMha,GAAGma,IAAKrmB,GACtCkmB,EAAMha,GAAGoa,SAAWtmB,GAvBb,8BA6Bf,OAFA,mBAAM,GAAGumB,SAAQ,SAAAra,GAAC,OAAKga,EAAMha,GAAGoa,SAAWP,EAAMxgB,UAE1C2gB,EAGX,SAASM,EACLC,EACAN,EACAE,GACsB,QAAtBK,EAAsB,uDAAF,GAEdC,EAAW,mBAAMF,EAAelhB,QAAQP,QAAO,SAACU,GAClD,GAAIghB,EAAQ/f,SAASjB,GACjB,OAAO,EAGX,IAAMwgB,EAAQO,EAAe/gB,GAE7B,OAAOwgB,EAAMC,KAAOA,GAAOD,EAAMG,KAAOA,KACzCzf,KAAI,SAAAlB,GAAK,MAAK,CACbA,QACAkhB,SAAUH,EAAe/gB,GAAO2gB,IAAMI,EAAe/gB,GAAOygB,QAKhE,OAFAQ,EAASE,MAAK,SAACC,EAAGC,GAAJ,OAAU,qBAAQA,EAAEH,SAAUE,EAAEF,aAE9C,oBAAOD,EAAS,UAAhB,aAAO,EAAajhB,aAApB,QAA6Bsd,KAAK,kCAG/B,IAAM,EAAb,WAEI,WAAmBgE,GAAc,uBAAd,KAAAA,SAFvB,yDAIqBzX,GAAY,oBACnBrE,EAAQqE,EAAKrE,MAAMnM,KAAKioB,QACxB1Z,EAAS,SAAC2Z,EAAwB1hB,GAAzB,OAA4C0hB,EAAM9R,WAAW+R,SAAS3hB,EAAQ,MACvF4hB,EAAMpC,SAAQ,iBAAC7Z,QAAD,IAACA,GAAD,UAACA,EAAOkc,cAAR,aAAC,EAAeD,WAAhB,QAAuB,IACrCE,EAAQtC,SAAQ,iBAAC7Z,QAAD,IAACA,GAAD,UAACA,EAAOkc,cAAR,aAAC,EAAeC,aAAhB,QAAyB,IACzCC,EAAOvC,SAAQ,iBAAC7Z,QAAD,IAACA,GAAD,UAACA,EAAOkc,cAAR,aAAC,EAAeE,YAAhB,QAAyB,KAAOha,EAAM,iBAACpC,QAAD,IAACA,GAAD,UAACA,EAAOkc,cAAR,aAAC,EAAeG,iBAAhB,QAA6B,GAAI,IAE5F,OAAO,IAAI/X,KAAJ,UAAYlC,EAAOga,EAAM,GAAzB,YAA+Bha,EAAO+Z,EAAO,GAA7C,YAAmD/Z,EAAO6Z,EAAK,SAX9E,KAgBM,SAAUK,EAAqBzB,GACjC,IAAI,QAC0CL,EAAa,UAACK,EAAM,UAAP,QAAa,IADpE,sBACOH,EADP,KACuBC,EADvB,KAGA,IAAKD,IAAmBC,EACpB,OAAO,KAGX,IAAMK,EAAQJ,EAAkBF,EAAgBC,EAAiBE,GAC3D0B,EAAWjB,EAAmBN,EAAO,EAAG,IACxCwB,EAAalB,EAAmBN,EAAO,EAAG,GAAI,CAACuB,IAC/CE,EAAYnB,EAAmBN,EAAO,EAAGE,IAAU,CAACqB,EAAUC,IAC9DE,EAAQ,mBAAM,GAAGhhB,KAAI,iBAAM,MAMjC,OAJAghB,EAAMH,GAAY,MAClBG,EAAMF,GAAc,QACpBE,EAAMD,GAAa1S,KAAK4S,KAAK3B,EAAMyB,GAAWrB,SAASnR,WAAW5P,OAAS,EAAI,OAAS,YAEjF,IAAI,EACP,IAAI0gB,OACA,aAAM2B,EAAM,GAAZ,iBAAuBnC,EAAgBG,IAAvC,aACMgC,EAAM,GADZ,iBACuBnC,EAAgBI,IADvC,aAEM+B,EAAM,GAFZ,YAKV,MAAOxmB,GACL,OAAO,M,gBCxHM,E,wDAEjB,WAAYyT,GAAgB,iDAClBA,QADkB,IAClBA,IAAW,iC,UAHuBD,EAAA,MCgB1CkT,EAAmB,6CAEzB,SAASC,EAAUxY,GACf,OAAOE,MAAMF,G,ICZNyY,EAMNC,EDSC,E,WAAN,oCAEY,KAAAC,WAAuC,K,uDAEhChrB,GACX6B,KAAKmpB,WAAaV,EAAqBtqB,EAAK0J,KAAI,gBAAG2I,EAAH,EAAGA,KAAH,OAAcA,Q,0FAG5CrS,G,sFACQ,kBAAfA,EAAK4F,OAAsB5F,EAAK4F,MAAMyC,OAAS,G,sBAChD,IAAImf,EAAA,KAAqB,CAAC,mB,UAGX,kBAAdxnB,EAAKqS,OAAqBwY,EAAUhpB,KAAKopB,UAAUjrB,EAAKqS,O,sBACzD,IAAImV,EAAA,KAAqB,CAAC,mB,WAGhCoD,EAAiBM,KAAKlrB,EAAK4F,O,sBACrB,IAAI,EAAqB,e,iMAIpB5F,G,kGACTmrB,EAAYtpB,KAAKopB,UAAUjrB,EAAKqS,M,SAClBxQ,KAAKupB,UAAUprB,G,UAA7BgO,E,OAEDA,E,sBACK,IAAI,EAAmB,iC,uBAGbjE,EAAA,KAAiBC,MAAMgE,G,cAArC/E,E,OAENA,EAAMoiB,UAAYF,EAClBliB,EAAMmV,UAAY+M,EAElBliB,EAAM8U,kBAAkB,UAAW,IACnC9U,EAAMwQ,MAAM0R,G,kBAELliB,G,sMAGajJ,G,sGACdmrB,EAAYtpB,KAAKopB,UAAUjrB,EAAKqS,MAChChJ,EAAOD,EAAA,KAAIC,KAAKrJ,EAAK4F,O,SACD+D,EAAA,KAAcC,aAAa5J,EAAK4F,O,uBAAlDqC,E,EAAAA,Q,4BAEDA,EAAQ1G,MAAK,SAAAgH,GAAM,OACtBA,EAAOwf,cACN,IAAIzV,KAAK/J,EAAOwf,cAAgBoD,GACjC/hB,EAAA,KAAIC,KAAKd,EAAO3C,SAAWyD,Y,QAC1B,M,0IAGSiiB,GAAkB,QAChC,2BAAOzpB,KAAKmpB,kBAAZ,aAAO,EAAiBC,UAAUK,UAAlC,QAAiD,IAAIhZ,KAAKgZ,O,KAKnD,MAAI,E,mCC1EnB,SAAWR,GACP,0BACA,wBACA,2BAHJ,CAAWA,MAAa,KAMxB,SAAKC,GACD,uBACA,2BACA,uBAHJ,CAAKA,MAAM,K,IC0DCQ,ED5CN,E,kKAEoBvrB,G,oFACdA,EAAKmR,OAAS2Z,EAAc9C,M,sBACtB,IAAI,EAAqB,e,UAGT,kBAAfhoB,EAAK4F,QACG,OAAd5F,EAAKoO,MAAsC,kBAAdpO,EAAKoO,OAClC1N,OAAOsL,OAAO+e,GAAQthB,SAASzJ,EAAKyD,SACpCsD,EAAA,KAAKykB,kBAAkBxrB,EAAKyrB,a,sBAEvB,IAAIjE,EAAA,KAAqB,CAAC,mB,4LAGrBxnB,G,gGACT0rB,EAAY,IAAIpZ,KAAKtS,EAAKyrB,aAC1BxiB,EAAQ,IAAI+e,EAAA,WAAM,CACpBpiB,MAAO5F,EAAK4F,MACZ2X,aAA4B,OAAdvd,EAAKoO,KACb,CAAC,8BAAD,OAA+BpO,EAAKoO,OACpC,KAGVnF,EAAM8U,kBAAkB,UAAW,IACnC9U,EAAMoiB,UAAYK,EAClBziB,EAAMmV,UAAYsN,EAEd1rB,EAAKyD,SAAWsnB,EAAOY,SACvB1iB,EAAMwQ,MAAMiS,G,kBAETziB,G,4GAKA,MAAI,E,oCEjEfrJ,GAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAQC,EAAIwC,OAAsB,gBAAEvC,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,UAAU,CAAClC,EAAG,MAAM,CAACM,YAAY,6CAA6C,CAACN,EAAG,MAAM,CAACM,YAAY,oCAAoC,CAACN,EAAG,gBAAgB,CAACM,YAAY,kCAAkCN,EAAG,OAAO,CAACD,EAAIG,GAAG,0BAA0B,GAAGF,EAAG,MAAM,CAACM,YAAY,iGAAiG,CAACN,EAAG,MAAM,CAACM,YAAY,2CAA2CC,MAAM,CAAGsrB,MAAS,IAAM9rB,EAAIwC,OAAOupB,gBAAgBC,QAAUhsB,EAAIwC,OAAOupB,gBAAgBE,MAAS,OAAUhsB,EAAG,OAAO,CAACM,YAAY,wFAAwF,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAIwC,OAAOupB,gBAAgBC,SAAS,IAAIhsB,EAAIkc,GAAGlc,EAAIwC,OAAOupB,gBAAgBE,YAAYhsB,EAAG,aAAa,CAACM,YAAY,gGAAgG6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIwC,OAAO0pB,kBAAkB,CAAClsB,EAAIG,GAAG,aAAa,KAAKH,EAAImN,MAC5nCtK,GAAkB,G,0BC8BP,GAAAC,GAAA,KAAMC,OAAO,CACxBua,WAAY,CACRuF,iBAAA,QCjCwZ,M,aCO5Z,GAAY,gBACd,GACA/iB,GACA+C,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI7C,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,QAAQ,MAAQ,qBAAqB,CAAClC,EAAG,KAAK,CAACM,YAAY,6BAA6B,CAAEP,EAAImsB,cAAc5jB,OAAS,EAAGtI,EAAG,wBAAwB,CAACS,MAAM,CAAC,KAAO,YAAY,aAAa,kBAAkB0B,GAAG,CAAC,QAAUpC,EAAIosB,iBAAiB,CAACnsB,EAAG,SAAS,CAACM,YAAY,iBAAiB,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAImsB,cAAc5jB,WAAWvI,EAAIG,GAAG,0DAA0DH,EAAImN,KAAMnN,EAAIqsB,cAAc9jB,OAAS,EAAGtI,EAAG,wBAAwB,CAACS,MAAM,CAAC,KAAO,OAAO,aAAa,iBAAiB0B,GAAG,CAAC,QAAUpC,EAAIssB,iBAAiB,CAACrsB,EAAG,SAAS,CAACM,YAAY,iBAAiB,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAIqsB,cAAc9jB,WAAWvI,EAAIG,GAAG,iEAAiEH,EAAImN,KAAMnN,EAAIusB,IAAIC,QAAQjkB,OAAS,EAAGtI,EAAG,wBAAwB,CAACS,MAAM,CAAC,KAAO,OAAO,aAAa,iBAAiB0B,GAAG,CAAC,QAAUpC,EAAIysB,iBAAiB,CAACxsB,EAAG,SAAS,CAACM,YAAY,iBAAiB,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAIusB,IAAIC,QAAQjkB,WAAWvI,EAAIG,GAAG,qBAAqBH,EAAImN,KAAMnN,EAAIusB,IAAIG,YAAYnkB,OAAS,EAAGtI,EAAG,wBAAwB,CAACS,MAAM,CAAC,KAAO,OAAO,aAAa,iBAAiB0B,GAAG,CAAC,QAAUpC,EAAI2sB,qBAAqB,CAAC1sB,EAAG,SAAS,CAACM,YAAY,iBAAiB,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAIusB,IAAIG,YAAYnkB,WAAWvI,EAAIG,GAAG,4DAA4DH,EAAImN,KAAMnN,EAAIusB,IAAIK,QAAQrkB,OAAS,EAAGtI,EAAG,wBAAwB,CAACS,MAAM,CAAC,KAAO,QAAQ,aAAa,gBAAgB0B,GAAG,CAAC,QAAUpC,EAAI6sB,iBAAiB,CAAC5sB,EAAG,SAAS,CAACM,YAAY,iBAAiB,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAIusB,IAAIK,QAAQrkB,WAAWvI,EAAIG,GAAG,oCAAoCH,EAAImN,KAAMnN,EAAIusB,IAAIO,OAAOvkB,OAAS,EAAGtI,EAAG,wBAAwB,CAACS,MAAM,CAAC,KAAO,QAAQ,aAAa,gBAAgB0B,GAAG,CAAC,QAAUpC,EAAI+sB,gBAAgB,CAAC9sB,EAAG,SAAS,CAACM,YAAY,iBAAiB,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAIusB,IAAIO,OAAOvkB,WAAWvI,EAAIG,GAAG,yBAAyBH,EAAImN,MAAM,GAAGlN,EAAG,aAAa,CAACM,YAAY,iFAAiF6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAI0C,OAAM,MAAS,CAAC1C,EAAIG,GAAG,WAAW,IACznE,GAAkB,G,sCCDlB,GAAS,WAAa,IAAIH,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACN,EAAG,WAAW,CAACM,YAAY,eAAeD,MAAMN,EAAI8R,UAAUpR,MAAM,CAAC,KAAOV,EAAIuR,QAAQtR,EAAG,OAAO,CAACM,YAAY,sBAAsB,CAACP,EAAIyR,GAAG,YAAY,IAAI,GAAGxR,EAAG,WAAW,CAACM,YAAY,0BAA0B6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIoR,MAAM,cAAc,CAACpR,EAAIG,GAAG,qBAAqB,IACle,GAAkB,G,aCcP,WAAI4C,OAAO,CACtB2O,MAAO,CACHH,KAAM,CACFF,KAAMQ,OACNoF,UAAU,GAEdnF,UAAW,CACPT,KAAMQ,OACNoF,UAAU,MCvB4Y,MCO9Z,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,qBC0DA,GAAAnU,GAAA,KAAMC,OAAO,CACxBua,WAAY,CACR0P,0BAEJtb,MAAO,CACH6a,IAAK,CACDlb,KAAMzQ,OACNqW,UAAU,IAGlBlJ,SAAU,CACNoe,cADM,WAEF,OAAOpqB,KAAKwqB,IAAIU,MAAMjlB,QAAO,SAAAmB,GAAK,OAAIA,EAAMmT,YAEhD+P,cAJM,WAKF,OAAOtqB,KAAKwqB,IAAIU,MAAMjlB,QAAO,SAAAmB,GAAK,OAAKA,EAAMmT,aAGrDrO,QAAS,CACLme,eADK,WAED,IADU,EACNc,EAAU,EACRC,EAAO,CAAC,gDAFJ,iBAIUprB,KAAKoqB,eAJf,IAIV,2BAAwC,KAA7BhjB,EAA6B,QACpCgkB,EAAKzoB,KAAL,YAAewoB,EAAf,aAA2B/jB,EAAMrD,SAL3B,8BAQV/D,KAAKO,IAAI4B,UAAUwgB,GAAA,KAAe,CAAE9J,QAASuS,EAAKnf,KAAK,SAE3Dse,eAXK,WAYD,IADU,EACNY,EAAU,EACRC,EAAO,CAAC,oDAFJ,iBAIUprB,KAAKsqB,eAJf,IAIV,2BAAwC,KAA7BljB,EAA6B,QACpCgkB,EAAKzoB,KAAL,YAAewoB,EAAf,aAA2B/jB,EAAMrD,SAL3B,8BAQV/D,KAAKO,IAAI4B,UAAUwgB,GAAA,KAAe,CAAE9J,QAASuS,EAAKnf,KAAK,SAE3Dye,eArBK,WAsBD,IADU,EACNS,EAAU,EACRC,EAAO,CAAC,4CAFJ,iBAIqBprB,KAAKwqB,IAAIC,SAJ9B,IAIV,2BAAiD,eAApCrE,EAAoC,EAApCA,OAAQjoB,EAA4B,EAA5BA,KACjBitB,EAAKzoB,KAAL,YAAewoB,EAAf,aAA2B/E,IAC3BgF,EAAKzoB,KAAK0oB,GAAA,KAASC,UAAUhd,KAAKkI,UAAUrY,MANtC,8BASV6B,KAAKO,IAAI4B,UAAUwgB,GAAA,KAAe,CAAE9J,QAASuS,EAAKnf,KAAK,SAE3D2e,mBAhCK,WAiCD,IADc,EACVO,EAAU,EACRC,EAAO,CAAC,kDAFA,iBAIKprB,KAAKwqB,IAAIG,aAJd,IAId,2BAAyC,KAA9BxsB,EAA8B,QACrCitB,EAAKzoB,KAAL,YAAewoB,EAAf,OACAC,EAAKzoB,KAAK0oB,GAAA,KAASC,UAAUhd,KAAKkI,UAAUrY,MANlC,8BASd6B,KAAKO,IAAI4B,UAAUwgB,GAAA,KAAe,CAAE9J,QAASuS,EAAKnf,KAAK,SAE3D6e,eA3CK,WA4CD,IADU,EACNK,EAAU,EACRC,EAAO,CAAC,+CAFJ,iBAIsBprB,KAAKwqB,IAAIK,SAJ/B,IAIV,2BAAkD,eAArCjF,EAAqC,EAArCA,QAASznB,EAA4B,EAA5BA,KAClBitB,EAAKzoB,KAAL,YAAewoB,EAAf,aAA2BvF,EAAQ3Z,KAAK,QACxCmf,EAAKzoB,KAAK0oB,GAAA,KAASC,UAAUhd,KAAKkI,UAAUrY,MANtC,8BASV6B,KAAKO,IAAI4B,UAAUwgB,GAAA,KAAe,CAAE9J,QAASuS,EAAKnf,KAAK,SAE3D+e,cAtDK,WAsDQ,aACLG,EAAU,EACRC,EAAO,CAAC,6CAFL,iBAI+BprB,KAAKwqB,IAAIO,QAJxC,IAIT,2BAAyD,eAA5CQ,EAA4C,EAA5CA,SAAUlpB,EAAkC,EAAlCA,MAAOlE,EAA2B,EAA3BA,KACtBotB,EACAH,EAAKzoB,KAAL,YAAewoB,EAAf,aAA2B9oB,EAAMyT,UAEjCsV,EAAKzoB,KACD,YAAKwoB,EAAL,2EACuBA,EAAU,EADjC,uBAKRC,EAAKzoB,KAAK0oB,GAAA,KAASC,UAAUhd,KAAKkI,UAAUrY,MAdvC,8BAiBT6B,KAAKO,IAAI4B,UAAUwgB,GAAA,KAAe,CAC9B9J,QAASuS,EAAKnf,KAAK,MACnBuf,oBAAqB,SAAC7kB,GAClB,EAAKpG,IAAI4B,UAAUshB,GAAA,KAAgB,CAAEphB,MAAO,EAAKmoB,IAAIO,OAAO/E,SAASrf,IAAQtE,eCxK6T,MCO1Z,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,SZuDf,SAAYqnB,GACR,iBACA,uBACA,qBACA,mBACA,4BALJ,CAAYA,MAAW,K,IAQF,G,wDAArB,iD,0BAEuB,EAAAxoB,eAAyB,QAFhD,E,uHA+B8B/C,EAAgB6M,G,oHAGlChL,KAAK0E,MAAMslB,gB,sBACL,IAAIjb,MAAM,8B,SAEY,OAASxO,IAAI4B,UAAUspB,GAAqB,GAAI,CAC5EzJ,aAAa,IADL0J,E,EAAJvrB,GAIFwrB,EAAS3rB,KAAK4rB,gBAAgB5gB,GAC9B6T,EAA6B,CAC/BoL,QAAS,EACTC,MAAO/rB,EAAKqI,OACZqlB,WAAW,GAETrB,EAA0B,CAC5BU,MAAO,GACPT,QAAS,GACTI,QAAS,GACTE,OAAQ,GACRJ,YAAa,IAGjB3qB,KAAKqB,SAAS,CAAE2oB,gBAAiBnL,IAEjC,UAAA8M,EAAOG,eAAP,cAAAH,EAAiBxtB,G,iBAEOA,G,iEAAb4tB,E,kBACD7mB,EAAA,KAAK8mB,qB,YAEPnN,EAAUgN,U,wBACVrB,EAAIG,YAAcxsB,EAAKiO,MAAMyS,EAAUoL,S,oCAI3CpL,EAAUoL,U,kLAII0B,EAAOM,SAASF,G,6DAEhB,gBAAiBpG,EAAA,K,uCAGnB,gBAAiB,G,wBACjB6E,EAAIC,QAAQ9nB,KAAK,CACbyjB,OAAQ,KAAMA,OACdjoB,KAAM4tB,I,6CAKdvB,EAAIK,QAAQloB,KAAK,CACbijB,QAAS,KAAMA,QACfznB,KAAM4tB,I,uDAKMJ,EAAOxjB,MAAM4jB,G,WAA3B3kB,E,OAEAiB,EAAkB,EAAKD,OAAO1I,MAAK,SAAA2I,GAAe,OAAIA,EAAgBC,GAAGlB,OAC3EiB,E,wBACAmiB,EAAIC,QAAQ9nB,KAAK,CACbyjB,OAAQ,2CACRjoB,KAAM4tB,I,uDAKR3kB,EAAM8X,yB,yBACN,EAAKvf,gBAAiBwf,cAAcC,KAAKhY,G,QAE/CojB,EAAIU,MAAMvoB,KAAKyE,G,kNAEfojB,EAAIO,OAAOpoB,KAAK,CACZ4oB,SAAU,gBAAiB,EAC3BlpB,MAAO,EAAF,GACLlE,KAAM4tB,I,mJAKlB/rB,KAAKqB,SAAS,CAAE2oB,gBAAiB,OAIjC9kB,EAAA,KAAK8I,KAAK,GAAGwE,MAAK,WACd,OAASjS,IAAI0hB,WAAWyJ,GAAiB,GACzC,OAASnrB,IAAI4B,UAAU+pB,GAAmB,CAAE1B,OAAO,CAAExI,aAAa,IAClEve,EAAA,KAAY4b,eAAe,EAAK1f,gBAAiB0D,Q,iOAIhC+D,G,oFAChBpH,KAAKmsB,O,wDAGVpJ,EAAA,KAAIpM,WAAW3W,KAAKL,gBAAiByI,OAAShB,G,SAExC3D,EAAA,KAAY4b,eAAerf,KAAKL,gBAAiB0D,K,uBACjDI,EAAA,KAAY4b,eAAejY,EAAM/D,K,+IAIlCrD,KAAKgqB,kBAGVhqB,KAAKgqB,gBAAgB6B,WAAY,K,yCAIjCrd,EAAA,KAAM6K,SACF,qBACA/K,KAAKkI,UAAUxW,KAAKoI,OAAOP,KAAI,SAAAT,GAAK,OAAIA,EAAMglB,kB,mRAM5C,OAASxpB,KAAKC,M,uBACd,OAASjC,MAAMiC,M,UAErBc,EAAA,KAAStD,GAAG,SAAUL,KAAKqsB,OAAO1Z,KAAK3S,OACvC2D,EAAA,KAAStD,GAAG,QAASL,KAAKssB,KAAK3Z,KAAK3S,QAEhC,OAASY,MAAM0C,a,kCACTtD,KAAKssB,KAAK,OAAS1rB,MAAMqC,M,kJAInC,MAAO,CACHtD,gBAAiB,KACjBqqB,gBAAiB,Q,oDAKrB,MAAO,CACHviB,YADG,YACmC,IAAxB9H,EAAwB,EAAxBA,gBACV,IAAKA,EACD,MAAO,GAEX,IAAMyI,EAASzI,EAAgByI,QAAU,GAEzC,OAAOA,EACFgE,MAAM,GACN0b,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEwB,UAAU7Y,UAAYoX,EAAEyB,UAAU7Y,aACnD9I,KAAI,SAAAT,GAAK,MAAK,CAAEA,QAAOO,eAAgBP,EAAMF,KAAMpD,QAAQ,KAAM,Y,sFAK/Db,G,6GAELspB,EAAsBvtB,EAAA,KAAQC,IAAI,uCAAwC,IAC1EutB,EAAgBxtB,EAAA,KAAQC,IAAI,mCAA+BuhB,G,SACvB,eAAUvd,EAAKwpB,SAAU,CAAEF,sBAAqBC,kB,uBAA1E7sB,E,EAARyI,O,SAEFnF,EAAKypB,mB,OAEXvG,EAAA,WAAMwG,WAAahtB,EAAgB0D,IAEnCrD,KAAKqB,SAAS,CAAE1B,oBAEhBgE,EAAA,KAASC,KAAK,gB,0DAEV,gBAAiB,wB,wBACjB,OAAShD,MAAMgsB,mBAAf,M,gCAKA,gBAAiB,6B,wBACjB5sB,KAAK6sB,wBAAL,M,2BAKJ7sB,KAAK8sB,mBAAL,M,+RAKJ9sB,KAAKqB,SAAS,CAAE1B,gBAAiB,OAEjCX,EAAA,KAAQO,OAAO,wCACfP,EAAA,KAAQO,OAAO,+B,+IAGKyL,GACpB,OAAQA,GACJ,KAAK0e,EAAYrc,KACb,OAAO,EACX,KAAKqc,EAAYpc,QACb,OAAO,EACX,KAAKoc,EAAYnc,OACb,OAAOwf,EAAA,KACX,KAAKrD,EAAYlc,MACb,OAAO,EACX,KAAKkc,EAAYjc,UACb,OAAO,K,8CAIapL,GAC5B,IAAM2qB,EAAiB,WACnB,IAAMC,EAAwBjuB,EAAA,KAAQC,IAAI,uCAAwC,IAElFD,EAAA,KAAQI,IAAI,uCAAZ,yBACO6tB,GADP,CAEI5qB,EAAMsa,eAGV7K,SAASob,UAGb,OAAStqB,KAAKyB,eACVhC,EACA,CACI0B,MAAO,8DACPC,SAAU3B,EAAMsa,YAChBrY,QAAS,CAAC,CACNC,MAAO,oCACPE,OAAQuoB,Q,yCAMG3qB,GACvB,OAASO,KAAKyB,eAAehC,K,6BAlQ7B,OAAKrC,KAAK0E,MAAM/E,iBAGTK,KAAK0E,MAAM/E,gBAAgByI,QAFvB,K,sCAMX,OAAOpI,KAAK0E,MAAM/E,kB,kCAIlB,OAAOK,KAAKwlB,iBAAiB,iB,6BAI7B,OAAgC,OAAzBxlB,KAAKL,kB,4BAIZ,OAA8B,IAAvBK,KAAKoI,OAAO5B,S,sCAInB,OAAOxG,KAAK0E,MAAMslB,oB,GA5BSrlB,EAAA,O,oCajFnC,IAAI5G,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,QAAQ,MAAQnC,EAAI8F,QAAQ,CAAE9F,EAAQ,KAAEC,EAAG,kBAAkB,CAACM,YAAY,+BAA+BG,MAAM,CAAC,QAAUV,EAAIqH,MAAMjF,GAAG,CAAC,iBAAiB,SAASC,GAAQ,OAAOrC,EAAIutB,oBAAoBlrB,OAAYpC,EAAG,gBAAgB,CAACM,YAAY,8BAA8B,IAC/ZsC,EAAkB,G,sICsBP,EAAAC,EAAA,KAAMC,OAAO,CACxBua,WAAY,CACRuF,gBAAA,KACAF,kBAAA,MAEJjR,MAAO,CACH8S,KAAM,CACFnT,KAAMQ,OACND,QAAS,MAEbgJ,QAAS,CACLvJ,KAAMQ,OACND,QAAS,MAEb6S,aAAc,CACVpT,KAAMzQ,OACNgR,QAAS,iBAAO,KAEpB2b,oBAAqB,CACjBlc,KAAM6d,SAENtd,QAAS,kBAAM,gBAGvB1R,KAAM,iBAAa,CACf4F,MAAO,KACPuB,KAAM,OAEJ8nB,QA5BkB,WA4BX,kKACQ,EAAK3K,KADb,gCAEI,UAAO,YAAqB,EAAKA,KAAjC,QAFJ,mBAEiD5S,QAFjD,2BAGF,EAAKgJ,SAAW,GAHd,OACHgI,EADG,KAKT,EAAKwM,aAAaxM,GALT,8CAOb3U,QAAS,CACLmhB,aADK,SACQxM,GACT,GAAIA,EAASpa,WAAW,MAAO,CAC3B,IAAM4c,EAAkBxC,EAASja,QAAQ,MAEzC5G,KAAK+D,MAAQ8c,EAASyC,UAAU,EAAGD,GACnCxC,EAAWA,EAASyC,UAAUD,EAAkB,GAGpD,cAA4BxkB,OAAOuf,QAAQpe,KAAK0iB,cAAhD,eAA+D,8BAAnD5iB,EAAmD,KAA7C2L,EAA6C,KAC3DoV,EAAWA,EAAS/c,QAAT,WAAqBhE,EAArB,KAA8B2L,GAG7CzL,KAAKsF,KAAOub,MCvEkY,I,YCOtZ5f,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,0FCjBM,cACbnD,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,eAAgBH,IAClFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,yaAAyaT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,6xB,4bCT7dwnB,E,6KAkGP/e,GACN,OAAOpH,KAAKwH,OAASJ,EAAMI,QAClBxH,KAAK0b,aAAahc,MAAK,SAAA2D,GAAG,OAAI+D,EAAMsU,aAAa9T,SAASvE,Q,6CAKnE,IAAMiqB,EAA4B,mFAElC,OAAOA,EACD,sBAASA,GACT,O,4CAIN,OAAOttB,KACFutB,QAAQ,aAAa,UACrBC,oBACAC,SAAS,a,uMAIVztB,KAAK0tB,SAAU1tB,KAAK2tB,O,iEAGA3tB,KAAK4tB,mB,UAAvBC,E,OAEDA,E,iEAGe,OAAiB1lB,MAAM0lB,G,OAArCzmB,E,OAENpH,KAAKgkB,cAAc5c,EAAMyW,iBACzB7d,KAAK8tB,iB,iMAGUtd,G,wFACfA,EAAOA,GAAQ,IAAIC,K,kBAEZzQ,KAAK+tB,eAAeluB,OAAO,CAAEmuB,UAAWxd,EAAMyd,QAASzd,K,kJAI9D,IAAKxQ,KAAKgH,UAAYhH,KAAKkuB,qBACvB,OAAO,EAEX,IAAMvR,EAAc3c,KAAKid,iBACnBkR,EAAoBnuB,KAAKouB,uBAE/B,OAAwB,OAAhBzR,GAA8C,OAAtBwR,GAA8BxR,IAAgBwR,IACtEnuB,KAAKqD,IAAIuE,SAAS,O,uMAIrB5H,KAAKgH,WAAYhH,KAAKkuB,qB,wDAGrBC,EAAoBnuB,KAAKouB,uBACzBC,E,oBAAe,OAAIlmB,MAAMnI,KAAKqD,Y,aAAf,EAAqBirB,gB,QAAYtuB,KAAK2d,WAAW4Q,oBAChEC,E,UAAcL,E,YAAqBE,GAEnCI,EAAgBzuB,KAAK+tB,eAAeW,kBAAkBzoB,QACxD,SAAA+V,GAAM,OAAIA,EAAOoS,yBAA2BD,KAE1CQ,EAAkBF,EAAc1Q,QAClC,SAAC4Q,EAAiB3S,GAAU,QAClB4S,EAAkB,oBAAG,OAAIzmB,MAAM6T,EAAO3Y,YAApB,aAAG,EAAuBirB,gBAA1B,QAAsC,OAAKjY,WAInE,OAFAsY,EAAgB3S,EAAO3Y,KAAvB,UAAiC8qB,EAAjC,YAAsDS,GAE/CD,IAEX,I,SAGE,IAAOE,gBAAgBzlB,OACzBpJ,KAAK8uB,wBACL9uB,KAAKouB,uBACL,CACI,SAAU,CACNW,aAAc,CACV,CACIC,OAAQ,CAAE,MAAOhvB,KAAKqD,KACtB4rB,QAAS,CAAE,MAAOT,KAHd,sBAKLC,EAAc5mB,KAAI,SAAAmU,GAAM,MAAK,CAC5BgT,OAAQ,CAAE,MAAOhT,EAAO3Y,KACxB4rB,QAAS,CACL,MAAON,EAAgB3S,EAAO3Y,KAC9B,4BAA6B,CAAE,MAAOmrB,a,OAQ9DxuB,KAAKkvB,oBAAoBV,GACzBC,EAAcjH,SAAQ,SAAAxL,GAAM,OAAIA,EAAOkT,oBAAoBP,EAAgB3S,EAAO3Y,KAAMmrB,M,uIAG3E7R,EAAsB0R,GAAqB,QAIxD,OAHA1R,EAAW,UAAGA,SAAH,QAAkB,OAAI9R,QAAQ7K,KAAK2d,WAAWgP,WAAY3sB,KAAKwH,MAC1E6mB,EAAY,UAAGA,SAAH,QAAmBruB,KAAK2d,WAAW4Q,oBAE/C,UAAU5R,EAAV,YAAyB0R,K,+LAIrBruB,KAAK2tB,O,yCACE,OAAcwB,SAASnvB,KAAK2tB,S,WAEnC3tB,KAAK0tB,O,iCACe,OAAanH,cAAcvmB,KAAK0tB,Q,UAA9C3Q,E,OAEQ,OAAVA,GAAmB,OAAcyJ,QAAQzJ,G,yCAClC,M,cAEXA,EAAMqS,QAAUpvB,KAAK0tB,O,kBAEd3Q,G,iCAGJ,M,iJAGW,WAClB,GAAK/c,KAAKqD,MAAOrD,KAAKgH,UAAahH,KAAKqvB,iBAAxC,CAGA,IAAMC,GAAmBtvB,KAAKsE,SAAW,IACpC2B,QAAO,SAAA+V,GAAM,OAAIA,EAAO3Y,KAAO2Y,EAAO3Y,IAAIoD,WAAW,EAAKpD,QAE/DrD,KAAKuvB,UACLD,EAAgB9H,SAAQ,SAAAxL,GAAM,OAAIA,EAAOuT,QAAQ,EAAKlsB,W,0CAG9BA,GACxBrD,KAAKwvB,YAAYnsB,IAAMA,I,8BA/LvB,QAASrD,KAAKsE,SAAWtE,KAAKsE,QAAQkC,OAAS,I,8BAI/C,OAAQxG,KAAKua,U,gCAIb,OAAOva,KAAKua,QAAUva,KAAKsE,QAAS,GAAGklB,UAAY,O,2BAGxC,MACX,OAAKxpB,KAAKqD,KAGV,UAAOrD,KAAKqD,IAAI8I,MAAM,mBAAmB,UAAzC,QAFW,O,2BAKA,MACP3E,EAAO,OAAIA,KAAKxH,KAAK+D,OAKzB,OAHA,UAAI/D,KAAKoa,mBAAT,aAAI,EAAkBC,iBAClB7S,GAAQ,IAAMxH,KAAKoa,YAAYC,eAE5B7S,I,8BAIP,OAAOxH,KAAK0b,aAAahc,MAAK,SAAA2D,GAAG,OAAIA,EAAIuE,SAAS,gBAAgB,O,8BAIlE,OAAO5H,KAAK0b,aAAahc,MAAK,SAAA2D,GAAG,OAAIA,EAAIuE,SAAS,sBAAsB,O,6BAIxE,IAAK5H,KAAKyvB,QACN,OAAO,KAEX,IAAMlK,EAAUvlB,KAAKyvB,QAAQtjB,MAAM,4CAEnC,OAAOoZ,EAAUA,EAAQ,GAAK,O,6BAI9B,IAAKvlB,KAAK0vB,QACN,OAAO,KAEX,IAAMnK,EAAUvlB,KAAK0vB,QAAQvjB,MAAM,gDAEnC,OAAOoZ,EAAUS,SAAST,EAAQ,IAAM,S,GA/Fb,iBAEjB,EAAAlQ,YAAc,CACxB,OAAU,uBAGA,EAAAC,YAAc,CAAC,gBAEf,EAAAE,OAAS,CACnBzR,MAAO,CACHuL,KAAM,eAAUQ,OAChB6F,YAAa,cACbT,UAAU,GAEdiG,YAAa,CACT7L,KAAM,eAAUQ,OAChB6F,YAAa,sBAEjByE,YAAa,CACT9K,KAAM,eAAUmB,KAChBkF,YAAa,wBAEjBuE,UAAW,CACP5K,KAAM,eAAUoG,IAChBC,YAAa,gBAEjB+F,aAAc,CACVpM,KAAM,eAAUT,MAChB8G,YAAa,gBACbga,MAAO,CAAErgB,KAAM,eAAUoG,Q,yWCxB/Bka,EAAoB,GAEL5lB,E,wDAKjB,aAAqC,MAAzBsQ,EAAyB,sFACjC,eAHe,EAAApZ,eAAyB,SAKxC,EAAKoZ,SAAWA,EAHiB,E,+GA0BnBuV,G,uGACR7vB,KAAK8vB,sBAAsBD,G,OAE3BxsB,EAAM,IAAI0V,IAAIjH,SAAS5C,MAC7B7L,EAAI0sB,aAAa3wB,IAAI,IAAKywB,GAC1BG,QAAQC,aACJ,CAAEJ,iBACFxqB,SAAStB,MACTV,EAAI6L,M,yIAII9H,GAAmB,MAC/BpH,KAAKqB,SAAS,CAAE+F,UAEhB,IAAM/D,EAAM,IAAI0V,IAAIjH,SAAS5C,MAC7B9H,EAAQ/D,EAAI0sB,aAAa3wB,IAAI,IAAKgI,EAAM/D,KAAOA,EAAI0sB,aAAa9T,OAAO,KACvE+T,QAAQE,UACJ,CACIL,cAAa,UAAE7vB,KAAKL,uBAAP,aAAE,EAAsB0D,IACrC8sB,UAAe,OAAL/oB,QAAK,IAALA,OAAA,EAAAA,EAAO/D,MAAO,MAE5BgC,SAAStB,MACTV,EAAI6L,Q,4KAKHlP,KAAKsa,S,kJAKV,IAAO9a,UAAU,IAAI,iBAAYqS,OAAOJ,MAAMkB,KAAKd,QAAS,CAAEue,kBAAmB,Q,SAE3EpwB,KAAKssB,O,OAEXtsB,KAAKqwB,qB,iJAIL,MAAO,CACHR,cAAe,KACfzoB,MAAO,KACPzH,gBAAiB,Q,oDAKrB,MAAO,CACH8H,YADG,YACmC,IAAxB9H,EAAwB,EAAxBA,gBACV,IAAKA,EACD,MAAO,GAEX,IAAMyI,EAASzI,EAAgByI,QAAU,GACnCkoB,EAAM7f,KAAK6f,MAEjB,OAAOloB,EACFgE,MAAM,GACN0b,MAAK,SAACC,EAAGC,GAAJ,iDAAUA,EAAEwB,iBAAZ,aAAU,EAAa7Y,iBAAvB,QAAoC2f,GAAG,UAAGvI,EAAEyB,iBAAL,aAAG,EAAa7Y,kBAAvD,QAAoE2f,KACzEzoB,KAAI,SAAAT,GAAK,MAAK,CAAEA,QAAOO,eAAgBP,EAAMF,KAAMpD,QAAQ,KAAM,Y,sLAMxET,EAAM,IAAI0V,IAAIjH,SAAS5C,MACvB2gB,EAAgBxsB,EAAI0sB,aAAa9wB,IAAI,MAAQ,KAC7CkxB,EAAW9sB,EAAI0sB,aAAa9wB,IAAI,MAAQ,MAE1C4wB,E,gCACM7vB,KAAK8vB,sBAAsBD,G,WAEjCM,E,gCACMnwB,KAAKuwB,YAAYJ,G,OAE3BH,QAAQC,aACJ,CAAEJ,gBAAeM,YACjB9qB,SAAStB,MACTV,EAAI6L,M,qJAIc,WACtB2C,OAAO2e,WAAP,yDAAoB,WAAO9nB,GAAP,4GACVhE,EADU,UACFgE,EAAMhE,aADJ,QACa,GAEK,IAA9B7F,OAAOoV,KAAKvP,GAAO8B,OAHP,oDAMVqpB,EANU,UAMMnrB,EAAMmrB,qBANZ,QAM6B,KACvCM,EAPU,UAOCzrB,EAAMyrB,gBAPP,QAOmB,KAPnB,UASZN,KAAa,UAAK,EAAKlwB,uBAAV,aAAK,EAAsB0D,YAT5B,0CAUN,EAAKysB,sBAAsBD,GAVrB,OAYhB,UAAIM,KAAQ,UAAK,EAAK/oB,aAAV,aAAK,EAAY/D,YAA7B,UACI,EAAKktB,YAAYJ,GAbL,2CAApB,wD,uGAiBgCN,G,0FAC3BA,E,uBACD7vB,KAAKqB,SAAS,CAAEwuB,cAAe,KAAMlwB,gBAAiB,KAAMyH,MAAO,O,0CAKzCpH,KAAKywB,oBAAoBZ,G,OAAjDlwB,E,OAENK,KAAKqB,SAAS,CACVwuB,gBACAlwB,oB,4IAIYwwB,GAAuB,MACvC,GAAKA,GAAanwB,KAAKL,gBAAvB,CAMA,IAAMyH,GAAQ,UAAApH,KAAKL,gBAAgByI,cAArB,eAA6B1I,MAAK,SAAA0H,GAAK,OAAIA,EAAM/D,MAAQ8sB,OAAa,KAEpFnwB,KAAKqB,SAAS,CAAE+F,eAPZpH,KAAKqB,SAAS,CAAE+F,MAAO,S,qGAUGyoB,G,6GACA,aAAenwB,KAAqBmwB,G,UAA5DlwB,E,OAEDA,E,yCACM,M,OAELyI,EAAS,GACTsoB,EAAe/wB,EAAgB+wB,a,YAE9BA,EAAalqB,OAAS,GAAK4B,EAAO5B,OAAS,I,kCACpB,aAAMmqB,KAAKhxB,EAAgB0D,KAAKmF,IAAI,CAC1DooB,IAAKF,EAAa5O,OAAO,EAAG8N,K,QAD1BiB,E,OAINzoB,EAAOzF,KAAP,MAAAyF,EAAM,eAASyoB,I,0BAGG,IAAlBzoB,EAAO5B,O,0CACA,M,eAEX7G,EAAgBuc,kBAAkB,SAAU9T,G,kBAErCzI,G,0IAzKP,OAAOK,KAAK0E,MAAMmrB,gB,4BAIlB,OAAO7vB,KAAK0E,MAAM0C,Q,sCAIlB,OAAOpH,KAAK0E,MAAM/E,kB,6BAIlB,QAASK,KAAK0E,MAAM/E,kB,kCAIpB,OAAOK,KAAKwlB,iBAAiB,mB,GA5BD,S,uBCrBpC,IAAI3d,EAAM,CACT,YAAa,OACb,iBAAkB,OAClB,gBAAiB,OACjB,YAAa,OACb,kBAAmB,OACnB,sBAAuB,OACvB,oBAAqB,OACrB,cAAe,OACf,YAAa,OACb,aAAc,OACd,iBAAkB,OAClB,cAAe,OACf,eAAgB,OAChB,kBAAmB,OACnB,YAAa,OACb,mBAAoB,OACpB,aAAc,OACd,aAAc,OACd,eAAgB,OAChB,eAAgB,OAChB,8BAA+B,OAC/B,qBAAsB,OACtB,aAAc,OACd,aAAc,OACd,gBAAiB,OACjB,cAAe,OACf,iBAAkB,OAClB,eAAgB,OAChB,qBAAsB,OACtB,eAAgB,OAChB,qBAAsB,OACtB,iBAAkB,OAClB,aAAc,OACd,aAAc,OACd,cAAe,OACf,cAAe,OACf,eAAgB,OAChB,kBAAmB,OACnB,eAAgB,QAIjB,SAAS6L,EAAeC,GACvB,IAAIxT,EAAKyT,EAAsBD,GAC/B,OAAOE,EAAoB1T,GAE5B,SAASyT,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEjM,EAAK8L,GAAM,CACpC,IAAII,EAAI,IAAIhF,MAAM,uBAAyB4E,EAAM,KAEjD,MADAI,EAAEC,KAAO,mBACHD,EAEP,OAAOlM,EAAI8L,GAEZD,EAAeO,KAAO,WACrB,OAAOpV,OAAOoV,KAAKpM,IAEpB6L,EAAe7I,QAAU+I,EACzBM,EAAOC,QAAUT,EACjBA,EAAevT,GAAK,Q,+EC3DC,cACbrC,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAAC,CAAC,UAAY,WAAWA,EAAMC,GACtCC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,MAAQ,oBAAoB,QAAU,gBAAgB,MAAQ,OAAO,OAAS,QAASH,IAC/IC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,kE,sLCW7CmJ,E,uGAEc3H,GACZ,OAAOH,KAAK8wB,QAAL,gBAAsB3wB,M,2BAGrB4wB,GAAwC,IAApB3wB,EAAoB,uDAAF,GAC9C,OAAOJ,KAAK8wB,QAAL,eAAqBC,GAAc3wB,K,mCAG1BmC,GAChB,OAAOvC,KAAK8wB,QAAQ,eAAgB,CAAEvuB,Y,8BAG3Bwa,GACX,MAAO,iBAAkBA,I,yFAGOiU,G,4GAAcC,E,+BAAqB,GAC7D5tB,EAAM,IAAI0V,IAAI,gCAAkCiY,GAEtDnyB,OACKuf,QADLvf,OAAA,OAAAA,CAAA,GAEWoyB,EAFX,CAGQC,QAAS,sCAEZ1J,SAAQ,sCAAEze,EAAF,KAAO0C,EAAP,YAAkBpI,EAAI0sB,aAAaoB,OAAOpoB,EAAK0C,M,SAE9CgG,MAAMpO,EAAI6L,M,uCAAOhQ,Q,4GAKxB,WAAI4I,G,iFClEE,cACbhK,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,QAAU,aAAcH,IAC3GC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,KAAO,eAAe,EAAI,6C,iFCtBpD,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,+F,8GClB9CyyB,E,6DAAL,SAAKA,GACD,iBACA,mBACA,gCACA,kCACA,yBALJ,CAAKA,MAAS,KA0CC,sBAAO,OAAIpwB,OAAO,CAC7B2O,MAAO,CACH8E,QAAS,CACLnF,KAAMM,QACNC,SAAS,GAEbwhB,OAAQ,CACJ/hB,KAAMM,QACNC,SAAS,GAEb6E,SAAU,CACNpF,KAAMgF,OACNzE,QAAS,KAEbyhB,cAAe,CACXhiB,KAAMgF,OACNzE,QAAS,MAEb0hB,cAAe,CACXjiB,KAAMgF,OACNzE,QAAS,MAEb8T,WAAY,CACRrU,KAAMQ,OACND,QAAS,MAEb2hB,UAAW,CACPliB,KAAMQ,OACND,QAAS,MAEb4hB,iBAAkB,CACdniB,KAAMQ,OACND,QAAS,IAEb6hB,WAAY,CACRpiB,KAAMQ,OACND,QAAS,IAEb8hB,aAAc,CACVriB,KAAMQ,OACND,QAAS,IAEb+hB,iBAAkB,CACdtiB,KAAMQ,OACND,QAAS,IAEbgiB,WAAY,CACRviB,KAAMQ,OACND,QAAS,IAEbiiB,aAAc,CACVxiB,KAAMQ,OACND,QAAS,KAGjB1R,KAAM,iBAAa,CAGfqW,kBAAmB,OAASjU,IAAIiU,oBAEpCxI,SAAU,CACN+lB,UADM,WAEF,MAAO,CACHC,MAAOhyB,KAAKsxB,eAAiBtxB,KAAK0U,SAClCud,MAAOjyB,KAAKuxB,eAAiBvxB,KAAK0U,WAG1Cwd,kBAPM,WAQF,IAAMvO,EAAc3jB,KAAK2jB,WACnB3jB,KAAK2jB,WAAWhP,MAAM,KACrB3U,KAAKwxB,UAAY,CAACxxB,KAAKwxB,WAAa,GAErCW,EAA0BxO,EAAW5F,OAAO/d,KAAKoyB,sBAAuB,CAC1EC,YAAa,CACT,iBACA,WACA,YAAcryB,KAAK+xB,UAAUC,OAHtB,sBAIJhyB,KAAKyxB,iBAAiB9c,MAAM,OAEnCqd,MAAOhyB,KAAK0xB,WAAW/c,MAAM,KAC7B2d,QAAStyB,KAAK2xB,aAAahd,MAAM,KACjC4d,YAAa,CACT,iBACA,UACA,YAAcvyB,KAAK+xB,UAAUE,OAHtB,sBAIJjyB,KAAK4xB,iBAAiBjd,MAAM,OAEnCsd,MAAOjyB,KAAK6xB,WAAWld,MAAM,KAC7B6d,QAASxyB,KAAK8xB,aAAand,MAAM,OAGrC,OAAO9V,OAAOuf,QAAQ+T,GAAyBpU,QAAO,SAACmU,EAAD,GAAwC,0BAAnBO,EAAmB,KAAZC,EAAY,KAG1F,OAFAR,EAAkBO,GAASC,EAASzmB,KAAK,KAElCimB,IACR,KAEPtd,mBArCM,WAsCF,MAAO,CACHyc,OAAQrxB,KAAKqxB,OACb3c,SAAU1U,KAAK+xB,UACfN,iBAAkBzxB,KAAKkyB,kBAAkBG,YACzCX,WAAY1xB,KAAKkyB,kBAAkBF,MACnCL,aAAc3xB,KAAKkyB,kBAAkBI,QACrCV,iBAAkB5xB,KAAKkyB,kBAAkBK,YACzCV,WAAY7xB,KAAKkyB,kBAAkBD,MACnCH,aAAc9xB,KAAKkyB,kBAAkBM,UAG7C3d,uBAjDM,WAiDgB,WAClB,MAAO,CACH8d,YAAa,SAAAzsB,GAAE,OAAI,EAAKmJ,MAAM,eAAgBnJ,OAI1DgG,QAAS,CACLkmB,sBADK,SACiBM,EAAkClB,GACpD,IAAMoB,EAAmB5yB,KAAK6yB,wBAAwBrB,IAAc,GAEpE,IAAK,IAAMsB,KAAKF,EAAkB,OACxBH,EAAQK,GAEd,EAAAJ,EAAQD,IAAQ9vB,KAAhB,uBAAwBiwB,EAAiBH,KAG7C,OAAOC,GAEXG,wBAZK,SAYmBrB,GACpB,OAAQA,GACJ,KAAKJ,EAAU2B,KACX,MAAO,CACHf,MAAO,CAAC,aACRQ,QAAS,CAAC,cAElB,KAAKpB,EAAU4B,MACX,MAAO,CACHX,YAAa,CAAC,aACdL,MAAO,CAAC,YACRO,YAAa,CAAC,aACdC,QAAS,CAAC,aAElB,KAAKpB,EAAU6B,YACX,MAAO,CACHjB,MAAO,CAAC,WACRM,QAAS,CAAC,cACVL,MAAO,CAAC,cACRO,QAAS,CAAC,YAElB,KAAKpB,EAAU8B,aACX,MAAO,CACHlB,MAAO,CAAC,WACRQ,QAAS,CAAC,YAElB,KAAKpB,EAAU+B,QACX,MAAO,CACHd,YAAa,CAAC,aACdL,MAAO,CAAC,oBACRO,YAAa,CAAC,aACdC,QAAS,CAAC,4B,oIC3M5BlM,E,WAAN,oCAEY,KAAA8M,MAA0C,G,wHAEvB1F,G,0GAChB1tB,KAAKqzB,UAAL,eAAuB3F,GAAvB,wCAAiC,wHACd,OAAchuB,KAAKguB,EAAQ,CAAE4F,gBAAiB,YADhC,cAC9BltB,EAD8B,OAE9B0W,EAF8B,yBAEjB1W,EAAQmtB,eAFS,eAESntB,EAAQotB,gBAFjB,eAEoCptB,EAAQqtB,aAF5C,4BAI7B3W,EAAO,UAJsB,QAIhB,MAJgB,6C,qMAQpB/T,EAAa2qB,G,oFAC3B3qB,KAAO/I,KAAKozB,M,gCACUM,I,OAAxB1zB,KAAKozB,MAAMrqB,G,uCAER/I,KAAKozB,MAAMrqB,I,mHAKX,WAAIud,G,iFCvBE,cACbxoB,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,8H,0GCtB9B,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAAC,CAAC,UAAY,WAAWA,EAAMC,GACtCC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,QAAQ,OAAS,UAAU,MAAQ,oBAAoB,QAAU,qBAAqB,MAAQ,8BAA+BH,IACxJC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACM,YAAY,mBAAmBG,MAAM,CAAC,EAAI,ipBAAipB,YAAY,UAAU,KAAO,aAAaT,EAAG,OAAO,CAACM,YAAY,kBAAkBG,MAAM,CAAC,EAAI,whCAAwhC,KAAO,aAAaT,EAAG,OAAO,CAACM,YAAY,mBAAmBG,MAAM,CAAC,EAAI,iTAAiT,YAAY,UAAU,KAAO,aAAaT,EAAG,OAAO,CAACM,YAAY,kBAAkBG,MAAM,CAAC,EAAI,gXAAgX,YAAY,UAAU,KAAO,mB,iFCtBzqF,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,uI,uBCvBnD,IAAIkJ,EAAM,CACT,oBAAqB,CACpB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,oBAAqB,CACpB,OACA,kBAED,kBAAmB,CAClB,OACA,mBAGF,SAAS4d,EAAoB9R,GAC5B,IAAIE,EAAoBC,EAAEjM,EAAK8L,GAC9B,OAAOpL,QAAQsC,UAAU2H,MAAK,WAC7B,IAAIuB,EAAI,IAAIhF,MAAM,uBAAyB4E,EAAM,KAEjD,MADAI,EAAEC,KAAO,mBACHD,KAIR,IAAI2R,EAAM7d,EAAI8L,GAAMxT,EAAKulB,EAAI,GAC7B,OAAO7R,EAAoBE,EAAE2R,EAAI,IAAIlT,MAAK,WACzC,OAAOqB,EAAoB8f,EAAExzB,EAAI,MAGnCslB,EAAoBxR,KAAO,WAC1B,OAAOpV,OAAOoV,KAAKpM,IAEpB4d,EAAoBtlB,GAAK,OACzB+T,EAAOC,QAAUsR,G,oCC5CjB,IAAI1nB,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACM,YAAY,wBAAwBG,MAAM,CAAC,GAAKV,EAAIkC,GAAG,WAAalC,EAAIsC,IAAIye,OAAO,QAAU/gB,EAAImC,QAAQ,YAAa,IAAQ,CAAClC,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,KAAK,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI21B,WAAW,OAAO11B,EAAG,MAAM,CAACM,YAAY,cAAcN,EAAG,SAAS,CAACM,YAAY,6CAA6CG,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAI0C,OAAM,MAAS,CAACzC,EAAG,WAAW,CAACM,YAAY,uBAAuBG,MAAM,CAAC,KAAO,YAAY,KAAKT,EAAG,MAAM,CAACM,YAAY,2EAA2E,CAACN,EAAG,MAAM,CAACM,YAAY,+CAA+C,CAACN,EAAG,IAAI,CAACM,YAAY,gEAAgE,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI41B,cAAc,OAAQ51B,EAAIsC,IAAW,QAAErC,EAAG,MAAM,CAACM,YAAY,uBAAuBP,EAAImN,KAAKlN,EAAG,MAAM,CAACM,YAAY,uLAAuL,CAACN,EAAG,uBAAuB,CAACM,YAAY,4CAA4CG,MAAM,CAAC,KAAO,WAAW,OAAS,sBAAsB0B,GAAG,CAAC,MAAQpC,EAAI61B,WAAW51B,EAAG,uBAAuB,CAACM,YAAY,yDAAyDG,MAAM,CAAC,KAAO,OAAO,OAAS,qBAAqB0B,GAAG,CAAC,MAAQpC,EAAI81B,QAAS91B,EAAI2E,KAA8B,0BAAE1E,EAAG,uBAAuB,CAACM,YAAY,yDAAyDG,MAAM,CAAC,KAAO,MAAM,OAASV,EAAI+1B,SAAW,iBAAmB,qBAAqB3zB,GAAG,CAAC,MAAQpC,EAAImG,UAAUnG,EAAImN,KAAKlN,EAAG,uBAAuB,CAACM,YAAY,uCAAuCG,MAAM,CAAC,KAAO,SAAS,OAAS,mBAAmB,IAAMV,EAAIg2B,oBAAoB,KAAK/1B,EAAG,MAAM,CAACM,YAAY,iEAAiEoN,SAAS,CAAC,YAAc3N,EAAIkc,GAAGlc,EAAIi2B,oBACnjEpzB,EAAkB,G,kCCDlB,EAAS,WAAa,IAAI7C,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAGD,EAAIk2B,OAAS,IAAM,SAASl2B,EAAIkR,GAAG,CAACxB,IAAI,YAAYnP,YAAY,yFAAyFG,MAAM,CAAC,MAAQV,EAAI+d,QAAQ3b,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIoR,MAAM,YAAY,YACzUpR,EAAIk2B,OACE,CAAErrB,OAAQ,SAAUoG,KAAMjR,EAAIoF,KAC9B,CAAEiM,KAAM,WACjB,GAAO,CAACpR,EAAG,MAAM,CAACM,YAAY,sCAAsCN,EAAG,WAAW,CAACM,YAAY,UAAUG,MAAM,CAAC,KAAOV,EAAIuR,QAAQtR,EAAG,MAAM,CAACM,YAAY,yHAAyH,CAACN,EAAG,OAAO,CAACM,YAAY,QAAQ,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAIm2B,kBAAkB,IACxV,EAAkB,G,wBCwBP,SAAIpzB,OAAO,CACtB2O,MAAO,CACHH,KAAM,CACFF,KAAMQ,OACNoF,UAAU,GAEd8G,OAAQ,CACJ1M,KAAMQ,OACNoF,UAAU,GAEd7R,IAAK,CACDiM,KAAMQ,OACND,QAAS,OAGjB7D,SAAU,CACNmoB,OADM,WAEF,QAASn0B,KAAKqD,KAElB+wB,WAJM,WAKF,OAAOp0B,KAAKO,IAAIiF,QAAUxF,KAAKgc,OAASzU,EAAA,KAAI8sB,WAAWr0B,KAAKgc,YCjDyV,I,YCO7Z/a,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,gCC8DA,EAAAF,EAAA,KAAMC,OAAO,CACxBua,WAAY,CACR+Y,uBACA1T,kBAAA,MAEJjR,MAAO,CACHtN,MAAO,CACHiN,KAAMP,MACNmG,UAAU,IAGlB/W,KAXwB,WAYpB,MAAO,CAAE61B,SAAUh0B,KAAKqC,MAAM2xB,WAElChoB,SAAU,CACN4nB,UADM,WAEF,OAAO5zB,KAAKqC,MAAMvC,MAAQ,SAE9B+zB,aAJM,WAKF,OAAO7zB,KAAKqC,MAAMyT,SAAW,iBAEjCoe,WAPM,WASF,IAAMK,EAAQv0B,KAAKqC,MAAMkyB,OAAS,uBAElC,OAAOA,EAAQ,MAEnBN,gBAbM,WAcF,IAAMlwB,EAAQywB,mBAAmB,GAAD,OAAIx0B,KAAK4zB,UAAT,aAAuB5zB,KAAK6zB,eACtDvuB,EAAOkvB,mBACT,6FAEQx0B,KAAKk0B,WAAa,OAG9B,gBAAUl0B,KAAK4C,KAAKmL,UAApB,6BAAkDhK,EAAlD,iBAAgEuB,KAGxE4G,QAAS,CACL9H,OADK,WAEGpE,KAAKg0B,SACLh0B,KAAKO,IAAI6b,aAAa,iBAAmBpc,KAAKg0B,SAAU,CAAE3X,WAAW,KAKzElY,EAAA,KAAOC,OAAOpE,KAAKqC,OAEnBrC,KAAKg0B,SAAWh0B,KAAKqC,MAAM2xB,SAC3Bh0B,KAAKO,IAAI6b,aAAa,gCAAkCpc,KAAKg0B,SAAU,CAAE3X,WAAW,MAExFyX,QAbK,WAcAjiB,OAAexP,MAAQrC,KAAKqC,MAE7BrC,KAAKO,IAAI6b,aAAa,wDAAyD,CAAEC,WAAW,KAEhG0X,KAlBK,WAmBD,IAAMU,EAAWpvB,SAAS8T,cAAc,YACxCsb,EAAShpB,MAAT,UAAoBzL,KAAK4zB,UAAzB,aAAuC5zB,KAAK6zB,aAA5C,eAA+D7zB,KAAKk0B,YACpEO,EAASh2B,MAAMi2B,SAAW,QAC1BD,EAASh2B,MAAMk2B,IAAM,UACrBtvB,SAASC,KAAKgU,YAAYmb,GAC1BA,EAAS1uB,QACT0uB,EAASG,SACTvvB,SAASwvB,YAAY,QACrBJ,EAASl1B,SAETS,KAAKO,IAAI6b,aAAa,wCAAyC,CAAEC,WAAW,QCnJmU,ICOvZ,EAAY,eACd,EACAte,EACA+C,GACA,EACA,KACA,KACA,MAIa,S,iHChBTg0B,EAAmB,U,iBAEFA,EAAiB7gB,Q,IAAxC,2BAAgD,KAArC8gB,EAAqC,QACtCj1B,EAAOi1B,EAAS5oB,MAAM,wBAAyB,GAEjC,qBAATrM,GACP,OAAImB,UAAUnB,EAAMg1B,EAAiBC,GAAUllB,U,0ICPlC,cACb/R,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,gBAAgB,KAAO,UAAUT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,2I,iFCtBrF,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,6J,iFCtB9B,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,QAAU,aAAcH,IAC3GC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,KAAO,UAAU,EAAI,uQAAuQT,EAAG,OAAO,CAACS,MAAM,CAAC,KAAO,UAAU,EAAI,qJAAqJT,EAAG,OAAO,CAACS,MAAM,CAAC,KAAO,UAAU,EAAI,8tC,iFCtBzhB,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAAC,CAAC,UAAY,WAAWA,EAAMC,GACtCC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,QAAQ,OAAS,UAAU,MAAQ,oBAAoB,QAAU,qBAAqB,MAAQ,8BAA+BH,IACxJC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACM,YAAY,mBAAmBG,MAAM,CAAC,EAAI,knBAAknB,KAAO,UAAU,YAAY,aAAaT,EAAG,OAAO,CAACM,YAAY,kBAAkBG,MAAM,CAAC,EAAI,mgCAAmgC,KAAO,aAAaT,EAAG,OAAO,CAACM,YAAY,mBAAmBG,MAAM,CAAC,EAAI,oTAAoT,KAAO,UAAU,YAAY,aAAaT,EAAG,OAAO,CAACM,YAAY,kBAAkBG,MAAM,CAAC,EAAI,0mBAA0mB,KAAO,UAAU,YAAY,mB,soiGCvBv4F,IAAIkJ,EAAM,CACT,mBAAoB,OACpB,iBAAkB,OAClB,iBAAkB,OAClB,iBAAkB,OAClB,uBAAwB,OACxB,mBAAoB,OACpB,uBAAwB,OACxB,4BAA6B,QAI9B,SAAS6L,EAAeC,GACvB,IAAIxT,EAAKyT,EAAsBD,GAC/B,OAAOE,EAAoB1T,GAE5B,SAASyT,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEjM,EAAK8L,GAAM,CACpC,IAAII,EAAI,IAAIhF,MAAM,uBAAyB4E,EAAM,KAEjD,MADAI,EAAEC,KAAO,mBACHD,EAEP,OAAOlM,EAAI8L,GAEZD,EAAeO,KAAO,WACrB,OAAOpV,OAAOoV,KAAKpM,IAEpB6L,EAAe7I,QAAU+I,EACzBM,EAAOC,QAAUT,EACjBA,EAAevT,GAAK,Q,iFC5BC,cACbrC,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,uJ,+ECtB9B,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,qM,iFCtB9B,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,+O,mBCvBnDuV,EAAOC,QAAU,kjG,0MCUIxK,E,0ZAWR,OAAQuJ,IAAI,qC,4BACb,O,SAC6BlT,KAAKg1B,uB,yBAA9BC,kB,WADI71B,I,UAAI,oC,aAIhBY,KAAKk1B,aAAe,OAAQj2B,IAAI,qC,yTAKtBk2B,EAAU,uC,SAEV,OAAYC,iBAAiBD,EAAS,IAAI1kB,M,uBAC1C,OAAY4O,eAAe8V,G,iCAE1B,G,6DAEA,G,kJAvBX,OAAOn1B,KAAKk1B,aAAaD,sB,GALI,S,+ECThB,cACbn3B,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,QAAU,eAAgBH,IAC7CC,GAELP,EAASU,OAAO,CAACb,EAAG,IAAI,CAACS,MAAM,CAAC,KAAO,SAAS,CAACT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,6RAA6R,KAAO,UAAUT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,qSAAqS,KAAO,aAAaT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,mWAAmW,KAAO,aAAaT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,2NAA2N,KAAO,aAAaT,EAAG,OAAO,CAACS,MAAM,CAAC,KAAO,OAAO,QAAU,KAAK,EAAI,yF,+ECtBh4C,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,qBAAsBH,IACxFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,m9BAAm9B,KAAO,mB,kCCvB7gC,IAAIZ,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAQC,EAAQ,KAAEC,EAAG,MAAM,CAACM,YAAY,mBAAmBoN,SAAS,CAAC,UAAY3N,EAAIkc,GAAGlc,EAAIo3B,OAAOh1B,GAAG,CAAC,MAAQpC,EAAIq3B,kBAAkBr3B,EAAImN,MAC9NtK,EAAkB,G,wFCcP,SAAIE,OAAO,CACtB2O,MAAO,CACHkJ,QAAS,CACLvJ,KAAMQ,OACNoF,UAAU,IAGlBlJ,SAAU,CACNqpB,KADM,WAEF,OAAOhK,EAAA,KAASttB,OAAOiC,KAAK6Y,WAGpC3M,QAAS,CACLopB,eADK,SACUvhB,GACX,GAAMA,EAAEjL,kBAAkBysB,YAA1B,CAGA,IAAMlT,EAAUriB,KAAKw1B,gBAAgBzhB,EAAEjL,QAEvC,GAAKuZ,IAAWA,EAAQ5b,WAAW,QAAnC,CAGAsN,EAAEnL,iBATiB,MAWOyZ,EAAQ1N,MAAM,KAXrB,oBAWZqH,EAXY,KAWD3L,EAXC,WAanB,OAAQ2L,GACJ,IAAK,gBAED,YADAhc,KAAKO,IAAIC,sBAAsB6P,EAAK,IAExC,IAAK,QAED,YADArQ,KAAK0C,QAAQC,KAAK0N,EAAK,IAE3B,IAAK,SAED,YADArQ,KAAKqP,MAAM,iBAAkBgB,EAAKpE,KAAK,UAInDupB,gBA1BK,SA0BWpR,GACZ,IAAKA,GAAWA,IAAYpkB,KAAKy1B,IAC7B,OAAO,KAEX,IAAMpT,EAAU+B,aAAmBsR,kBAC7BtR,EAAQlV,KACRkV,EAAQuR,QAAQtT,QAEtB,OAAOA,GAAWriB,KAAKw1B,gBAAgBpR,EAAQwR,mBC7D+U,I,wBCQtY30B,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,6JCkFJ40B,E,oCCrGP,EAAS,WAAa,IAAI53B,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,0GAA0G,CAAEP,EAAS,MAAEC,EAAG,MAAM,CAACM,YAAY,8BAA8B,CAAEP,EAAIwC,OAAO0rB,SAAWluB,EAAIsC,IAAI2hB,aAAchkB,EAAG,aAAaD,EAAImN,KAAKlN,EAAG,OAAO,CAACM,YAAY,6DAA6D,CAAEP,EAAI2E,KAAc,UAAE1E,EAAG,eAAiBD,EAAI2C,MAAMQ,WAA8BnD,EAAImN,KAAtBlN,EAAG,gBAAyB,GAAGA,EAAG,cAAc,GAAGD,EAAImN,KAAKlN,EAAG,cAAcA,EAAG,aAAaA,EAAG,gBAAgBA,EAAG,QAAQ,CAAC8c,IAAI,cAAcxc,YAAY,kBAAkBG,MAAM,CAAC,GAAK,cAAc,KAAO,WAAW,IAChtBmC,EAAkB,G,oCCDlB,EAAS,WAAa,IAAI7C,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,MAAM,CAACM,YAAY,2CAA2C,CAACN,EAAG,MAAM,CAACM,YAAY,sDAAsD,CAACN,EAAG,iBAAiB,CAACS,MAAM,CAAC,iBAAiB,IAAI,iBAAiB,IAAI,UAAY,OAAO,qBAAqB,cAAc,CAACT,EAAG,SAAS,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,OAAQxN,EAAI4L,QAAQjE,KAAM8F,WAAW,kBAAkBsP,IAAI,cAAcxc,YAAY,+EAA+EG,MAAM,CAAC,KAAO,SAAS,aAAa,aAAa0B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,IAAI+hB,gBAAgB,CAACpkB,EAAG,WAAW,CAACM,YAAY,UAAUG,MAAM,CAAC,KAAO,WAAW,KAAKT,EAAG,iBAAiB,CAACS,MAAM,CAAC,iBAAiB,IAAI,iBAAiB,IAAI,UAAY,OAAO,qBAAqB,cAAc,CAACT,EAAG,MAAM,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,MAAOxN,EAAIsC,IAAIiF,UAAYvH,EAAI4L,QAAQjE,KAAM8F,WAAW,iCAAiClN,YAAY,uKAAuK,CAACN,EAAG,cAAc,CAACM,YAAY,OAAOG,MAAM,CAAC,GAAK,CAAEmB,KAAM,QAAS,MAAQ,gBACztC,SAApB7B,EAAIqE,OAAOxC,KACL,0BACA,MACN,CAAC5B,EAAG,WAAW,CAACM,YAAY,cAAcG,MAAM,CAAC,KAAO,mBAAmB,IAAI,KAAKT,EAAG,mBAAmBA,EAAG,qBAAqB,QAC9J,EAAkB,G,YCLlB,EAAS,WAAa,IAAID,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,iBAAiB,CAACS,MAAM,CAAC,QAAUV,EAAIsC,IAAIiF,QAAQ,iBAAiB,IAAI,iBAAiB,IAAI,qBAAqB,YAAY,UAAY,SAAS,CAACtH,EAAG,MAAM,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,MAAOxN,EAAIsC,IAAIye,SAAW/gB,EAAI4L,QAAQjE,KAAM8F,WAAW,gCAAgClN,YAAY,iBAAiBD,MAAM,CACzZ,mDAAoDN,EAAIsC,IAAIye,OAC5D,mBAAoB/gB,EAAIsC,IAAIiF,QAC5B,aAAcvH,EAAIsC,IAAIye,SAAW/gB,EAAIsC,IAAI4hB,SACzC,UAAWlkB,EAAIsC,IAAIye,QAAU/gB,EAAIsC,IAAI4hB,WACtC,CAACjkB,EAAG,MAAM,CAAC8c,IAAI,cAAcxc,YAAY,0LAA0L,CAAEP,EAAIsC,IAAIye,SAAW/gB,EAAI2C,MAAMqB,UAAW/D,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAAEP,EAAIgF,KAAc,UAAE/E,EAAG,aAAa,CAACM,YAAY,yFAAyFP,EAAImN,KAAKlN,EAAG,MAAM,CAACM,YAAY,iCAAiC,CAACN,EAAG,OAAO,CAACM,YAAY,8BAA8B,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAIgF,KAAKnD,MAAM,OAAQ7B,EAAa,UAAEC,EAAG,IAAI,CAACM,YAAY,iDAAiDG,MAAM,CAAC,KAAOV,EAAI63B,UAAU,OAAS,UAAU,CAAC73B,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI63B,WAAW,OAAO73B,EAAImN,QAAQ,GAAGnN,EAAImN,KAAKlN,EAAG,MAAM,CAACM,YAAY,eAAeD,MAAM,CAAE,OAAQN,EAAIsC,IAAIye,SAAW/gB,EAAI2C,MAAMqB,YAAa,CAAC/D,EAAG,WAAW,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,OAAQxN,EAAIwC,OAAOyB,MAAOwJ,WAAW,iBAAiB,CAAC5L,KAAK,aAAa0L,QAAQ,iBAAiBwP,IAAI,gBAAgBxc,YAAY,sKAAsKD,MAAM,CAAE,UAAiC,eAApBN,EAAIqE,OAAOxC,MAAwBnB,MAAM,CAAC,MAAQ,aAAa,MAA4B,eAApBV,EAAIqE,OAAOxC,KAAwB,oCAAsC,OAAO,CAAC7B,EAAIG,GAAG,sBAAsB,GAAGF,EAAG,SAAS,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,MAAOxN,EAAIsC,IAAW,QAAEmL,WAAW,gBAAgBsP,IAAI,SAASzc,MAAM,CAC1iD,sEAAuEN,EAAIgF,KAAK8yB,UAChF,8EACK93B,EAAIgF,KAAK8yB,WAChBt3B,MAAOR,EAAIgF,KAAK8yB,UAAY,GAAK,6CAA8Cp3B,MAAM,CAAC,KAAO,SAAS,aAAa,uBAAuB0B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,IAAI+hB,gBAAgB,CAAErkB,EAAIgF,KAAc,UAAE/E,EAAG,aAAa,CAACM,YAAY,2BAA2BN,EAAG,WAAW,CAACM,YAAY,UAAUG,MAAM,CAAC,KAAO,UAAU,GAAGT,EAAG,iBAAiB,CAACS,MAAM,CAAC,QAAUV,EAAIsC,IAAIiF,QAAQ,SAAW,IAAI,WAAa,eAAe,CAACtH,EAAG,MAAM,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,MAAOxN,EAAIsC,IAAI4hB,UAAYlkB,EAAIsC,IAAIye,OAAQtT,WAAW,+BAA+BsP,IAAI,eAAexc,YAAY,yLAAyLD,MAAM,CACvxB,kEAAmEN,EAAIsC,IAAIiF,QAC3E,QAASvH,EAAIsC,IAAIiF,UAAYvH,EAAIgF,KAAK8yB,WACxCr3B,YAAY,CAAC,MAAQ,UAAU,CAAET,EAAIsC,IAAIiF,UAAYvH,EAAI2C,MAAMqB,UAAW/D,EAAG,MAAM,CAACM,YAAY,0EAA0E,CAACN,EAAG,OAAO,CAACM,YAAY,2BAA2B,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAIgF,KAAKnD,MAAM,OAAQ7B,EAAa,UAAEC,EAAG,IAAI,CAACM,YAAY,iDAAiDG,MAAM,CAAC,KAAOV,EAAI63B,UAAU,OAAS,UAAU,CAAC73B,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI63B,WAAW,OAAO73B,EAAImN,OAAOnN,EAAImN,KAAKlN,EAAG,MAAM,CAACM,YAAY,sBAAsBP,EAAI8M,GAAI9M,EAAe,aAAE,SAAS+3B,GAAY,OAAO93B,EAAG,SAAS,CAACqN,WAAW,CAAC,CAACzL,KAAK,aAAa0L,QAAQ,iBAAiBzC,IAAIitB,EAAWl2B,KAAKtB,YAAY,kCAAkCD,MAAM,CAC3qB,+CAAgDN,EAAIsC,IAAIye,OACxD,iEAAkE/gB,EAAIsC,IAAIiF,SAC5E7G,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQ21B,EAAWxS,UAAU,CAAsB,cAApBwS,EAAWxmB,KAAsBtR,EAAG,WAAW,CAACM,YAAY,eAAeG,MAAM,CAAC,KAAOq3B,EAAWxmB,QAAQtR,EAAG,WAAW,CAACM,YAAY,OAAOD,MAAM,CACzM,UAAWN,EAAIsC,IAAIiF,QACnB,UAAWvH,EAAIsC,IAAIye,QACrBrgB,MAAM,CAAC,KAAOq3B,EAAWxmB,QAAQtR,EAAG,OAAO,CAACM,YAAY,YAAY,CAACP,EAAIG,GAAGH,EAAIkc,GAAG6b,EAAWl2B,UAAU,MAAK,QAAQ,QACnJ,EAAkB,G,oCCnBlB,EAAS,WAAa,IAAI7B,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,QAAQ,MAAQ,aAAa,CAAClC,EAAG,MAAM,CAACM,YAAY,+CAA+CD,MAAM,CAAE,gBAAiBN,EAAI2E,KAAKqzB,4BAA6B,CAAC/3B,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,KAAK,CAACM,YAAY,uBAAuB,CAACP,EAAIG,GAAG,kBAAkBF,EAAG,aAAa,CAAC6e,MAAM,CAACtR,MAAOxN,EAAc,WAAEgS,SAAS,SAAUimB,GAAMj4B,EAAI0lB,WAAWuS,GAAKxqB,WAAW,iBAAiB,GAAGxN,EAAG,IAAI,CAACM,YAAY,8CAA8C,CAACP,EAAIG,GAAG,qMAAsMH,EAAI2E,KAA8B,0BAAE1E,EAAG,MAAM,CAACM,YAAY,uCAAuC,CAACN,EAAG,MAAM,CAACM,YAAY,wBAAwB,CAACN,EAAG,KAAK,CAACM,YAAY,uBAAuB,CAACP,EAAIG,GAAG,uBAAuBF,EAAG,aAAa,CAAC6e,MAAM,CAACtR,MAAOxN,EAAkB,eAAEgS,SAAS,SAAUimB,GAAMj4B,EAAIk4B,eAAeD,GAAKxqB,WAAW,qBAAqB,GAAGxN,EAAG,IAAI,CAACM,YAAY,8CAA8C,CAACP,EAAIG,GAAG,qFAAqFF,EAAG,WAAW,CAACS,MAAM,CAAC,IAAM,sBAAsB,CAACV,EAAIG,GAAG,cAAcH,EAAIG,GAAG,uKAAuKF,EAAG,OAAO,CAACD,EAAIG,GAAG,yBAAyBH,EAAIG,GAAG,0BAA0B,KAAKH,EAAImN,QAC5nD,EAAkB,G,wBCyCP,EAAArK,EAAA,KAAMC,OAAO,CACxB7C,KAAM,iBAAO,CACTwlB,WAAY,OAASpjB,IAAIiU,kBACzB2hB,eAAgB,OAASvzB,KAAKwzB,0BAElCxe,MAAO,CACH+L,WADG,SACQlP,GAAoBzU,KAAKO,IAAI81B,qBAAqB5hB,IAC7D0hB,eAFG,SAEY1hB,GAAoBtQ,EAAA,KAAOmyB,oBAAoB7hB,OCjDoV,I,YCOtZxT,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QClBX,EAAS,WAAa,IAAIhD,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAQC,EAAIgF,KAAc,UAAE/E,EAAG,MAAM,CAACM,YAAY,eAAeG,MAAM,CAAC,IAAMV,EAAIgF,KAAK8yB,aAAa73B,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACN,EAAG,OAAO,CAACM,YAAY,oFAAoF,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,IAAIlc,EAAIgF,KAAKnD,MAAQ,KAAKy2B,OAAO,EAAG,IAAI,UACtY,EAAkB,GCaP,SAAIv1B,OAAO,CACtBgL,SAAU,CACN/I,KADM,WAEF,OAAOjD,KAAKY,MAAMqC,SCjBuW,ICOjY,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCiJA,SAAIjC,OAAO,CACtBua,WAAY,CACRib,cAEJjrB,WAAY,CACRgX,UAAW,CACP5P,KAAM,SAAAzM,GAAE,OAAIA,EAAGuC,iBAAiB,SAAS,kBAAM,OAASlI,IAAIgiB,kBAGpEvW,SAAU,CACN/I,KADM,WAEF,OAAOjD,KAAKY,MAAMqC,MAEtBwzB,YAJM,WAIK,WACDC,EAAgB,SAAClT,GAAD,+CAAuB,8GAInCte,EAAA,KAAK8I,KAAK,GAJyB,OAMzCwV,IANyC,4CAS7C,MAAO,CACH,CACI1jB,KAAM,4BACN0P,KAAM,YACNgU,QAASkT,GAAc,kBAAM,EAAK9zB,KAAK+zB,8BAA6B,OAExE,CAAE72B,KAAM,WAAY0P,KAAM,SAAUgU,QAASkT,GAAc,kBAAM,EAAKn2B,IAAI4B,UAAUy0B,OACpF,CAAE92B,KAAM,UAAW0P,KAAM,SAAUgU,QAASkT,GAAc,kBAAM,EAAK91B,MAAMC,eAGnFi1B,UAxBM,WAyBF,OAAO91B,KAAKY,MAAMqC,gBAAgBC,EAAA,KAC5BlD,KAAKY,MAAMqC,KAAK9C,GAChB,OAGd02B,QAvCsB,WAwClB72B,KAAKO,IAAIu2B,cAAc92B,KAAK+2B,MAAM,gBAClC/2B,KAAKO,IAAIy2B,eAAeh3B,KAAK+2B,MAAM,iBACnC/2B,KAAKO,IAAI02B,eAAej3B,KAAK+2B,MAAM,WACnC/2B,KAAKO,IAAI22B,gBAAiBl3B,KAAK+2B,MAAM,iBAAyBtB,MAElE0B,cA7CsB,WA8ClBn3B,KAAKO,IAAIu2B,cAAc,MACvB92B,KAAKO,IAAIy2B,eAAe,MACxBh3B,KAAKO,IAAI62B,kBAAkBp3B,KAAK+2B,MAAM,WACtC/2B,KAAKO,IAAI22B,gBAAgB,SCpN0W,ICOvY,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAIj5B,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,2BAA2BD,MAAM,CAC/I,+BAAgCN,EAAIsC,IAAIye,OACxC,6CAA8C/gB,EAAIsC,IAAIiF,SACxD7G,MAAM,CAAC,KAAO,WAAW,CAACT,EAAG,iBAAiB,CAACS,MAAM,CAAC,UAAY,SAAS,CAACT,EAAG,SAAS,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,OAAQxN,EAAI4L,QAAQjE,KAAM8F,WAAW,kBAAkBlN,YAAY,wQAAwQG,MAAM,CAAC,KAAO,SAAS,MAAQ,qEAAuE0B,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO+2B,kBAAyBp5B,EAAI4L,QAAQV,WAAW,CAACjL,EAAG,WAAW,CAACM,YAAY,+DAA+DG,MAAM,CAAC,KAAO,YAAYT,EAAG,OAAO,CAACM,YAAY,gCAAgC,CAACP,EAAIG,GAAG,mCAAqC,KAAKF,EAAG,iBAAiB,CAACS,MAAM,CAAC,WAAa,sBAAsB,CAACT,EAAG,MAAM,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,MAAOxN,EAAI4L,QAAY,KAAE6B,WAAW,iBAAiBlN,YAAY,gDAAgDE,YAAY,CAAC,YAAY,SAAS,CAACR,EAAG,QAAQ,CAAC8c,IAAI,eAAexc,YAAY,0LAA0LG,MAAM,CAAC,KAAO,OAAO,aAAe,MAAM,WAAa,QAAQ,aAAa,aAAa,YAAc,iBAAiBiN,SAAS,CAAC,MAAQ3N,EAAI4L,QAAQtH,OAAOlC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAI4L,QAAQT,OAAO9I,EAAOwI,OAAO2C,QAAQ,QAAU,CAAC,SAASnL,GAAQ,OAAIA,EAAOgP,KAAK1I,QAAQ,QAAQ3I,EAAIq5B,GAAGh3B,EAAOi3B,QAAQ,MAAM,GAAGj3B,EAAOyI,IAAI,CAAC,MAAM,WAAoB,KAAc9K,EAAI4L,QAAQ1D,QAAQ,SAAS7F,GAAQ,OAAIA,EAAOgP,KAAK1I,QAAQ,QAAQ3I,EAAIq5B,GAAGh3B,EAAOi3B,QAAQ,QAAQ,GAAGj3B,EAAOyI,IAAI,SAAkB,KAAc9K,EAAI4L,QAAQkC,UAAU,SAASzL,GAAQ,OAAIA,EAAOgP,KAAK1I,QAAQ,QAAQ3I,EAAIq5B,GAAGh3B,EAAOi3B,QAAQ,KAAK,GAAGj3B,EAAOyI,IAAI,CAAC,KAAK,YAAqB,KAAc9K,EAAI4L,QAAQ2tB,wBAAwB,SAASl3B,GAAQ,OAAIA,EAAOgP,KAAK1I,QAAQ,QAAQ3I,EAAIq5B,GAAGh3B,EAAOi3B,QAAQ,OAAO,GAAGj3B,EAAOyI,IAAI,CAAC,OAAO,cAAuB,KAAc9K,EAAI4L,QAAQ4tB,4BAA4Bv5B,EAAG,MAAM,CAACM,YAAY,wEAAwE,CAACN,EAAG,WAAW,CAACM,YAAY,4CAA4CG,MAAM,CAAC,KAAO,aAAa,OAAOT,EAAG,yBAAyB,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,MAAOxN,EAAI4L,QAAQjE,MAAQ3H,EAAI4L,QAAQtH,MAAMiE,OAAS,EAAGkF,WAAW,gDAAgD,IAChlF,EAAkB,GCJlB,EAAS,WAAa,IAAIzN,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,2FAA2FG,MAAM,CAAC,KAAO,SAAS,aAAa,iBAAiB,YAAY,WAAW,CAACT,EAAG,KAAK,CAACD,EAAI8M,GAAI9M,EAAI4L,QAAe,SAAE,SAASnD,GAAQ,OAAOxI,EAAG,KAAK,CAAC6K,IAAIrC,EAAOvG,IAAI,CAACjC,EAAG,SAAS,CAACqN,WAAW,CAAC,CAACzL,KAAK,cAAc0L,QAAQ,kBAAkBhN,YAAY,8CAA8CD,MAAM,CACxe,cAAeN,EAAI4L,QAAQ/C,oBAAsBJ,GACnD/H,MAAM,CAAC,KAAO,SAAS,MAAQV,EAAIy5B,kBAAkBhxB,IAASrG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAI4L,QAAQ9C,WAAWL,IAAS,WAAa,SAASpG,GAAQ,OAAOrC,EAAI4L,QAAQ8tB,gBAAgBjxB,MAAW,CAACxI,EAAG,MAAM,CAACM,YAAY,+MAA+M,CAACN,EAAG,WAAW,CAACM,YAAY,wBAAwBG,MAAM,CAAC,KAAO,WAAY+H,EAAgB,UAAExI,EAAG,MAAM,CAACM,YAAY,oDAAoDC,MAAM,CAAGwb,gBAAkB,QAAWvT,EAAgB,UAAI,QAAWzI,EAAImN,MAAM,GAAGlN,EAAG,MAAM,CAACM,YAAY,6CAA6C,CAACN,EAAG,MAAM,CAACM,YAAY,qCAAqC,CAACN,EAAG,OAAO,CAACM,YAAY,uDAAuD,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGzT,EAAO3C,OAAO,OAAQ2C,EAAOM,SAAU9I,EAAG,WAAW,CAACM,YAAY,wBAAwBD,MAAM,CACn+B,iBAAkBmI,EAAO6T,QACzB,iBAAkB7T,EAAO6T,SAC3B5b,MAAM,CAAC,KAAO+H,EAAO6T,QAAU,YAAc,UAAUtc,EAAImN,MAAM,GAAGlN,EAAG,OAAO,CAACM,YAAY,yBAAyB,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGzT,EAAO0T,YAAc1T,EAAO0T,YAAYC,cAAgB,KAAK,gBAAgBpc,EAAI4L,QAAiB,UAAE3L,EAAG,KAAK,CAACM,YAAY,0DAA0D,CAACN,EAAG,gBAAgB,GAAmC,IAA/BD,EAAI4L,QAAQzD,QAAQI,OAActI,EAAG,KAAK,CAACM,YAAY,yCAAyC,CAACN,EAAG,OAAO,CAACD,EAAIG,GAAG,0BAA0BH,EAAImN,MAAM,MACngB,EAAkB,GCNlB,G,UAAS,WAAa,IAAInN,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,4BAA4BG,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,eAAe,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,QAAQT,EAAG,SAAS,CAACS,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,QAAQT,EAAG,SAAS,CAACS,MAAM,CAAC,GAAK,MAAM,GAAK,KAAK,EAAI,YAC/V,EAAkB,GCgBP,SAAIqC,OAAO,ICjB4W,ICQlY,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QC4DA,SAAIA,OAAO,CACtBua,WAAY,CACRqc,eAEJrsB,WAAY,CACRssB,WAAY,CACRllB,KAAM,SAAAzM,GAAE,OAAIA,EAAGuC,iBAAiB,SAAS,kBAAM,OAASoB,QAAQ1D,aAGxE0wB,QATsB,WAUlB72B,KAAK6J,QAAQiuB,0BAA0B93B,KAAKy1B,MAEhDsC,UAZsB,WAalB/3B,KAAK6J,QAAQiuB,0BAA0B,OAE3C5rB,QAAS,CACLwrB,kBADK,SACahxB,GACd,IAAM3C,EAAQ2C,EAAO3C,MAErB,IAAK2C,EAAOM,SACR,OAAOjD,EAEX,IAAMnC,EAAS8E,EAAO6T,QAAU,UAAY,cAE5C,gBAAUxW,EAAV,aAAoBnC,EAApB,SCvGqY,ICO7Y,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCiDA,SAAIZ,OAAO,CACtBua,WAAY,CACRyc,0BAEJnB,QAJsB,WAKlB72B,KAAK6J,QAAQouB,eAAej4B,KAAK+2B,MAAM,kBAE3CI,cAPsB,WAQlBn3B,KAAK6J,QAAQouB,eAAe,SC3EsW,KCOtY,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QCkDTC,GAAyC,CAC3C,EAAK,aACL,EAAK,QAGM,UAAIl3B,OAAO,CACtBua,WAAY,CACR4c,mBACAC,oBAEJj6B,KAAM,iBAAa,CAAE4G,iBAAkB,OACvC8xB,QANsB,WAMf,WACH72B,KAAKO,IAAI02B,eAAej3B,KAAK+2B,MAAM,gBAEnC1xB,SAASoD,iBAAiB,UAAWzI,KAAK+E,iBAAmB,SAAC2D,GACrD,EAAKC,cAAcD,IAGxBA,EAAME,oBAGduuB,cAhBsB,WAiBlBn3B,KAAKO,IAAI62B,kBAAkBp3B,KAAK+2B,MAAM,iBAE1CgB,UAnBsB,WAoBb/3B,KAAK+E,mBAGVM,SAASwD,oBAAoB,UAAW7I,KAAK+E,kBAC7C/E,KAAK+E,iBAAmB,OAE5BmH,QAAS,CACLvD,cADK,YACuC,IAA5BG,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,IACdgM,EAA4BmjB,GAAenvB,EAAIC,eAErD,SAAK+L,GAAS9L,EAAA,KAAIC,WAAWJ,MAGzB9I,KAAK0C,QAAQmB,aAAa/D,OAASiV,GACnC/U,KAAK0C,QAAQC,KAAK,CAAE7C,KAAMiV,KAEvB,OC7GiX,MCOhY,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,kCClBX,GAAS,WAAa,IAAI9W,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,sBAAsB,CAACM,YAAY,iIAAiIG,MAAM,CAAC,IAAM,QAAQ,WAAa,kBAAkBV,EAAI8M,GAAI9M,EAAIsC,IAAa,WAAE,SAASsf,GAAU,OAAO3hB,EAAG,cAAc,CAAC6K,IAAI8W,EAAS1f,GAAG3B,YAAY,iBAAiBG,MAAM,CAAC,GAAKkhB,EAAS1f,GAAG,QAAU0f,EAAS/J,QAAQ,QAAU+J,EAASzf,cAAa,IAC9f,GAAkB,GCDlB,GAAS,WAAa,IAAInC,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,4FAA4FD,MAAM,CAChN,0BAA2BN,EAAImC,QAAQiC,MACvC,sCAAuCpE,EAAImC,QAAQiC,QACpD,CAACnE,EAAG,MAAM,CAACM,YAAY,oDAAoDD,MAAM,CAAE,mCAAoCN,EAAImC,QAAQiC,QAAS,CAAEpE,EAAImC,QAAe,QAAElC,EAAG,gBAAgB,CAACM,YAAY,iBAAiBP,EAAImN,KAAKlN,EAAG,kBAAkB,CAACS,MAAM,CAAC,QAAUV,EAAI6X,YAAY,GAAI7X,EAAImC,QAAc,OAAElC,EAAG,SAAS,CAACM,YAAY,gFAAgFD,MAAM,CAAE,wBAAyBN,EAAImC,QAAQiC,OAAQ1D,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQpC,EAAIo6B,cAAc,CAACn6B,EAAG,MAAM,CAACM,YAAY,gEAAgEN,EAAG,OAAO,CAACM,YAAY,QAAQ,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAImC,QAAQ4b,OAAOlQ,WAAW7N,EAAImN,QAC1qB,GAAkB,G,0BCgChBktB,GAAmB,IAEV,UAAIt3B,OAAO,CACtBua,WAAY,CACRuF,iBAAA,KACAF,mBAAA,MAEJjR,MAAO,CACHxP,GAAI,CACAmP,KAAMQ,OACNoF,UAAU,GAEdY,QAAS,CACLxG,KAAMQ,OACNoF,UAAU,GAEd9U,QAAS,CACLkP,KAAMzQ,OACNqW,UAAU,IAGlB2hB,QAnBsB,WAmBf,WACE72B,KAAKI,QAAQic,WAGlB/L,YAAW,kBAAM,EAAK/P,IAAIqf,aAAa,EAAKzf,MAAKH,KAAKI,QAAQmjB,UAAY+U,KAE9EpsB,QAAS,CACLmsB,YADK,WACM,OACH,UAACr4B,KAAKI,QAAQ4b,cAAd,aAAC,EAAqBwH,UAG1BxjB,KAAKI,QAAQ4b,OAAOwH,cCpEsW,MCOlY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCQA,UAAIxiB,OAAO,CACtBua,WAAY,CACRgd,kBC5B+X,MCOnY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIt6B,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,qEAAqE,CAACN,EAAG,WAAW,CAACM,YAAY,iBAAiBG,MAAM,CAAC,KAAO,2BAA2BT,EAAG,KAAK,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAIu6B,YAAYz0B,OAAO,OAAQ9F,EAAIu6B,YAAoB,SAAEt6B,EAAG,IAAI,CAACM,YAAY,0CAA0C,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAIu6B,YAAYx0B,UAAU,OAAO/F,EAAImN,KAAKlN,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACP,EAAIG,GAAG,wCAAwCF,EAAG,MAAM,CAACM,YAAY,iBAAiBP,EAAI8M,GAAI9M,EAAW,SAAE,SAAS+d,EAAO7O,GAAG,OAAOjP,EAAG,aAAa,CAAC6K,IAAIoE,EAAE3O,YAAY,gGAAgG6B,GAAG,CAAC,MAAQ2b,EAAOvX,SAAS,CAACxG,EAAIG,GAAG,IAAIH,EAAIkc,GAAG6B,EAAOzX,OAAO,UAAS,IAAI,IAC93B,GAAkB,G,sCC+BP,UAAIvD,OAAO,CACtBgL,SAAU,CACNwsB,YADM,WAEF,OAAOx4B,KAAK4C,KAAK41B,aAErBl0B,QAJM,WAIC,WACGA,EAA+B,CACjC,CACIC,MAAO,kBACPC,SAAU,EACVC,OAAQ,kBAAMqN,SAASob,WAE3B,CACI3oB,MAAO,qBACPC,SAAU,EACVC,OAAQ,kBAAM,EAAKlE,IAAI4B,UAAUshB,GAAA,KAAgB,CAAEphB,MAAO,EAAKm2B,YAAYn2B,WA2BnF,OAvBIrC,KAAKY,MAAMO,UACXmD,EAAQ3B,KAAK,CACT4B,MAAO,SACPC,SAAU,EACVC,OAAQ,WAAF,8CAAE,8GACE,EAAK7D,MAAMC,SADb,OAGJ,EAAK+B,KAAKsB,mBAHN,2CAAF,qDAAE,KAQhBI,EAAQ3B,KAAR,MAAA2B,EAAO,gBACAtE,KAAKw4B,YAAYl0B,QAAQuD,KACxB,SAAAmU,GAAM,uBACFxX,SAAU,GACPwX,QAKf1X,EAAQwjB,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAExjB,SAAYujB,EAAEvjB,YAEhCF,MC1EmX,MCOlY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCiBA,UAAItD,OAAO,CACtBua,WAAY,CACRkd,YAAA,KACAC,aACAC,aAAA,KACAC,cAAA,KACAC,gBACAC,gBAEJ36B,KAAM,iBAAO,CAAE0E,OAAO,IACtBuqB,QAVsB,WAUf,WACHzpB,EAAA,KAASmH,KAAK,qBAAqB,kBAAM,EAAKjI,OAAQ,MAE1Dg0B,QAbsB,WAclBroB,EAAA,KAAMuqB,SAAS/4B,KAAK+2B,MAAM,mBCjD0U,MCQxW,I,UAAY,eACd,GACA,EACAj2B,GACA,EACA,KACA,KACA,OAIa,M,qBCnBX,I,UAAS,WAAa,IAAI7C,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,oBAAoB,CAACS,MAAM,CAAC,MAAQ,aAAa,eAAeV,EAAIwC,OAAOgH,iBAC1K,GAAkB,G,aCQP,UAAIzG,OAAO,CACtBua,WAAY,CACRyd,qBAAA,MAEJ5L,QAJsB,WAKbptB,KAAKS,OAAOyB,OAGjBlC,KAAK0C,QAAQoB,QAAQ,CAAEhE,KAAM,YCjBsX,MCOvZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI7B,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,aAC/F,GAAkB,GCDlB,GAAS,WAAa,IAAID,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,qEAAqE,CAACN,EAAG,WAAW,CAACM,YAAY,iBAAiBG,MAAM,CAAC,KAAO,2BAA2BT,EAAG,KAAK,CAACM,YAAY,0BAA0B,CAACP,EAAIG,GAAG,sBAAsBF,EAAG,WAAW,CAACM,YAAY,OAAOG,MAAM,CAAC,MAAQ,SAAS,CAACV,EAAIG,GAAG,gBAAgB,IAC5a,GAAkB,GCcP,UAAI4C,OAAO,CACtB61B,QADsB,WAElB72B,KAAKO,IAAI04B,cAEblB,UAJsB,WAKlB/3B,KAAKO,IAAI24B,gBCpBkX,MCO/X,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCTA,UAAIl4B,OAAO,CACtBua,WAAY,CACR4d,eCXiZ,MCOrZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIl7B,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAASC,EAAIwC,OAAO0rB,OAAmBluB,EAAIqsB,cAAc9jB,OAAS,EAAGtI,EAAG,MAAM,CAACA,EAAG,MAAM,CAACM,YAAY,qCAAqC,CAACN,EAAG,iBAAiB,CAACD,EAAIG,GAAG,iBAAiBF,EAAG,WAAW,CAACS,MAAM,CAAC,UAAY,YAAY,QAAUV,EAAIm7B,gBAAgBve,YAAY5c,EAAI6c,GAAG,CAAC,CAAC/R,IAAI,UAAUgS,GAAG,SAASC,GAC5Y,IAAIqe,EAAoBre,EAAIE,OAC5B,MAAO,CAAChd,EAAG,SAAS,CAACM,YAAY,wBAAwB6B,GAAG,CAAC,MAAQg5B,IAAoB,CAACn7B,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAIq7B,gBAAgBp7B,EAAG,WAAW,CAACM,YAAY,UAAUG,MAAM,CAAC,KAAO,oBAAoB,WAAW,GAAGT,EAAG,aAAa,CAAC8c,IAAI,cAAcrc,MAAM,CAAC,OAASV,EAAIs7B,wBAAyBt7B,EAAIqsB,cAAc9jB,OAASvI,EAAIs7B,qBAAqB/yB,OAAQtI,EAAG,IAAI,CAACM,YAAY,qEAAqE,CAACP,EAAIG,GAAG,iCAAiCF,EAAG,WAAW,CAACS,MAAM,CAAC,MAAQ,eAAe,CAACV,EAAIG,GAAG,uBAAuBH,EAAIG,GAAG,OAAO,GAAGH,EAAImN,MAAM,GAAKnN,EAAIwC,OAAOyB,MAA8zBhE,EAAG,MAAM,CAACM,YAAY,8DAA8D,CAACN,EAAG,iBAAiB,CAACD,EAAIG,GAAG,8BAA8BH,EAAIu7B,GAAG,GAAGt7B,EAAG,IAAI,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,gGAAgGF,EAAG,aAAa,CAACM,YAAY,qIAAqI6B,GAAG,CAAC,MAAQpC,EAAIiN,cAAc,CAACjN,EAAIG,GAAG,kDAAkDF,EAAG,aAAa,CAACM,YAAY,gIAAgI6B,GAAG,CAAC,MAAQpC,EAAIw7B,iBAAiB,CAACx7B,EAAIG,GAAG,4CAA4C,GAA9lDF,EAAG,MAAM,CAACM,YAAY,iGAAiG,CAACN,EAAG,iBAAiB,CAACD,EAAIG,GAAG,iBAAiBF,EAAG,MAAM,CAACM,YAAY,sCAAsC,CAACN,EAAG,WAAW,CAACM,YAAY,2BAA2BG,MAAM,CAAC,KAAO,gBAAgB,GAAGT,EAAG,IAAI,CAACM,YAAY,mBAAmB,CAACP,EAAIG,GAAG,qDAAqDF,EAAG,WAAW,CAACS,MAAM,CAAC,MAAQ,eAAe,CAACV,EAAIG,GAAG,uBAAuBH,EAAIG,GAAG,2CAA2CF,EAAG,OAAO,CAACM,YAAY,+BAA+B,CAACP,EAAIG,GAAG,qCAAuCF,EAAG,WAAW,CAACM,YAAY,iBAAiB6B,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO+2B,kBAAyBp5B,EAAI4L,QAAQV,WAAW,CAAClL,EAAIG,GAAG,0BAA0BH,EAAIG,GAAG,OAAO,IAAI,GAFp0CF,EAAG,QAGpH,GAAkB,CAAC,WAAa,IAAID,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,oHAAoHF,EAAG,OAAO,CAACM,YAAY,eAAe,CAACP,EAAIG,GAAG,iBAAiBH,EAAIG,GAAG,+D,uECHlW,GAAS,WAAa,IAAIH,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,QAAQ,MAAQ,cAAc,CAAClC,EAAG,IAAI,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,wHAAwHF,EAAG,IAAI,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,iTAAiTF,EAAG,aAAa,CAACM,YAAY,gIAAgI6B,GAAG,CAAC,MAAQpC,EAAIy7B,8BAA8B,CAACz7B,EAAIG,GAAG,gEAAgE,IAC3+B,GAAkB,G,0BC6BP,GAAA2C,EAAA,KAAMC,OAAO,CACxBkL,QAAS,CACCwtB,4BADD,WAC4B,wKACvB,EAAKj5B,OAAOyN,aAAa,GAAuBtE,GAAA,KAAY2D,QADrC,OAG7B,EAAK5M,QAHwB,iDChCuX,MCO5Z,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,Q7DgFTg5B,GAAa,GACbC,GAAW,GAEjB,SAAW/D,GACP,8BACA,sBAFJ,CAAWA,MAAO,KAeH,cAAI70B,OAAO,CACtBua,WAAY,CACRse,cAAA,MAEJ17B,KAAM,iBAAa,CACf27B,QAAS96B,GAAA,KAAQC,IAAI,4BAA6B42B,EAAQkE,YAC1DC,YAAa,KACbC,eAAgB,OAEpBjuB,SAAU,CACNotB,eADM,WACQ,WACJ30B,EAAS,SAAC,GAA+B,IAA7Bq1B,EAA6B,EAA7BA,QACd,EAAKA,QAAUA,EAEf96B,GAAA,KAAQI,IAAI,4BAA6B06B,IAG7C,MAAO,CACH,CAAEA,QAASjE,EAAQkE,WAAYjuB,KAAM,oBAAqB0D,KAAM,MAAO/K,UACvE,CAAEq1B,QAASjE,EAAQqE,OAAQpuB,KAAM,eAAgB0D,KAAM,aAAc/K,YAG7E60B,YAbM,WAaK,WACP,OAAOt5B,KAAKo5B,eAAe15B,MAAK,SAAAy6B,GAAM,OAAIA,EAAOL,UAAY,EAAKA,WAAUhuB,MAEhFwe,cAhBM,WAiBF,IAAMA,EAAgBtqB,KAAKS,OAAO2H,OAAOnC,QAAO,SAAAmB,GAAK,OAAIA,EAAMsT,WAQ/D,OANA4P,EAAcxC,MAAK,SAACC,EAAUC,GAAX,OAAwBD,EAAEyB,UAAU7Y,UAAYqX,EAAEwB,UAAU7Y,aAE3E3Q,KAAK85B,UAAYjE,EAAQkE,YACzBzP,EAAczF,UAGXyF,GAEXiP,qBA3BM,WA4BF,IAAMS,EAAch6B,KAAKg6B,aAAeL,GAClCS,EAAclkB,KAAKkR,IAAIuS,GAAcA,GAAaK,EAAcJ,GAAWI,GAEjF,OAAOh6B,KAAKsqB,cAAcle,MAAM,EAAGguB,KAG3CvD,QA3CsB,WA2Cf,WACH72B,KAAKg6B,YAAch6B,KAAKq6B,qBAExBxoB,OAAOpJ,iBAAiB,SAAUzI,KAAKi6B,eAAiB,kBAAM,EAAKD,YAAc,EAAKK,uBAElFr6B,KAAKS,OAAO0rB,OACZnsB,KAAK4C,KAAK+zB,+BAEVhzB,EAAA,KAASmH,KAAK,gBAAgB,kBAAM,EAAKlI,KAAK+zB,mCAGtDoB,UAtDsB,WAuDb/3B,KAAKi6B,gBAGVpoB,OAAOhJ,oBAAoB,SAAU7I,KAAKi6B,iBAE9C/tB,QAAS,CACLhB,YADK,WAEDlL,KAAKO,IAAI4B,UAAUm4B,GAAA,OAEvBb,eAJK,WAKDz5B,KAAKO,IAAI4B,UAAUo4B,KAEvBF,mBAPK,WAOa,MACRG,EAAW,QAAI,EAAAx6B,KAAK+2B,MAAM,sBAAf,aAAI,EAAmCtB,IAAI9T,cAAc,SACpE8Y,EAAY,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAaE,kBAElC,OAAOF,GAAeC,EAChBvkB,KAAKykB,MAAMH,EAAYj1B,YAAck1B,EAAal1B,aAClD,S8D7LmY,MCOjZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAItH,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,4DAA4D,CAAGP,EAAI2C,MAAM0C,aAAiqDpF,EAAG,IAAI,CAACM,YAAY,eAAe,CAACP,EAAIG,GAAG,+BAA+BF,EAAG,WAAW,CAACM,YAAY,YAAYG,MAAM,CAAC,MAAQ,SAAS,CAACV,EAAIG,GAAG,eAAeH,EAAIG,GAAG,QAAQF,EAAG,SAAS,CAACM,YAAY,6EAA6EG,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAI2C,MAAMC,YAAY,CAAC5C,EAAIG,GAAG,cAAcH,EAAIG,GAAG,aAAa,GAApiE,CAACF,EAAG,WAAW,CAACM,YAAY,YAAYG,MAAM,CAAC,KAAO,kBAAkBT,EAAG,KAAK,CAACM,YAAY,+BAA+B,CAACP,EAAIG,GAAG,oBAAoBF,EAAG,MAAM,CAACM,YAAY,4CAA4C,CAACN,EAAG,IAAI,CAACM,YAAY,0DAA0D,CAACP,EAAIG,GAAG,iEAAkEH,EAAoB,iBAAEC,EAAG,gBAAgB,CAACS,MAAM,CAAC,YAAYV,EAAI28B,kBAAkBv6B,GAAG,CAAC,MAAQpC,EAAI48B,uBAAuB,OAAS58B,EAAI68B,uBAAyC,OAAjB78B,EAAIsD,SAAmBrD,EAAG,aAAa,CAACS,MAAM,CAAC,YAAYV,EAAIsD,UAAUlB,GAAG,CAAC,eAAiB,SAASC,GAAQrC,EAAIsD,SAAWjB,GAAQ,OAASrC,EAAI88B,wBAAwB78B,EAAG,MAAM,CAACM,YAAY,8BAA8B,CAACN,EAAG,IAAI,CAACM,YAAY,yCAAyC,CAACP,EAAIG,GAAG,6CAA6CF,EAAG,aAAa,CAACM,YAAY,0LAA0LG,MAAM,CAAC,KAAO,gBAAgB0B,GAAG,CAAC,MAAQpC,EAAI+8B,iBAAiB,CAAC/8B,EAAIG,GAAG,iBAAiBF,EAAG,aAAa,CAACM,YAAY,uKAAuKG,MAAM,CAAC,KAAO,UAAU,aAAa,gBAAgB0B,GAAG,CAAC,MAAQpC,EAAIg9B,eAAe,CAACh9B,EAAIG,GAAG,2BAA2BF,EAAG,WAAW,CAACM,YAAY,2BAA2B6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,IAAIC,sBAAsB,0BAA0B,CAACvC,EAAIG,GAAG,mCAAmC,IAAI,KAAyZ,IACjvE,GAAkB,G,6CCDlB,GAAS,WAAa,IAAIH,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,oEAAoE,CAACN,EAAG,IAAI,CAACM,YAAY,iBAAiB,CAACP,EAAIG,GAAG,6BAA6BF,EAAG,IAAI,CAACM,YAAY,8BAA8BG,MAAM,CAAC,KAAOV,EAAIsD,SAAS,OAAS,WAAW,CAACtD,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAIsD,eAAerD,EAAG,MAAM,CAACM,YAAY,gFAAgF,CAACN,EAAG,WAAW,CAACM,YAAY,OAAO6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIoR,MAAM,aAAa,CAACpR,EAAIG,GAAG,iBAAiBF,EAAG,aAAa,CAACM,YAAY,8JAA8J6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIoR,MAAM,YAAY,CAACpR,EAAIG,GAAG,qBAAqB,MACn3B,GAAkB,GC6BP,UAAI4C,OAAO,CACtB2O,MAAO,CACHpO,SAAU,CACN+N,KAAMQ,OACNoF,UAAU,MClCkX,MCOpY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIjX,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACM,YAAY,6BAA6B6B,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOsI,iBAAwB3K,EAAIoR,MAAM,SAAUpR,EAAIuD,yBAAyB,CAACtD,EAAG,QAAQ,CAAC8c,IAAI,kBAAkBxc,YAAY,uHAAuHG,MAAM,CAAC,YAAc,iBAAiBiN,SAAS,CAAC,MAAQ3N,EAAIsD,UAAUlB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIoR,MAAM,iBAAkB/O,EAAOwI,OAAO2C,WAAYxN,EAAwB,qBAAEC,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACM,YAAY,UAAUG,MAAM,CAAC,IAAM,0BAA0B,CAACV,EAAIG,GAAG,2BAA2BF,EAAG,SAAS,CAACqN,WAAW,CAAC,CAACzL,KAAK,QAAQ0L,QAAQ,UAAUC,MAAOxN,EAAwB,qBAAEyN,WAAW,yBAAyBsP,IAAI,+BAA+Bxc,YAAY,0JAA0JG,MAAM,CAAC,GAAK,yBAAyB0B,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI46B,EAAgBrsB,MAAM3E,UAAUjE,OAAOqL,KAAKhR,EAAOwI,OAAO1I,SAAQ,SAAS0T,GAAG,OAAOA,EAAEqnB,YAAWtzB,KAAI,SAASiM,GAAG,IAAIsnB,EAAM,WAAYtnB,EAAIA,EAAEunB,OAASvnB,EAAErI,MAAM,OAAO2vB,KAAOn9B,EAAIuD,qBAAqBlB,EAAOwI,OAAOwyB,SAAWJ,EAAgBA,EAAc,MAAMj9B,EAAI8M,GAAI9M,EAAyB,uBAAE,SAASs9B,GAAQ,OAAOr9B,EAAG,SAAS,CAAC6K,IAAIwyB,EAAO3vB,SAAS,CAAC,MAAQ2vB,IAAS,CAACt9B,EAAIG,GAAG,iBAAiBH,EAAIkc,GAAGlc,EAAIu9B,0BAA0BD,IAAS,UAAS,GAAGr9B,EAAG,IAAI,CAACM,YAAY,8CAA8C,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAIw9B,iCAAiC,KAAKv9B,EAAG,IAAI,CAACM,YAAY,8CAA8CG,MAAM,CAAC,KAAOV,EAAIy9B,wBAAwB,OAAS,WAAW,CAACz9B,EAAIG,GAAG,oBAAoBF,EAAG,MAAM,CAACM,YAAY,UAAUP,EAAImN,KAAKlN,EAAG,aAAa,CAACM,YAAY,gKAAgKG,MAAM,CAAC,OAAS,GAAG,KAAO,iBAAiB,CAACV,EAAIG,GAAG,yBAA2BH,EAAIuD,qBAAgNvD,EAAImN,KAA9LlN,EAAG,WAAW,CAACM,YAAY,0CAA0C6B,GAAG,CAAC,MAAQpC,EAAI09B,4BAA4B,CAAC19B,EAAIG,GAAG,kEAA2E,IACn1E,GAAkB,G,sCCuEP,UAAI4C,OAAO,CACtB2O,MAAO,CACHpO,SAAU,CACN+N,KAAMQ,OACNoF,UAAU,IAGlB/W,KAAM,iBAAa,CACfqD,qBAAsB,OAE1BwK,SAAU,CACN4vB,sBADM,WAEF,OAAO/8B,OAAOsL,OAAO,UAEzBqxB,0BAJM,WAImB,MACrB,8BACK,QAAqB3oB,OAAS,mCADnC,kBAEK,QAAqBC,OAAS,qCAFnC,GAKJ+oB,iCAVM,WAU0B,MAC5B,8BACK,QAAqBhpB,OAClB,8FAFR,kBAGK,QAAqBC,OAClB,iGAJR,GAOJgpB,yBAlBM,WAkBkB,MACpB,8BACK,QAAqBjpB,OAAS,mDADnC,kBAEK,QAAqBC,OAAS,8CAFnC,GAKJ2oB,gCAxBM,WAyBF,OAAOz7B,KAAKwB,sBAAwBxB,KAAK67B,iCAAiC77B,KAAKwB,uBAEnFk6B,wBA3BM,WA4BF,OAAO17B,KAAKwB,sBAAwBxB,KAAK87B,yBAAyB97B,KAAKwB,wBAG/Eq1B,QAzCsB,WA0CjB72B,KAAK+2B,MAAM,mBAAwChxB,SAExDmG,QAAS,CACLyvB,0BADK,WACoB,WACrB37B,KAAKwB,qBAAuB,QAE5BxB,KAAK8F,WAAU,kBAAO,EAAKixB,MAAM,gCAAsDhxB,eCxHkS,MCOjY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCuEA,UAAI/E,OAAO,CACtBua,WAAY,CACRwgB,iBACAC,eAEJ79B,KAAM,iBAAa,CACfoD,SAAU,KACVq5B,sBAAkBpa,IAEtB4M,QATsB,WASf,MACHptB,KAAK46B,iBAAL,UAAwBl5B,GAAA,KAAUu6B,qBAAlC,aAAwB,EAAyB16B,UAErD2K,QAAS,CACL8uB,eADK,WAEDh7B,KAAKuB,SAAW,YAEpB05B,aAJK,WAKDj7B,KAAKY,MAAMq6B,gBAETJ,uBAPD,WAOuB,iKAClBoB,EAAgBv6B,GAAA,KAAUu6B,cAE3BA,EAHmB,0EAOd,EAAKr7B,MAAMo6B,eAAeiB,EAAc16B,SAAU06B,EAAcz6B,sBAPlD,0DASpB,EAAKjB,IAAImf,UAAT,MAToB,4DAYtBqb,qBAnBD,SAmBsBv5B,GAA2C,2JAC7D,EAAKD,SAD0D,CAAF,yEAKxD,EAAK26B,uBALmD,uBAMxD,EAAKt7B,MAAMo6B,eAAe,EAAKz5B,SAAUC,GANe,0DAQ9D,EAAKjB,IAAImf,UAAT,MAR8D,4DAWhEob,oBA9BD,WA8BoB,2JAChB,EAAKF,iBADW,iEAIfl5B,GAAA,KAAUb,SAJK,OAMrB,EAAK+5B,sBAAmBpa,EANH,8CAQnB0b,qBAtCD,WAsCqB,iKACjB,EAAKC,8BADY,iEAIM,EAAKC,8BAJX,UAIhBC,EAJgB,OAKjBA,EALiB,iDAQtB,EAAK96B,SAAW,EAAKA,SAAUuC,QAAQ,kBAAmB,sBARpC,8CAU1Bq4B,4BAhDK,WAiDD,OAAOn8B,KAAKuB,SAAUqG,SAAS,oBAEnCw0B,4BAnDK,WAoDD,OAAOp8B,KAAKO,IAAIub,QACZ,CACI,0GAEA,0EACF7P,KAAK,MACP,CAAE4U,UAAU,QC/J0X,MCOlZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI5iB,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAQC,EAAS,MAAEC,EAAG,eAAe,CAACS,MAAM,CAAC,MAAQV,EAAImJ,SAASlJ,EAAG,aAC1J,GAAkB,G,aCYP,UAAI8C,OAAO,CACtBua,WAAY,CACR+gB,gBAAA,KACAnD,aAEJxpB,MAAO,CACH4sB,UAAW,CACPjtB,KAAMQ,OACNoF,UAAU,IAGlBlJ,SAAU,CACN5E,MADM,WACD,WACD,OAAOpH,KAAKS,OAAO2H,OAAO1I,MAAK,SAAA0H,GAAK,OAAIA,EAAMF,OAAS,EAAKq1B,cAAc,SC1BgU,MCOlZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIt+B,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,mDAAmD,CAACN,EAAG,MAAM,CAACM,YAAY,uCAAuC,CAACN,EAAG,WAAW,CAACM,YAAY,YAAYG,MAAM,CAAC,KAAOV,EAAIuE,UAAY,wBAA0B,kBAAmBvE,EAAa,UAAE,CAACC,EAAG,KAAK,CAACM,YAAY,+BAA+B,CAACP,EAAIG,GAAG,oBAAoBF,EAAG,IAAI,CAACM,YAAY,0DAA0D,CAACP,EAAIG,GAAG,qNAAqNF,EAAG,IAAI,CAACM,YAAY,0DAA0D,CAACP,EAAIG,GAAG,iHAAiHF,EAAG,MAAM,CAACM,YAAY,6BAA6B,CAAGP,EAAIuE,UAAkZvE,EAAImN,KAA3YlN,EAAG,aAAa,CAACM,YAAY,oQAAoQG,MAAM,CAAC,KAAO,gBAAgB0B,GAAG,CAAC,MAAQpC,EAAIu+B,qBAAqB,CAACv+B,EAAIG,GAAG,2BAAoCH,EAAI8M,GAAI9M,EAAW,SAAE,SAAS+d,EAAOrV,GAAO,OAAOzI,EAAG,aAAa,CAAC6K,IAAIpC,EAAMnI,YAAY,0KAA0KG,MAAM,CAAC,KAAOqd,EAAO3Y,KAAKhD,GAAG,CAAC,MAAQ,SAASC,GAAQ0b,EAAOvX,QAAUuX,EAAOvX,YAAY,CAACxG,EAAIG,GAAG,IAAIH,EAAIkc,GAAG6B,EAAOzX,OAAO,WAAU,IAAI,MAC3wD,GAAkB,G,aCkEP,UAAIvD,OAAO,CACtB7C,KAAM,iBAAa,CAAEqE,WAAW,IAChCwJ,SAAU,CACN1H,QADM,WACC,WACGm4B,EAAmB,qBACnBC,EAAkB,kEAExB,OAAO,0BAAY,CACf18B,KAAKwC,WAAa,CACd+B,MAAO,YACPE,OAAQ,kBAAM,EAAK+3B,uBAEvBx8B,KAAKwC,WAAa,CACd+B,MAAO,WACPlB,IAAK,GAAF,OAAKrD,KAAK4C,KAAKmL,UAAf,6BAA6C0uB,EAA7C,iBAAsEC,IAE7E18B,KAAKY,MAAM6B,mBAAqB,CAC5B8B,MAAOvE,KAAKwC,UAAY,qBAAuB,eAC/CiC,OAAQ,kBAAM,EAAKlE,IAAI4B,UAAUshB,GAAA,KAAgB,CAAEphB,MAAO,EAAKzB,MAAM6B,sBAEzE,CACI8B,MAAO,SACPE,OAAQ,kBAAM,EAAK7D,MAAMC,eAKzCusB,QA3BsB,WA4BdptB,KAAKY,MAAM0C,cAAgBtD,KAAKS,OAAO0rB,QACvCnsB,KAAK0C,QAAQoB,QAAQ,CAAEhE,KAAM,SAED,OAA5B4B,GAAA,KAAUu6B,eACVj8B,KAAK0C,QAAQoB,QAAQ,CAAEhE,KAAM,UAEjCE,KAAKwC,YAAcxC,KAAKsC,OAAOC,MAAMC,WAEzC0J,QAAS,CACCswB,mBADD,WACmB,yKACdj7B,EAAYG,GAAA,KAAUu6B,cAAe16B,SACrCgQ,EAAgB7P,GAAA,KAAUu6B,cAAez6B,qBAF3B,SAKhB,EAAKZ,MAAM+7B,eAAc,GALT,mBAOV,EAAK/7B,MAAMqC,YAPD,aAOV,EAAiBpC,SAPP,uBAQV,EAAKD,MAAMo6B,eAAez5B,EAAUgQ,GAR1B,4DAUhB,EAAK3Q,MAAM+7B,eAAc,GACzB,EAAKp8B,IAAImf,UAAT,MAXgB,gECxG6X,MCOzZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIzhB,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,qEAAqE,CAACN,EAAG,WAAW,CAACM,YAAY,iBAAiBG,MAAM,CAAC,KAAO,2BAA2BT,EAAG,KAAK,CAACM,YAAY,+BAA+B,CAACP,EAAIG,GAAG,2BAA2BF,EAAG,IAAI,CAACM,YAAY,kDAAkD,CAACP,EAAIG,GAAG,yGAA0GH,EAAa,UAAEC,EAAG,IAAI,CAACM,YAAY,kDAAkD,CAACP,EAAIG,GAAG,+DAA+DF,EAAG,WAAW,CAACS,MAAM,CAAC,IAAM,yDAAyD,CAACV,EAAIG,GAAG,iBAAiBH,EAAIG,GAAG,OAAO,GAAGH,EAAImN,KAAKlN,EAAG,WAAW,CAACS,MAAM,CAAC,IAAM,wCAAwC,CAACV,EAAIG,GAAG,kCAAkC,IAC96B,GAAkB,GCsBP,UAAI4C,OAAO,CACtB7C,KAAM,iBAAO,CACTy+B,UAAWC,WAAaA,UAAUC,WAAa,WAAWzT,KAAKwT,UAAUC,eCzBkV,MCO/Z,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCLFC,GAAS,CAClB,CAAEj9B,KAAM,QAASkxB,KAAM,SAAU/vB,UAAW+7B,IAC5C,CAAEl9B,KAAM,OAAQkxB,KAAM,IAAK/vB,UAAWg8B,IACtC,CAAEn9B,KAAM,eAAgBkxB,KAAM,gBAAiB/vB,UAAWi8B,IAC1D,CAAEp9B,KAAM,sBAAuBkxB,KAAM,uBAAwB/vB,UAAWk8B,IACxE,CAAEr9B,KAAM,aAAckxB,KAAM,cAAe/vB,UAAWm8B,IACtD,CACIpM,KAAM,UACN/vB,UAAW,CAAElD,OAAQ,SAAAgP,GAAC,OAAIA,EAAE,iBAC5B1O,SAAU,CACN,CAAE2yB,KAAM,IAAKqM,SAAU,CAAEv9B,KAAM,eAC/B,CACIA,KAAM,QACNkxB,KAAM,QACN/vB,UAAWq8B,GACX3tB,MAAO,SAAAoF,GAAK,MAAK,CAAEwnB,UAAWxnB,EAAM9N,OAAOC,UAIvD,CAAE8pB,KAAM,IAAK/vB,UAAWs8B,KAGtB,SAAUC,KACZ,IAAK,OAAI33B,SACL,OAAO,KAFe,MAIE,OAAIA,SAAxBjF,EAJkB,EAIlBA,MAAO8I,EAJW,EAIXA,SAEf,OAAKA,EAAS+zB,UAGT78B,EAAMO,SAGJ,KAFI,QAHA,sBAQT,SAAUu8B,GAAWC,GACvBA,EAAOC,SAAQ,WACX,IAAMC,EAAsB7+B,GAAA,KAAQ8+B,KAAK,yBAEpCD,GAGLF,EAAO75B,QAAQ+5B,MAGnBF,EAAOI,YAAW,SAACC,EAAIjZ,EAAGkZ,GACtB,IAAMC,EAAcV,KAEA,OAAhBU,GAAwBF,EAAGl+B,OAASo+B,EAKxCD,IAJIA,EAAK,CAAEn+B,KAAMo+B,O,iBC3DrB,gBAAS,GAAD,OAAI,iBAAJ,qBAA6C,CACjDr7B,MADiD,WAE7Cs7B,QAAQ3T,IACJ,uGAIR4T,WAPiD,WAQ7CD,QAAQ3T,IAAI,wCAEhB6T,OAViD,WAW7CF,QAAQ3T,IAAI,6CAEhB8T,YAbiD,WAc7CH,QAAQ3T,IAAI,gCAEhB+T,QAhBiD,WAiB7CJ,QAAQ3T,IAAI,8CAEhBrrB,QAnBiD,WAoB7Cg/B,QAAQ3T,IAAI,kEAEhBnoB,MAtBiD,SAsB3C,GACF87B,QAAQ97B,MAAM,4CAA6C,M,2BCvBvE,OAAIyc,IAAI,SAER,IAAM,GAAS,IAAI,QAAU,CACzB0f,KAAM,UACNC,KAAM,iBACN1B,YAGJW,GAAW,IAEI,U,aCTA,IACXC,OAAA,GACAxmB,MAAA,SCeJ,SAASunB,GAAgBlb,GACrB,OAAIlL,OAAOqmB,aAAenb,EAC1B3R,OAAO+sB,qBAAuB,SAACl2B,GAAD,OAAkC8a,EAAQ9a,EAAM0d,SAC9EvU,OAAOkI,QAAUyJ,EAGrB,SAASqb,KAAmB,IAChBn8B,EAAY,OAAImD,SAAhBnD,QACFo8B,EAAetB,KAEA,OAAjBsB,GAAyBp8B,EAAQmB,aAAa/D,OAASg/B,GAG3Dp8B,EAAQoB,QAAQ,CAAEhE,KAAMg/B,IAGrB,SAAeC,KAAtB,gC,gEAAO,uGACH15B,SAASC,KAAK05B,UAAUz/B,OAAO,cAE1BsS,OAAOotB,uBAHT,gCAIO/5B,EAAA,KAAK8I,KAAK,KAJjB,6BAOCuC,aAAasB,OAAOotB,+BACbptB,OAAOotB,uBARf,OAWH,UAAA55B,SAAS65B,eAAe,yBAAxB,SAA2C3/B,SAXxC,2C,yBAcA,SAAe4J,KAAtB,gC,gEAAO,2GACHhF,EAAA,KAAOg7B,OACPT,IAAgB,SAAAr8B,GAAK,OAAI8B,EAAA,KAAOM,OAAOpC,MAEjC+8B,EAAiB,eAAa,OAAIv5B,UAAUkR,OAAM,SAAA1U,GACpD8B,EAAA,KAAOM,OAAOpC,GAEd,OAASO,KAAKyB,eAAehC,MAGjC,OAAIwD,SAASw5B,OAAO,QAVjB,SAYGD,EAZH,OAcHV,IAAgB,SAAAr8B,GAAK,OAAI,OAAS9B,IAAImf,UAAUrd,MAChDw8B,KACAl7B,EAAA,KAASC,KAAK,qBAEdm7B,KAlBG,4C,yBAtCP,gBAAeltB,QAEf,OAAIyG,OAAOgnB,eAAgB,EAC3B,OAAIz5B,SAAW,IAAI,OAAJ,kBACR05B,GADQ,CAEXxhC,OAAQ,SAAAgP,GAAC,OAAIA,EAAEtD,S,8DCpBf1L,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,yBAAyBD,MAAM,CAC7I,gBAAiBN,EAAIuhC,WACrB,0FAA2FvhC,EAAIuhC,YACjG7gC,MAAM,CAAC,KAAO,SAAS,kBAAkBV,EAAI8F,OAAU,SAAW9F,EAAIkC,GAAK,SAAU,mBAAoB,SAAWlC,EAAIkC,GAAK,UAAW,CAAElC,EAAS,MAAEC,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,KAAK,CAACM,YAAY,wBAAwBG,MAAM,CAAC,GAAM,SAAWV,EAAIkC,GAAK,WAAY,CAAClC,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI8F,OAAO,OAAO7F,EAAG,MAAM,CAACM,YAAY,cAAeP,EAAImC,QAAmB,YAAElC,EAAG,SAAS,CAACM,YAAY,8CAA8CG,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,IAAI0hB,WAAWhkB,EAAIkC,OAAO,CAACjC,EAAG,WAAW,CAACM,YAAY,wBAAwBG,MAAM,CAAC,KAAO,YAAY,GAAGV,EAAImN,OAAOnN,EAAImN,KAAKlN,EAAG,MAAM,CAACM,YAAY,+BAA+BD,MAAM,CAC7rB,mBAAoBN,EAAIwhC,WACxB,QAASxhC,EAAI8F,MACb,QAAS9F,EAAIuhC,WACb,OAAQvhC,EAAIuhC,WACZ,oBAAqBvhC,EAAIuhC,YAAcvhC,EAAIwhC,YAC7C9gC,MAAM,CAAC,GAAM,SAAWV,EAAIkC,GAAK,UAAW,CAAClC,EAAIyR,GAAG,WAAYzR,EAAc,WAAEC,EAAG,MAAM,CAACM,YAAY,sBAAsBP,EAAImN,MAAM,MAC5ItK,EAAkB,GCqCP,SAAIE,OAAO,CACtB2O,MAAO,CACHxP,GAAI,CACAmP,KAAMQ,OACNoF,UAAU,GAEd9U,QAAS,CACLkP,KAAMzQ,OACNqW,UAAU,GAEdnR,MAAO,CACHuL,KAAMQ,OACND,QAAS,MAEb2vB,WAAY,CACRlwB,KAAMM,QACNC,SAAS,GAEb4vB,WAAY,CACRnwB,KAAMM,QACNC,SAAS,MCnE8W,I,YCO/X5O,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,EAAAG,E,QCXA,sBAAO,OAAID,OAAO,CAC7Bua,WAAY,CACRmkB,YAEJ/vB,MAAO,CACHxP,GAAI,CACAmP,KAAMQ,OACNoF,UAAU,GAEd9U,QAAS,CACLkP,KAAMzQ,OACNqW,UAAU,IAGlBhJ,QAAS,CACLvL,MADK,WACuB,IAAtBqB,EAAsB,wDACxBhC,KAAKO,IAAI0hB,WAAWjiB,KAAKG,GAAI6B,S,kCCvBzC,IAAIjE,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,kCAAkC,CAAEP,EAAe,YAAEC,EAAG,kBAAkB,CAACM,YAAY,0DAA0DG,MAAM,CAAC,QAAUV,EAAIkd,eAAeld,EAAImN,KAAKlN,EAAG,iBAAiB,CAACS,MAAM,CAAC,SAAW,IAAI,WAAa,gBAAgB,iBAAiB,aAAa,cAAc,eAAe,CAAEV,EAAIsC,IAAIye,QAAU/gB,EAAI2G,UAAW1G,EAAG,MAAM,CAAED,EAAIsC,IAAIye,QAAU/gB,EAAI2G,UAAW1G,EAAG,iBAAiB,CAACM,YAAY,YAAYG,MAAM,CAAC,YAAY,KAAK,CAACT,EAAG,OAAO,CAACM,YAAY,YAAY,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAI8F,UAAU7F,EAAG,OAAO,CAACM,YAAY,QAAQ,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI0hC,eAAen5B,QAAQ,SAASvI,EAAImN,MAAM,GAAGnN,EAAImN,OAAOlN,EAAG,MAAM,CAACM,YAAY,2DAA2D,CAACN,EAAG,iBAAiB,CAACS,MAAM,CAAC,iBAAiB,IAAI,iBAAiB,GAAG,UAAY,OAAO,qBAAqB,aAAa,CAAGV,EAAIsC,IAAIye,QAAW/gB,EAAI2G,UAO/gB3G,EAAImN,KAPshBlN,EAAG,MAAM,CAACM,YAAY,oBAAoBD,MAAM,CACvgC,OAAQN,EAAI8L,QAAQuQ,SACpB,0CAA2Crc,EAAI2hC,kBAChD,CAAG3hC,EAAI8L,QAAQuQ,SAIkOrc,EAAImN,KAJ5NlN,EAAG,WAAW,CAACS,MAAM,CAAC,QAAU,CACpD,CAAEmN,KAAM,uBAAwB0D,KAAM,SAAU/K,OAAQxG,EAAIiN,aAC5D,CAAEY,KAAM,oBAAqB0D,KAAM,WAAY/K,OAAQxG,EAAIyC,oBAAsBL,GAAG,CAAC,OAAS,SAASC,GAAQrC,EAAI2hC,iBAAkB,GAAM,OAAS,SAASt/B,GAAQrC,EAAI2hC,iBAAkB,IAAQ/kB,YAAY5c,EAAI6c,GAAG,CAAC,CAAC/R,IAAI,UAAUgS,GAAG,SAASC,GACtP,IAAIC,EAAoBD,EAAIE,OAChD,MAAO,CAAChd,EAAG,aAAa,CAACM,YAAY,uCAAuCE,YAAY,CAAC,eAAe,WAAW,gBAAgB,YAAYC,MAAM,CAAC,KAAO,OAAO,aAAa,qBAAqB0B,GAAG,CAAC,MAAQ4a,SAAyB,MAAK,EAAM,cAAuB/c,EAAG,iBAAiB,CAACM,YAAY,QAAQ,CAACN,EAAG,OAAO,CAACM,YAAY,YAAY,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAI8F,UAAU7F,EAAG,OAAO,CAACM,YAAY,QAAQ,CAACP,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI0hC,eAAen5B,QAAQ,UAAU,KAActI,EAAG,MAAM,CAACM,YAAY,cAAgBP,EAAI8L,QAAQuQ,SAElFrc,EAAImN,KAFwFlN,EAAG,WAAW,CAACS,MAAM,CAAC,UAAYV,EAAI2G,UAAY,WAAa,YAAY,QAAU3G,EAAI4hC,sBAAsBhlB,YAAY5c,EAAI6c,GAAG,CAAC,CAAC/R,IAAI,UAAUgS,GAAG,SAASC,GAClqB,IAAI8kB,EAA0B9kB,EAAIE,OACtD,MAAO,CAAChd,EAAG,SAAS,CAACM,YAAY,6BAA6B6B,GAAG,CAAC,MAAQy/B,IAA0B,CAAC5hC,EAAG,OAAO,CAACM,YAAY,wDAAwD,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAI8hC,sBAAsB7hC,EAAG,OAAO,CAACM,YAAY,kDAAkD,CAACP,EAAIG,GAAGH,EAAIkc,GAAGlc,EAAI+hC,4BAA4B9hC,EAAG,WAAW,CAACM,YAAY,UAAUG,MAAM,CAAC,KAAO,oBAAoB,OAAO,MAAK,EAAM,cAAuBT,EAAG,MAAM,CAACM,YAAY,uCAAuCD,MAAM,CACxf,2BAA4BN,EAAI2G,UAChC,qBAAsB3G,EAAI2G,YAC3B,CAAC1G,EAAG,iBAAiB,CAACS,MAAM,CAAC,SAAW,IAAI,UAAY,SAAS,CAACT,EAAG,aAAa,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,OAAQxN,EAAI2G,UAAW8G,WAAW,eAAesP,IAAI,iBAAiBxc,YAAY,0LAA0LE,YAAY,CAAC,QAAU,KAAKC,MAAM,CAAC,KAAO,SAAS,aAAa,UAAU,aAAa,oBAAoB,MAAS,uBAA2BV,EAAIgiC,oBAAsB,eAAgB5/B,GAAG,CAAC,MAAQpC,EAAIiiC,gBAAgB,GAAGhiC,EAAG,iBAAiB,CAACS,MAAM,CAAC,SAAW,IAAI,WAAa,sBAAsB,CAACT,EAAG,QAAQ,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,MAAOxN,EAAa,UAAEyN,WAAW,aAAa,CAAC5L,KAAK,QAAQ0L,QAAQ,UAAUC,MAAOxN,EAAgB,aAAEyN,WAAW,iBAAiBsP,IAAI,eAAexc,YAAY,kQAAkQG,MAAM,CAAC,YAAe,aAAeV,EAAIgiC,oBAAsB,iBAAkB,aAAa,qBAAqBr0B,SAAS,CAAC,MAAS3N,EAAgB,cAAGoC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOgP,KAAK1I,QAAQ,QAAQ3I,EAAIq5B,GAAGh3B,EAAOi3B,QAAQ,MAAM,GAAGj3B,EAAOyI,IAAI,CAAC,MAAM,WAAoB,KAAc9K,EAAIkiC,YAAY7/B,IAAS,MAAQ,SAASA,GAAWA,EAAOwI,OAAO+C,YAAqB5N,EAAImiC,aAAa9/B,EAAOwI,OAAO2C,cAAa,IAAI,GAAIxN,EAAI0hC,eAAen5B,OAAS,EAAGtI,EAAG,aAAa,CAAC6K,IAAI,SAASpK,MAAM,CAAC,oBAAoB,GAAG,OAASV,EAAI0hC,kBAAkBzhC,EAAG,MAAM,CAACM,YAAY,4EAA4E,CAACN,EAAG,WAAW,CAACM,YAAY,+BAA+BG,MAAM,CAAC,KAAO,kBAAkBT,EAAG,OAAO,CAACM,YAAY,WAAW,CAACP,EAAIG,GAAG,8CAA8C,GAAIH,EAAa,UAAEC,EAAG,SAAS,CAACM,YAAY,0LAA0LG,MAAM,CAAC,KAAO,SAAS,MAAQ,SAAS,aAAa,UAAU0B,GAAG,CAAC,MAAQpC,EAAIoiC,UAAU,CAACniC,EAAG,WAAW,CAACM,YAAY,UAAUG,MAAM,CAAC,KAAO,kBAAkB,GAAGV,EAAImN,MAAM,IAC/2EtK,EAAkB,G,sLCXhB,SAAUw/B,EAAsBrP,GAClC,IAAM5tB,EAAMxE,OAAOuf,QAAQ6S,GAAYlT,QACnC,SAACwiB,EAAD,GAA6B,0BAArBC,EAAqB,KAAV/0B,EAAU,KAKzB,OAJAA,EACM80B,EAAKxQ,aAAa3wB,IAAIohC,EAAW/0B,GACjC80B,EAAKxQ,aAAa9T,OAAOukB,GAExBD,IAEX,IAAIxnB,IAAIjH,SAAS5C,OAGrB8gB,QAAQC,aAAa,KAAM5qB,SAAStB,MAAOV,EAAI6L,MAG7C,SAAUuxB,EAA6CD,GAAiB,MACpEn9B,EAAM,IAAI0V,IAAIjH,SAAS5C,MACvBwxB,EAAkB,GAIxB,OAFAr9B,EAAI0sB,aAAavI,SAAQ,SAAC/b,EAAO1C,GAAR,OAAiB23B,EAAgB33B,GAAO0C,KAEjE,UAAOi1B,EAAgBF,UAAvB,QAAqC,K,ICmI9BG,E,oCAqBX,SAASC,IACL,OAAOv7B,SAASC,KAAKu7B,UAAY,KAAOx7B,SAASy7B,gBAAgBD,UAAY,KAtBjF,SAAWF,GACP,eACA,uBACA,+BAHJ,CAAWA,MAAa,KAyBT,aAAI3/B,OAAO,CACtBua,WAAY,CACRse,aAAA,KACAjZ,kBAAA,MAEJjR,MAAO,CACH5L,MAAO,CACHuL,KAAMQ,OACNoF,UAAU,GAEdiG,YAAa,CACT7L,KAAMQ,OACND,QAAS,MAEbpI,YAAa,CACT6H,KAAMT,MACNqG,UAAU,IAGlB/W,KAAM,iBAAa,CACfyhC,iBAAiB,EACjBmB,UAAWH,IACXI,cAAeL,EAAcM,IAC7Bb,aAAc,KACdp7B,wBAAyB,KACzBk8B,eAAgB,KAChBn8B,iBAAkB,OAEtBiH,SAAU,CACN6zB,qBADM,WACc,WACVp7B,EAAS,SAAC,GAA6C,IAA3Cu8B,EAA2C,EAA3CA,cACd,EAAKA,cAAgBA,GAGzB,MAAO,CACH,CACIA,cAAeL,EAAcM,IAC7Bn1B,KAAM,aACNq1B,WAAY,MACZ3xB,KAAM,YACN/K,UAEJ,CACIu8B,cAAeL,EAAc7W,QAC7Bhe,KAAM,iBACNq1B,WAAY,UACZ3xB,KAAM,YACN/K,UAEJ,CACIu8B,cAAeL,EAAcS,WAC7Bt1B,KAAM,wBACNq1B,WAAY,cACZ3xB,KAAM,OACN/K,YAIZs7B,kBA9BM,WA8BW,WACb,OAAO//B,KAAK6/B,qBAAqBngC,MAAK,SAAAy6B,GAAM,OAAIA,EAAO6G,gBAAkB,EAAKA,iBAAgBl1B,MAElGk0B,wBAjCM,WAiCiB,WACnB,OAAOhgC,KAAK6/B,qBAAqBngC,MAAK,SAAAy6B,GAAM,OAAIA,EAAO6G,gBAAkB,EAAKA,iBAAgBG,YAElGv8B,UApCM,WAqCF,OAAwC,OAAjC5E,KAAKgF,yBAEhB26B,eAvCM,WAwCF,IAAI0B,EAAgBrhC,KAAKyH,YAEzB,OAAQzH,KAAKghC,eACT,KAAKL,EAAc7W,QACfuX,EAAgBA,EAAcp7B,QAAO,SAAAyB,GAAK,OAAIA,EAAMN,MAAMmT,WAC1D,MACJ,KAAKomB,EAAcS,WACfC,EAAgBA,EAAcp7B,QAAO,SAAAyB,GAAK,OAAKA,EAAMN,MAAMmT,WAC3D,MAGR,GAAIva,KAAK4E,UAAW,CAChB,IAAM0C,EAAaC,EAAA,KAAIC,KAAKxH,KAAKogC,aAAe,IAEhDiB,EAAgBA,EAAcp7B,QAAO,SAAAyB,GAAK,OAAIA,EAAMC,eAAeC,SAASN,MAGhF,OAAO+5B,EAAcx5B,KAAI,SAAAH,GAAK,OAAIA,EAAMN,UAE5C64B,oBA3DM,WA4DF,OAAOjgC,KAAK+J,QAAQuQ,SAAW,MAAQ,SAG/C1C,MAAO,CACHwoB,aADG,SACU,GACTE,EAAsB,CAAEr7B,OAAQ,GAAgB,EAAauB,OAAS,EAAI,OAAega,KAE7FwgB,cAJG,SAIW,GACVV,EAAsB,CAAE1+B,OAAQ,IAAkB++B,EAAcM,SAAMzgB,EAAY,MAG1F4M,QAnGsB,WAmGf,MACHptB,KAAKogC,aAAeK,EAAkB,UACtCzgC,KAAKghC,cAAL,UAAqBP,EAAkB,iBAAvC,QAAqEE,EAAcM,IAE/EjhC,KAAKogC,eACLpgC,KAAKgF,yBAA0B,IAGvC6xB,QA3GsB,WA2Gf,WACH,IAAqC,IAAjC72B,KAAKgF,wBAAkC,CACvC,IAAMS,EAAQzF,KAAK+2B,MAAMqJ,aACnB/d,EAAWriB,KAAK+2B,MAAMuK,eAAuB7L,IAEnDz1B,KAAKgF,wBAA0BhF,KAAKO,IAAIyF,YACpC,CAACP,EAAO4c,IACR,kBAAoC,IAA9B,EAAK+d,aAAc55B,QAAgB,EAAK25B,iBAItD96B,SAASoD,iBAAiB,SAAUzI,KAAKkhC,eAAiB,kBAAM,EAAKH,UAAYH,MACjFv7B,SAASoD,iBAAiB,UAAWzI,KAAK+E,iBAAmB,SAAC2D,GACrD,EAAKC,cAAcD,IAGxBA,EAAME,oBAGdmvB,UA9HsB,WA+Hd/3B,KAAKkhC,iBACL77B,SAASwD,oBAAoB,SAAU7I,KAAKkhC,gBAC5ClhC,KAAKkhC,eAAiB,MAGtBlhC,KAAK+E,mBACLM,SAASwD,oBAAoB,UAAW7I,KAAK+E,kBAC7C/E,KAAK+E,iBAAmB,OAGhCmH,QAAS,CACLvD,cADK,YACuC,IAA5BG,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,IACpB,MAA0B,MAAtBA,EAAIC,gBAAyBC,EAAA,KAAIC,WAAWJ,KAGhD9I,KAAKkgC,eAEE,IAEXA,YATK,WASM,WACDz6B,EAAQzF,KAAK+2B,MAAMqJ,aACnB/d,EAAWriB,KAAK+2B,MAAMuK,eAAuB7L,IAEd,OAAjCz1B,KAAKgF,yBAMThF,KAAKogC,aAAe,GACpBpgC,KAAKgF,wBAA0BhF,KAAKO,IAAIyF,YACpC,CAACP,EAAO4c,IACR,kBAAoC,IAA9B,EAAK+d,aAAc55B,QAAgB,EAAK25B,iBAGlDngC,KAAK8F,WAAU,kBAAML,EAAMM,YAXvBN,EAAMM,SAado6B,YA3BK,WA4BoC,OAAjCngC,KAAKgF,0BAImC,oBAAjChF,KAAKgF,yBACZhF,KAAKgF,0BAGThF,KAAKogC,aAAe,KACpBpgC,KAAKgF,wBAA0B,OAEnCkG,YAvCK,WAwCDlL,KAAKO,IAAI4B,UAAUm4B,EAAA,OAEvB55B,iBA1CK,WA2CDV,KAAKS,OAAOC,oBAEhB2/B,QA7CK,WA8CDh7B,SAASC,KAAKu7B,UAAY,EAC1Bx7B,SAASy7B,gBAAgBD,UAAY,MC3W2V,I,wBCQxY5/B,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,mNCbTsgC,EAAsB,+BAuBtBp9B,E,WAAN,oCAEY,KAAAq9B,mBAA6B,EAC7B,KAAAC,kBAA4B,EAC5B,KAAAn3B,UAA8B,G,sDAW7BtK,KAAK0hC,8BAGV1hC,KAAK2hC,mBACL3hC,KAAKyhC,kBAAmB,K,0CAGDhtB,GACnBzU,KAAKyhC,mBAAqBhtB,IAG9BzU,KAAKyhC,iBAAmBhtB,EACxB,OAAQrV,IAAImiC,EAAqB9sB,GAE7BA,IAAYzU,KAAKwhC,mBACjBxhC,KAAK2hC,mBAET3hC,KAAKsK,UAAUkd,SAAQ,SAAAjd,GACfA,EAASq3B,oBAAsBntB,GAC/BlK,EAASq3B,qBAETr3B,EAASs3B,sBAAwBptB,GACjClK,EAASs3B,4B,6BAIPx/B,GACLrC,KAAKyhC,kBAAqBzhC,KAAKwhC,kBAOpCxhC,KAAKoE,OAAO/B,GALR87B,QAAQ97B,MAAMA,K,6BAQRA,GACV,IACIA,EAAM2xB,SAAW,eAAiB3xB,GAGlC87B,QAAQ97B,MAAM,2BAA4BA,GAC5C,MAAOy/B,GAEL3D,QAAQ97B,MAAM,sCAAuCA,EAAOy/B,M,uCAI5Cv3B,GACpBvK,KAAKsK,UAAU3H,KAAK4H,K,gCAGPlI,GACb,IAAM0/B,EAAmC,CACrCjiC,KAAMuC,EAAMvC,KACZgW,QAASzT,EAAMyT,QACfye,MAAOlyB,EAAMkyB,OAGjB,GAAIlyB,aAAiB,uBAAmB,CACpC,IAAMlE,EAA8B,CAChCkF,IAAKhB,EAAMgB,IACX2+B,eAAgB3/B,EAAM2/B,gBAG1BD,EAAgBE,WAAa,eAC7BF,EAAgBG,UAAY/jC,OACzB,GAAIkE,aAAiB,4BAAwB,CAChD,IAAM,EAAmC,CACrCsa,YAAata,EAAMsa,YACnBwlB,eAAgB9/B,EAAM8/B,eACtBC,oBAAqB//B,EAAM+/B,qBAG/BL,EAAgBE,WAAa,qBAC7BF,EAAgBG,UAAY,EAGhC,OAAOH,I,4BAGEA,GACT,IAAMM,EAAe,WACjB,OAAQN,EAAgBE,YACpB,IAAK,eACD,IAAM9jC,EAAO4jC,EAAgBG,UAE7B,OAAO,IAAI,uBAAkB/jC,EAAKkF,IAAKlF,EAAK6jC,gBAEhD,IAAK,qBACD,IAAM,EAAOD,EAAgBG,UAE7B,OAAO,IAAI,4BACP,EAAKvlB,YACL,EAAKwlB,eACL,EAAKC,qBAGb,QACI,OAAO,IAAIrzB,MAAMgzB,EAAgBjsB,WAGvCzT,EAAQggC,IAKd,OAHAhgC,EAAMvC,KAAOiiC,EAAgBjiC,KAC7BuC,EAAMkyB,MAAQwN,EAAgBxN,MAEvBlyB,I,kDAIP,GAAI,OAAQpD,IAAIsiC,GAAqB,GACjC,OAAO,EAEX,IAAMl+B,EAAM,IAAI0V,IAAIjH,SAAS5C,MAE7B,MAAO,CAAC,IAAK,OAAQ,KAAM,OAAOtH,SAASvE,EAAI0sB,aAAa9wB,IAAI,sB,yCAIhE,IAAIe,KAAKwhC,mBAAsBxhC,KAAKsiC,qBAGpC,IACI,eAAK,CAAEC,IAAK,8EAEZviC,KAAKwhC,mBAAoB,EAC3B,MAAOn/B,GAEL87B,QAAQ97B,MAAM,6BAA8BA,M,yCA1IhD,OAAOrC,KAAKyhC,mB,2CAIZ,OAAO,M,KA4IA,WAAIt9B,G,+ECnLE,cACbrG,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,eAAgBH,IAClFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,4c,sGCtB9B,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,sF,6LCXnD,SAAS6jC,EAAarkC,GAClB,IAAMiJ,EAAQ,IAAI,aAAMjJ,EAAKyf,YAAY,GAOzC,OALAxW,EAAM8U,kBACF,UACA/d,EAAKskC,kBAAkB56B,KAAI,SAAA+V,GAAU,OAAI,IAAI,aAAYA,GAAY,OAGlExW,EAGX,SAASs7B,EAAuBvkC,GAC5B,IAAMwB,EAAkB,IAAI,aAAexB,EAAKyf,YAAY,GAI5D,OAFAje,EAAgBuc,kBAAkB,SAAU/d,EAAKiK,OAAOP,IAAI26B,IAErD7iC,EAGJ,SAAegjC,IAAtB,+B,8DAAO,2HACGC,EAAS,IAAIC,OAAO,GACpBC,EAAS,IAAI,OACfF,EACA,CACIG,sBAAuB,SAAAjtB,GAAO,OAAI,OAASvV,IAAIyiC,4BAA4BltB,IAC3EmtB,uBAAwB,WAAF,8CAAE,wGAChB,OAAQ/vB,IAAI,+BADI,yCAET,OAAQjU,IAAI,gCAFH,uBAIQ,OAASsB,IAAI2iC,gBAAgB,2BAA4B,CACjFviB,YAAa,YALG,cAId6L,EAJc,OAQpB,OAAQptB,IAAI,8BAA+BotB,GARvB,kBAUbA,GAVa,2CAAF,qDAAE,KAN7B,SAqBkBsW,EAAOK,IAAP,MAAAL,EAAM,GArBxB,cAqBGp8B,EArBH,yBAuBI,CAAE0B,OAAQs6B,EAAuBh8B,EAAO0B,UAvB5C,2C,mFC/BP,IAAIrK,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,sBAAsB,CAACS,MAAM,CAAC,WAAa,eAAeV,EAAI8M,GAAI9M,EAAIsC,IAAU,QAAE,SAASyO,EAAMrI,GAAO,OAAOzI,EAAG,QAAQ,CAAC6K,IAAIiG,EAAM7O,GAAG3B,YAAY,6IAA6ID,MAAM,CAAE,qBAAsBoI,EAAQ1I,EAAIsC,IAAIsiB,OAAOrc,OAAS,GAAInG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAGA,EAAOwI,SAAWxI,EAAO8iC,cAAuB,KAAcnlC,EAAIsC,IAAI0hB,WAAWjT,EAAM7O,OAAO,CAACjC,EAAG8Q,EAAM/N,UAAUhD,EAAIkR,GAAG,CAACxB,IAAI,aAAa,YAAYqB,EAAMW,OAAM,KAAS,MAAK,IACnpB7O,EAAkB,G,YCmBP,SAAIE,OAAO,ICpB0W,I,YCOhYC,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,6TCbM,E,WAKjB,WAAYoiC,EAAiBC,GAAyB,uBAClDtjC,KAAKqjC,QAAUA,EACfrjC,KAAKsjC,gBAAkBA,E,2DAGRC,GAAsB,MACch8B,EAAA,KAAIi8B,aAAaD,GAD/B,sBAC9BE,EAD8B,KAChBC,EADgB,KACFC,EADE,OAEoBp8B,EAAA,KAAIi8B,aAAaxjC,KAAKqjC,SAF1C,sBAE9BO,EAF8B,KAEdC,EAFc,KAEEC,EAFF,KAIrC,OAAIF,IAAmBH,EACZG,EAAiBH,EAExBI,IAAmBH,EACZG,EAAiBH,EAErBI,EAAiBH,I,0LAIlB3jC,KAAKsjC,kB,cAEXtkC,EAAA,KAAQI,IAAI,EAAI2kC,oBAAqB/jC,KAAKqjC,S,kBAEnCrjC,KAAKqjC,S,gHC/BdW,EAAmB,UACnBC,EAA0B,G,iBAETD,EAAiB/vB,Q,IAAxC,2BAAgD,KAArC8gB,EAAqC,QACtC,EAAOA,EAAS5oB,MAAM,uBAAwB,GAEhC,qBAAT,GACP83B,EAAWthC,KAAK,IAAI,EAAU,EAAMqhC,EAAiBjP,GAAUllB,W,8BAGxD,QCZX9R,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACS,MAAM,CAAC,GAAKV,EAAIkC,GAAG,QAAUlC,EAAImC,QAAQ,MAAQ,yBAAyB,CAAClC,EAAG,IAAI,CAACM,YAAY,sCAAsC,CAACP,EAAIG,GAAG,kFAAkFF,EAAG,MAAM,CAACM,YAAY,yCAAyCP,EAAI8M,GAAI9M,EAAU,QAAE,SAASmJ,GAAO,OAAOlJ,EAAG,MAAM,CAAC6K,IAAI3B,EAAMjH,GAAG3B,YAAY,6BAA6B,CAACN,EAAG,SAAS,CAACM,YAAY,4BAA4BG,MAAM,CAAC,KAAO,SAAS,MAAQyI,EAAMrD,OAAO1D,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAI61B,QAAQ1sB,MAAU,CAAClJ,EAAG,cAAc,CAACS,MAAM,CAAC,IAAMyI,EAAM8S,aAAahc,EAAG,MAAM,CAACM,YAAY,gEAAgE,GAAI4I,EAAMJ,SAAU9I,EAAGkJ,EAAMmT,QAAU,MAAQ,SAAStc,EAAIkR,GAAG,CAACxB,IAAI,YAAYnP,YAAY,gFAAgFE,YAAY,CAAC,eAAe,UAAUC,MAAM,CAAC,MAAQyI,EAAMmT,QAAU,KAAO,eAAe,aAAanT,EAAMmT,QAAU,KAAQ,QAAWnT,EAAW,MAAI,eAAgB/G,GAAG,CAAC,MAAQ,SAASC,GAAQ8G,EAAMsT,SAAWzc,EAAIwc,YAAYrT,EAAO9G,MAAW,YAAY8G,EAAMmT,QAAU,CAAEhc,MAAO,WAAc,CAAE+Q,KAAM,WAAW,GAAO,CAACpR,EAAG,WAAW,CAACM,YAAY,wCAAwCG,MAAM,CAAC,KAAO,cAAeyI,EAAa,QAAElJ,EAAG,WAAW,CAACM,YAAY,0CAA0CG,MAAM,CAAC,KAAO,UAAUV,EAAImN,KAAKlN,EAAG,WAAW,CAACM,YAAY,2CAA2CG,MAAM,CAAC,KAAO,gBAAgB,GAAGT,EAAG,SAAS,CAACM,YAAY,0EAA0EE,YAAY,CAAC,eAAe,UAAUC,MAAM,CAAC,MAAQ,oBAAoB,KAAO,SAAS,aAAc,OAAUyI,EAAW,MAAI,kBAAmB/G,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIghB,gBAAgB7X,EAAO9G,MAAW,CAACpC,EAAG,WAAW,CAACM,YAAY,2CAA2CG,MAAM,CAAC,KAAO,cAAcT,EAAG,WAAW,CAACM,YAAY,0CAA0CG,MAAM,CAAC,KAAO,UAAU,IAAI,MAAK,GAAGT,EAAG,aAAa,CAACM,YAAY,qIAAqI6B,GAAG,CAAC,MAAQ,SAASC,GAAQrC,EAAIimC,wBAAyBjmC,EAAI0C,WAAW,CAAC1C,EAAIG,GAAG,iCAAiC,IACz2E0C,EAAkB,G,8HCiEtB,SAASqjC,EAAQC,GACb,IAAK,IAAIj3B,EAAIi3B,EAAM59B,OAAS,EAAG2G,EAAI,EAAGA,IAAK,CACvC,IAAMk3B,EAAInuB,KAAKykB,MAAMzkB,KAAKC,UAAYhJ,EAAI,IADH,EAEhB,CAACi3B,EAAMC,GAAID,EAAMj3B,IAAvCi3B,EAAMj3B,GAFgC,KAE5Bi3B,EAAMC,GAFsB,MAMhC,MAAAtjC,EAAA,KAAMC,OAAO,CACxBua,WAAY,CAAEse,aAAA,KAAYre,cAAA,MAC1Brd,KAAM,iBAAO,CAAEiK,OAAQ,KACjByuB,QAHkB,WAGX,8KACatuB,QAAQC,IAAI,EAAgBX,KAAI,SAAA3I,GAAI,OAAI6tB,EAAA,KAAmB5kB,MAAMjJ,OAD9E,OACHkJ,EADG,OACuFP,KAAI,SAAAT,GAChG,IAAMk9B,EAAgB,EAAK7jC,OAAO2H,OAAO1I,MAAK,SAAA2I,GAAe,OAAIA,EAAgBC,GAAGlB,MAEpF,OAAIk9B,IAIJl9B,EAAMmoB,UAECnoB,MAGX+8B,EAAQ/7B,GAER,EAAKA,OAASA,EAfL,8CAiBb8D,QAAS,CACC4nB,QADD,SACS1sB,GAAY,wJACtB,EAAK7G,IAAI4B,UAAUgF,EAAA,KAAY,CAAEC,UADX,8CAGpB88B,sBAJD,WAIsB,wKACjB,EAAK3jC,IAAIkB,QAAT,wCACF,8GACU8G,QAAQC,IAAI,EAAKJ,OAAOP,IAAZ,yDAAgB,WAAMT,GAAN,qFAC1BA,EAAMJ,SADoB,iEAKxBI,EAAM8X,yBALkB,uBAMxB,EAAKze,OAAOd,gBAAiBwf,cAAcC,KAAKhY,GANxB,2CAAhB,kCAAApH,KAAA,iBADtB,uBAUUyD,EAAA,KAAY4b,eAAe,EAAK5e,OAAOd,gBAAiB0D,KAVlE,2CAYA,wDAdmB,OAiBvB,EAAK9C,IAAI6b,aAAa,gDAAiD,CAAEC,WAAW,IAjB7D,8CAmBrB5B,YAvBD,SAuBarT,EAAc2M,GAAQ,4JAChC3M,EAAMmT,QAD4B,CAAF,uDAIpCxG,EAAEnL,iBAJkC,SAM9B,EAAKrI,IAAIsb,YAAYzU,GAAO,SAAAA,GAAK,OAAIA,EAAMwQ,WANb,8CAQlCqH,gBA/BD,SA+BiB7X,EAAc2M,GAAQ,+JACxCA,EAAEnL,iBADsC,SAGlC,EAAKrI,IAAIkB,QAAT,wCACF,8GACU2F,EAAM8X,yBADhB,uBAEU,EAAKze,OAAOd,gBAAiBwf,cAAcC,KAAKhY,GAF1D,uBAGU3D,EAAA,KAAY4b,eAAe,EAAK5e,OAAOd,gBAAiB0D,KAHlE,2CADE,mBAMU+D,EAAMrD,MANhB,6BAHkC,OAYxC,EAAKxD,IAAI6b,aAAT,aACUhV,EAAMrD,MADhB,6BAC0CqD,EAAMF,KADhD,wCAEI,CAAEmV,WAAW,IAduB,iDC5HsX,I,YCOtapb,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,EAAAG,E,QCaM,E,wDAgBjB,aAAyC,MAA7BsjC,IAA6B,uFACrC,eALe,EAAArjC,eAAyB,MAOxC,EAAKqjC,cAAgBA,EAHgB,E,8DA8BnBliC,GAA8D,IAAhDjC,EAAgD,uDAAF,GACxEo4B,EAAW,gBACbn2B,QACA0B,MAAO,gDACPO,QAAS,IACNlE,GAGPJ,KAAKqB,SAAS,CAAEm3B,kB,yCAIhBx4B,KAAKqB,SAAS,CAAEm3B,YAAa,S,qDAGyB,IAAtBx2B,EAAsB,yDACf,IAAlC,OAASvB,OAAO2H,OAAO5B,SAAgBxG,KAAK0E,MAAM8/B,iCAAqCxiC,KAI5FhD,EAAA,KAAQI,IAAIqK,EAAIg7B,uCAAuC,GACvDzkC,KAAKqB,SAAS,CAAEmjC,iCAAiC,IACjD,OAASjkC,IAAI4B,UAAUuiC,M,8RAKjB1kC,KAAK2kC,iB,uBACL3kC,KAAK4kC,0B,UAEXzgC,EAAA,KAAO0gC,iBAAiB,CACpBhD,oBAAqB,kBAAM,EAAKxgC,SAAS,CAAE+0B,yBAAyB,KACpEwL,mBAAoB,kBAAM,EAAKvgC,SAAS,CAAE+0B,yBAAyB,OAGvEp2B,KAAK8kC,YAAc,aACnB9kC,KAAK+N,UAAY,+CACjB/N,KAAK+kC,gBAAkB,oEACvB/kC,KAAKqjC,QAAU,SACfrjC,KAAK6N,YAAc,WAEf7N,KAAKukC,c,kCACCvkC,KAAKglC,iB,kJAIf,MAAO,CACHC,OAAQjmC,EAAA,KAAQC,IAAIwK,EAAIy7B,mBAAoB,GAC5CV,gCAAiCxlC,EAAA,KAAQC,IAAIwK,EAAIg7B,uCAAuC,GACxFzvB,gBAAiB,KACjBwjB,YAAa,KACbvC,0BAA2B9xB,EAAA,KAAOm+B,qBAClClM,wBAAyBjyB,EAAA,KAAOghC,sB,mLAKpCnlC,KAAKqB,SAAS,CAAE4jC,OAAQjlC,KAAK0E,MAAMugC,OAAS,IAE5CjmC,EAAA,KAAQI,IAAIqK,EAAIy7B,mBAAoBllC,KAAK0E,MAAMugC,Q,wTAIzCG,EAAUplC,KAAK0E,MAAMugC,OAAS,GAAK/uB,KAAKC,SAAW,IACnD,YADU,oBAEGD,KAAKmvB,MAAsB,EAAhBnvB,KAAKC,UAAgB,GAC7CmvB,EAAMjgC,SAAS8T,cAAc,O,SACf,UAAO,YAAyBisB,EAAhC,S,OAAdG,E,OAEND,EAAIE,IAAMD,EAAM11B,QAChBy1B,EAAIG,IAAM,GACVH,EAAItG,UAAU0G,IAAI,QAElB,UAAArgC,SAASsc,cAAc,mBAAvB,SAAoCgkB,YAAYL,GAEhDtlC,KAAKqB,SAAS,CAAE2T,gBAAiBuwB,EAAM11B,U,sSAIjC+1B,EAAkB5mC,EAAA,KAAQC,IAAIwK,EAAIs6B,qBAEpC6B,IAAoB5lC,KAAKqjC,Q,oDAGL,OAApBuC,E,gCACM5lC,KAAK6lC,qBAAqBD,G,OAEpC5mC,EAAA,KAAQI,IAAIqK,EAAIs6B,oBAAqB/jC,KAAKqjC,S,+MAGXE,G,2FAC/B,OAAShjC,IAAIyiC,4BAA4B,iC,iBAEjB,G,4DAAb8C,E,QACFA,EAAUC,YAAYxC,G,uEAGJuC,EAAUE,Q,QAAjCzC,E,+SAxHJ,MAA4B,gBAArBvjC,KAAK8kC,c,kCAIZ,OAAO9kC,KAAK0E,MAAM8zB,c,gCAIlB,OAA4B,OAArBx4B,KAAKw4B,c,sCAIZ,OAAOx4B,KAAK0E,MAAMsQ,kB,gDAIlB,OAAOhV,KAAK0E,MAAMuxB,4B,8CAIlB,OAAOj2B,KAAK0E,MAAM0xB,4B,GA3COzxB,EAAA,MAEN,EAAAugC,mBAAqB,sBACrB,EAAAT,sCAAwC,yCACxC,EAAAV,oBAAsB,wB,0XC5B5BtkC,E,wDAArB,iD,0BAiBY,EAAAwmC,eAA8B,KAjB1C,E,oEAoBQ,OAAOjmC,KAAKoiB,SAAS,gB,8MAUd,G,mMAGgBtiB,EAAcomC,G,8FAChClmC,KAAKgH,WAAYhH,KAAKkuB,qB,wDAGrBiY,EAAkBD,GAAe,GAAJ,OAAOlmC,KAAKqD,IAAZ,S,SACXrD,KAAKomC,6BAA6BD,G,cAApD3c,E,yBAGqB,OAAU/X,MAAM00B,EAAiB,CACpD5K,OAAQ,MACR8K,QAAS,CAAE,eAAgB,eAC3B/gC,KAAM,CACF,yBACA,8CACA,0DACA,GACA,UALE,2BAMkBtF,KAAKsmC,oBAAoB9c,GAN3C,gCAOiB1pB,EAPjB,QAQJmM,KAAK,Q,UAXLjE,E,OAckB,MAApBA,EAASpG,O,uBACH,IAAI,iBAAJ,0BAAmC5B,KAAKqD,IAAxC,sBAAyD2E,EAASpG,OAAlE,iB,QAEV5B,KAAKkvB,oBAAoBpvB,EAAME,KAAKimC,gBAAkBjmC,KAAKuc,W,2DAErD,IAAI,kBAAJ,0BAAoCvc,KAAKqD,KAAzC,M,iKAIiBua,EAAwB5W,GAC/CA,GAAU,cAAe4W,GAAc/O,MAAMC,QAAQ8O,EAAW,gBAChE5d,KAAKimC,eAAiBroB,EAAW,aAAaxR,MAAM,GAAG2R,QACnD,SAACwoB,EAAQtc,GAAT,OAAqBsc,EAAStc,EAAUsc,EAAStc,IACjDrM,EAAW,aAAa,KAGhC,kFAA2BA,EAAY5W,K,8GAGAm/B,G,uGAChB,IAAOtX,gBAAgB2X,QAAQxmC,KAAKymC,kBAAoBN,G,UAAzE9gC,E,OAEDrF,KAAK0mC,qBAAqBrhC,G,sBACrB,IAAI,iBACN,0BAAmB8gC,EAAnB,oEACA,6D,gCAGD,IAAI11B,KAAKpL,EAAS,UAAU,GAAG,oCAAoC,Y,qJAGjDA,GAKzB,GAAIA,EAAS,UAAUmB,OAAS,EAC5B,OAAO,EAEX,IAAMmgC,EAAoBthC,EAAS,UAAU,GACvCuhC,EAAa/nC,OAAOoV,KAAK0yB,GACzBE,EAAqB,CACvB,MACA,QACA,mCACA,oCACA,8CAGJ,OAAOD,EAAWpgC,SAAWqgC,EAAmBrgC,QACzCqgC,EAAmBC,MAAK,SAAA9vB,GAAQ,OAAK4vB,EAAWh/B,SAASoP,OACzD,OAAInX,OAAO8mC,EAAkB,UAAUG,MAAK,SAACx3B,GAAD,OAAmB,CAC9D,qCACA,uCACF1H,SAAS0H,Q,0CAGSxP,EAAcyc,GACtCvc,KAAKwvB,YAAY1vB,KAAOA,EACxBE,KAAKwvB,YAAYjT,UAAYA,I,0CAGL9Q,GACxB,IAAMs7B,EAAS,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAA0BA,EAAQn/B,KAAI,SAAAo/B,GAAM,OAAIA,EAAO7wB,WAAW+R,SAAS,EAAG,SACvF3X,EAAOu2B,EAAOt7B,EAAMy7B,iBAAkBz7B,EAAM07B,cAAgB,EAAG17B,EAAM27B,cAAcn7B,KAAK,KACxFo7B,EAAON,EAAOt7B,EAAM67B,cAAe77B,EAAM87B,gBAAiB97B,EAAM+7B,iBAAiBv7B,KAAK,KAE5F,iBAAWuE,EAAX,YAAmB62B,EAAnB,uD,GA1HoC,0BAE1B,EAAA7xB,OAAS,CACnB1V,KAAM,CACFwP,KAAM,eAAUQ,OAChB6F,YAAa,aACbT,UAAU,GAEdiG,YAAa,CACT7L,KAAM,eAAUQ,OAChB6F,YAAa,kB,kCCjBzB,yBAA+gB,EAAG,G,sICA5gBoN,E,qGAEe7V,GACb,OAAO2B,MAAMC,QAAQ5B,GAAQA,EAAO,CAACA,K,8BAGvByiB,GACd,OAAOA,EAAM5R,QAAO,SAAC0pB,EAAgBC,GAAjB,+BAAqCD,GAArC,eAAwDC,MAAc,M,iCAGzE/X,EAAYziB,GAC7B,IAAMvG,EAAQgpB,EAAM/oB,QAAQsG,GAK5B,OAHe,IAAXvG,GACAgpB,EAAM7N,OAAOnb,EAAO,GAEjBuG,I,6BAGMy6B,GACb,OAAOA,EAAI1hC,QAAO,SAACiH,EAAMvG,GAAP,OAAiBghC,EAAI/gC,QAAQsG,KAAUvG,O,kCAGvCghC,EAAUz6B,GAC5B,IAAMvG,EAAQghC,EAAI/gC,QAAQsG,GAE1B,OAAkB,IAAXvG,EAAe3G,KAAKgjB,aAAa2kB,EAAKhhC,GAASghC,I,mCAGnCA,EAAUhhC,GAC7B,+BAAWghC,EAAIv7B,MAAM,EAAGzF,IAAxB,eAAmCghC,EAAIv7B,MAAMzF,EAAQ,S,KAK9C,WAAIoc,G,+EClCE,cACbjlB,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,yF,yCCvBnD,IAAIZ,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,0CAA0CG,MAAM,CAAC,eAAeV,EAAI2pC,QAAU,OAAS,QAAQ,KAAO,WAAW,SAAW,KAAKvnC,GAAG,CAAC,MAAQpC,EAAIid,SAAS,CAAChd,EAAG,OAAO,CAACM,YAAY,oBAAoBD,MAAM,CACtT,4BAA6BN,EAAI2pC,QACjC,iBAAkB3pC,EAAI2pC,SACxBh8B,SAAS,CAAC,YAAc3N,EAAIkc,GAAGlc,EAAI2pC,QAAU,UAAY,eAAe1pC,EAAG,OAAO,CAACM,YAAY,qBAAqB,CAACN,EAAG,OAAO,CAACM,YAAY,oMAAoMD,MAAM,CAChV,iBAAkBN,EAAI2pC,SACxBjpC,MAAM,CAAC,cAAc,UAAUT,EAAG,OAAO,CAACM,YAAY,4KAA4KD,MAAM,CACtO,gBAAiBN,EAAI2pC,QACrB,iBAAkB3pC,EAAI2pC,SACxBjpC,MAAM,CAAC,cAAc,eAC/BmC,EAAkB,G,YCqCP,SAAIE,OAAO,CACtB+b,MAAO,CACH8qB,KAAM,UACNn/B,MAAO,UAEXiH,MAAO,CACHi4B,QAAS,CACLt4B,KAAMM,QACNC,SAAS,IAGjB3D,QAAS,CACLgP,OADK,WAEDlb,KAAKqP,MAAM,UAAWrP,KAAK4nC,aC3DgX,I,YCOnZ3mC,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAAG,E,2CClBf,IAAY6mC,EAMAC,EANZ,+GAAYD,GACR,0BACA,4BACA,qBAHJ,CAAYA,MAAoB,KAMhC,SAAYC,GACR,qBACA,qBAFJ,CAAYA,MAAoB,KAKzB,IAAMC,EAA8BD,EAAqBl1B,Q,oKCF1D8I,E,wGAE+B,2BAAfssB,EAAe,yBAAfA,EAAe,gBAC7B,IAAI5kC,EAAM4kC,EAAMn7B,QAEhB,MAAOm7B,EAAMzhC,OAAS,EAAG,CACrB,IAAM8nB,EAAW2Z,EAAMn7B,QAEnBwhB,EAAS7nB,WAAW,KACpBpD,EAAMrD,KAAKy+B,KAAKp7B,GAAOirB,EAChBA,EAAS7nB,WAAW,YAAc6nB,EAAS7nB,WAAW,YAC7DpD,EAAMirB,EACCjrB,EAAI6kC,SAAS,KACpB7kC,GAAOirB,EAEPjrB,GAAO,IAAMirB,EAIrB,OAAOjrB,I,yCAIP,IAAMA,EAAMrD,KAAK6K,QAAL,MAAA7K,KAAA,WAEZ,OAAOqD,EAAI6kC,SAAS,KAAO7kC,EAAOA,EAAM,M,2BAGhCA,GACR,IAAM8kC,EAAgB9kC,EAAIuD,QAAQ,OAC5BwhC,EAAY/kC,EAAIkzB,OAAO4R,EAAgB,GAAGvhC,QAAQ,KAExD,OAAsB,IAAfwhC,EACD/kC,EAAIigB,UAAU,EAAG6kB,EAAgB,EAAIC,GACrC/kC,I,+BAGMA,GACZ,IAAM+kC,EAAY/kC,EAAIglC,YAAY,KAElC,OAAsB,IAAfD,EAAmB/kC,EAAIkzB,OAAO6R,EAAY,GAAK,K,sCAGnC/kC,GAAW,UAE9B,2BAAOrD,KAAKmI,MAAM9E,UAAlB,iBAAO,EAAiBgY,cAAxB,aAAO,EAAyBvX,QAAQ,SAAU,WAAlD,QAAyD,O,4BAGhDT,GACT,IAAM8I,EAAQ9I,EAAIkD,OAAO4F,MAAM,+DAE/B,IAAKA,EACD,OAAO,KAEX,IAAMm8B,EAAOn8B,EAAM,IAAM,GANL,GAOoC,IAAvBm8B,EAAK1hC,QAAQ,KAAc,CAAC0hC,GAAQA,EAAK3zB,MAAM,KAP5D,sBAOb0G,EAPa,KAOLktB,EAPK,KASpB,MAAO,CACHC,SAAUr8B,EAAM,SAAMqU,EACtBnF,OAAQA,QAAUmF,EAClB+nB,KAAMA,QAAQ/nB,EACdwQ,KAAM7kB,EAAM,SAAMqU,EAClBje,MAAO4J,EAAM,SAAMqU,EACnB8N,SAAUniB,EAAM,SAAMqU,O,KAMnB,WAAI7E,G,yCC9EnB,IAAI5d,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,MAAM,CAAC8c,IAAI,WAAW,CAAC/c,EAAIyR,GAAG,UAAU,KAAK,CAAC,OAASzR,EAAIqkB,cAAc,GAAGpkB,EAAG,iBAAiB,CAACS,MAAM,CAAC,SAAW,IAAI,WAAa,eAAe,CAACT,EAAG,MAAM,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,MAAOxN,EAAQ,KAAEyN,WAAW,SAASsP,IAAI,OAAOxc,YAAY,+CAA+CD,MAAM,CAC/a,yBAA4C,aAAlBN,EAAIwqC,UAC9B,2BAA8C,cAAlBxqC,EAAIwqC,YACjC,CAACvqC,EAAG,MAAM,CAACM,YAAY,iCAAiCP,EAAI8M,GAAI9M,EAAW,SAAE,SAASk8B,EAAOxzB,GAAO,OAAOzI,EAAG,MAAM,CAAC6K,IAAIpC,EAAMnI,YAAY,QAAQ,CAACN,EAAG,SAAS,CAACM,YAAY,yTAAyTG,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIyqC,cAAcvO,MAAW,CAAEA,EAAW,KAAEj8B,EAAG,WAAW,CAACM,YAAY,eAAeG,MAAM,CAAC,KAAOw7B,EAAO3qB,QAAQvR,EAAImN,KAAKlN,EAAG,OAAO,CAACD,EAAIG,GAAGH,EAAIkc,GAAGggB,EAAOruB,UAAU,QAAO,QAAQ,IACluBhL,EAAkB,G,wBC+CP,SAAIE,OAAO,CACtB2O,MAAO,CACHvP,QAAS,CACLkP,KAAMT,MACNqG,UAAU,GAEduzB,UAAW,CACPn5B,KAAMQ,OACND,QAAS,aAGjB1R,KAAM,iBAAa,CACf6G,wBAAyB,OAE7BgH,SAAU,CACNpG,KADM,WAEF,QAAS5F,KAAKgF,0BAGtBkH,QAAS,CACLoW,WADK,WAEDtiB,KAAK4F,KAAO5F,KAAKuiB,YAAcviB,KAAKwiB,YAExCA,SAJK,WAIG,WACAxiB,KAAKgF,0BAGThF,KAAKgF,wBAA0BhF,KAAKO,IAAIyF,YACpC,CACIhG,KAAK+2B,MAAM1U,QACXriB,KAAK+2B,MAAMnV,OAEf,kBAAM,EAAKW,eAGfviB,KAAKqP,MAAM,YAEfkT,UAlBK,WAkBI,WACAviB,KAAKgF,0BAGVhF,KAAKgF,0BACLhF,KAAKgF,wBAA0B,KAE/B,mBAAM,CAAE4L,aAAc,MAAO4B,MAAK,kBAAM,EAAKnD,MAAM,eAEvDq5B,cA3BK,SA2BSvO,GACVn6B,KAAKuiB,YAEL4X,EAAO11B,OAAO01B,OCpG2X,I,YCOjZl5B,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAAG,E,iKClBTsG,E,yGAEgBuE,GACd,OAAOA,EAAKyqB,OAAO,EAAG,GAAGoS,cAAgB78B,EAAKyqB,OAAO,K,4BAG5CqS,GACT,OAAOA,EAAIj0B,MAAM,oBACZ9M,KACG,SAACghC,EAAMliC,GACH,OAAoB,IAAhBkiC,EAAKriC,OACEqiC,EAGG,IAAVliC,EACOkiC,EAAK7/B,cAGT6/B,EAAKtS,OAAO,EAAG,GAAGoS,cAAgBE,EAAKtS,OAAO,GAAGvtB,iBAG/DiD,KAAK,M,mCAGMo3B,GAChB,IAAM9d,EAAU8d,EAAQl3B,MAAM,+BAE9B,OAAKoZ,EAGEA,EAAQ,GACT,CAACS,SAAST,EAAQ,IAAKS,SAAST,EAAQ,IAAKS,SAAST,EAAQ,IAAKA,EAAQ,IAC3E,CAACS,SAAST,EAAQ,IAAKS,SAAST,EAAQ,IAAKS,SAAST,EAAQ,KAJzD,O,2BAOHzZ,GAAqC,IAAvBg9B,EAAuB,uDAAH,IAY1C,OAXAh9B,EAAOA,EACFvF,OACAwiC,UAAU,OACVjlC,QAAQ,mBAAoB,IAC5BA,QAAQ,aAAc,IACtBkF,cACAlF,QAAQ,OAAQglC,GAEjBA,EAAUtiC,OAAS,IACnBsF,EAAOA,EAAKhI,QAAQ,IAAIojB,OAAJ,UAAc4hB,EAAd,KAA4B,KAAMA,IAEnDh9B,I,6BAGGA,GACV,OAAOA,EAAK6I,MAAM,UACb9M,KACG,SAAAghC,GAAI,OACAA,EAAKriC,OAAS,EACRqiC,EAAKtS,OAAO,EAAG,GAAGoS,cAAgBE,EAAKtS,OAAO,GAC9CsS,KAEb58B,KAAK,Q,KAKH,WAAI1E,G,kCC/DnB,yBAAghB,EAAG,G,kCCA7gB,SAAUyhC,EAAeC,GAC3BA,EAAaC,aAAe,SAACj5B,GAAD,2BAAwBhJ,EAAxB,iCAAwBA,EAAxB,yBAA0CqJ,YAAW,kBAAML,EAAQ,WAAR,EAAYhJ,KAAS,IAC5GgiC,EAAaE,eAAiB,kBAAsB54B,aAAY,WAAZ,cAFxD,mC,uHCEe,SAAe64B,IAA9B,+B,8DAAe,8GACL,OAAY1lC,QADP,2C,0JCEe3D,E,WAK1B,WAAsBD,EAAci2B,GAAwB,uBACxD/1B,KAAKF,KAAOA,EACZE,KAAK+1B,UAAYA,E,0OAImB/1B,KAAKqpC,2B,UAAnCC,E,YAEWA,E,qCAA+BtpC,KAAKupC,sB,8DAA5CnhC,O,gtBCjBXohC,EAA2B,CAAC,SAAU,QAAS,WAAY,SAE3DvgC,E,yGAEgBmb,GACd,KAAMA,aAAmBmR,aACrB,OAAO,EAEX,IAAMz1B,EAAOskB,EAAQqlB,SAASzgC,cAE9B,MAAgB,WAATlJ,GAEU,UAATA,IACC0pC,EAAyB5hC,UAAUwc,EAAQslB,aAAa,SAAW,QAAQ1gC,gBAEpE,aAATlJ,GACAskB,EAAQulB,oB,oCAGEC,EAAaC,GAC9B,IAAMC,EAAQzkC,SAAS8T,cAAc,OACrC2wB,EAAMrrC,MAAMi2B,SAAW,QACvBoV,EAAMrrC,MAAMsrB,MAAQ6f,GAEnBC,GAAUxkC,SAASC,MAAM6rB,OAAO2Y,GAEjC,IAAMC,EAAOD,EAAMvkC,YAInB,OAFAukC,EAAMvqC,SAECwqC,M,KAKA,WAAI9gC,G,+EClCE,cACbnL,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,uG,kCCvBnD,IAAIZ,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,iBAAiB,CAACS,MAAM,CAAC,UAAY,SAAS,CAACT,EAAG,MAAM,CAACqN,WAAW,CAAC,CAACzL,KAAK,OAAO0L,QAAQ,SAASC,MAAOxN,EAAIsC,IAAe,YAAEmL,WAAW,oBAAoBlN,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,iDACtTsC,EAAkB,G,YCUP,SAAIE,OAAO,ICX2W,I,YCOjYC,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,wFCjBM,cACbnD,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,uD,yLCjB7CouB,E,kKAEoB5uB,G,8FACZ6rC,EAAQ7rC,EAAK,SACb8rC,EAAW9rC,EAAK,aAAe,GAEhC6rC,E,sBACK,IAAI,OAAqB,CAAC,kC,UAE9BE,GAAar7B,MAAMC,QAAQk7B,GAASA,EAAQ,CAACA,IAAQtqC,MAAK,SAAC4P,GAC7D,GAAIA,EAAK7I,WAAW,QAChB,MAAgB,6BAAT6I,EAFkE,MAItDA,EAAKqF,MAAM,KAJ2C,sBAItEw1B,EAJsE,KAI9DrqC,EAJ8D,KAM7E,OAAOA,EACqB,uBAArBmqC,EAASE,IAA6C,UAATrqC,EACtB,wBAAvBmqC,EAAS,WAAkD,UAAXE,KAGtDD,E,sBACK,IAAI,OAAqB,CAAC,iD,iIAK3B/rC,GACT,OAAO,aAAMisC,cAAqBjsC,O,KAK3B,WAAI4uB,G,yDCtCnB,IAAIhvB,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACS,MAAM,CAAC,MAAQ,KAAK,OAAS,KAAK,QAAU,YAAY,OAAS,iBAAiB,CAACT,EAAG,IAAI,CAACS,MAAM,CAAC,KAAO,OAAO,YAAY,YAAY,CAACT,EAAG,IAAI,CAACS,MAAM,CAAC,UAAY,iBAAiB,eAAe,MAAM,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,iBAAiB,KAAK,GAAK,KAAK,GAAK,KAAK,EAAI,QAAQT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,gCAAgC,CAACT,EAAG,mBAAmB,CAACS,MAAM,CAAC,cAAgB,YAAY,KAAO,SAAS,KAAO,UAAU,GAAK,YAAY,IAAM,KAAK,YAAc,iBAAiB,UACxkBmC,EAAkB,G,YCiCP,SAAIE,OAAO,IClC8W,I,YCOpYC,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,2CClBf,IAAIlD,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAMD,EAAI8M,GAAI9M,EAAe,aAAE,SAASosC,EAAMC,GAAY,OAAOpsC,EAAG,WAAW,CAAC6K,IAAIuhC,EAAW/rC,MAAM8rC,EAAME,aAAa5rC,MAAM,CAAC,gBAAgB0rC,EAAMG,eAAe,CAACtsC,EAAG,MAAM,CAACO,MAAO4rC,EAAsB,iBAAE1rC,MAAM,CAAC,KAAO,eAAe8rC,KAAK,gBAAgBvsC,EAAG,sBAAsB,CAACM,YAAY,kEAAkEG,MAAM,CAAC,UAAY,QAAQ0B,GAAG,CAAC,eAAepC,EAAIysC,wBAAwBzsC,EAAI8M,GAAIs/B,EAAY,QAAE,SAASjjC,GAAO,OAAOlJ,EAAG,iBAAiB,CAAC6K,IAAI3B,EAAMjH,GAAG3B,YAAY,qBAAqBG,MAAM,CAAC,MAAQyI,QAAW,IAAI,MAAK,IACpqBtG,EAAkB,G,gDCDlB,EAAS,WAAa,IAAI7C,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAED,EAAIusC,cAAgBvsC,EAAI0sC,QAAS1sC,EAAIyR,GAAG,WAAWzR,EAAIyR,GAAG,gBAAgB,IACjL,EAAkB,G,YCcP,SAAI1O,OAAO,CACtB2O,MAAO,CACH66B,aAAc,CACVl7B,KAAMM,QACNC,SAAS,IAGjB1R,KAAM,iBAAa,CAAEwsC,SAAS,IAC9B9T,QARsB,WAQf,WACH72B,KAAK4qC,WAAa,IAAIC,sBAAqB,sCAAEnjC,EAAF,YAAa,EAAKijC,QAAUjjC,EAAMojC,kBAC7E9qC,KAAK4qC,WAAWG,QAAQ/qC,KAAKy1B,MAEjCsC,UAZsB,WAab/3B,KAAK4qC,aAGV5qC,KAAK4qC,WAAWI,oBACThrC,KAAK4qC,eChC+W,I,YCO/X3pC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QClBX,EAAS,WAAa,IAAIhD,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,6BAA6B,CAAEP,EAAI8L,QAAgB,SAAE7L,EAAG,SAAS,CAACM,YAAY,4BAA4BG,MAAM,CAAC,MAAQV,EAAIgtC,WAAW5qC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAI8L,QAAQmhC,SAASjtC,EAAImJ,UAAU,CAAClJ,EAAG,cAAc,CAACS,MAAM,CAAC,IAAMV,EAAImJ,MAAM8S,UAAU,MAAQjc,EAAImJ,MAAMrD,SAAS7F,EAAG,MAAM,CAACM,YAAY,gEAAgE,GAAG,CAACN,EAAG,cAAc,CAACM,YAAY,cAAcG,MAAM,CAAC,GAAK,CAAEmB,KAAM,QAASmH,OAAQ,CAAEC,KAAMjJ,EAAImJ,MAAMF,OAAS,MAAQjJ,EAAIgtC,UAAU,aAAahtC,EAAIgtC,YAAY,CAAC/sC,EAAG,cAAc,CAACS,MAAM,CAAC,IAAMV,EAAImJ,MAAM8S,UAAU,MAAQjc,EAAImJ,MAAMrD,SAAS7F,EAAG,MAAM,CAACM,YAAY,gEAAgE,GAAKP,EAAI8L,QAAQuQ,SAA2zBrc,EAAImN,KAArzBlN,EAAGD,EAAImJ,MAAMmT,QAAU,MAAQ,SAAStc,EAAIkR,GAAG,CAACxB,IAAI,YAAYnP,YAAY,gFAAgFE,YAAY,CAAC,eAAe,UAAUC,MAAM,CAAC,MAAQV,EAAImJ,MAAMmT,QAAU,KAAO,eAAe,aAAatc,EAAImJ,MAAMmT,QAAU,KAAQ,QAAWtc,EAAImJ,MAAW,MAAI,eAAgB/G,GAAG,CAAC,MAAQ,SAASC,GAAQrC,EAAImJ,MAAMsT,SAAWzc,EAAIwc,YAAYna,MAAW,YAAYrC,EAAImJ,MAAMmT,QAAU,CAAEhc,MAAO,WAAc,CAAE+Q,KAAM,WAAW,GAAO,CAACpR,EAAG,WAAW,CAACM,YAAY,wCAAwCG,MAAM,CAAC,KAAO,cAAeV,EAAImJ,MAAa,QAAElJ,EAAG,WAAW,CAACM,YAAY,0CAA0CG,MAAM,CAAC,KAAO,UAAUV,EAAImN,KAAKlN,EAAG,WAAW,CAACM,YAAY,2CAA2CG,MAAM,CAAC,KAAO,gBAAgB,KAAc,IACroD,EAAkB,G,0DC6CP,SAAIqC,OAAO,CACtBua,WAAY,CACRC,cAAA,MAEJ7L,MAAO,CACHvI,MAAO,CACHkI,KAAM6W,EAAA,WACNjR,UAAU,IAGlBlJ,SAAU,CACNi/B,UADM,WAEF,GAAIjrC,KAAK+J,QAAQuQ,SACb,OAAOta,KAAKoH,MAAMrD,MAEtB,IAAMnC,EAAS5B,KAAKoH,MAAMmT,QAAU,UAAY,cAEhD,gBAAUva,KAAKoH,MAAMrD,MAArB,aAA+BnC,EAA/B,OAGRsK,QAAS,CACCuO,YADD,SACa1G,GAAQ,4JAClB,EAAK3M,MAAMmT,QADS,CAAF,uDAItBxG,EAAEnL,iBAJoB,SAMhB,EAAKrI,IAAIsb,YAAY,EAAKzU,OAAO,SAAAA,GAAK,OAAIA,EAAMwQ,WANhC,iDCnEuW,ICQrY,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCqCTuzB,EAAa,EAEnB,SAASC,EAAYvB,EAAiBrkC,GAA6C,IAA3B6lC,EAA2B,wDACzEC,EAAmB,CACrB,QAASriC,EAAA,KAAIsiC,cAAc,SAAU1B,GACrC,OAAQ5gC,EAAA,KAAIsiC,cAAc,OAAQ1B,GAClC,oBAAqB5gC,EAAA,KAAIsiC,cAAc,OAAQ1B,GAC/C,oBAAqB5gC,EAAA,KAAIsiC,cAAc,QAAS1B,GAChD,gBAAiB,IACjB,OAAU,GAGR2B,EAAeF,EAAiB,iBAChCG,EAAeH,EAAiB9lC,EAAU,oBAAsB,qBAChEkmC,EAAUJ,EAAiB,SAC3BK,EAAYz1B,KAAKkR,IAAIyiB,EAAOtkC,YAAaimC,IAAiBH,EAAyC,EAA3BC,EAAiB,QAAe,GACxGM,EAAU11B,KAAKykB,OAAOgR,EAAYD,IAAYD,EAAeC,IAC7DG,GAAcF,GAAaC,EAAU,GAAKF,GAAWE,EACrDE,EAA4C,EAA7BR,EAAiB,UAChCS,EAA4C,GAA7BF,EAAaC,GAAoB,EAAIA,EAE1D,MAAO,CAAEC,cAAaL,UAASE,WAGpB,aAAI5qC,OAAO,CACtBua,WAAY,CACRywB,WACAC,kBAEJt8B,MAAO,CACHvH,OAAQ,CACJkH,KAAMT,MACNqG,UAAU,GAEdg3B,iBAAkB,CACd58B,KAAMM,QACNC,SAAS,IAGjB1R,KAfsB,WAgBlB,MAAO,CACHguC,KAAMf,EACF/lC,SAASC,KACTuM,OAAOwT,WAAP,sBAAiC,OAAkB7f,QAAnD,QAAiE+f,SACjE,KAIZvZ,SAAU,CACNogC,YADM,WAMF,IAJA,IAAMC,EAAS,GACTC,EAActsC,KAAKoI,OAAO5B,OAC1B+lC,EAAYvsC,KAAKmsC,KAAKP,QAAUT,EAE7BqB,EAAS,EAAGF,EAAcE,EAAQA,GAAUD,EAAW,CAC5D,IAAMnkC,EAASpI,KAAKoI,OAAOgE,MAAMogC,EAAQA,EAASD,GAC5C7/B,EAAOwJ,KAAK4S,KAAK1gB,EAAO5B,OAASxG,KAAKmsC,KAAKP,SAC3Ca,EAAoBzsC,KAAKmsC,KAAKJ,YAAcr/B,EAAO1M,KAAKmsC,KAAKT,SAAWh/B,EAAK,GAEnF2/B,EAAO1pC,KAAK,CACRyF,SACAoiC,aAAyB,IAAXgC,EACdjC,aAAyB,IAAXiC,EAAe,GAAK,OAClCE,iBAAkB,UAAF,OAAYD,EAAZ,QAIxB,OAAOJ,IAGfxV,QA9CsB,WA8Cf,WACH72B,KAAK2sC,iBAAmB,kBAAM,EAAKR,KAAOf,EAAY,EAAK3V,IAAK,EAAKl1B,IAAIiF,UACzExF,KAAK2sC,mBAEL96B,OAAOpJ,iBAAiB,SAAUzI,KAAK2sC,mBAE3C5U,UApDsB,WAqDb/3B,KAAK2sC,mBAGV96B,OAAOhJ,oBAAoB,SAAU7I,KAAK2sC,yBAEnC3sC,KAAK2sC,mBAEhBzgC,QAAS,CACLw+B,sBADK,SACiBxkC,GAAe,IACzBX,EAAuCW,EAAvCX,YAAaqnC,EAA0B1mC,EAA1B0mC,UAAWC,EAAe3mC,EAAf2mC,WAKhC,GAHA3mC,EAAGzH,MAAMi2B,SAAW,WACpBxuB,EAAGzH,MAAMsrB,MAAT,UAAoBxkB,EAApB,OAEKvF,KAAKksC,mBAAqBlsC,KAAKO,IAAIye,OAIpC,OAHAhf,KAAK8sC,uBAAuB5mC,QAC5BA,EAAG84B,UAAU0G,IAAI,yBAKrBx/B,EAAGzH,MAAMk2B,IAAT,UAAkBiY,EAAlB,MACA1mC,EAAGzH,MAAMsuC,KAAT,UAAmBF,EAAnB,OAEJC,uBAjBK,SAiBkB5mC,GACnB,IAAMmb,EAAerhB,KAAKO,IAAIysC,oBAE9B,GAAqB,OAAjB3rB,EAAJ,CAGA,IAAM4rB,EAAmB5rB,EAAa6rB,wBAChCC,EAAWntC,KAAKy1B,IAAIyX,wBACpBvY,EAAMsY,EAAiBtY,IAAMwY,EAASxY,IAAMtT,EAAa+rB,aAAa,EACtEL,EAAOE,EAAiBF,KAAOI,EAASJ,KAAO1rB,EAAa9b,YAAY,EAE9EW,EAAGzH,MAAMk2B,IAAT,UAAkBA,EAAlB,MACAzuB,EAAGzH,MAAMsuC,KAAT,UAAmBA,EAAnB,WCzKyX,ICQjY,G,UAAY,eACd,EACAhvC,EACA+C,GACA,EACA,KACA,KACA,OAIa,S,yMCdMusC,E,8LAuBb,OAAOrtC,KAAKstC,aAAa,aAAO,Y,0CAGTjqC,EAAakqC,GACpCvtC,KAAKwvB,YAAYnsB,IAAMA,EACvBrD,KAAKwvB,YAAY+d,OAASA,M,GA5BO,iBAEvB,EAAAn4B,aAAc,EAEd,EAAAC,YAAc,CACxB,OAAU,uBAGA,EAAAC,YAAc,CAAC,sBAEf,EAAAC,WAAa,CAAC,aAEd,EAAAC,OAAS,CACnB+3B,OAAQ,CACJj+B,KAAM,eAAUoG,IAChBC,YAAa,gBACbT,UAAU,GAEd8Y,UAAW,eAAUvd,KACrBwd,QAAS,eAAUxd,O,kCCxB3B,yBAAshB,EAAG,G,iICE1gB,SAAe24B,IAA9B,+B,8DAAe,2GACN,aAAQl2B,IAAI,qBADN,iEAIuB,uDAJvB,uBAIMZ,EAJN,EAIHzC,QAJG,SAOWyC,EAAOC,iBAPlB,iDAOsC,KAPtC,WAOLpB,EAPK,YASNA,QATM,IASNA,OATM,EASNA,EAASq8B,IATH,mDAYX,aAAQpuC,IAAI,0BAA2B,CACnCmC,SAAU4P,EAAQq8B,IAClBhsC,qBAAsB,WAdf,4C,yGCDM,cACb1D,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,QAAU,qBAAsBH,IACnDC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,0T,oHCf7CuJ,E,kKAEoB6c,G,uFACZ,IAAIhW,MAAM,6C,4LAGD5Q,G,8FACTiJ,EAAQ,IAAI,aAAM,CACpBrD,MAAO5F,EAAK4F,MACZ2X,aAAc,CAAC,oCAAD,OAAqCvd,EAAKgC,OAGxDhC,EAAKsvC,WACLrmC,EAAM+T,YAAchd,EAAKsvC,UAEzBtvC,EAAK+nB,eACL9e,EAAMgT,YAAc,IAAI3J,KAAKtS,EAAK+nB,eAElC/nB,EAAKuvC,cACLtmC,EAAM8S,UAAN,yCAAoD/b,EAAKuvC,cAEzDvvC,EAAKixB,SACLhoB,EAAMsU,aAAa/Y,KAAnB,qCAAsDxE,EAAKixB,UAE/DhoB,EAAM8U,kBAAkB,UAAW,I,kBAE5B9U,G,4GAKA,WAAIc,G,gLChCb,G,qLAE6BF,G,6FAEfA,EAASpG,O,KACLoG,EAAS2lC,W,oBACR3lC,EAASq+B,QAAQjoB,W,SAClBpW,EAAS4lC,O,6CAHrBhsC,O,KACA+rC,W,KACAtH,Q,KACA/gC,K,sJAImB0C,GACvB,IAAM1C,EAA8B,IAAvB0C,EAAS1C,KAAKykC,KAAa,KAAO/hC,EAAS1C,KAExD,OAAO,IAAIuoC,SAASvoC,EAAM,CACtB1D,OAAQoG,EAASpG,OACjB+rC,WAAY3lC,EAAS2lC,WACrBtH,QAASr+B,EAASq+B,c,MAMf,MAAI,E,YCpBE,E,WASjB,WAAYzD,GAAsD,WAAtCkL,EAAsC,uDAAF,GAAE,uBAC9D9tC,KAAK4iC,OAASA,EACd5iC,KAAK8tC,SAAWA,EAChB9tC,KAAK+tC,cAAgB,IAAIxlC,SAAgB,SAACsC,EAAS+L,GAC/C,EAAKo3B,SAAWnjC,EAChB,EAAKojC,QAAUr3B,KAGnBgsB,EAAO7oB,QAAU,kBAAM,EAAKk0B,WAC5BrL,EAAOsL,UAAY,gBAASp4B,EAAT,EAAG3X,KAAH,OAAmD,EAAKgwC,UAAUr4B,I,qDAGzD,2BAAlB7O,EAAkB,yBAAlBA,EAAkB,gBAG5B,OAFAjH,KAAK4iC,OAAOwL,YAAY,CAAEtuC,KAAM,MAAO6K,QAAS1D,IAEzCjH,KAAK+tC,gB,2LAGYM,E,EAAAA,YAAavuC,E,EAAAA,KAAM6K,E,EAAAA,Q,KACnC7K,E,OACC,mB,OAGA,gB,6BAFDE,KAAKguC,SAASrjC,G,mCAGd3K,KAAKiuC,QAAQ9pC,EAAA,KAAOgE,MAAMwC,I,sDAID3K,KAAKsuC,gBAAgBxuC,EAAM6K,G,QAA1CjE,E,OAEN1G,KAAK4iC,OAAOwL,YAAY,CAAEC,cAAavuC,KAAM,sBAAuB6K,QAASjE,I,qDAE7E1G,KAAK4iC,OAAOwL,YAAY,CAAEC,cAAavuC,KAAM,mBAAoB6K,QAASxG,EAAA,KAAOoqC,UAAP,Q,yPAO1DzuC,EAAcuQ,G,kGACtCvQ,KAAQE,KAAK8tC,U,0CACN,EAAA9tC,KAAK8tC,UAAShuC,GAAd,uBAAuBuQ,K,UAE5Bm+B,EAAgBjnC,EAAA,KAAIyF,MAAMlN,KAC5B0uC,KAAiBxuC,KAAK8tC,U,0CACf,EAAA9tC,KAAK8tC,UAASU,GAAd,uBAAgCn+B,K,YAEnCvQ,E,OACC,gB,wCACsB4B,EAAA,KAAU+P,MAAV,MAAA/P,EAAA,KAAS,eAAW2O,I,eAArCrI,E,yBAEC,EAAKymC,kBAAkBzmC,I,cAIhC,IAAI+G,MAAJ,oCAAuCjP,I,kKC1EjD/B,EAAQ+C,E,YCKG,EAAAsT,EAAA,KAAWpT,OAAO,CAC7BjD,OAD6B,SACtBgP,GACH,OAAK/M,KAAKwU,mBAAsBxU,KAAKyU,QAG9B1H,EACH,aACA,CACI4C,MAAO3P,KAAK4U,mBACZvU,GAAIL,KAAK6U,wBAEb7U,KAAKgQ,OAAOH,SARL7P,KAAKgQ,OAAOH,WCR4X,I,YFOvZ5O,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAAG,E,wFGjBM,cACbnD,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,qD,kCCvBnD,IAAIZ,EAAS,WAAa,IAAIE,EAAI+B,KAAShC,EAAGC,EAAIgC,eAAmB/B,EAAGD,EAAIiC,MAAMhC,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACM,YAAY,kDAAkD,CAACN,EAAG,MAAM,CAACM,YAAY,6BAA6BD,MAAMN,EAAI8L,QAAQuQ,WAAarc,EAAI2C,MAAMO,SAAW,iBAAmB,eAAe,CAACjD,EAAG,SAAS,CAACM,YAAY,8CAA8CG,MAAM,CAAC,KAAO,UAAU0B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,IAAIC,sBAAsB,YAAY,CAACvC,EAAIG,GAAG,aAAaH,EAAIG,GAAG,OAAOF,EAAG,WAAW,CAACM,YAAY,OAAOG,MAAM,CAAC,MAAQ,+BAA+B,IAAMV,EAAI2E,KAAKmL,YAAY,CAAC9P,EAAIG,GAAG,cAAcH,EAAIG,GAAG,OAAOF,EAAG,WAAW,CAACM,YAAY,OAAOG,MAAM,CAAC,MAAQ,+BAA+B,IAAMV,EAAI2E,KAAKmiC,kBAAkB,CAAC9mC,EAAIG,GAAG,IAAIH,EAAIkc,GAAGlc,EAAI2E,KAAKiL,aAAa,QAAQ,MACnzB/M,EAAkB,G,YCiCP,SAAIE,OAAO,IClC0W,I,YCOhYC,EAAY,eACd,EACAlD,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAAG,E,oIChBTytC,EAAa,MAEbrjB,E,WAIF,oCAFQ,KAAAsjB,SAA4B,IAAI,IAAOC,SAG3C5uC,KAAK2uC,SAASE,KAAO,SAAU3/B,EAAMnL,EAAO+H,GACxC,IAAM+iC,EAAO,IAAOD,SAAS1kC,UAAU2kC,KAAK7I,MAAMhmC,KAAM,CAACkP,EAAMnL,EAAO+H,IAEtE,OAAO+iC,EAAK/qC,QAAQ,KAAM,uB,sDAIpB+c,GACV,OAAKA,EAGE,IAAOA,EAAU,CAAE8tB,SAAU3uC,KAAK2uC,WAF9B,K,gCAKE36B,GACb,gBAAU06B,EAAV,aAAyB16B,EAAzB,aAAkC06B,O,KAK3B,WAAIrjB,G,+EC5BE,cACbvtB,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAAC,CAAC,UAAY,WAAWA,EAAMC,GACtCC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,MAAQ,oBAAoB,QAAU,gBAAgB,MAAQ,OAAO,OAAS,QAASH,IAC/IC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,2GAA2G,KAAO,aAAaT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,4wB,+ECtBnL,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAAC,CAAC,UAAY,WAAWA,EAAMC,GACtCC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,MAAQ,oBAAoB,QAAU,kCAAkC,MAAQ,UAAU,OAAS,WAAYH,IACvKC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,8wBAA8wBT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,+/BAA+/B,KAAO,aAAaT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,uTAAuT,KAAO,UAAUT,EAAG,IAAI,CAACS,MAAM,CAAC,KAAO,SAAS,CAACT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,2YAA2YT,EAAG,IAAI,CAACS,MAAM,CAAC,KAAO,SAAS,CAACT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,uYAAuYT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,6xD,s2XCtBvkG,cACbb,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,oBAAqBH,IACvFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACA,EAAG,iBAAiB,CAACS,MAAM,CAAC,GAAK,IAAI,GAAK,QAAQ,GAAK,SAAS,GAAK,QAAQ,cAAgB,mBAAmB,CAACT,EAAG,OAAO,CAACS,MAAM,CAAC,OAAS,IAAI,aAAa,aAAaT,EAAG,OAAO,CAACS,MAAM,CAAC,OAAS,MAAM,aAAa,aAAaT,EAAG,OAAO,CAACS,MAAM,CAAC,OAAS,IAAI,aAAa,iBAAiBT,EAAG,IAAI,CAACS,MAAM,CAAC,YAAY,YAAY,CAACT,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI,6iDAA6iD,KAAO,UAAU,YAAY,qB,uVCT77DuE,E,wDAcjB,WAAYmQ,GAAyB,wCACjC,wBAAMA,EAAQvT,YAAd,QAAsB,UAAtB,UAAiCuT,EAAQ0iB,iBAAzC,QAAsD,MAEtD,EAAK1iB,QAAUA,EAHkB,E,kEAQjC,IAAO7T,UAAU,IAAI,iBAAY,OAAUiS,MAAO,CAC9C2e,kBAAmB,U,2LAKjB,OAAUvvB,S,mIAIhB,OAAOb,KAAKqT,U,2NAI0BrT,KAAK8uC,6B,UAArCC,E,OAEDA,E,yCACM,M,uBAKU,OAAYC,gBAAgBD,EAAyB,K,cAApEjyB,E,UACqBA,GAAU,IAAI7W,QAAO,SAAA8W,GAAK,OAAIA,EAAMY,aAAe,gB,sBAAvEhe,E,uBAEAA,GAAqC,M,qTAItC2wB,EAAM,IAAI7f,K,SACEzQ,KAAKivC,wB,UAAjB5rC,E,QACoBA,E,iCAAY,aAAe3D,KAAqB2D,G,gDAAO,K,WAA3E6rC,E,UACkBA,E,uCAA2BlvC,KAAKmvC,wB,mCAAlDxvC,E,KAIN,OAAYy1B,iBAAiBz1B,EAAgB0D,IAAKitB,GAClD,OAAY8e,SAASzvC,EAAiB,gCAAmB,CAAE0vC,UAAW1vC,EAAgB0vC,a,kBAE/E1vC,G,uUAIWK,KAAKivC,wB,oJAA2B,G,WAA5C5rC,E,KACAisC,EAAY,gCAAmBjsC,GAEhCisC,E,0CACM,M,mCAGgB,gCAAmBA,EAAW,OAAU79B,O,eAAzDpM,E,OACAkqC,EAAWlqC,EAASmqC,UAAUnsC,EAAK,iB,kBAElCksC,EACD,IAAI,mBAAc,CAAElsC,MAAKkZ,UAAW,IAAI9L,KAAK8+B,EAAShC,OAAO9hC,SAAU,GACvE,M,+DAEC,M,iTAK4B,qBAA5BzL,KAAKyvC,mB,gCACoBzvC,KAAK0vC,0B,OAArC1vC,KAAKyvC,mB,uCAEFzvC,KAAKyvC,oB,2UAKazvC,KAAKqT,QAAQs8B,2B,mEAA6B3vC,KAAK4vC,kB,iCAA9DC,E,eACiB,gCAAmBA,EAAc,OAAUp+B,O,eAA5DpM,E,OACAyqC,EAAsBzqC,EACvB0qC,gBAAWvvB,EAAW,WAAY,0BAClC9gB,MAAK,SAAA8vC,GAAS,OACXnqC,EAAS+c,SAASotB,EAAUQ,QAAQvkC,MAAO,iBAAkB,iBAC7DpG,EAAS+c,SAASotB,EAAUQ,QAAQvkC,MAAO,8B,kBAG5CqkC,GAAmB,oBACpBzqC,EAASmqC,UAAUM,EAAoBE,QAAQvkC,MAAO,kCADlC,aACpB,EAAkF8hC,OAAO9hC,aADrE,QAEpB,M,8DAEC,M,+UAMUzL,KAAKqT,QAAQs8B,2B,mEAA6B3vC,KAAK4vC,kB,iCAA9DC,E,KACAI,EAAUjwC,KAAKqT,QAAQ68B,YAAY,GACnCvwC,EAAkB,IAAI,aAAe,CAAEG,KAAM,WAC7CwV,EAAc,CAChB,2BACA,kCAGJ3V,EAAgBuc,kBAAkB,SAAU,IAC5Cvc,EAAgBuc,kBAAkB,YAAa,I,UAEzCvc,EAAgByf,KAAK6wB,G,yBACrB1nC,QAAQC,IAAI8M,EAAYzN,KAAI,SAAAsoC,GAC9B,IAAMC,EAAmB,IAAI,aAAiB,CAC1C36B,SAAU06B,EACVv6B,kBAAmBjW,EAAgB0D,MAKvC,OAFA+sC,EAAiB7gB,QAAQ,EAAKlc,QAAQs8B,qBAAqB,EAAM,qBAE1DS,EAAiBhxB,KAAK,uCAA0BywB,Q,iCAGpDlwC,G,oTAIoB,oCAAuBK,KAAKqT,QAAS,OAAU5B,O,cAApEo+B,E,OAEN7vC,KAAKqT,QAAQs8B,oBAAsBE,E,kBAE5BA,G,iJA5ImB3wC,GAC1B,MAAO,UAAWA,I,0FAGOA,G,0GAClB,IAAIgE,EAAUhE,I,0GAPU,S,+ECblB,cACbpB,YAAY,EACZC,OAFa,SAENC,EAAIC,GAAK,IACNC,EAAgCD,EAAhCC,GAAQC,GAAwBF,EAA5BG,GAA4BH,EAAxBE,MADF,EAC0BF,EAAlBI,gBADR,MACmB,GADnB,EAILC,EAMLH,EANFI,MACAC,EAKEL,EALFK,YACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,YAPY,EAUVP,EAFFQ,aARY,MAQJ,GARI,EASTC,EATS,eAUVT,EAVU,uDAYd,OAAOD,EACL,MADO,gBAGLK,MAAO,CAACD,EAAWE,GACnBC,MAAO,CAACA,EAAMC,GACdC,MAAOE,OAAOC,OAAO,CAAC,MAAQ,6BAA6B,QAAU,aAAcH,IAChFC,GAELP,EAASU,OAAO,CAACb,EAAG,OAAO,CAACS,MAAM,CAAC,EAAI","file":"js/chunk-common.c2d37d0b.js","sourcesContent":["\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"isolation\":\"isolate\"},style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"style\":\"isolation:isolate\",\"viewBox\":\"-408.5 185 121.259 121.365\",\"width\":\"161.679\",\"height\":\"161.82\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M-353.93 290.298h3.472v16.027h-3.472v-16.027zm-32.257.201h3.513v15.826h-3.513v-15.826zm-5.813-4.844h15.139v3.472H-392v-3.472zm14.816 8.599l6.217 6.177-2.462 2.462-6.217-6.176 2.462-2.463zm20.791-1.453l-13.605 13.564-2.462-2.462 13.564-13.605 2.503 2.503zm15.22.323v3.471q1.292 0 2.221.929.928.929.928 2.22 0 1.292-.928 2.201-.929.908-2.221.908t-2.2-.908q-.908-.909-.908-2.201h-3.472q0 2.705 1.938 4.643 1.938 1.938 4.642 1.938 2.746 0 4.683-1.938 1.938-1.938 1.938-4.643 0-2.745-1.938-4.683-1.937-1.937-4.683-1.937zm-1.332 3.471h.04v-3.471h-.04q-.807 0-1.393-.586-.585-.585-.585-1.393 0-.847.585-1.433.586-.585 1.393-.585h1.131v-3.472h-1.131q-2.261 0-3.855 1.615-1.595 1.615-1.595 3.875 0 2.261 1.595 3.856 1.594 1.594 3.855 1.594zm25.394-.565q0 .808-.566 1.373-.565.565-1.372.565-.808 0-1.373-.565t-.565-1.373q0-.807.565-1.372.565-.566 1.373-.566.807 0 1.372.566.566.565.566 1.372zm8.72.646q-.242 2.624-2.2 4.421-1.958 1.796-4.623 1.796h-7.63q-2.705 0-4.663-1.796-1.958-1.797-2.2-4.421h-3.391q.121 2.019.989 3.775.868 1.756 2.24 3.068 1.373 1.312 3.19 2.059 1.816.747 3.875.747h7.509q2.059 0 3.876-.747 1.817-.747 3.209-2.059 1.393-1.312 2.241-3.068.848-1.756.969-3.775h-3.391zm-21.316-1.372q.282-2.584 2.22-4.381 1.938-1.796 4.643-1.796l.02.02.02.02h7.509l.021-.02.06-.02q2.665 0 4.623 1.796 1.958 1.797 2.2 4.381H-305q-.121-2.019-.969-3.775-.848-1.756-2.241-3.068-1.392-1.312-3.209-2.059-1.817-.747-3.876-.747h-7.509q-2.059 0-3.875.747-1.817.747-3.19 2.059-1.372 1.312-2.24 3.068-.868 1.756-.989 3.775h3.391zm-9.807-65.809q-.04-3.483-2.506-5.893-2.466-2.409-5.948-2.37-3.483.04-5.892 2.506-2.41 2.466-2.37 5.948.039 3.483 2.505 5.892 2.466 2.41 5.948 2.37 3.483-.039 5.893-2.505 2.409-2.466 2.37-5.948zm37.579-3.216q-1.174-11.307-9.708-18.959-8.534-7.652-20.026-7.52l-.261.003-.087.001-32.388.37-.087.001-.087.001q-11.666.134-20.023 7.979-8.356 7.845-9.271 19.175l-14.627.168q.597-8.715 4.167-16.331t9.513-13.344q5.942-5.728 13.741-9.039 7.799-3.311 16.505-3.41l32.387-.371q8.881-.101 16.753 3.03 7.873 3.132 13.858 8.723 5.985 5.592 9.815 13.123 3.83 7.532 4.452 16.232l-14.626.168zm-91.871 6.971q1.347 11.131 9.879 18.696 8.533 7.564 20.025 7.433l.087-.001.087-.001 32.388-.37.087-.001.261-.003q11.492-.132 19.763-7.889 8.27-7.757 9.362-18.915l14.626-.167q-.423 8.712-4.08 16.329-3.657 7.617-9.512 13.344-5.856 5.727-13.655 9.038-7.798 3.311-16.679 3.413l-32.387.37q-8.707.1-16.579-3.032-7.873-3.132-13.945-8.722-6.072-5.591-9.815-13.123-3.743-7.533-4.539-16.231l14.626-.168z\",\"fill-rule\":\"evenodd\",\"fill\":\"#F00007\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M3.94 6.5L2.22 3.64l1.42-1.42L6.5 3.94c.52-.3 1.1-.54 1.7-.7L9 0h2l.8 3.24c.6.16 1.18.4 1.7.7l2.86-1.72 1.42 1.42-1.72 2.86c.3.52.54 1.1.7 1.7L20 9v2l-3.24.8c-.16.6-.4 1.18-.7 1.7l1.72 2.86-1.42 1.42-2.86-1.72c-.52.3-1.1.54-1.7.7L11 20H9l-.8-3.24c-.6-.16-1.18-.4-1.7-.7l-2.86 1.72-1.42-1.42 1.72-2.86c-.3-.52-.54-1.1-.7-1.7L0 11V9l3.24-.8c.16-.6.4-1.18.7-1.7zM10 13a3 3 0 100-6 3 3 0 000 6z\"}})])\n          )\n        }\n      }\n    ","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownContent.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownContent.vue?vue&type=style&index=0&lang=scss&\"","import Soukai, { IndexedDBEngine } from 'soukai';\n\nimport Storage from '@/utils/Storage';\n\nimport MediaContainer from '@/models/soukai/MediaContainer';\nimport User from '@/models/users/User';\n\nexport interface OfflineUserJSON {\n    offline: true;\n}\n\nexport default class OfflineUser extends User<OfflineUserJSON> {\n\n    public static isLoggedIn(): boolean {\n        return Storage.get('media-kraken-offline-user', false);\n    }\n\n    public static isOfflineUserJSON(json: any): json is OfflineUserJSON {\n        return 'offline' in json && json.offline;\n    }\n\n    constructor() {\n        super('Browser Storage', null);\n    }\n\n    public async login(): Promise<void> {\n        Storage.set('media-kraken-offline-user', true);\n    }\n\n    public async logout(): Promise<void> {\n        const engine = Soukai.engine as IndexedDBEngine;\n\n        if (Soukai.engine)\n            await engine.purgeDatabase();\n\n        Storage.remove('media-kraken-offline-user');\n    }\n\n    public initSoukaiEngine(): void {\n        Soukai.useEngine(new IndexedDBEngine('media-kraken'));\n    }\n\n    public toJSON(): OfflineUserJSON {\n        return { offline: true };\n    }\n\n    protected async getCachedMoviesContainer(): Promise<MediaContainer | null> {\n        // TODO implement to leverage caching speed improvements in offline mode.\n\n        return null;\n    }\n\n    protected async initMoviesContainer(): Promise<MediaContainer> {\n        const moviesContainer = await MediaContainer.find<MediaContainer>('browser-storage://movies/');\n\n        return moviesContainer\n            || MediaContainer.at('browser-storage://').create({ name: 'Movies' });\n    }\n\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options,\"title\":\"Are you sure you want to log out?\"}},[_c('p',{staticClass:\"text-gray-700 text-sm leading-relaxed\"},[_vm._v(\" You are \"),_c('BaseLink',{on:{\"click\":function($event){return _vm.$ui.openFileMarkdownModal('application-storage')}}},[_vm._v(\" using browser storage \")]),_vm._v(\" and \"),_c('strong',[_vm._v(\"your data will be deleted\")]),_vm._v(\" when you log out. If you want to make sure that it isn't lost, you can \"),_c('BaseLink',{on:{\"click\":function($event){return _vm.$media.exportCollection()}}},[_vm._v(\" export your collection \")]),_vm._v(\" and you'll be able to import it later (using JSON-LD import). \")],1),_c('div',{staticClass:\"flex justify-end mt-4\"},[_c('BaseButton',{staticClass:\"text-primary-700 border border-primary-500 mr-2 hover:bg-black-overlay\",on:{\"click\":_vm.close}},[_vm._v(\" Cancel \")]),_c('BaseButton',{staticClass:\"text-white bg-red-500 hover:bg-red-700\",on:{\"click\":function($event){_vm.$auth.logout(true) && _vm.close()}}},[_vm._v(\" Log out \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Modal from '@/components/mixins/Modal';\n\nexport default Modal.extend({});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfflineLogoutModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfflineLogoutModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OfflineLogoutModal.vue?vue&type=template&id=4c28cbe8&\"\nimport script from \"./OfflineLogoutModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./OfflineLogoutModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Dictionary } from 'vue-router/types/router';\nimport { NetworkRequestError, UnauthorizedError } from '@noeldemartin/solid-utils';\n\nimport Service from '@/services/Service';\nimport Services from '@/services';\n\nimport ModelsCache from '@/models/ModelsCache';\nimport OfflineUser from '@/models/users/OfflineUser';\nimport SolidUser from '@/models/users/SolidUser';\nimport User from '@/models/users/User';\n\nimport { AuthenticationMethod, AuthenticationStatus } from '@/authentication';\nimport SolidAuth from '@/authentication/SolidAuth';\n\nimport Errors from '@/utils/Errors';\nimport EventBus from '@/utils/EventBus';\n\nimport OfflineLogoutModal from '@/components/modals/OfflineLogoutModal.vue';\n\ninterface State {\n    user: User | null;\n    unauthorizedError: UnauthorizedError | null;\n    refreshing: boolean;\n}\n\ninterface HasUser {\n    user: User;\n}\n\nexport default class Auth extends Service<State> {\n\n    protected readonly storeNamespace: string = 'auth';\n\n    public get loggedIn(): boolean {\n        return !!this.state.user;\n    }\n\n    public get user(): User | null {\n        return this.state.user;\n    }\n\n    public get unauthorizedError(): UnauthorizedError | null {\n        return this.state.unauthorizedError;\n    }\n\n    public get refreshing(): boolean {\n        return !!this.state.refreshing;\n    }\n\n    public get isOffline(): boolean | null {\n        return this.loggedIn ? this.user instanceof OfflineUser : null;\n    }\n\n    public isLoggedIn(): this is HasUser {\n        return this.loggedIn;\n    }\n\n    public setRefreshing(refreshing: boolean): void {\n        this.setState({ refreshing });\n    }\n\n    public async loginOffline(): Promise<void> {\n        await this.updateUser(new OfflineUser());\n    }\n\n    public async loginWithSolid(loginUrl: string, authenticationMethod?: AuthenticationMethod): Promise<void> {\n        const status = await Services.$ui.loading(\n            () => SolidAuth.login(loginUrl, authenticationMethod),\n            'Logging in...',\n        );\n\n        switch (status) {\n            case AuthenticationStatus.LoggingIn:\n                Services.$ui.alert(\n                    'This is taking too long...',\n                    'You should have been redirected to your identity provider by now, maybe something went wrong',\n                );\n                break;\n            case AuthenticationStatus.Failed:\n                Services.$ui.alert('Log in failed', \"It wasn't possible to log in with this url\");\n                break;\n        }\n    }\n\n    public async logout(force: boolean = false): Promise<void> {\n        if (!this.loggedIn)\n            return;\n\n        if (this.isOffline && !Services.$media.empty && !force) {\n            Services.$ui.openModal(OfflineLogoutModal);\n\n            return;\n        }\n\n        this.updateUser(null);\n    }\n\n    public handleUnauthorized(error: UnauthorizedError): void {\n        if (Services.$route.name === 'unauthorized')\n            return;\n\n        const query: Dictionary<string> = {};\n\n        if (error.forbidden)\n            query.forbidden = 'true';\n\n        this.setState({ unauthorizedError: error });\n        Services.$router.push({ name: 'unauthorized', query });\n    }\n\n    protected async boot(): Promise<void> {\n        await super.boot();\n        await Services.$app.ready;\n        await SolidAuth.boot({\n            onUserUpdated: (solidUser: SolidUser | null) => {\n                if (!!this.user && !(this.user instanceof SolidUser)) {\n                    return;\n                }\n\n                this.updateUser(solidUser);\n            },\n            onError: (error: Error) => {\n                if (error instanceof NetworkRequestError) {\n                    this.handleSolidSessionError(error, 'A network request failed trying to log in', error.url);\n\n                    return;\n                }\n\n                this.handleSolidSessionError(error);\n            },\n        });\n\n        if (OfflineUser.isLoggedIn())\n            await this.updateUser(new OfflineUser());\n    }\n\n    protected getInitialState(): State {\n        return {\n            user: null,\n            unauthorizedError: null,\n            refreshing: false,\n        };\n    }\n\n    private async updateUser(newUser: User | null = null): Promise<void> {\n        const previousUser = this.user;\n\n        if (!newUser)\n            ModelsCache.clear();\n\n        if (newUser === previousUser)\n            return;\n\n        this.setState({ user: newUser });\n\n        if (!newUser) {\n            previousUser!.logout();\n\n            EventBus.emit('logout');\n\n            if (Services.$router.currentRoute.name !== 'login')\n                Services.$router.push({ name: 'login' });\n\n            return;\n        }\n\n        await newUser.login();\n\n        if (Services.$router.currentRoute.name === 'login')\n            Services.$router.replace({ name: 'home' });\n\n        EventBus.emit('login', newUser);\n    }\n\n    private handleSolidSessionError(error: Error, title?: string, subtitle?: string): void {\n        const handleLogout = async () => {\n            await ModelsCache.clear();\n            await SolidAuth.logout();\n            EventBus.emit('logout');\n            Services.$app.clearCrashReport();\n        };\n\n        Errors.report(error);\n\n        Services.$app.setCrashReport(\n            error,\n            {\n                title: title || 'There was an error trying to log in',\n                subtitle,\n                actions: this.loggedIn\n                    ? []\n                    : [{\n                        label: 'Logout',\n                        priority: 0,\n                        handle: handleLogout,\n                    }],\n            },\n        );\n    }\n\n}\n","import Vue from 'vue';\n\nimport { screenBreakpoints } from '@/services/UI';\nimport Service from '@/services/Service';\nimport Services from '@/services';\n\nimport TheMovieDBApi from '@/api/TheMovieDBApi';\n\nimport DOM from '@/utils/DOM';\nimport Str from '@/utils/Str';\nimport Time, { DebouncedFunction } from '@/utils/Time';\nimport TMDBMoviesParser from '@/utils/parsers/TMDBMoviesParser';\n\nimport MovieModal from '@/components/modals/MovieModal.vue';\nimport Movie from '@/models/soukai/Movie';\n\nexport type SearchResult = Movie;\n\ninterface State {\n    open: boolean;\n    query: string;\n    results: SearchResult[];\n    highlightedResultIndex: number | null;\n}\n\nexport default class Search extends Service<State> {\n\n    public searching: boolean = false;\n\n    protected readonly storeNamespace: string = 'search';\n\n    private searchInput: HTMLInputElement | null = null;\n    private searchResultsContainer: HTMLElement | null = null;\n\n    private keyboardListener: EventListener | null = null;\n    private removeClickAwayListener: Function | null = null;\n\n    private search: DebouncedFunction<[]> = Time.debounce(\n        () => this.updateSearchResults(),\n        document.body.clientWidth > screenBreakpoints.desktop! ? 400 : 1000,\n    );\n\n    public get query(): string {\n        return this.state.query;\n    }\n\n    public get open(): boolean {\n        return this.state.open;\n    }\n\n    public get results(): SearchResult[] {\n        return this.state.results;\n    }\n\n    public get highlightedResult(): SearchResult | null {\n        return this.state.highlightedResultIndex === null\n            ? null\n            : this.state.results[this.state.highlightedResultIndex];\n    }\n\n    public setSearchInput(input: HTMLInputElement | null): void {\n        this.searchInput = input;\n\n        input === null\n            ? this.stopListeningKeyboard()\n            : this.startListeningKeyboard();\n    }\n\n    public setSearchResultsContainer(searchResultsContainer: HTMLElement | null): void {\n        this.searchResultsContainer = searchResultsContainer;\n    }\n\n    public start(): void {\n        if (this.searchInput === null || this.open)\n            return;\n\n        this.setState({ open: true });\n        Vue.instance.$nextTick(() => this.searchInput!.focus());\n\n        this.removeClickAwayListener = Services.$ui.onClickAway(\n            [this.searchInput, this.searchResultsContainer].filter(el => !!el) as HTMLElement[],\n            () => this.stop(),\n        );\n    }\n\n    public stop(): void {\n        if (!this.open)\n            return;\n\n        this.setState({\n            open: false,\n            query: '',\n            results: [],\n            highlightedResultIndex: null,\n        });\n\n        this.search.cancel();\n\n        if (!this.removeClickAwayListener)\n            return;\n\n        this.removeClickAwayListener();\n        this.removeClickAwayListener = null;\n    }\n\n    public async update(query: string): Promise<void> {\n        this.setState({\n            query,\n            results: [],\n            highlightedResultIndex: null,\n        });\n\n        this.searching = query.trim().length > 0;\n\n        if (!this.searching) {\n            this.search.cancel();\n\n            return;\n        }\n\n        if (query.startsWith('/'))\n            this.updateSearchResults();\n        else\n            this.search();\n    }\n\n    public highlightResult(result: SearchResult): void {\n        const index = this.results.indexOf(result);\n\n        if (index === -1 || this.state.highlightedResultIndex === index)\n            return;\n\n        this.setState({ highlightedResultIndex: index });\n    }\n\n    public highlightResultAbove(): void {\n        const resultsLength = this.results.length;\n        const highlightedResultIndex = this.state.highlightedResultIndex;\n\n        if (resultsLength === 0)\n            return;\n\n        if (highlightedResultIndex === null) {\n            this.setState({ highlightedResultIndex: resultsLength - 1 });\n\n            return;\n        }\n\n        this.setState({\n            highlightedResultIndex: (highlightedResultIndex + resultsLength - 1) % resultsLength,\n        });\n    }\n\n    public highlightResultBelow(): void {\n        const resultsLength = this.results.length;\n        const highlightedResultIndex = this.state.highlightedResultIndex;\n\n        if (resultsLength === 0)\n            return;\n\n        if (highlightedResultIndex === null) {\n            this.setState({ highlightedResultIndex: 0 });\n\n            return;\n        }\n\n        this.setState({\n            highlightedResultIndex: (highlightedResultIndex + 1) % resultsLength,\n        });\n    }\n\n    public submit(): void {\n        if (this.highlightedResult === null)\n            return;\n\n        this.openResult(this.highlightedResult);\n    }\n\n    public openResult(result: SearchResult): void {\n        if (!result.exists())\n            Services.$ui.openModal(MovieModal, { movie: result });\n        else if (\n            Services.$router.currentRoute.name !== 'movie' ||\n            Services.$router.currentRoute.params?.uuid !== result.uuid\n        )\n            Services.$router.push({ name: 'movie', params: { uuid: result.uuid! }});\n\n        this.stop();\n    }\n\n    protected getInitialState(): State {\n        return {\n            open: false,\n            query: '',\n            results: [],\n            highlightedResultIndex: null,\n        };\n    }\n\n    private async updateSearchResults() {\n        const getSearchResults = async (query: string): Promise<SearchResult[]> => {\n            if (query.startsWith('/')) {\n                const filterText = Str.slug(query, '');\n\n                return Services.$media.searchIndex\n                    .filter(entry => entry.searchableText.includes(filterText))\n                    .map(entry => entry.movie);\n            }\n\n            const response = await TheMovieDBApi.searchMovies(query.trim());\n            const promisedResults = response.results.map(async data => {\n                const movie = await TMDBMoviesParser.parse(data);\n\n                return Services.$media.movies.find(collectionMovie => collectionMovie.is(movie))\n                    || movie;\n            });\n            return await Promise.all(promisedResults);\n        };\n\n        const results = await getSearchResults(this.query.trim());\n\n        this.searching = false;\n        this.setState({\n            results,\n            highlightedResultIndex: results.length > 0 ? 0 : null,\n        });\n    }\n\n    private startListeningKeyboard() {\n        if (this.keyboardListener)\n            return;\n\n        document.addEventListener('keydown', this.keyboardListener = event => {\n            if (!this.captureHotKey(event as KeyboardEvent))\n                return;\n\n            event.preventDefault();\n        });\n    }\n\n    private stopListeningKeyboard() {\n        if (!this.keyboardListener)\n            return;\n\n        document.removeEventListener('keydown', this.keyboardListener);\n\n        this.keyboardListener = null;\n    }\n\n    private captureHotKey({ target, key }: KeyboardEvent): boolean {\n        if (\n            !this.open &&\n            ['s', '/'].includes(key.toLowerCase()) &&\n            !DOM.isWritable(target)\n        ) {\n            this.start();\n\n            if (key === '/')\n                this.update('/');\n\n            return true;\n        }\n\n        return false;\n    }\n\n}\n","import { Store } from 'vuex';\nimport Vue from 'vue';\nimport VueRouter, { Route } from 'vue-router';\n\nimport App from '@/services/App';\nimport Auth from '@/services/Auth';\nimport Browser from '@/services/Browser';\nimport Media from '@/services/Media';\nimport Search from '@/services/Search';\nimport Service from '@/services/Service';\nimport UI from '@/services/UI';\nimport Viewer from '@/services/Viewer';\n\nexport interface Services {\n    $app: App;\n    $auth: Auth;\n    $browser: Browser;\n    $media: Media;\n    $route: Route;\n    $router: VueRouter;\n    $search: Search;\n    $store: Store<any>;\n    $ui: UI;\n    $viewer: Viewer;\n}\n\nconst Services = {} as Services;\n\nexport async function bootServices(app: Vue): Promise<void> {\n    const appServices: Record<string, Service<any, any>> = {\n        $app: new App(),\n        $auth: new Auth(),\n        $browser: new Browser(),\n        $media: new Media(),\n        $search: new Search(),\n        $ui: new UI(),\n        $viewer: new Viewer(),\n    };\n\n    Services['$router'] = app.$router;\n    Services['$route'] = app.$route;\n    Services['$store'] = app.$store;\n\n    Object.assign(Services, appServices);\n    Object.assign(Vue.prototype, appServices);\n\n    await Promise.all(Object.values(appServices).map((service: Service) => service.launch()));\n}\n\nexport default Services;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviesGridItem.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviesGridItem.vue?vue&type=style&index=0&lang=scss&\"","import { arr, FluentArray } from '@noeldemartin/utils';\n\nexport type EventListener<T=unknown> = (payload: T) => unknown;\n\nexport class EventBus {\n\n    private listeners: Record<string, FluentArray<EventListener<any>>> = {};\n\n    public on<T=unknown>(event: string, listener: EventListener<T>): () => void {\n        if (!(event in this.listeners))\n            this.listeners[event] = arr<EventListener>([]);\n\n        this.listeners[event].push(listener);\n\n        return () => this.off(event, listener);\n    }\n\n    public off<T=unknown>(event: string, listener: EventListener<T>): void {\n        if (!(event in this.listeners))\n            return;\n\n        this.listeners[event].remove(listener);\n\n        if (this.listeners[event].isEmpty())\n            delete this.listeners[event];\n    }\n\n    public once(event: string, listener: EventListener): void {\n        const unregister = this.on(event, payload => {\n            listener(payload);\n            unregister();\n        });\n    }\n\n    public async emit(event: string, payload?: unknown): Promise<void> {\n        if (!(event in this.listeners))\n            return;\n\n        const eventListeners = this.listeners[event];\n\n        await Promise.all(eventListeners.map(listener => listener(payload)));\n    }\n\n    public until(event: string): Promise<unknown> {\n        return new Promise(resolve => this.once(event, resolve));\n    }\n\n}\n\nexport default new EventBus();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{staticClass:\"w-full\",attrs:{\"id\":_vm.id,\"options\":_vm.options,\"title\":\"Import Movies\"}},[_c('p',{staticClass:\"text-gray-700 leading-relaxed mb-3\"},[_vm._v(\" You can import movies from the following sources: \")]),_c('div',{staticClass:\"grid gap-4 grid-cols-fill-32 desktop:grid-cols-fill-40\"},_vm._l((_vm.sources),function(source){return _c('div',{key:source,staticClass:\"relative ratio-1/1\"},[_c('div',{staticClass:\"absolute inset-0 flex\"},[_c('button',{staticClass:\"\\n                        relative flex items-center justify-center w-full h-full\\n                        shadow border border-gray-400 hover:bg-gray-300\\n                    \",attrs:{\"type\":\"button\",\"title\":'Import from ' + _vm.mediaSourceNames[source],\"aria-label\":'Import from ' + _vm.mediaSourceNames[source]},on:{\"click\":function($event){return _vm.importMedia(source)}}},[(source === 'netflix')?_c('BaseIcon',{staticClass:\"w-full h-full\",attrs:{\"name\":source}}):(source !== 'goodfilms')?_c('BaseIcon',{staticClass:\"w-24 h-24\",attrs:{\"name\":source}}):_c('div',{staticClass:\"w-24 h-24 p-2 flex items-center justify-center\",staticStyle:{\"background\":\"#2c2c2c\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/logos/goodfilms.png\")}})])],1),(source !== 'imdb')?_c('button',{staticClass:\"absolute top-0 right-0 m-2 text-blue-400 hover:text-blue-600\",attrs:{\"type\":\"button\",\"title\":\"Get help about this import method\"},on:{\"click\":function($event){return _vm.$ui.openFileMarkdownModal('import-' + source, _vm.helpReplacements[source])}}},[_c('BaseIcon',{staticClass:\"w-5 h-5\",attrs:{\"name\":\"question\"}})],1):_vm._e()])])}),0),_c('p',{staticClass:\"text-gray-700 leading-relaxed my-3\"},[_vm._v(\" If you can't import your movies with any of these options, please \"),_c('BaseLink',{attrs:{\"url\":_vm.requestSourceUrl}},[_vm._v(\" let me know \")]),_vm._v(\" and I'll help you. \")],1),_c('p',{staticClass:\"text-gray-700 leading-relaxed\"},[_vm._v(\" In the meantime, you can probably find your movies \"),_c('BaseLink',{on:{\"click\":_vm.openSearch}},[_vm._v(\" using the search in the header \")]),_vm._v(\". \")],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{staticClass:\"w-full\",attrs:{\"id\":_vm.id,\"options\":_vm.options,\"title\":\"Import from IMDb\"}},[_c('p',{staticClass:\"mb-3 text-gray-700 leading-relaxed\"},[_vm._v(\" At the moment, importing data from IMDb is limited given their \"),_c('BaseLink',{attrs:{\"url\":\"https://www.imdb.com/interfaces/\"}},[_vm._v(\" lack of APIs \")]),_vm._v(\". \")],1),_c('p',{staticClass:\"mb-4 text-gray-700 leading-relaxed\"},[_vm._v(\" For now, you can introduce a text containing movie urls from imdb.com and they will be added to your collection. \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"\\n            rounded shadow-xs p-2 bg-blue-100 border border-blue-200 placeholder-gray-600\\n            mb-4 focus:border-blue-300\\n        \",attrs:{\"rows\":\"10\",\"placeholder\":_vm.textareaPlaceholder},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}}),_vm._v(\" \"),_c('BaseButton',{staticClass:\"bg-blue-500 text-white font-semibold justify-center hover:bg-blue-700\",on:{\"click\":_vm.submit}},[_vm._v(\" Import Movies \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Modal from '@/components/mixins/Modal';\n\nexport default Modal.extend({\n    data: () => ({ text: '' }),\n    computed: {\n        textareaPlaceholder(): string {\n            return [\n                'Examples of valid urls:',\n                '  - https://www.imdb.com/title/tt0245429',\n                '  - https://m.imdb.com/title/tt0245429',\n                '  - https://imdb.com/title/tt0245429',\n                '  - http://imdb.com/title/tt0245429',\n                '  - ...',\n            ].join('\\n');\n        },\n    },\n    methods: {\n        submit() {\n            let match;\n            const data = [];\n            const text = this.text.slice(0);\n            const regex = /https?:\\/\\/(www\\.)?(m\\.)?imdb\\.com\\/title\\/([a-zA-Z0-9]+)/g;\n\n            while((match = regex.exec(text))) {\n                data.push({ imdb: match[3] });\n            }\n\n            this.$ui.resolveModal(this.id, data);\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportIMDbMoviesModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportIMDbMoviesModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportIMDbMoviesModal.vue?vue&type=template&id=2bacfde4&\"\nimport script from \"./ImportIMDbMoviesModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportIMDbMoviesModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import parseCSV from 'csv-parse/lib/sync';\n\nimport Str from '@/utils/Str';\n\nclass CSV {\n\n    public parse<T extends Record<string, unknown>>(csv: string): T[] {\n        const rows = parseCSV(csv, {\n            trim: true,\n            skipEmptyLines: true,\n            relaxColumnCount: true,\n        }) as string[][];\n\n        if (rows.length < 2)\n            return [];\n\n        const header = rows.shift()!.map(h => Str.camel(Str.slug(h)));\n\n        return rows.map(row => {\n            const item = {} as Record<string, unknown>;\n\n            for (let i = 0; i < header.length; i++) {\n                item[header[i]] = row[i];\n            }\n\n            return item as T;\n        });\n    }\n\n}\n\nexport default new CSV();\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { MediaSource } from '@/services/Media';\n\nimport ImportIMDbMoviesModal from '@/components/modals/ImportIMDbMoviesModal.vue';\nimport Modal from '@/components/mixins/Modal';\n\nimport CSV from '@/utils/CSV';\nimport Files, { MediaType } from '@/utils/Files';\nimport Time from '@/utils/Time';\n\nexport default Modal.extend({\n    data: () => ({\n        sources: Object.values(MediaSource),\n    }),\n    computed: {\n        mediaSourceNames: () => ({\n            [MediaSource.IMDb]: 'IMDb',\n            [MediaSource.Netflix]: 'Netflix',\n            [MediaSource.JSONLD]: 'JSON-LD',\n            [MediaSource.TViso]: 'TViso',\n            [MediaSource.GoodFilms]: 'Good Fil.ms',\n        }),\n        helpReplacements(): any {\n            const filePath = 'docs#data-schema';\n            const tag = this.$app.isDevelopment ? 'main' : this.$app.versionName;\n\n            return {\n                jsonld: {\n                    url: `${this.$app.sourceUrl}/blob/${tag}/${filePath}`,\n                },\n            };\n        },\n        requestSourceUrl(): string {\n            return `${this.$app.sourceUrl}/issues/new?title=Support+importing+movies+from+...`;\n        },\n    },\n    methods: {\n        async openSearch() {\n            this.close();\n\n            // Wait for the modal to be hidden.\n            await Time.wait(350);\n\n            this.$search.start();\n        },\n        async importMedia(source: MediaSource) {\n            try {\n                const data = await this.getSourceData(source);\n\n                if (data.length === 0) {\n                    return;\n                }\n\n                await this.$media.importMovies(data, source);\n\n                this.close();\n            } catch (error) {\n                this.$ui.alert(\n                    'Import failed',\n                    'There was a problem importing that file, are you sure it\\'s in the correct format?',\n                );\n            }\n        },\n        async getSourceData(source: MediaSource): Promise<object[]> {\n            switch (source) {\n                case MediaSource.IMDb:\n                    return this.getDataFromModal();\n                case MediaSource.GoodFilms:\n                case MediaSource.Netflix:\n                    return this.getDataFromFile(MediaType.CSV);\n                default:\n                    return this.getDataFromFile(MediaType.JSON);\n            }\n        },\n        async getDataFromFile(format: MediaType): Promise<object[]> {\n            const fileContents = await Files.upload({ accept: format });\n            if (fileContents === null)\n                return [];\n\n            const data = this.parseData(format, fileContents);\n            if (!Array.isArray(data))\n                throw new Error('Invalid file format, expecting array');\n\n            return data;\n        },\n        async getDataFromModal(): Promise<object[]> {\n            const modal = this.$ui.openModal<object[]>(ImportIMDbMoviesModal);\n            const data = await modal.result;\n\n            return data || [];\n        },\n        parseData(format: MediaType, fileContents: string): unknown {\n            return {\n                [MediaType.JSON]: () => JSON.parse(fileContents),\n                [MediaType.CSV]: () => CSV.parse(fileContents),\n            }[format]();\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportMediaModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportMediaModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportMediaModal.vue?vue&type=template&id=0478f9ec&\"\nimport script from \"./ImportMediaModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportMediaModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M6.47 9.8A5 5 0 01.2 3.22l3.95 3.95 2.82-2.83L3.03.41a5 5 0 016.4 6.68l10 10-2.83 2.83L6.47 9.8z\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.href ? 'a' : 'button',_vm._b({tag:\"component\",staticClass:\"flex items-center rounded-md\",class:{ 'px-4 py-2': !_vm.noPadding },on:{\"click\":function($event){!_vm.href && _vm.$emit('click', $event)}}},'component',\n        _vm.href\n            ? {\n                href: _vm.href,\n                target: '_blank',\n            }\n            : { type: _vm.submit ? 'submit' : 'button' }\n    ,false),[(_vm.icon)?_c('BaseIcon',{class:_vm.computedIconClass,attrs:{\"name\":_vm.icon}}):_vm._e(),_c('span',{class:_vm.textClass},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    props: {\n        submit: {\n            type: Boolean,\n            default: false,\n        },\n        href: {\n            type: String,\n            default: null,\n        },\n        icon: {\n            type: String,\n            default: null,\n        },\n        textClass: {\n            type: String,\n            default: '',\n        },\n        iconClass: {\n            type: String,\n            default: null,\n        },\n        noPadding: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    computed: {\n        computedIconClass(): string {\n            return this.iconClass || ('w-6 h-6' + (this.$slots.default ? ' mr-2' : ''));\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BaseButton.vue?vue&type=template&id=6f5709b8&\"\nimport script from \"./BaseButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M10 12a2 2 0 110-4 2 2 0 010 4zm0-6a2 2 0 110-4 2 2 0 010 4zm0 12a2 2 0 110-4 2 2 0 010 4z\"}})])\n          )\n        }\n      }\n    ","export interface DebouncedFunction<Args extends any[]> {\n    (...args: Args): void;\n    cancel(): void;\n}\n\nclass Time {\n\n    public debounce<Args extends any[]>(callback: (...args: Args) => any, delay: number): DebouncedFunction<Args> {\n        let timeout: any;\n\n        const debouncedCallback: DebouncedFunction<Args> = (...args: Args) => {\n            debouncedCallback.cancel();\n            timeout = setTimeout(() => callback(...args), delay);\n        };\n\n        debouncedCallback.cancel = () => clearTimeout(timeout);\n\n        return debouncedCallback;\n    }\n\n    public isValidDateString(value: string): boolean {\n        if (typeof value !== 'string')\n            return false;\n\n        const date = new Date(value);\n\n        return !isNaN(date.getTime());\n    }\n\n    public wait(milliseconds: number): Promise<void> {\n        return new Promise(resolve => setTimeout(resolve, milliseconds));\n    }\n\n    public waitAnimationFrame(): Promise<void> {\n        return new Promise(resolve => requestAnimationFrame(() => resolve()));\n    }\n\n}\n\nexport default new Time();\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z\"}})])\n          )\n        }\n      }\n    ","import Soukai, { definitionsFromContext } from 'soukai';\nimport SoukaiSolid from 'soukai-solid';\n\nSoukai.loadModels(definitionsFromContext(require.context('@/models/soukai')));\nSoukaiSolid.loadSolidModels();\n","import { AuthenticationStatus } from '@/authentication';\nimport { arr, FluentArray, PromisedValue } from '@noeldemartin/utils';\nimport { Fetch } from 'soukai-solid';\n\nexport interface AuthListener {\n    onSessionStarted(session: AuthSession): Promise<void> | void;\n    onSessionEnded(): Promise<void> | void;\n}\n\nexport interface AuthSession {\n    webId: string;\n    authenticator: Authenticator;\n}\n\nexport default abstract class Authenticator {\n\n    public abstract fetch: Fetch;\n    private listeners: FluentArray<AuthListener> = arr<AuthListener>([]);\n    private booted?: PromisedValue<void>;\n\n    public abstract login(oidcIssuer: string): Promise<AuthenticationStatus>;\n\n    public abstract logout(): Promise<void>;\n\n    public async boot(): Promise<void> {\n        if (this.booted)\n            return this.booted;\n\n        this.booted = new PromisedValue;\n\n        await this.startSession();\n\n        this.booted.resolve();\n    }\n\n    public addListener(listener: AuthListener): () => void {\n        if (!this.listeners.includes(listener))\n            this.listeners.push(listener);\n\n        return () => {\n            this.removeListener(listener);\n        };\n    }\n\n    public removeListener(listener: AuthListener): void {\n        if (!this.listeners.includes(listener))\n            return;\n\n        this.listeners.remove(listener);\n    }\n\n    protected abstract startSession(): Promise<void>;\n\n    protected async onSessionStarted(session: Omit<AuthSession, 'authenticator'>): Promise<void> {\n        await Promise.all(\n            this.listeners.toArray().map(\n                async listener => {\n                    await listener.onSessionStarted?.call(listener, {\n                        authenticator: this,\n                        ...session,\n                    });\n                },\n            ),\n        );\n    }\n\n    protected async onSessionEnded(): Promise<void> {\n        await Promise.all(\n            this.listeners.toArray().map(\n                async listener => {\n                    await listener.onSessionEnded?.call(listener);\n                },\n            ),\n        );\n    }\n\n}\n","import { Fetch } from 'soukai-solid';\nimport { login, logout } from '@inrupt/solid-client-authn-browser';\n\nimport { AuthenticationStatus } from '@/authentication';\nimport Authenticator from '@/authentication/Authenticator';\nimport EventBus from '@/utils/EventBus';\n\nclass InruptAuthenticator extends Authenticator {\n\n    public fetch!: Fetch;\n    private _login!: typeof login;\n    private _logout!: typeof logout;\n\n    public async startSession(): Promise<void> {\n        const { default: { fetch, handleIncomingRedirect, login, logout } } = await import(\n            /* webpackChunkName: 'authentication-inrupt' */\n            '@/authentication/InruptAuthenticator.chunk');\n\n        this.fetch = fetch;\n        this._login = login;\n        this._logout = logout;\n\n        const session = await handleIncomingRedirect(window.location.href);\n\n        if (session?.isLoggedIn) {\n            await EventBus.emit('authenticated-fetch-ready', fetch);\n            await this.onSessionStarted({ webId: session.webId as string });\n        }\n    }\n\n    public async login(oidcIssuer: string): Promise<AuthenticationStatus> {\n        await this._login({\n            oidcIssuer,\n            clientName: 'Media Kraken',\n            redirectUrl: window.location.href,\n        });\n\n        return AuthenticationStatus.LoggingIn;\n    }\n\n    public async logout(): Promise<void> {\n        await this._logout();\n        await this.onSessionEnded();\n    }\n\n}\n\nexport default new InruptAuthenticator();\n","import { Fetch } from 'soukai-solid';\nimport { Session, SolidAuthClient } from 'solid-auth-client';\nimport { PromisedValue, Storage } from '@noeldemartin/utils';\n\nimport { AuthenticationStatus } from '@/authentication';\nimport Authenticator from '@/authentication/Authenticator';\n\nclass LegacyAuthenticator extends Authenticator {\n\n    private promisedClient?: PromisedValue<SolidAuthClient>;\n\n    public get fetch(): Fetch {\n        const client = this.promisedClient?.value;\n\n        return client ? client.fetch.bind(client) : window.fetch;\n    }\n\n    public async startSession(): Promise<void> {\n        if (this.promisedClient) {\n            await this.promisedClient;\n\n            return;\n        }\n\n        let activeSessionWebId: string | undefined;\n        const onSessionUpdated = async (session: Session | null | void) => {\n            session = session || null;\n\n            if (session?.webId === activeSessionWebId)\n                return;\n\n            activeSessionWebId = session?.webId;\n\n            if (activeSessionWebId)\n                await this.onSessionStarted({ webId: activeSessionWebId });\n            else\n                await this.onSessionEnded();\n        };\n\n        this.promisedClient = new PromisedValue();\n\n        // TODO this chunk is being built for the worker thread as well, even though it's never loaded\n        const { default: client } = await import(\n            /* webpackChunkName: 'authentication-legacy' */\n            '@/authentication/LegacyAuthenticator.chunk');\n\n        this.promisedClient.resolve(client);\n\n        await client.currentSession().then(onSessionUpdated);\n\n        client.trackSession(onSessionUpdated);\n    }\n\n    public async login(oidcIssuer: string): Promise<AuthenticationStatus> {\n        await this.startSession();\n\n        const session = await this.promisedClient!.value!.login(oidcIssuer);\n\n        return session ? AuthenticationStatus.LoggedIn : AuthenticationStatus.LoggingIn;\n    }\n\n    public async logout(): Promise<void> {\n        await this.startSession();\n        await this.promisedClient!.value!.logout();\n\n        // Clean up storage\n        // See https://github.com/solid/solid-auth-client/issues/96\n        Storage.remove('solid-auth-client');\n    }\n\n}\n\nexport default new LegacyAuthenticator();\n","import { AuthenticationMethod } from '@/authentication';\nimport Authenticator from '@/authentication/Authenticator';\nimport InruptAuthenticator from '@/authentication/InruptAuthenticator';\nimport LegacyAuthenticator from '@/authentication/LegacyAuthenticator';\n\nconst authenticators: Record<AuthenticationMethod, Authenticator> = {\n    [AuthenticationMethod.Inrupt]: InruptAuthenticator,\n    [AuthenticationMethod.Legacy]: LegacyAuthenticator,\n};\n\nexport default authenticators;\n","import { Fetch } from 'soukai-solid';\nimport { urlRoot, Storage, after } from '@noeldemartin/utils';\nimport { fetchLoginUserProfile, SolidUserProfile } from '@noeldemartin/solid-utils';\n\nimport SolidUser from '@/models/users/SolidUser';\n\nimport { defaultAuthenticationMethod, AuthenticationMethod, AuthenticationStatus } from '@/authentication';\nimport Authenticator, { AuthListener, AuthSession } from '@/authentication/Authenticator';\nimport authenticators from '@/authentication/authenticators';\n\nexport type SolidAuthPreviousLogin = {\n    loginUrl: string;\n    authenticationMethod: AuthenticationMethod;\n}\n\nexport interface SolidAuthSessionListener {\n    onUserUpdated(user: SolidUser | null): void;\n    onError(error: Error): void;\n}\n\nconst STORAGE_PREVIOUS_LOGIN_KEY = 'media-kraken-solid-auth';\n\nclass SolidAuth {\n\n    private listener!: SolidAuthSessionListener;\n    private authenticatorListener!: AuthListener;\n    private authenticator?: Authenticator;\n    private session?: AuthSession;\n    private _previousLogin?: SolidAuthPreviousLogin;\n    private _fetch?: Fetch;\n\n    public get fetch(): Fetch {\n        return this._fetch ?? this.session?.authenticator.fetch ?? window.fetch.bind(window);\n    }\n\n    public get previousLogin(): SolidAuthPreviousLogin | null {\n        return this._previousLogin ?? null;\n    }\n\n    public setFetch(fetch: Fetch): void {\n        this._fetch = fetch;\n    }\n\n    public async boot(listener: SolidAuthSessionListener): Promise<void> {\n        this.listener = listener;\n        this.authenticatorListener = {\n            onSessionStarted: this.onSessionStarted.bind(this),\n            onSessionEnded: this.onSessionEnded.bind(this),\n        };\n\n        if (!Storage.has(STORAGE_PREVIOUS_LOGIN_KEY))\n            return;\n\n        this._previousLogin = Storage.get(STORAGE_PREVIOUS_LOGIN_KEY) as SolidAuthPreviousLogin;\n\n        try {\n            await this.useAuthenticator(this._previousLogin.authenticationMethod);\n        } catch (error) {\n            listener.onError(error);\n        }\n    }\n\n    public async login(loginUrl: string, authenticationMethod?: AuthenticationMethod): Promise<AuthenticationStatus> {\n        if (this.session)\n            return AuthenticationStatus.LoggedIn;\n\n        authenticationMethod = authenticationMethod ?? defaultAuthenticationMethod;\n\n        const profile = await fetchLoginUserProfile(loginUrl);\n        const oidcIssuerUrl = profile?.oidcIssuerUrl ?? urlRoot(profile?.webId ?? loginUrl);\n        const loginData: SolidAuthPreviousLogin = { loginUrl, authenticationMethod };\n\n        Storage.set(STORAGE_PREVIOUS_LOGIN_KEY, loginData);\n\n        try {\n            const authenticator = await this.useAuthenticator(authenticationMethod);\n            const status = await authenticator.login(oidcIssuerUrl);\n\n            if (status === AuthenticationStatus.LoggingIn)\n                await after({ seconds: 10 });\n\n            return status;\n        } catch (error) {\n            Storage.remove(STORAGE_PREVIOUS_LOGIN_KEY);\n\n            return AuthenticationStatus.Failed;\n        }\n    }\n\n    public async logout(): Promise<void> {\n        if (Storage.has(STORAGE_PREVIOUS_LOGIN_KEY))\n            Storage.remove(STORAGE_PREVIOUS_LOGIN_KEY);\n\n        if (this._previousLogin)\n            delete this._previousLogin;\n\n        await this.authenticator?.logout();\n    }\n\n    private async useAuthenticator(authenticationMethod: AuthenticationMethod): Promise<Authenticator> {\n        if (this.authenticator) {\n            this.authenticator.removeListener(this.authenticatorListener);\n\n            delete this.authenticator;\n        }\n\n        this.authenticator = authenticators[authenticationMethod];\n\n        this.authenticator.addListener(this.authenticatorListener);\n\n        try {\n            await this.authenticator.boot();\n        } catch (error) {\n            this.authenticator.removeListener(this.authenticatorListener);\n\n            delete this.authenticator;\n            throw error;\n        }\n\n        return this.authenticator;\n    }\n\n    private async onSessionStarted(session: AuthSession): Promise<void> {\n        if (session.webId === this.session?.webId)\n            return;\n\n        const profile = await fetchLoginUserProfile(session.webId, session.authenticator.fetch) as SolidUserProfile;\n        const user = new SolidUser(profile);\n\n        this.session = session;\n        this.listener.onUserUpdated(user);\n    }\n\n    private onSessionEnded(): void {\n        if (!this.session)\n            return;\n\n        delete this.session;\n        this.listener.onUserUpdated(null);\n    }\n\n}\n\nexport default new SolidAuth();\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M0 11l2-2 5 5L18 3l2 2L7 18z\"}})])\n          )\n        }\n      }\n    ","var map = {\n\t\"./MediaContainer\": \"b0d7\",\n\t\"./MediaContainer.ts\": \"b0d7\",\n\t\"./Movie\": \"6ea5\",\n\t\"./Movie.ts\": \"6ea5\",\n\t\"./TypeRegistration\": \"3349\",\n\t\"./TypeRegistration.ts\": \"3349\",\n\t\"./WatchAction\": \"e423\",\n\t\"./WatchAction.ts\": \"e423\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"23ef\";","var render, staticRenderFns\nimport script from \"./BaseTransitionGroup.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseTransitionGroup.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { CreateElement, VNode } from 'vue';\n\nimport Transition from '@/components/mixins/Transition';\n\nexport default Transition.extend({\n    props: {\n        tag: {\n            type: String,\n            default: 'div',\n        },\n        moveDuration: {\n            type: Number,\n            default: null,\n        },\n        moveClass: {\n            type: String,\n            default: '',\n        },\n    },\n    render(h: CreateElement): VNode {\n        if (!this.animationsEnabled || !this.enabled)\n            return h(this.tag, this.$slots.default);\n\n        return h(\n            'transition-group',\n            {\n                props: {\n                    tag: this.tag,\n                    moveClass: [\n                        'transition-all',\n                        'duration-' + (this.moveDuration || this.duration),\n                        ...this.moveClass.split(' '),\n                    ].join(' '),\n                    ...this.vueTransitionProps,\n                },\n                on: this.vueTransitionListeners,\n            },\n            this.$slots.default,\n        );\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTransitionGroup.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTransitionGroup.vue?vue&type=script&lang=ts&\"","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M2.93 17.07A10 10 0 1117.07 2.93 10 10 0 012.93 17.07zM11.4 10l2.83-2.83-1.41-1.41L10 8.59 7.17 5.76 5.76 7.17 8.59 10l-2.83 2.83 1.41 1.41L10 11.41l2.83 2.83 1.41-1.41L11.41 10z\"}})])\n          )\n        }\n      }\n    ","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.route)?_c('router-link',{staticClass:\"inline-block text-primary-700 hover:underline hover:text-primary-900\",attrs:{\"title\":_vm.title,\"to\":_vm.routerTo}},[_vm._t(\"default\")],2):(_vm.url)?_c('a',{staticClass:\"inline-block text-primary-700 hover:underline hover:text-primary-900\",attrs:{\"target\":\"_blank\",\"title\":_vm.title,\"href\":_vm.url}},[_vm._t(\"default\")],2):_c('button',{staticClass:\"inline-block text-primary-700 hover:underline hover:text-primary-900\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Location } from 'vue-router';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    props: {\n        title: {\n            type: String,\n            default: null,\n        },\n        url: {\n            type: String,\n            default: null,\n        },\n        route: {\n            type: String,\n            default: null,\n        },\n    },\n    computed: {\n        routerTo(): Location {\n            return { name: this.route };\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseLink.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseLink.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BaseLink.vue?vue&type=template&id=26b5c88e&\"\nimport script from \"./BaseLink.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseLink.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.costumeImageUrl)?_c('img',{attrs:{\"src\":_vm.costumeImageUrl,\"alt\":\"\"}}):_c(_vm.iconComponent,{tag:\"component\",staticClass:\"fill-current\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    props: {\n        name: {\n            type: String,\n            required: true,\n        },\n    },\n    computed: {\n        iconComponent(): Vue {\n            return require(`@/assets/icons/${this.name}.svg`).default;\n        },\n        costumeImageUrl(): string | null {\n            if (this.name !== 'media-kraken') {\n                return null;\n            }\n\n            return this.$app.costumeImageUrl;\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseIcon.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseIcon.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BaseIcon.vue?vue&type=template&id=ec696536&\"\nimport script from \"./BaseIcon.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseIcon.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M13.126 14.56a8.136 8.136 0 111.434-1.434l5.44 5.42-1.444 1.444-5.42-5.43h-.01zm-4.983-.326a6.1 6.1 0 006.101-6.101 6.1 6.1 0 00-6.101-6.101 6.1 6.1 0 00-6.101 6.101 6.1 6.1 0 006.101 6.101z\"}}),_c('path',{attrs:{\"d\":\"M11.511 5.885L9.263 8.133l2.248 2.248-1.12 1.119-2.248-2.247L5.895 11.5l-1.12-1.119 2.248-2.248-2.248-2.248 1.12-1.12 2.248 2.248 2.248-2.248 1.12 1.12z\"}})])\n          )\n        }\n      }\n    ","import { FieldType } from 'soukai';\nimport { SolidModel } from 'soukai-solid';\n\nexport default class TypeRegistration extends SolidModel {\n\n    public static ldpResource = false;\n\n    public static rdfContexts = {\n        'solid': 'http://www.w3.org/ns/solid/terms#',\n    };\n\n    public static rdfsClasses = ['solid:TypeRegistration'];\n\n    public static timestamps = false;\n\n    public static fields = {\n        forClass: {\n            type: FieldType.Key,\n            rdfProperty: 'solid:forClass',\n            required: true,\n        },\n        instanceContainer: {\n            type: FieldType.Key,\n            rdfProperty: 'solid:instanceContainer',\n            required: true,\n        },\n    };\n\n}\n","export default class MediaKrakenError extends Error {\n\n    constructor(message?: string) {\n        super(message);\n\n        // Fix inheritance: https://stackoverflow.com/questions/41102060/typescript-extending-error-class\n        this.name = new.target.name;\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n\n}\n","class UUID {\n\n    // Obtained from https://gist.github.com/jed/982883\n    public generate(placeholder?: any): string {\n        return placeholder\n            ? (placeholder ^ Math.random() * 16 >> placeholder / 4).toString(16)\n            : ('' + 1e7 + -1e3 + -4e3 + -8e3 + -1e11)\n                .replace(/[018]/g, this.generate);\n    }\n\n}\n\nexport default new UUID();\n","class Storage {\n\n    public set(key: string, value: any): void {\n        if (typeof value === 'undefined')\n            value = '__undefined__';\n\n        localStorage.setItem(key, JSON.stringify(value));\n    }\n\n    public get(key: string, defaultValue: any = null): any {\n        const value = localStorage.getItem(key);\n\n        if (value === null)\n            return defaultValue;\n\n        if (value === '__undefined__')\n            return undefined;\n\n        return JSON.parse(value);\n    }\n\n    public has(key: string): boolean {\n        return localStorage.getItem(key) !== null;\n    }\n\n    public remove(key: string): void {\n        localStorage.removeItem(key);\n    }\n\n    public pull(key: string, defaultValue: any = null): any {\n        if (!this.has(key))\n            return defaultValue;\n\n        const value = this.get(key);\n\n        this.remove(key);\n\n        return value;\n    }\n\n}\n\nexport default new Storage();\n","import { Store } from 'vuex';\n\nimport Services from '@/services';\n\nexport type ComputedStateDefinitions<State, ComputedState> = {\n    [ComputedProperty in keyof ComputedState]:\n        (state: State, computed: ComputedState) => ComputedState[ComputedProperty];\n};\n\nexport default abstract class Service<State = {}, ComputedState = {}> {\n\n\n    public readonly ready: Promise<void>;\n\n    protected readonly storeNamespace: string = '';\n\n    private resolveReady!: () => void;\n    private rejectReady!: () => void;\n    private _computedState?: ComputedState;\n\n    constructor() {\n        this.ready = new Promise((resolve, reject) => {\n            this.resolveReady = resolve;\n            this.rejectReady = reject;\n        });\n    }\n\n    public launch(): Promise<void> {\n        this.boot().then(this.resolveReady).catch(this.rejectReady);\n\n        return this.ready;\n    }\n\n    protected get state(): State {\n        return Services.$store.state[this.storeNamespace] || this.getInitialState();\n    }\n\n    protected getComputedState<P extends keyof ComputedState>(property: P): ComputedState[P] {\n        return Services.$store.getters[`${this.storeNamespace}/${property}`];\n    }\n\n    protected async boot(): Promise<void> {\n        this.registerStoreModule(Services.$store);\n    }\n\n    protected registerStoreModule(store: Store<State>): void {\n        const initialState = this.getInitialState();\n\n        if (Object.keys(initialState).length === 0)\n            return;\n\n        store.registerModule(this.storeNamespace, {\n            namespaced: true,\n            state: initialState,\n            mutations: {\n                setState: (state: State, newState: Partial<State>) => {\n                    Object.assign(state, newState);\n                },\n            },\n            getters: this.getComputedStateDefinitions(),\n        });\n    }\n\n    protected watchStore<T>(\n        getter: (state: State, computed: ComputedState) => T,\n        callback: (oldValue: T, newValue: T) => void,\n    ): () => void {\n        return Services.$store.watch(\n            (state, computed) => getter(state[this.storeNamespace], computed),\n            callback,\n        );\n    }\n\n    protected getInitialState(): State {\n        return {} as any;\n    }\n\n    protected getComputedStateDefinitions(): ComputedStateDefinitions<State, ComputedState> {\n        return {} as any;\n    }\n\n    protected setState(newState: Partial<State>): void {\n        Services.$store.commit(`${this.storeNamespace}/setState`, newState);\n    }\n\n}\n","module.exports = __webpack_public_path__ + \"js/0.81b0a3fd.worker.js\"","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\"}})])\n          )\n        }\n      }\n    ","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./main.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./main.scss?vue&type=style&index=0&lang=scss&\"","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M15.3 14.89l2.77 2.77a1 1 0 010 1.41 1 1 0 01-1.41 0l-2.59-2.58A5.99 5.99 0 0111 18V9.04a1 1 0 00-2 0V18a5.98 5.98 0 01-3.07-1.51l-2.59 2.58a1 1 0 01-1.41 0 1 1 0 010-1.41l2.77-2.77A5.95 5.95 0 014.07 13H1a1 1 0 110-2h3V8.41L.93 5.34a1 1 0 010-1.41 1 1 0 011.41 0l2.1 2.1h11.12l2.1-2.1a1 1 0 011.41 0 1 1 0 010 1.41L16 8.41V11h3a1 1 0 110 2h-3.07c-.1.67-.32 1.31-.63 1.89zM15 5H5a5 5 0 1110 0z\"}})])\n          )\n        }\n      }\n    ","var map = {\n\t\"./0.1.4.ts\": \"c6da\",\n\t\"./0.1.7.ts\": \"e570\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"552d\";","import Time from '@/utils/Time';\n\nexport const enum Format {\n    Raw = 'raw',\n}\n\nexport const enum MediaType {\n    JSON = 'application/json',\n    CSV = 'text/csv',\n}\n\ninterface ActiveUpload {\n    output: Format;\n    resolve?(result: UploadResult): void;\n    reject?(error?: any): void;\n}\n\ninterface UploadConfig {\n    output?: Format;\n    accept?: MediaType;\n}\n\ntype UploadResult = string | null;\n\nconst BODY_CANCEL_EVENTS = ['focus', 'mousemove', 'touchmove'];\n\nconst MEDIA_TYPES_ACCEPT = {\n    [MediaType.JSON]: '.json',\n    [MediaType.CSV]: '.csv',\n};\n\nclass Files {\n\n    private input!: HTMLInputElement;\n    private activeUpload?: ActiveUpload;\n\n    private cancelActiveUpload = async () => {\n        if (!this.activeUpload)\n            return;\n\n        BODY_CANCEL_EVENTS.map(\n            event => document.body.removeEventListener(event, this.cancelActiveUpload),\n        );\n\n        this.activeUpload.resolve!(null);\n        delete this.activeUpload;\n    }\n\n    public setInput(input: HTMLInputElement): void {\n        this.input = input;\n        this.input.onchange = () => this.onInputChanged();\n    }\n\n    public upload(config: UploadConfig = {}): Promise<UploadResult> {\n        if (this.activeUpload)\n            return Promise.reject('FileInput is already processing an upload');\n\n        this.input.setAttribute('value', '');\n        this.input.setAttribute('accept', MEDIA_TYPES_ACCEPT[config.accept!] || '*');\n\n        const promise = this.initializeActiveUpload(config.output);\n\n        this.input.click();\n\n        return promise;\n    }\n\n    public download(filename: string, content: string, mediaType: MediaType = MediaType.JSON) {\n        const url = window.URL.createObjectURL(new Blob([content], {type: mediaType}));\n        const anchor = document.createElement('a');\n\n        anchor.style.display = 'none';\n        anchor.href = url;\n        anchor.download = filename;\n        document.body.appendChild(anchor);\n        anchor.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(anchor);\n    }\n\n    private initializeActiveUpload(output: Format = Format.Raw): Promise<UploadResult> {\n        this.activeUpload = { output };\n\n        // Make sure this doesn't start listening before the file picker modal opens\n        Time.wait(200)\n            .then(() => BODY_CANCEL_EVENTS.map(event => this.registerCancelUploadListener(event)));\n\n        return new Promise<UploadResult>((resolve, reject) => {\n            this.activeUpload!.resolve = resolve;\n            this.activeUpload!.reject = reject;\n        });\n    }\n\n    private registerCancelUploadListener(event: string): void {\n        document.body.addEventListener(event, this.cancelActiveUpload);\n    }\n\n    private onInputChanged(): void {\n        if (!this.activeUpload || !this.input.files || this.input.files.length === 0)\n            return;\n\n        const reader = new FileReader();\n        const activeUpload = this.activeUpload;\n\n        delete this.activeUpload;\n\n        reader.onload = () => {\n            if (!activeUpload)\n                return;\n\n            activeUpload.resolve!(reader.result as string);\n        };\n\n        reader.onerror = error => {\n            if (!activeUpload)\n                return;\n\n            activeUpload.reject!(error);\n        };\n\n        switch(activeUpload.output) {\n            case Format.Raw:\n                reader.readAsText(this.input.files[0]);\n                break;\n        }\n    }\n\n}\n\nexport default new Files();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"flex flex-col mb-4 desktop:flex-row\"},[_c('div',{staticClass:\"relative -mx-4 px-4 py-2 desktop:py-0\"},[_c('div',{staticClass:\"absolute inset-0 opacity-gradient-top desktop:hidden\"},[_c('div',{staticClass:\"absolute inset-0 bg-gray-300\"}),(_vm.movie.posterUrl)?_c('div',{staticClass:\"absolute inset-0 opacity-75 bg-cover\",style:({\n                        filter: 'blur(.5px)',\n                        backgroundImage: (\"url('\" + (_vm.movie.posterUrl) + \"')\"),\n                    })}):_c('BaseIcon',{staticClass:\"\\n                        absolute inset-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1/3 h-auto\\n                        text-gray-500\\n                    \",attrs:{\"name\":\"photo\"}})],1),_c('MoviePoster',{staticClass:\"w-24 rounded shadow flex-shrink-0 mr-4 desktop:w-64\",class:{ 'opacity-0 desktop:opacity-100': !_vm.movie.posterUrl },attrs:{\"url\":_vm.movie.posterUrl}})],1),_c('div',{staticClass:\"flex flex-col flex-grow\"},[_c('div',{staticClass:\"flex justify-between\"},[_c('div',{staticClass:\"flex flex-col\"},[_c('h1',{staticClass:\"text-2xl font-semibold mb-1 mt-2 desktop:mt-0\"},[_vm._v(\" \"+_vm._s(_vm.movie.title)+\" \"),(_vm.movie.releaseDate)?_c('span',{staticClass:\"font-medium text-lg\"},[_vm._v(\" (\"+_vm._s(_vm.movie.releaseDate.getFullYear())+\") \")]):_vm._e()]),_c('div',{staticClass:\"text-sm mb-3\"},[(!_vm.$viewer.isActive)?_c(_vm.movie.watched ? 'div' : 'button',_vm._g(_vm._b({tag:\"component\",staticClass:\"group leading-normal\"},'component',_vm.movie.watched ? {} : { type: 'button' },false),_vm.movie.watched ? {} : { click: _vm.markWatched }),[_c('div',{staticClass:\"flex items-center\",class:{\n                                    'text-green-700': _vm.movie.watched,\n                                    'text-blue-700 group-hover:text-green-700': _vm.movie.pending,\n                                }},[(_vm.movie.pending)?[_c('BaseIcon',{staticClass:\"w-3 h-3 mr-1 group-hover:hidden\",attrs:{\"name\":\"time\"}}),_c('span',{staticClass:\"group-hover:hidden\"},[_vm._v(\"watch later\")])]:_vm._e(),_c('BaseIcon',{staticClass:\"w-3 h-3 mr-1\",class:{ 'hidden group-hover:block': _vm.movie.pending },attrs:{\"name\":\"checkmark\"}}),_c('span',{class:{ 'hidden group-hover:block': _vm.movie.pending }},[_vm._v(\"watched\")])],2)]):_vm._e()],1)]),(!_vm.$viewer.isActive)?_c('BaseMenu',{attrs:{\"direction\":\"top-right\",\"options\":[\n                        (_vm.movie && _vm.movie.watched)\n                            ? { text: 'Watch later', icon: 'time', handle: _vm.markWatchLater }\n                            : { text: 'Watch', icon: 'checkmark', handle: _vm.markWatched },\n                        { text: 'Delete', icon: 'trash', handle: _vm.deleteMovie } ]},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                    var toggleActionsMenu = ref.toggle;\nreturn [_c('BaseButton',{staticClass:\"w-8 h-8 -mr-2 mt-2 justify-center desktop:mt-0 hover:bg-black-overlay\",attrs:{\"icon\":\"more\",\"aria-label\":\"Open actions menu\",\"no-padding\":\"\"},on:{\"click\":toggleActionsMenu}})]}}],null,false,4138837446)}):_vm._e()],1),_c('p',{staticClass:\"leading-relaxed text-gray-700\"},[_vm._v(\" \"+_vm._s(_vm.movie.description || 'No description.')+\" \")]),(_vm.externalModels)?_c('ul',{staticClass:\"flex items-center justify-end mt-4\"},_vm._l((_vm.externalModels),function(externalModel){return _c('li',{key:externalModel.domain,staticClass:\"mr-2\"},[_c('a',{attrs:{\"href\":externalModel.url,\"target\":\"_blank\"}},[(externalModel.icon)?_c('BaseIcon',{staticClass:\"w-auto h-5\",attrs:{\"name\":externalModel.icon}}):_c('span',{staticClass:\"text-sm text-primary-700 hover:underline hover:text-primary-900\"},[_vm._v(\" view at \"+_vm._s(externalModel.domain)+\" \")])],1)])}),0):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport Url from '@/utils/Url';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport MoviePoster from '@/components/MoviePoster.vue';\n\ninterface ExternalModel {\n    url: string;\n    domain: string;\n    icon: string | null;\n}\n\nconst DOMAIN_ICONS: { [domain: string]: string } = {\n    'imdb.com': 'imdb',\n    'themoviedb.org': 'tmdb',\n};\n\nexport default Vue.extend({\n    components: {\n        MoviePoster,\n    },\n    props: {\n        movie: {\n            type: Object as () => Movie,\n            required: true,\n        },\n    },\n    computed: {\n        externalModels(): ExternalModel[] | null {\n            if (!this.movie)\n                return null;\n\n            return this.movie.externalUrls.map(url => {\n                const domain = Url.parseRootDomain(url) as string;\n\n                return {\n                    url,\n                    domain,\n                    icon: DOMAIN_ICONS[domain] || null,\n                };\n            });\n        },\n    },\n    methods: {\n        async markWatched() {\n            if (!this.movie || this.movie.watched)\n                return;\n\n            await this.$ui.updateModel(this.movie, movie => movie.watch());\n        },\n        async markWatchLater() {\n            if (!this.movie)\n                return;\n\n            if (!(await this.$ui.confirm('Mark this movie to watch later?')))\n                return;\n\n            await this.$ui.loading(\n                async () => {\n                    await this.movie!.loadRelationIfUnloaded('actions');\n                    await Promise.all(this.movie!.actions!.map(action => action.delete()));\n\n                    this.movie!.setRelationModels('actions', []);\n                },\n                `Marking **${this.movie.title}** to watch later`,\n            );\n        },\n        async deleteMovie() {\n            if (!this.movie)\n                return;\n\n            if (!(await this.$ui.confirm('Delete this movie?')))\n                return;\n\n            this.$router.push({ name: this.$media.movies.length === 1 ? 'home' : 'collection' });\n\n            await this.$ui.loading(\n                async () => {\n                    await this.$media.removeMovie(this.movie!);\n                    await this.movie!.delete();\n                },\n                `Deleting **${this.movie.title}**...`,\n            );\n\n            this.$ui.showSnackbar(\n                `**${this.movie.title}** has been removed from your collection.`,\n                { transient: true },\n            );\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieDetails.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieDetails.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MovieDetails.vue?vue&type=template&id=26334088&\"\nimport script from \"./MovieDetails.vue?vue&type=script&lang=ts&\"\nexport * from \"./MovieDetails.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M13 10v6H7v-6H2l8-8 8 8h-5zM0 18h20v2H0v-2z\"}})])\n          )\n        }\n      }\n    ","import Soukai, { Attributes } from 'soukai';\nimport { openDB, IDBPDatabase, DBSchema, deleteDB } from 'idb';\nimport { SolidModel, SolidDocument } from 'soukai-solid';\n\ninterface CachedDocumentData {\n    updatedAt: Date;\n    models: Record<string, CachedModel>;\n}\n\ninterface CachedModel {\n    modelName: string;\n    attributes: Attributes;\n    relationModelNames: Record<string, string>;\n    relationAttributes:  Record<string, Attributes[]>;\n}\n\ninterface DatabaseSchema extends DBSchema {\n    'models-cache': {\n        value: CachedDocumentData;\n        key: string;\n    };\n}\n\nclass ModelsCache {\n\n    private connection?: IDBPDatabase<DatabaseSchema>;\n\n    public async getFromDocument(document: SolidDocument, validAge: number = 0): Promise<SolidModel[] | null> {\n        if (!document.updatedAt)\n            return null;\n\n        const data = await this.getDocumentData(document.url);\n\n        if (!data || Math.abs(document.updatedAt.getTime() - data.updatedAt.getTime()) > validAge)\n            return null;\n\n        return this.deserializeModels(data);\n    }\n\n    public async rememberDocument(documentUrl: string, documentUpdatedAt: Date): Promise<void> {\n        if (!documentUpdatedAt)\n            return;\n\n        await this.setDocumentData(documentUrl, {\n            models: {},\n            updatedAt: documentUpdatedAt,\n        });\n    }\n\n    public async remember(model: SolidModel, relatedModels: Record<string, SolidModel[]> = {}): Promise<void> {\n        const documentUrl = model.getDocumentUrl();\n\n        if (!documentUrl)\n            return;\n\n        const data = await this.getDocumentData(documentUrl);\n\n        if (!data)\n            return;\n\n        data.models[model.url] = this.serializeModel(model, relatedModels);\n\n        await this.setDocumentData(documentUrl, data);\n    }\n\n    public async forgetDocument(url: string): Promise<void> {\n        await this.deleteDocumentData(url);\n    }\n\n    public async clear(): Promise<void> {\n        if (this.connection) {\n            this.connection.close();\n            delete this.connection;\n        }\n\n        await deleteDB('media-kraken');\n    }\n\n    private async getDocumentData(url: string): Promise<CachedDocumentData | null> {\n        try {\n            const connection = await this.getConnection();\n            const data = await this.retryingOnTransactionInactive(() => {\n                const transaction = connection.transaction('models-cache', 'readonly');\n\n                return transaction.store.get(url);\n            });\n\n            return data || null;\n        } catch (e) {\n            return null;\n        }\n    }\n\n    private async setDocumentData(url: string, data: CachedDocumentData): Promise<void> {\n        const connection = await this.getConnection();\n\n        await this.retryingOnTransactionInactive(() => {\n            const transaction = connection.transaction('models-cache', 'readwrite');\n\n            transaction.store.put(data, url);\n\n            return transaction.done;\n        });\n    }\n\n    private async deleteDocumentData(url: string): Promise<void> {\n        const connection = await this.getConnection();\n\n        await this.retryingOnTransactionInactive(() => {\n            const transaction = connection.transaction('models-cache', 'readwrite');\n\n            transaction.store.delete(url);\n\n            return transaction.done;\n        });\n    }\n\n    private serializeModel(model: SolidModel, relatedModels: Record<string, SolidModel[]>): CachedModel {\n        return {\n            modelName: model.modelClass.modelName,\n            attributes: model.getAttributes(),\n            relationModelNames: Object\n                .keys(relatedModels)\n                .reduce((relationModelNames, relation) => {\n                    relationModelNames[relation] = model.getRelation(relation)!.relatedClass.modelName;\n\n                    return relationModelNames;\n                }, {} as Record<string, string>),\n            relationAttributes: Object\n                .entries(relatedModels)\n                .reduce((relationAttributes, [relation, models]) => {\n                    relationAttributes[relation] = models.map(model => model.getAttributes());\n\n                    return relationAttributes;\n                }, {} as Record<string, Attributes[]>),\n        };\n    }\n\n    private deserializeModels(data: CachedDocumentData): SolidModel[] {\n        return Object.values(data.models).map(modelData => this.deserializeModel(modelData));\n    }\n\n    private deserializeModel(data: CachedModel): SolidModel {\n        const modelClass = Soukai.model(data.modelName) as typeof SolidModel;\n        const model = modelClass.newInstance(data.attributes, true);\n\n        for (const [relation, relatedModelsAttributes] of Object.entries(data.relationAttributes)) {\n            model.setRelationModels(\n                relation,\n                relatedModelsAttributes.map(attributes => {\n                    const relatedModelClass = Soukai.model(data.relationModelNames[relation]) as typeof SolidModel;\n\n                    return relatedModelClass.newInstance(attributes, true);\n                }),\n            );\n        }\n\n        return model;\n    }\n\n    private async getConnection(): Promise<IDBPDatabase<DatabaseSchema>> {\n        if (!this.connection)\n            this.connection = await openDB('media-kraken', 1, {\n                upgrade(db) {\n                    db.createObjectStore('models-cache');\n                },\n            });\n\n        return this.connection;\n    }\n\n    // See https://github.com/jakearchibald/idb/issues/201\n    private retryingOnTransactionInactive<R>(operation: () => R): R {\n        try {\n            return operation();\n        } catch (error) {\n            if (\n                !(error instanceof Error) || (\n                    !error.name.toLowerCase().includes('inactive') &&\n                    !error.message.toLowerCase().includes('inactive')\n                )\n            ) {\n                throw error;\n            }\n\n            return operation();\n        }\n    }\n\n}\n\nexport default new ModelsCache();\n","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options,\"fullscreen\":_vm.$ui.mobile}},[_c('div',{staticClass:\"flex flex-col flex-grow desktop:flex-row\"},[(_vm.movie.posterUrl)?_c('div',{staticClass:\"relative -mx-4 -mt-4 mb-2 p-4 desktop:m-0 desktop:p-0\"},[(_vm.$ui.mobile)?[_c('button',{staticClass:\"absolute top-0 right-0 m-4 p-2 rounded-full z-10 bg-white-overlay\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_c('BaseIcon',{staticClass:\"w-4 h-4 text-gray-800\",attrs:{\"name\":\"close\"}})],1),_c('div',{staticClass:\"absolute inset-0 opacity-gradient-top\"},[_c('div',{staticClass:\"absolute inset-0 bg-gray-300\"}),_c('div',{staticClass:\"absolute inset-0 opacity-75 bg-cover\",style:({\n                            filter: 'blur(.5px)',\n                            backgroundImage: (\"url('\" + (_vm.movie.posterUrl) + \"')\"),\n                        })})])]:_vm._e(),_c('MoviePoster',{staticClass:\"w-24 rounded shadow flex-shrink-0 mr-4 desktop:w-64\",attrs:{\"url\":_vm.movie.posterUrl}})],2):_vm._e(),_c('div',{staticClass:\"flex flex-col flex-grow max-h-full\"},[_c('div',{staticClass:\"flex items-center mb-2\"},[_c('h2',{staticClass:\"text-xl font-semibold\"},[_vm._v(\" \"+_vm._s(_vm.movie.title)+\" \"),(_vm.movie.releaseDate)?_c('span',{staticClass:\"font-medium text-base\"},[_vm._v(\" (\"+_vm._s(_vm.movie.releaseDate.getFullYear())+\") \")]):_vm._e()]),_c('div',{staticClass:\"flex-grow\"}),(_vm.$ui.desktop || !_vm.movie.posterUrl)?_c('button',{staticClass:\"p-2 rounded-lg self-start hover:bg-gray-300 desktop:self-center\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_c('BaseIcon',{staticClass:\"w-4 h-4 text-gray-800\",attrs:{\"name\":\"close\"}})],1):_vm._e()]),(_vm.movie.description)?_c('p',{staticClass:\"text-sm text-gray-700 mb-2 leading-relaxed overflow-y-auto\"},[_vm._v(\" \"+_vm._s(_vm.movie.description)+\" \")]):_vm._e(),(_vm.externalModels)?_c('ul',{staticClass:\"flex items-center justify-end mt-4\"},_vm._l((_vm.externalModels),function(externalModel){return _c('li',{key:externalModel.domain,staticClass:\"mr-2\"},[_c('a',{attrs:{\"href\":externalModel.url,\"target\":\"_blank\"}},[(externalModel.icon)?_c('BaseIcon',{staticClass:\"w-auto h-5\",attrs:{\"name\":externalModel.icon}}):_c('span',{staticClass:\"text-sm text-primary-700 hover:underline hover:text-primary-900\"},[_vm._v(\" view at \"+_vm._s(externalModel.domain)+\" \")])],1)])}),0):_vm._e(),_c('div',{staticClass:\"flex-grow\"}),_c('div',{staticClass:\"flex justify-end flex-col desktop:flex-row desktop:items-center\"},[_c('p',{staticClass:\"text-sm font-medium ml-0 m-2 desktop:my-0\"},[_vm._v(\" Add it to your collection: \")]),_c('div',{staticClass:\"flex\"},[_c('BaseButton',{staticClass:\"bg-blue-500 text-white mr-2 hover:bg-blue-700\",attrs:{\"icon\":\"time\",\"text-class\":\"font-semibold text-sm\",\"icon-class\":\"w-4 h-4 mr-2\"},on:{\"click\":function($event){_vm.addToCollection(false), _vm.close()}}},[_vm._v(\" watch later \")]),_c('BaseButton',{staticClass:\"bg-green-500 text-white mr-2 hover:bg-green-700\",attrs:{\"icon\":\"checkmark\",\"text-class\":\"font-semibold text-sm\",\"icon-class\":\"w-4 h-4 mr-2\"},on:{\"click\":function($event){_vm.addToCollection(true), _vm.close()}}},[_vm._v(\" watched \")])],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport ModelsCache from '@/models/ModelsCache';\nimport Movie from '@/models/soukai/Movie';\n\nimport Modal from '@/components/mixins/Modal';\nimport MoviePoster from '@/components/MoviePoster.vue';\nimport Url from '@/utils/Url';\n\n\ninterface ExternalModel {\n    url: string;\n    domain: string;\n    icon: string | null;\n}\n\nconst DOMAIN_ICONS: { [domain: string]: string } = {\n    'imdb.com': 'imdb',\n    'themoviedb.org': 'tmdb',\n};\n\nexport default Modal.extend({\n    components: { MoviePoster },\n    props: {\n        movie: {\n            type: Object as () => Movie,\n            required: true,\n        },\n    },\n    computed: {\n        externalModels(): ExternalModel[] | null {\n            if (!this.movie)\n                return null;\n\n            return this.movie.externalUrls.map(url => {\n                const domain = Url.parseRootDomain(url) as string;\n\n                return {\n                    url,\n                    domain,\n                    icon: DOMAIN_ICONS[domain] || null,\n                };\n            });\n        },\n    },\n    methods: {\n        async addToCollection(watched: boolean) {\n            const movie = this.movie;\n\n            await this.$ui.loading(\n                async () => {\n                    if (watched)\n                        await movie.watch();\n\n                    await movie.fetchMissingAttributes();\n                    await this.$media.moviesContainer!.relatedMovies.save(movie);\n                    await ModelsCache.forgetDocument(this.$media.moviesContainer!.url);\n                },\n                `Adding **${movie.title}** to your collection...`,\n            );\n\n            this.$ui.showSnackbar(\n                `[**${movie.title}**](route:/movies/${movie.uuid}) has been added to your collection!`,\n                { transient: true },\n            );\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MovieModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MovieModal.vue?vue&type=template&id=07f33f20&\"\nimport script from \"./MovieModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./MovieModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Services from '@/services';\n\nclass DefaultListener implements Listener {\n\n    private static ongoingDelayedOperations: number = 0;\n    private static snackbarId: string | null = null;\n\n    private delayed: boolean = false;\n\n    public onDelayed(): void {\n        DefaultListener.ongoingDelayedOperations++;\n        this.delayed = true;\n        this.synchronizeUI();\n    }\n\n    public onCompleted(): void {\n        if (!this.delayed)\n            return;\n\n        DefaultListener.ongoingDelayedOperations--;\n        this.synchronizeUI();\n    }\n\n    public onFailed(error?: any): void {\n        if (!this.delayed)\n            return;\n\n        DefaultListener.ongoingDelayedOperations--;\n        this.synchronizeUI();\n\n        if (error)\n            Services.$ui.showError(error);\n    }\n\n    private synchronizeUI(): void {\n        if (DefaultListener.ongoingDelayedOperations === 0) {\n            this.hideSnackbar();\n\n            return;\n        }\n\n        const message = DefaultListener.ongoingDelayedOperations === 1\n            ? 'Saving changes...'\n            : `Saving ${DefaultListener.ongoingDelayedOperations} changes...`;\n\n        this.updateSnackbar(message) || this.showSnackbar(message);\n    }\n\n    private showSnackbar(message: string): void {\n        const snackbar = Services.$ui.showSnackbar(message, { loading: true });\n\n        DefaultListener.snackbarId = snackbar.id;\n    }\n\n    private updateSnackbar(message: string): boolean {\n        if (DefaultListener.snackbarId === null)\n            return false;\n\n        Services.$ui.updateSnackbar(DefaultListener.snackbarId, message);\n\n        return true;\n    }\n\n    private hideSnackbar(): void {\n        if (DefaultListener.snackbarId === null)\n            return;\n\n        Services.$ui.hideSnackbar(DefaultListener.snackbarId);\n        DefaultListener.snackbarId = null;\n    }\n\n}\n\nexport interface Listener {\n    onStarted?(): void;\n    onDelayed?(): void;\n    onCompleted?(): void;\n    onFailed?(error?: any): void;\n}\n\nexport default class AsyncOperation {\n\n    public static DEFAULT_EXPECTED_DURATION = 1000;\n\n    private listener: Listener;\n    private delayTimeout?: NodeJS.Timeout;\n\n    constructor(listener?: Listener) {\n        this.listener = listener || new DefaultListener;\n    }\n\n    public start(expectedDuration?: number): void {\n        this.delayTimeout = setTimeout(\n            () => this.emit('onDelayed'),\n            expectedDuration || AsyncOperation.DEFAULT_EXPECTED_DURATION,\n        );\n\n        this.emit('onStarted');\n    }\n\n    public complete(): void {\n        this.clearDelayTimeout();\n\n        this.emit('onCompleted');\n    }\n\n    public fail(error?: any): void {\n        this.clearDelayTimeout();\n\n        this.emit('onFailed', error);\n    }\n\n    private clearDelayTimeout() {\n        if (!this.delayTimeout)\n            return;\n\n        clearTimeout(this.delayTimeout);\n        delete this.delayTimeout;\n    }\n\n    private emit(event: keyof Listener, ...args: any[]): void {\n        if (event in this.listener)\n            (this.listener[event] as any)(...args);\n    }\n\n}\n","import { SolidModel } from 'soukai-solid';\nimport { Component } from 'vue';\n\nimport Service, { ComputedStateDefinitions } from '@/services/Service';\n\nimport Arr from '@/utils/Arr';\nimport AsyncOperation from '@/utils/AsyncOperation';\nimport Errors from '@/utils/Errors';\nimport EventBus from '@/utils/EventBus';\nimport Obj from '@/utils/Obj';\nimport Storage from '@/utils/Storage';\nimport UUID from '@/utils/UUID';\n\nimport AlertModal from '@/components/modals/AlertModal.vue';\nimport ConfirmModal from '@/components/modals/ConfirmModal.vue';\nimport ErrorInfoModal from '@/components/modals/ErrorInfoModal.vue';\nimport LoadingModal from '@/components/modals/LoadingModal.vue';\nimport MarkdownModal from '@/components/modals/MarkdownModal.vue';\n\nenum Layout {\n    Mobile = 'mobile',\n    Desktop = 'desktop',\n}\n\ninterface State {\n    layoutMediaQueries: {\n        [layout in Layout]: boolean;\n    };\n    headerHidden: boolean;\n    menuOpen: boolean;\n    modals: Modal[];\n    snackbars: Snackbar[];\n    animations: boolean;\n}\n\ninterface ComputedState {\n    layout: Layout;\n    mobile: boolean;\n    showOverlay: boolean;\n}\n\ninterface ClickAwayListener {\n    isAway(target: HTMLElement): boolean;\n    callback(): void | boolean;\n}\n\ninterface ConfirmOptions {\n    markdown?: boolean;\n    acceptLabel?: string;\n    cancelLabel?: string;\n}\n\nexport const screenBreakpoints: { [layout in Layout]?: number } = {\n    [Layout.Desktop]: 640,\n};\n\nexport interface Modal<R=any> {\n    id: string;\n    component: Component;\n    options: ModalOptions;\n    props: object;\n    result: Promise<R>;\n}\n\nexport interface ModalOptions {\n    cancellable: boolean;\n}\n\nexport interface Snackbar {\n    id: string;\n    message: string;\n    options: SnackbarOptions;\n}\n\nexport interface SnackbarOptions {\n    loading: boolean;\n    error: boolean;\n    transient: boolean;\n    action?: SnackbarAction;\n    lifetime?: number;\n}\n\nexport interface SnackbarAction {\n    text: string;\n    handler: Function;\n}\n\nconst STORAGE_ANIMATIONS_KEY = 'media-kraken-animations';\n\nexport default class UI extends Service<State, ComputedState> {\n\n    protected readonly storeNamespace: string = 'ui';\n\n    private mobileMenu: HTMLElement | null = null;\n    private desktopMenu: HTMLElement | null = null;\n    private menuTriggers: HTMLButtonElement[] = [];\n    private myCollection: HTMLElement | null = null;\n    private modalResolves: Record<string, Function> = {};\n\n    private clickListener: EventListener | null = null;\n    private removeMenuClickAwayListener: Function | null = null;\n    private clickAwayListeners: ClickAwayListener[] = [];\n    private bootupProgressMessage = document.querySelector('#bootup-overlay .progress-message') as HTMLParagraphElement;\n\n    public get layout(): Layout {\n        return this.getComputedState('layout');\n    }\n\n    public get mobile(): boolean {\n        return this.getComputedState('mobile');\n    }\n\n    public get desktop(): boolean {\n        return this.layout === Layout.Desktop;\n    }\n\n    public get headerHidden(): boolean {\n        return this.state.headerHidden;\n    }\n\n    public get menuOpen(): boolean {\n        return this.state.menuOpen;\n    }\n\n    public get myCollectionElement(): HTMLElement | null {\n        return this.myCollection;\n    }\n\n    public get modals(): Modal[] {\n        return this.state.modals;\n    }\n\n    public get snackbars(): Snackbar[] {\n        return this.state.snackbars;\n    }\n\n    public get animationsEnabled(): boolean {\n        return this.state.animations;\n    }\n\n    public get showOverlay(): boolean {\n        return this.getComputedState('showOverlay');\n    }\n\n    private get menu(): HTMLElement | null {\n        return this.mobile ? this.mobileMenu : this.desktopMenu;\n    }\n\n    public setMobileMenu(menu: HTMLElement | null) {\n        this.mobileMenu = menu;\n    }\n\n    public setDesktopMenu(menu: HTMLElement | null) {\n        this.desktopMenu = menu;\n    }\n\n    public addMenuTrigger(button: HTMLButtonElement) {\n        if (this.menuTriggers.indexOf(button) !== -1)\n            return;\n\n        this.menuTriggers.push(button);\n    }\n\n    public removeMenuTrigger(button: HTMLButtonElement) {\n        const index = this.menuTriggers.indexOf(button);\n\n        if (index === -1)\n            return;\n\n        this.menuTriggers.splice(index, 1);\n    }\n\n    public setMyCollection(myCollection: HTMLElement | null) {\n        this.myCollection = myCollection;\n    }\n\n    public async loading<T>(callback: () => Promise<T>, message?: string): Promise<T> {\n        const modal = await this.openModal(LoadingModal, { message }, { cancellable: false });\n\n        try {\n            const result = await callback();\n\n            return result;\n        } finally {\n            this.closeModal(modal.id, true);\n        }\n    }\n\n    public showHeader() {\n        this.setState({ headerHidden: false });\n    }\n\n    public hideHeader() {\n        this.setState({ headerHidden: true });\n    }\n\n    public openMenu() {\n        if (this.menuOpen)\n            return;\n\n        this.setState({ menuOpen: true });\n\n        this.removeMenuClickAwayListener = this.onClickAway(\n            target => (\n                (!this.menu || (this.menu !== target && !this.menu!.contains(target))) &&\n                !this.menuTriggers.find(trigger => target === trigger || trigger.contains(target))\n            ),\n            () => this.toggleMenu(),\n        );\n    }\n\n    public closeMenu() {\n        if (!this.menuOpen)\n            return;\n\n        this.setState({ menuOpen: false });\n\n        if (!this.removeMenuClickAwayListener)\n            return;\n\n        this.removeMenuClickAwayListener();\n        this.removeMenuClickAwayListener = null;\n    }\n\n    public toggleMenu() {\n        this.menuOpen ? this.closeMenu() : this.openMenu();\n    }\n\n    public openFileMarkdownModal(file: string, replacements: any = {}): void {\n        this.openModal(MarkdownModal, { file, replacements });\n    }\n\n    public openModal<R>(\n        component: Component,\n        props: object = {},\n        partialOptions: Partial<ModalOptions> = {},\n    ): Modal<R> {\n        const id = UUID.generate();\n        const result = new Promise<R>(resolve => this.modalResolves[id] = resolve);\n        const options = {\n            cancellable: true,\n            ...partialOptions,\n        };\n        const modal = {\n            id,\n            options,\n            component,\n            result,\n            props: {\n                ...props,\n                id,\n                options,\n            },\n        };\n\n        this.setState({\n            modals: [\n                ...this.modals,\n                modal,\n            ],\n        });\n\n        return modal;\n    }\n\n    public closeModal(id: string, force: boolean = false) {\n        const index = this.modals.findIndex(modal => modal.id === id);\n\n        if (index === -1)\n            return;\n\n        if (!force && !this.modals[index].options.cancellable)\n            return;\n\n        if (id in this.modalResolves) {\n            this.modalResolves[id]();\n\n            delete this.modalResolves[id];\n        }\n\n        this.setState({ modals: Arr.withoutIndex(this.modals, index) });\n    }\n\n    public resolveModal(id: string, result: any) {\n        if (id in this.modalResolves) {\n            this.modalResolves[id](result);\n\n            delete this.modalResolves[id];\n        }\n\n        this.closeModal(id, true);\n    }\n\n    public alert(message: string): void;\n    public alert(title: string, message: string): void;\n    public alert(titleOrMessage: string, message?: string): void {\n        const title = message ? titleOrMessage : undefined;\n        message = message || titleOrMessage;\n\n        this.openModal(AlertModal, { title, message });\n    }\n\n    public confirm(message: string, options?: ConfirmOptions): Promise<boolean>;\n    public confirm(title: string, message: string, options?: ConfirmOptions): Promise<boolean>;\n    public confirm(\n        titleOrMessage: string,\n        messageOrOptions?: string | ConfirmOptions,\n        options: ConfirmOptions = {},\n    ): Promise<boolean> {\n        options = typeof messageOrOptions === 'object' ? messageOrOptions : options;\n\n        const title = typeof messageOrOptions === 'string' ? titleOrMessage : null;\n        const message = typeof messageOrOptions === 'string' ? messageOrOptions : titleOrMessage;\n        const modal = this.openModal<boolean>(ConfirmModal, { title, message, ...options }, { cancellable: false });\n\n        return modal.result;\n    }\n\n    public async confirmMarkdown(file: string, options: Omit<ConfirmOptions, 'markdown'> = {}): Promise<boolean> {\n        let title = null;\n        let message = (await import(`@/assets/markdown/${file}.md`)).default;\n\n        if (message.startsWith('# ')) {\n            const secondLineIndex = message.indexOf('\\n');\n\n            title = message.substring(2, secondLineIndex);\n            message = message.substring(secondLineIndex + 1);\n        }\n\n        return this.confirm(title, message, {\n            markdown: true,\n            ...options,\n        });\n    }\n\n    public showError(error: any): void {\n        Errors.handle(error);\n\n        const { id: snackbarId } = this.showSnackbar(\n            'Something went wrong, but it\\'s not your fault. Try again!',\n            {\n                error: true,\n                transient: true,\n                lifetime: 10000,\n                action: {\n                    text: 'View details',\n                    handler: () => {\n                        this.hideSnackbar(snackbarId);\n                        this.openModal(ErrorInfoModal, { error }, { cancellable: false });\n                    },\n                },\n            },\n        );\n    }\n\n    public showSnackbar(message: string, options: Partial<SnackbarOptions> = {}): Snackbar {\n        const snackbar = {\n            id: UUID.generate(),\n            message,\n            options: {\n                loading: false,\n                error: false,\n                transient: false,\n                ...options,\n            },\n        };\n\n        this.setState({\n            snackbars: [\n                ...this.snackbars,\n                snackbar,\n            ],\n        });\n\n        return snackbar;\n    }\n\n    public updateSnackbar(id: string, message: string, options: Partial<SnackbarOptions> = {}): Snackbar | null {\n        const index = this.snackbars.findIndex(snackbar => snackbar.id === id);\n\n        if (index === -1)\n            return null;\n\n        const snackbar = this.snackbars[index];\n\n        snackbar.message = message;\n        Object.assign(snackbar.options, options);\n\n        return snackbar;\n    }\n\n    public hideSnackbar(id: string): void {\n        const index = this.snackbars.findIndex(snackbar => snackbar.id === id);\n\n        if (index === -1)\n            return;\n\n        this.setState({ snackbars: Arr.withoutIndex(this.snackbars, index) });\n    }\n\n    public setAnimationsEnabled(enabled: boolean): void {\n        if (this.animationsEnabled === enabled)\n            return;\n\n        this.setState({ animations: enabled });\n        Storage.set(STORAGE_ANIMATIONS_KEY, enabled);\n    }\n\n    public async updateModel<Model extends SolidModel>(\n        model: Model,\n        update: (model: Model) => Promise<any> | any,\n        affectedAttributes: string[] = [],\n    ): Promise<void> {\n        const operation = new AsyncOperation();\n        const initialAttributes = Obj.only(model.getAttributes(), affectedAttributes);\n\n        try {\n            operation.start();\n\n            await update(model);\n            await model.save();\n\n            operation.complete();\n        } catch (error) {\n            model.setAttributes(initialAttributes);\n\n            operation.fail(error);\n        }\n    }\n\n    public onClickAway(\n        elementsOrIsAway: HTMLElement[] | ((target: HTMLElement) => boolean),\n        callback: () => boolean | void,\n    ): Function {\n        const listener: ClickAwayListener = {\n            isAway: Array.isArray(elementsOrIsAway)\n                ? target => !elementsOrIsAway.find(element => element === target || element.contains(target))\n                : elementsOrIsAway,\n            callback,\n        };\n\n        this.updateClickAwayListeners([...this.clickAwayListeners, listener]);\n\n        return () => this.updateClickAwayListeners(Arr.withoutItem(this.clickAwayListeners, listener));\n    }\n\n    public updateBootupProgressMessage(message: string): void {\n        if (!this.bootupProgressMessage)\n            return;\n\n        this.bootupProgressMessage.textContent = message;\n    }\n\n    protected async boot(): Promise<void> {\n        await super.boot();\n\n        this.watchWindowMedia();\n        this.watchAuth();\n    }\n\n    protected getInitialState(): State {\n        return {\n            layoutMediaQueries: {\n                [Layout.Mobile]: true,\n                [Layout.Desktop]: false,\n            },\n            headerHidden: false,\n            menuOpen: false,\n            modals: [],\n            snackbars: [],\n            animations: Storage.get(STORAGE_ANIMATIONS_KEY, true),\n        };\n    }\n\n    protected getComputedStateDefinitions(): ComputedStateDefinitions<State, ComputedState> {\n        return {\n            layout({ layoutMediaQueries }: State): Layout {\n                for (const [layout, active] of Object.entries(layoutMediaQueries).reverse()) {\n                    if (!active)\n                        continue;\n\n                    return layout as Layout;\n                }\n\n                return Layout.Mobile;\n            },\n            mobile(_: State, { layout }: ComputedState): boolean {\n                return layout === Layout.Mobile;\n            },\n            showOverlay({ modals, menuOpen }: State, { mobile }: ComputedState): boolean {\n                return (mobile && menuOpen) || modals.length > 0;\n            },\n        };\n    }\n\n    private updateClickAwayListeners(listeners: ClickAwayListener[]) {\n        this.clickAwayListeners = listeners;\n\n        this.clickAwayListeners.length > 0\n            ? this.startListeningClicks()\n            : this.stopListeningClicks();\n    }\n\n    private startListeningClicks() {\n        if (this.clickListener)\n            return;\n\n        document.addEventListener('click', this.clickListener = e => {\n            const target = e.target as HTMLElement;\n\n            for (const { isAway, callback } of this.clickAwayListeners) {\n                if (!isAway(target))\n                    continue;\n\n                if (callback() === false)\n                    continue;\n\n                e.preventDefault();\n                return;\n            }\n        });\n    }\n\n    private stopListeningClicks() {\n        if (!this.clickListener)\n            return;\n\n        document.removeEventListener('click', this.clickListener);\n\n        this.clickListener = null;\n    }\n\n    private watchWindowMedia() {\n        for (const [layout, breakpoint] of Object.entries(screenBreakpoints)) {\n            const media = window.matchMedia(`(min-width: ${breakpoint}px)`);\n            const updateState = () => this.setState({\n                layoutMediaQueries: {\n                    ...this.state.layoutMediaQueries,\n                    [layout]: media.matches,\n                },\n            });\n\n            media.addEventListener('change', updateState);\n\n            updateState();\n        }\n    }\n\n    private watchAuth() {\n        EventBus.on('logout', () => this.closeMenu());\n    }\n\n}\n","class Obj {\n\n    public only<T, K extends keyof T>(\n        obj: T, keys: K[],\n    ): { [k in K]: T[k] } {\n        const newObject: any = {};\n\n        for (const key of keys) {\n            if (!(key in obj))\n                continue;\n\n            newObject[key] = obj[key];\n        }\n\n        return newObject;\n    }\n\n    public without<T, K extends keyof T>(\n        obj: T, keys: K[],\n    ): Omit<T, keyof { [k in K]: any }> {\n        const newObject: T = { ...obj };\n\n        for (const key of keys) {\n            delete newObject[key];\n        }\n\n        return newObject;\n    }\n\n    public withoutUndefined<T>(obj: T): T {\n        return this.flattenEntries(\n            Object\n                .entries(obj)\n                .filter(([_, value]) => value !== undefined),\n        );\n    }\n\n    public flattenEntries<T = any>(entries: [string, any][], target?: T): T {\n        return entries.reduce((flattened: any, [key, value]) => {\n            flattened[key] = value;\n\n            return flattened;\n        }, target || {} as T);\n    }\n\n}\n\nexport default new Obj();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options}},[(_vm.title)?_c('h2',{staticClass:\"font-semibold text-center text-gray-800 mb-3\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]):_vm._e(),_c('p',{staticClass:\"text-center text-gray-700 mb-4\"},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),_c('BaseButton',{staticClass:\"uppercase font-semibold text-primary-700 self-center hover:bg-black-overlay\",on:{\"click\":_vm.close}},[_vm._v(\" Ok \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Modal from '@/components/mixins/Modal';\n\nexport default Modal.extend({\n    props: {\n        title: {\n            type: String,\n            default: null,\n        },\n        message: {\n            type: String,\n            required: true,\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AlertModal.vue?vue&type=template&id=eaad0f9a&\"\nimport script from \"./AlertModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./AlertModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{staticClass:\"confirm-modal\",attrs:{\"id\":_vm.id,\"options\":_vm.options}},[(_vm.title)?_c('h2',{staticClass:\"font-semibold text-gray-800 leading-relaxed mb-3\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]):_vm._e(),(_vm.markdown)?_c('MarkdownContent',{staticClass:\"markdown-content--typography\",attrs:{\"content\":_vm.message}}):_c('p',{staticClass:\"text-center text-gray-700 mb-4\"},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),_c('div',{staticClass:\"flex flex-row self-end\"},[_c('BaseButton',{staticClass:\"text-primary-700 border border-primary-500 mr-2 hover:bg-black-overlay\",on:{\"click\":function($event){return _vm.$ui.resolveModal(_vm.id, false)}}},[_vm._v(\" \"+_vm._s(_vm.cancelLabel)+\" \")]),_c('BaseButton',{staticClass:\"text-white bg-red-500 hover:bg-red-700\",on:{\"click\":function($event){return _vm.$ui.resolveModal(_vm.id, true)}}},[_vm._v(\" \"+_vm._s(_vm.acceptLabel)+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport MarkdownContent from '@/components/MarkdownContent.vue';\nimport Modal from '@/components/mixins/Modal';\n\nexport default Modal.extend({\n    components: {\n        MarkdownContent,\n    },\n    props: {\n        title: {\n            type: String,\n            default: null,\n        },\n        message: {\n            type: String,\n            required: true,\n        },\n        markdown: {\n            type: Boolean,\n            default: false,\n        },\n        acceptLabel: {\n            type: String,\n            default: 'OK',\n        },\n        cancelLabel: {\n            type: String,\n            default: 'Cancel',\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfirmModal.vue?vue&type=template&id=4a801ee6&\"\nimport script from \"./ConfirmModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfirmModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfirmModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options}},[_c('div',{staticClass:\"flex items-center\"},[_c('LoadingCircle',{staticClass:\"w-8 h-8 text-primary-700 mr-4\"}),(_vm.message)?_c('MarkdownContent',{attrs:{\"content\":_vm.message}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Modal from '@/components/mixins/Modal';\n\nimport LoadingCircle from '@/components/LoadingCircle.vue';\nimport MarkdownContent from '@/components/MarkdownContent.vue';\n\nexport default Modal.extend({\n    components: {\n        LoadingCircle,\n        MarkdownContent,\n    },\n    props: {\n        message: {\n            type: String,\n            default: 'Loading...',\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoadingModal.vue?vue&type=template&id=7483dd8f&\"\nimport script from \"./LoadingModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoadingModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./about.md\": [\n\t\t\"5195\",\n\t\t\"chunk-2d0c77ae\"\n\t],\n\t\"./application-storage.md\": [\n\t\t\"1064\",\n\t\t\"chunk-2d0aa213\"\n\t],\n\t\"./confirm-schema-migration.md\": [\n\t\t\"01ed\",\n\t\t\"chunk-2d0a3756\"\n\t],\n\t\"./import-goodfilms.md\": [\n\t\t\"deb9\",\n\t\t\"chunk-2d229d4e\"\n\t],\n\t\"./import-jsonld.md\": [\n\t\t\"98df\",\n\t\t\"chunk-2d0e68d7\"\n\t],\n\t\"./import-netflix.md\": [\n\t\t\"f84c\",\n\t\t\"chunk-2d22d7b7\"\n\t],\n\t\"./import-tviso.md\": [\n\t\t\"9575\",\n\t\t\"chunk-2d0e57f0\"\n\t],\n\t\"./viewer.md\": [\n\t\t\"7993\",\n\t\t\"chunk-2d0d7e72\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"6205\";\nmodule.exports = webpackAsyncContext;","import MediaKrakenError from './MediaKrakenError';\n\nexport default class MediaValidationError extends MediaKrakenError {\n\n    public readonly reasons: string[];\n\n    constructor(reasons: string[]) {\n        super('Media validation failed');\n\n        this.reasons = reasons;\n    }\n\n}\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M0 3h20v2H0V3zm0 4h20v2H0V7zm0 4h20v2H0v-2zm0 4h20v2H0v-2z\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative border border-gray-300 overflow-hidden\"},[_c('div',{staticClass:\"relative ratio-2/3\"}),_c('div',{staticClass:\"absolute inset-0 bg-gray-300\"},[_c('BaseIcon',{staticClass:\"absolute inset-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1/3 h-auto text-gray-500\",attrs:{\"name\":\"photo\"}}),(_vm.title)?_c('div',{staticClass:\"\\n                absolute inset-0 flex items-end justify-center p-4\\n                text-sm text-center font-medium leading-relaxed\\n            \"},[_c('span',[_vm._v(_vm._s(_vm.title))])]):_vm._e(),(_vm.url)?_c('img',{staticClass:\"absolute inset-0 w-full h-full\",attrs:{\"src\":_vm.url}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    props: {\n        url: {\n            type: String,\n            default: null,\n        },\n        title: {\n            type: String,\n            default: null,\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviePoster.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviePoster.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MoviePoster.vue?vue&type=template&id=58b4374a&\"\nimport script from \"./MoviePoster.vue?vue&type=script&lang=ts&\"\nexport * from \"./MoviePoster.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"text-xl font-medium truncate\",class:{ 'my-4': !_vm.noMargin }},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    props: {\n        noMargin: {\n            type: Boolean,\n            default: false,\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasePageHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasePageHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BasePageHeader.vue?vue&type=template&id=dffa0e1e&\"\nimport script from \"./BasePageHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./BasePageHeader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import MediaValidationError from '@/errors/MediaValidationError';\n\nimport { MediaParser } from '@/utils/parsers';\nimport TMDBMoviesParser from '@/utils/parsers/TMDBMoviesParser';\n\nimport TheMovieDBApi from '@/api/TheMovieDBApi';\n\nimport Movie from '@/models/soukai/Movie';\n\ninterface Data {\n    filmTitle: string;\n    filmReleaseYear?: string;\n}\n\nclass GoodFilmsMoviesParser implements MediaParser<Data, Movie> {\n\n    public async validate(data: any): Promise<void> {\n        if (\n            typeof data.filmTitle !== 'string' ||\n            data.filmTitle.length === 0 ||\n            (\n                typeof data.filmReleaseYear !== 'undefined' &&\n                isNaN(parseInt(data.filmReleaseYear))\n            )\n        )\n            throw new MediaValidationError(['Invalid format']);\n    }\n\n    public async parse(data: Data): Promise<Movie> {\n        const { results } = await TheMovieDBApi.searchMovies(data.filmTitle);\n        const releaseYear = data.filmReleaseYear ? parseInt(data.filmReleaseYear) : null;\n        const match = results.find(\n            result =>\n                releaseYear === null ||\n                (\n                    result.release_date &&\n                    new Date(result.release_date).getFullYear() === releaseYear\n                ),\n        );\n\n        return match\n            ? TMDBMoviesParser.parse(match)\n            : new Movie({ title: data.filmTitle });\n    }\n\n}\n\nexport default new GoodFilmsMoviesParser();\n","import MediaValidationError from './MediaValidationError';\n\nexport default class UnsuitableMediaError extends MediaValidationError {\n\n    public readonly reason: string;\n\n    constructor(reason: string) {\n        super([reason]);\n\n        this.reason = reason;\n    }\n\n}\n","import TheMovieDBApi from '@/api/TheMovieDBApi';\n\nimport Services from '@/services';\n\nimport MediaValidationError from '@/errors/MediaValidationError';\nimport UnsuitableMediaError from '@/errors/UnsuitableMediaError';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport { MediaParser } from '@/utils/parsers';\nimport TMDBResolver from '@/utils/media/TMDBResolver';\n\ninterface Data {\n    imdb: string;\n}\n\nclass IMDbMoviesParser implements MediaParser<Data, Movie> {\n\n    public async validate(data: Data): Promise<void> {\n        if (typeof data.imdb !== 'string')\n            throw new MediaValidationError(['Invalid format']);\n\n        if (await this.alreadyInCollection(data))\n            return;\n\n        const model = await TMDBResolver.resolveImdbId(data.imdb);\n        if (model === null)\n            throw new MediaValidationError(['This movie could not be resolved']);\n        else if (!TheMovieDBApi.isMovie(model))\n            throw new UnsuitableMediaError('Not a movie');\n    }\n\n    public async parse(data: Data): Promise<Movie> {\n        const movie = new Movie({\n            title: '',\n            externalUrls: [`https://www.imdb.com/title/${data.imdb}`],\n        });\n\n        movie.setRelationModels('actions', []);\n\n        return movie;\n    }\n\n    private async alreadyInCollection(data: Data): Promise<boolean> {\n        const tmpMovie = await this.parse(data);\n        const collectionMovie = Services.$media.movies.find(collectionMovie => collectionMovie.is(tmpMovie));\n\n        return !!collectionMovie;\n    }\n\n}\n\nexport default new IMDbMoviesParser();\n","import { compare, range } from '@noeldemartin/utils';\n\ninterface DateComponentStats {\n    min: number;\n    max: number;\n    average: number;\n}\n\n// TODO remove when updating @noeldemartin/utils\nfunction escapeRegexText(text: string): string {\n    return text.replace(/[[\\]{}()*+?.\\\\^$|]/g, '\\\\$&');\n}\n\nfunction getSeparators(date: string): [string?, string?] {\n    const separatorsMatch = date.match(/\\d+([^\\d]+)\\d+([^\\d]+)\\d+/);\n    const firstSeparator = separatorsMatch?.[1];\n    const secondSeparator = separatorsMatch?.[2];\n\n    return [firstSeparator, secondSeparator];\n}\n\nfunction getComponentStats(\n    firstSeparator: string,\n    secondSeparator: string,\n    dates: string[],\n): [DateComponentStats, DateComponentStats, DateComponentStats] {\n    const dateRegex = new RegExp(\n        `(\\\\d+)${escapeRegexText(firstSeparator)}(\\\\d+)${escapeRegexText(secondSeparator)}(\\\\d+)`,\n    );\n    const stats = range(3).map(() => ({\n        min: Infinity,\n        max: 0,\n        average: 0,\n    }));\n\n    for (const date of dates) {\n        const match = date.match(dateRegex) ?? fail('Unexpected date');\n\n        for (let i = 0; i < 3; i++) {\n            const component = parseInt(match[i+1]);\n\n            if (isNaN(component) || component === 0) {\n                throw new Error('Unexpected date');\n            }\n\n            stats[i].min = Math.min(stats[i].min, component);\n            stats[i].max = Math.max(stats[i].max, component);\n            stats[i].average += component;\n        }\n    }\n\n    range(3).forEach(i => (stats[i].average /= dates.length));\n\n    return stats as [DateComponentStats, DateComponentStats, DateComponentStats];\n}\n\nfunction findComponentIndex(\n    componentStats: DateComponentStats[],\n    min: number,\n    max: number,\n    exclude: number[] = [],\n): number {\n    const matching = range(componentStats.length).filter((index) => {\n        if (exclude.includes(index)) {\n            return false;\n        }\n\n        const stats = componentStats[index];\n\n        return stats.min >= min && stats.max <= max;\n    }).map(index => ({\n        index,\n        variance: componentStats[index].max - componentStats[index].min,\n    }));\n\n    matching.sort((a, b) => compare(b.variance, a.variance));\n\n    return matching[0]?.index ?? fail('Could not find component index');\n}\n\nexport class NetflixDateParser {\n\n    constructor(public regExp: RegExp) {}\n\n    public parseDate(date: string): Date {\n        const match = date.match(this.regExp);\n        const format = (digit: number | string, length: number) => digit.toString().padStart(length, '0');\n        const day = parseInt(match?.groups?.day ?? '');\n        const month = parseInt(match?.groups?.month ?? '');\n        const year = parseInt(match?.groups?.year ?? ('20' + format(match?.groups?.shortYear ?? '', 2)));\n\n        return new Date(`${format(year, 4)}-${format(month, 2)}-${format(day, 2)}`);\n    }\n\n}\n\nexport function getNetflixDateParser(dates: string[]): NetflixDateParser | null {\n    try {\n        const [firstSeparator, secondSeparator] = getSeparators(dates[0] ?? '');\n\n        if (!firstSeparator || !secondSeparator) {\n            return null;\n        }\n\n        const stats = getComponentStats(firstSeparator, secondSeparator, dates);\n        const dayIndex = findComponentIndex(stats, 1, 31);\n        const monthIndex = findComponentIndex(stats, 1, 12, [dayIndex]);\n        const yearIndex = findComponentIndex(stats, 0, Infinity, [dayIndex, monthIndex]);\n        const names = range(3).map(() => '');\n\n        names[dayIndex] = 'day';\n        names[monthIndex] = 'month';\n        names[yearIndex] = Math.ceil(stats[yearIndex].average).toString().length > 2 ? 'year' : 'shortYear';\n\n        return new NetflixDateParser(\n            new RegExp(\n                `(?<${names[0]}>\\\\d+)${escapeRegexText(firstSeparator)}` +\n                `(?<${names[1]}>\\\\d+)${escapeRegexText(secondSeparator)}` +\n                `(?<${names[2]}>\\\\d+)`,\n            ),\n        );\n    } catch (error) {\n        return null;\n    }\n}\n","import MediaKrakenError from './MediaKrakenError';\n\nexport default class MediaNotFoundError extends MediaKrakenError {\n\n    constructor(message?: string) {\n        super(message ?? 'This media could not be found');\n    }\n\n}\n","import TheMovieDBApi, { TMDBMovie } from '@/api/TheMovieDBApi';\n\nimport MediaValidationError from '@/errors/MediaValidationError';\nimport UnsuitableMediaError from '@/errors/UnsuitableMediaError';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport { MediaParser } from '@/utils/parsers';\nimport Str from '@/utils/Str';\nimport TMDBMoviesParser from '@/utils/parsers/TMDBMoviesParser';\nimport { getNetflixDateParser, NetflixDateParser } from '@/utils/netflix';\nimport MediaNotFoundError from '@/errors/MediaNotFoundError';\n\ninterface Data {\n    title: string;\n    date: string;\n}\n\nconst SHOW_TITLE_REGEX = /((season|series)\\s+\\d+|limited\\s+series):/i;\n\nfunction isInvalid(date: Date): boolean {\n    return isNaN(date as unknown as number);\n}\n\nclass NetflixMoviesParser implements MediaParser<Data, Movie> {\n\n    private dateParser: NetflixDateParser | null = null;\n\n    public prepare(data: any[]): void {\n        this.dateParser = getNetflixDateParser(data.map(({ date }) => date));\n    }\n\n    public async validate(data: Data): Promise<void> {\n        if (typeof data.title !== 'string' || data.title.length < 3) {\n            throw new MediaValidationError(['Invalid format']);\n        }\n\n        if (typeof data.date !== 'string' || isInvalid(this.parseDate(data.date))) {\n            throw new MediaValidationError(['Invalid format']);\n        }\n\n        if (SHOW_TITLE_REGEX.test(data.title)) {\n            throw new UnsuitableMediaError('Not a movie');\n        }\n    }\n\n    public async parse(data: Data): Promise<Movie> {\n        const watchedAt = this.parseDate(data.date);\n        const match = await this.findMovie(data);\n\n        if (!match) {\n            throw new MediaNotFoundError('This movie could not be found');\n        }\n\n        const movie = await TMDBMoviesParser.parse(match);\n\n        movie.createdAt = watchedAt;\n        movie.updatedAt = watchedAt;\n\n        movie.setRelationModels('actions', []);\n        movie.watch(watchedAt);\n\n        return movie;\n    }\n\n    private async findMovie(data: Data): Promise<TMDBMovie | null> {\n        const watchedAt = this.parseDate(data.date);\n        const slug = Str.slug(data.title);\n        const { results } = await TheMovieDBApi.searchMovies(data.title);\n\n        return results.find(result =>\n            result.release_date &&\n            (new Date(result.release_date) < watchedAt) &&\n            Str.slug(result.title) === slug,\n        ) ?? null;\n    }\n\n    private parseDate(dateString: string): Date {\n        return this.dateParser?.parseDate(dateString) ?? new Date(dateString);\n    }\n\n}\n\nexport default new NetflixMoviesParser();\n","import MediaValidationError from '@/errors/MediaValidationError';\nimport UnsuitableMediaError from '@/errors/UnsuitableMediaError';\n\nimport Time from '@/utils/Time';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport { MediaParser } from '@/utils/parsers';\n\nconst enum DataMediaType {\n    Series = 1,\n    Movie = 2,\n    TVShow = 4,\n}\n\nenum Status {\n    Watched = 'watched',\n    Following = 'following',\n    Pending = 'pending',\n}\n\ninterface Data {\n    title: string;\n    imdb: string | null;\n    type: DataMediaType;\n    status: Status;\n    checkedDate: string;\n}\n\nclass TVisoMoviesParser implements MediaParser<Data, Movie> {\n\n    public async validate(data: any): Promise<void> {\n        if (data.type !== DataMediaType.Movie)\n            throw new UnsuitableMediaError('Not a movie');\n\n        if (\n            typeof data.title !== 'string' ||\n            (data.imdb !== null && typeof data.imdb !== 'string') ||\n            !Object.values(Status).includes(data.status) ||\n            !Time.isValidDateString(data.checkedDate)\n        )\n            throw new MediaValidationError(['Invalid format']);\n    }\n\n    public async parse(data: Data): Promise<Movie> {\n        const checkedAt = new Date(data.checkedDate);\n        const movie = new Movie({\n            title: data.title,\n            externalUrls: data.imdb !== null\n                ? [`https://www.imdb.com/title/${data.imdb}`]\n                : [],\n        });\n\n        movie.setRelationModels('actions', []);\n        movie.createdAt = checkedAt;\n        movie.updatedAt = checkedAt;\n\n        if (data.status === Status.Watched)\n            movie.watch(checkedAt);\n\n        return movie;\n    }\n\n}\n\nexport default new TVisoMoviesParser();\n","import { MalformedDocumentError } from 'soukai-solid';\nimport { UnauthorizedError } from '@noeldemartin/solid-utils';\n\nimport { MediaParser } from '@/utils/parsers';\nimport Arr from '@/utils/Arr';\nimport EventBus from '@/utils/EventBus';\nimport Files from '@/utils/Files';\nimport GoodFilmsMoviesParser from '@/utils/parsers/GoodFilmsMoviesParser';\nimport IMDbMoviesParser from '@/utils/parsers/IMDbMoviesParser';\nimport JSONLDMoviesParser from '@/utils/parsers/JSONLDMoviesParser';\nimport NetflixMoviesParser from '@/utils/parsers/NetflixMoviesParser';\nimport Storage from '@/utils/Storage';\nimport Time from '@/utils/Time';\nimport TVisoMoviesParser from '@/utils/parsers/TVisoMoviesParser';\n\nimport MediaNotFoundError from '@/errors/MediaNotFoundError';\nimport MediaValidationError from '@/errors/MediaValidationError';\nimport UnsuitableMediaError from '@/errors/UnsuitableMediaError';\n\nimport MediaContainer from '@/models/soukai/MediaContainer';\nimport ModelsCache from '@/models/ModelsCache';\nimport Movie from '@/models/soukai/Movie';\nimport User from '@/models/users/User';\n\nimport { loadMedia } from '@/workers';\nimport Service, { ComputedStateDefinitions } from '@/services/Service';\nimport Services from '@/services';\n\nimport ImportProgressModal from '@/components/modals/ImportProgressModal.vue';\nimport ImportResultModal from '@/components/modals/ImportResultModal.vue';\n\ninterface State {\n    moviesContainer: MediaContainer | null;\n    importOperation: ImportOperation | null;\n}\n\ninterface ComputedState {\n    searchIndex: SearchIndex;\n}\n\ninterface ImportOperation {\n    current: number;\n    total: number;\n    cancelled: boolean;\n}\n\nexport type SearchIndex = {\n    searchableText: string;\n    movie: Movie;\n}[];\n\nexport interface ImportOperationLog {\n    added: Movie[];\n    ignored: {\n        reason: string;\n        data: any;\n    }[];\n    invalid: {\n        reasons: string[];\n        data: any;\n    }[];\n    failed: {\n        notFound: boolean;\n        error: Error;\n        data: any;\n    }[];\n    unprocessed: any[];\n}\n\nexport interface MediaContainers {\n    movies: MediaContainer;\n}\n\nexport enum MediaSource {\n    IMDb = 'imdb',\n    Netflix = 'netflix',\n    JSONLD = 'jsonld',\n    TViso = 'tviso',\n    GoodFilms = 'goodfilms',\n}\n\nexport default class Media extends Service<State, ComputedState> {\n\n    protected readonly storeNamespace: string = 'media';\n\n    public get movies(): Movie[] {\n        if (!this.state.moviesContainer)\n            return [];\n\n        return this.state.moviesContainer.movies || [];\n    }\n\n    public get moviesContainer(): MediaContainer | null {\n        return this.state.moviesContainer;\n    }\n\n    public get searchIndex(): SearchIndex {\n        return this.getComputedState('searchIndex');\n    }\n\n    public get loaded(): boolean {\n        return this.moviesContainer !== null;\n    }\n\n    public get empty(): boolean {\n        return this.movies.length === 0;\n    }\n\n    public get importOperation(): ImportOperation | null {\n        return this.state.importOperation;\n    }\n\n    public async importMovies(data: object[], source: MediaSource): Promise<void> {\n        // TODO refactor this method (maybe extract it into a helper class?)\n\n        if (this.state.importOperation)\n            throw new Error('Import already in progress');\n\n        const { id: progressModalId } = Services.$ui.openModal(ImportProgressModal, {}, {\n            cancellable: false,\n        });\n\n        const parser = this.getMoviesParser(source);\n        const operation: ImportOperation = {\n            current: 0,\n            total: data.length,\n            cancelled: false,\n        };\n        const log: ImportOperationLog = {\n            added: [],\n            ignored: [],\n            invalid: [],\n            failed: [],\n            unprocessed: [],\n        };\n\n        this.setState({ importOperation: operation });\n\n        parser.prepare?.(data);\n\n        for (const movieData of data) {\n            await Time.waitAnimationFrame();\n\n            if (operation.cancelled) {\n                log.unprocessed = data.slice(operation.current);\n                break;\n            }\n\n            operation.current++;\n\n            try {\n                try {\n                    await parser.validate(movieData);\n                } catch (error) {\n                    if (!(error instanceof MediaValidationError))\n                        throw error;\n\n                    if (error instanceof UnsuitableMediaError) {\n                        log.ignored.push({\n                            reason: error.reason,\n                            data: movieData,\n                        });\n                        continue;\n                    }\n\n                    log.invalid.push({\n                        reasons: error.reasons,\n                        data: movieData,\n                    });\n                    continue;\n                }\n\n                const movie = await parser.parse(movieData);\n\n                const collectionMovie = this.movies.find(collectionMovie => collectionMovie.is(movie));\n                if (collectionMovie) {\n                    log.ignored.push({\n                        reason: 'You already have this in your collection',\n                        data: movieData,\n                    });\n                    continue;\n                }\n\n                await movie.fetchMissingAttributes();\n                await this.moviesContainer!.relatedMovies.save(movie);\n\n                log.added.push(movie);\n            } catch (error) {\n                log.failed.push({\n                    notFound: error instanceof MediaNotFoundError,\n                    error: error as Error,\n                    data: movieData,\n                });\n            }\n        }\n\n        this.setState({ importOperation: null });\n\n        // If this isn't done, showing the result modal causes a weird UI interaction\n        // TODO this shouldn't be necessary, debug further.\n        Time.wait(0).then(() => {\n            Services.$ui.closeModal(progressModalId, true);\n            Services.$ui.openModal(ImportResultModal, { log }, { cancellable: false });\n            ModelsCache.forgetDocument(this.moviesContainer!.url);\n        });\n    }\n\n    public async removeMovie(movie: Movie): Promise<void> {\n        if (!this.loaded)\n            return;\n\n        Arr.removeItem(this.moviesContainer!.movies!, movie);\n\n        await ModelsCache.forgetDocument(this.moviesContainer!.url);\n        await ModelsCache.forgetDocument(movie.url);\n    }\n\n    public cancelImport(): void {\n        if (!this.importOperation)\n            return;\n\n        this.importOperation.cancelled = true;\n    }\n\n    public exportCollection(): void {\n        Files.download(\n            'my-collection.json',\n            JSON.stringify(this.movies.map(movie => movie.toJsonLD())),\n        );\n    }\n\n    protected async boot(): Promise<void> {\n        await super.boot();\n        await Services.$app.ready;\n        await Services.$auth.ready;\n\n        EventBus.on('logout', this.unload.bind(this));\n        EventBus.on('login', this.load.bind(this));\n\n        if (Services.$auth.isLoggedIn())\n            await this.load(Services.$auth.user);\n    }\n\n    protected getInitialState(): State {\n        return {\n            moviesContainer: null,\n            importOperation: null,\n        };\n    }\n\n    protected getComputedStateDefinitions(): ComputedStateDefinitions<State, ComputedState> {\n        return {\n            searchIndex({ moviesContainer }: State) {\n                if (!moviesContainer)\n                    return [];\n\n                const movies = moviesContainer.movies || [];\n\n                return movies\n                    .slice(0)\n                    .sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime())\n                    .map(movie => ({ movie, searchableText: movie.uuid!.replace(/-/g, '') }));\n            },\n        };\n    }\n\n    private async load(user: User): Promise<void> {\n        try {\n            const ignoredDocumentUrls = Storage.get('media-kraken-malformed-document-urls', []);\n            const migrateSchema = Storage.get('media-kraken-migrate-schema', undefined);\n            const { movies: moviesContainer } = await loadMedia(user.toJSON(), { ignoredDocumentUrls, migrateSchema });\n\n            await user.initSoukaiEngine();\n\n            Movie.collection = moviesContainer.url;\n\n            this.setState({ moviesContainer });\n\n            EventBus.emit('media-loaded');\n        } catch (error) {\n            if (error instanceof UnauthorizedError) {\n                Services.$auth.handleUnauthorized(error);\n\n                return;\n            }\n\n            if (error instanceof MalformedDocumentError) {\n                this.handleMalformedDocument(error);\n\n                return;\n            }\n\n            this.handleUnknownError(error as Error);\n        }\n    }\n\n    private async unload(): Promise<void> {\n        this.setState({ moviesContainer: null });\n\n        Storage.remove('media-kraken-malformed-document-urls');\n        Storage.remove('media-kraken-migrate-schema');\n    }\n\n    private getMoviesParser(source: MediaSource): MediaParser<any, Movie> {\n        switch (source) {\n            case MediaSource.IMDb:\n                return IMDbMoviesParser;\n            case MediaSource.Netflix:\n                return NetflixMoviesParser;\n            case MediaSource.JSONLD:\n                return JSONLDMoviesParser;\n            case MediaSource.TViso:\n                return TVisoMoviesParser;\n            case MediaSource.GoodFilms:\n                return GoodFilmsMoviesParser;\n        }\n    }\n\n    private handleMalformedDocument(error: MalformedDocumentError): void {\n        const ignoreDocument = () => {\n            const malformedDocumentUrls = Storage.get('media-kraken-malformed-document-urls', []);\n\n            Storage.set('media-kraken-malformed-document-urls', [\n                ...malformedDocumentUrls,\n                error.documentUrl,\n            ]);\n\n            location.reload();\n        };\n\n        Services.$app.setCrashReport(\n            error,\n            {\n                title: 'There was a problem reading a document from your collection',\n                subtitle: error.documentUrl,\n                actions: [{\n                    label: 'Ignore this document and continue',\n                    handle: ignoreDocument,\n                }],\n            },\n        );\n    }\n\n    private handleUnknownError(error: Error): void {\n        Services.$app.setCrashReport(error);\n    }\n\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$media.importOperation)?_c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options}},[_c('div',{staticClass:\"flex flex-col items-center justify-center\"},[_c('div',{staticClass:\"flex justify-center items-center\"},[_c('LoadingCircle',{staticClass:\"w-6 h-6 text-primary-700 mr-2\"}),_c('span',[_vm._v(\"Importing movies...\")])],1),_c('div',{staticClass:\"flex items-center justify-start relative mt-4 bg-primary-200 h-5 w-64 rounded overflow-hidden\"},[_c('div',{staticClass:\"absolute left-0 inset-y-0 bg-primary-500\",style:({ width: ((100 * _vm.$media.importOperation.current / _vm.$media.importOperation.total) + \"%\") })}),_c('span',{staticClass:\"relative ml-2 z-10 tracking-widest\\n                font-semibold text-white text-xs\"},[_vm._v(\" \"+_vm._s(_vm.$media.importOperation.current)+\"/\"+_vm._s(_vm.$media.importOperation.total))])]),_c('BaseButton',{staticClass:\"border border-primary-500 mt-4 text-sm text-primary-700 justify-center hover:bg-black-overlay\",on:{\"click\":function($event){return _vm.$media.cancelImport()}}},[_vm._v(\" Stop \")])],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport LoadingCircle from '@/components/LoadingCircle.vue';\nimport Modal from '@/components/mixins/Modal';\n\nexport default Modal.extend({\n    components: {\n        LoadingCircle,\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportProgressModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportProgressModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportProgressModal.vue?vue&type=template&id=1afb2891&\"\nimport script from \"./ImportProgressModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportProgressModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options,\"title\":\"Import completed\"}},[_c('ul',{staticClass:\"flex flex-col items-start\"},[(_vm.watchedMovies.length > 0)?_c('ImportResultModalItem',{attrs:{\"icon\":\"checkmark\",\"icon-class\":\"text-green-600\"},on:{\"inspect\":_vm.inspectWatched}},[_c('strong',{staticClass:\"font-semibold\"},[_vm._v(_vm._s(_vm.watchedMovies.length))]),_vm._v(\" watched movies have been added to your collection. \")]):_vm._e(),(_vm.pendingMovies.length > 0)?_c('ImportResultModalItem',{attrs:{\"icon\":\"time\",\"icon-class\":\"text-blue-600\"},on:{\"inspect\":_vm.inspectPending}},[_c('strong',{staticClass:\"font-semibold\"},[_vm._v(_vm._s(_vm.pendingMovies.length))]),_vm._v(\" movies have been added to your collection to watch later. \")]):_vm._e(),(_vm.log.ignored.length > 0)?_c('ImportResultModalItem',{attrs:{\"icon\":\"info\",\"icon-class\":\"text-blue-600\"},on:{\"inspect\":_vm.inspectIgnored}},[_c('strong',{staticClass:\"font-semibold\"},[_vm._v(_vm._s(_vm.log.ignored.length))]),_vm._v(\" were ignored. \")]):_vm._e(),(_vm.log.unprocessed.length > 0)?_c('ImportResultModalItem',{attrs:{\"icon\":\"info\",\"icon-class\":\"text-blue-600\"},on:{\"inspect\":_vm.inspectUnprocessed}},[_c('strong',{staticClass:\"font-semibold\"},[_vm._v(_vm._s(_vm.log.unprocessed.length))]),_vm._v(\" weren't processed because you stopped the operation. \")]):_vm._e(),(_vm.log.invalid.length > 0)?_c('ImportResultModalItem',{attrs:{\"icon\":\"error\",\"icon-class\":\"text-red-600\"},on:{\"inspect\":_vm.inspectInvalid}},[_c('strong',{staticClass:\"font-semibold\"},[_vm._v(_vm._s(_vm.log.invalid.length))]),_vm._v(\" contained validation errors. \")]):_vm._e(),(_vm.log.failed.length > 0)?_c('ImportResultModalItem',{attrs:{\"icon\":\"error\",\"icon-class\":\"text-red-600\"},on:{\"inspect\":_vm.inspectFailed}},[_c('strong',{staticClass:\"font-semibold\"},[_vm._v(_vm._s(_vm.log.failed.length))]),_vm._v(\" failed on import. \")]):_vm._e()],1),_c('BaseButton',{staticClass:\"bg-primary-500 text-white self-center justify-center w-24 hover:bg-primary-700\",on:{\"click\":function($event){return _vm.close(true)}}},[_vm._v(\" OK \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"flex flex-col mb-4\"},[_c('div',{staticClass:\"flex items-center\"},[_c('BaseIcon',{staticClass:\"w-4 h-4 mr-2\",class:_vm.iconClass,attrs:{\"name\":_vm.icon}}),_c('span',{staticClass:\"mr-2 text-gray-700\"},[_vm._t(\"default\")],2)],1),_c('BaseLink',{staticClass:\"ml-6 text-sm self-start\",on:{\"click\":function($event){return _vm.$emit('inspect')}}},[_vm._v(\" view details \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    props: {\n        icon: {\n            type: String,\n            required: true,\n        },\n        iconClass: {\n            type: String,\n            required: true,\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportResultModalItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportResultModalItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportResultModalItem.vue?vue&type=template&id=353497f5&\"\nimport script from \"./ImportResultModalItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportResultModalItem.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Movie from '@/models/soukai/Movie';\n\nimport { ImportOperationLog } from '@/services/Media';\n\nimport Markdown from '@/utils/Markdown';\n\nimport ErrorInfoModal from '@/components/modals/ErrorInfoModal.vue';\nimport ImportResultModalItem from '@/components/modals/ImportResultModalItem.vue';\nimport MarkdownModal from '@/components/modals/MarkdownModal.vue';\nimport Modal from '@/components/mixins/Modal';\n\nexport default Modal.extend({\n    components: {\n        ImportResultModalItem,\n    },\n    props: {\n        log: {\n            type: Object as () => ImportOperationLog,\n            required: true,\n        },\n    },\n    computed: {\n        watchedMovies(): Movie[] {\n            return this.log.added.filter(movie => movie.watched);\n        },\n        pendingMovies(): Movie[] {\n            return this.log.added.filter(movie => !movie.watched);\n        },\n    },\n    methods: {\n        inspectWatched() {\n            let counter = 0;\n            const logs = ['# These movies have been imported as watched'];\n\n            for (const movie of this.watchedMovies) {\n                logs.push(`${++counter}. ${movie.title}`);\n            }\n\n            this.$ui.openModal(MarkdownModal, { content: logs.join('\\n') });\n        },\n        inspectPending() {\n            let counter = 0;\n            const logs = ['# These movies have been imported to watch later'];\n\n            for (const movie of this.pendingMovies) {\n                logs.push(`${++counter}. ${movie.title}`);\n            }\n\n            this.$ui.openModal(MarkdownModal, { content: logs.join('\\n') });\n        },\n        inspectIgnored() {\n            let counter = 0;\n            const logs = ['# The following movies have been ignored'];\n\n            for (const { reason, data } of this.log.ignored) {\n                logs.push(`${++counter}. ${reason}`);\n                logs.push(Markdown.codeBlock(JSON.stringify(data)));\n            }\n\n            this.$ui.openModal(MarkdownModal, { content: logs.join('\\n') });\n        },\n        inspectUnprocessed() {\n            let counter = 0;\n            const logs = ['# The following movies have not been processed'];\n\n            for (const data of this.log.unprocessed) {\n                logs.push(`${++counter}. `);\n                logs.push(Markdown.codeBlock(JSON.stringify(data)));\n            }\n\n            this.$ui.openModal(MarkdownModal, { content: logs.join('\\n') });\n        },\n        inspectInvalid() {\n            let counter = 0;\n            const logs = ['# The following items were not valid movies'];\n\n            for (const { reasons, data } of this.log.invalid) {\n                logs.push(`${++counter}. ${reasons.join(', ')}`);\n                logs.push(Markdown.codeBlock(JSON.stringify(data)));\n            }\n\n            this.$ui.openModal(MarkdownModal, { content: logs.join('\\n') });\n        },\n        inspectFailed() {\n            let counter = 0;\n            const logs = ['# The following movies caused some errors'];\n\n            for (const { notFound, error, data } of this.log.failed) {\n                if (notFound) {\n                    logs.push(`${++counter}. ${error.message}`);\n                } else {\n                    logs.push(\n                        `${++counter}. An unexpected error ocurred parsing this — `+\n                            `<a href=\"custom:${counter - 1}\">view details</a>`,\n                    );\n                }\n\n                logs.push(Markdown.codeBlock(JSON.stringify(data)));\n            }\n\n            this.$ui.openModal(MarkdownModal, {\n                content: logs.join('\\n'),\n                handleCustomTrigger: (index: string) => {\n                    this.$ui.openModal(ErrorInfoModal, { error: this.log.failed[parseInt(index)].error });\n                },\n            });\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportResultModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportResultModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportResultModal.vue?vue&type=template&id=1bcae513&\"\nimport script from \"./ImportResultModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportResultModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options,\"title\":_vm.title}},[(_vm.body)?_c('MarkdownContent',{staticClass:\"markdown-content--typography\",attrs:{\"content\":_vm.body},on:{\"custom-trigger\":function($event){return _vm.handleCustomTrigger($event)}}}):_c('LoadingCircle',{staticClass:\"w-8 h-8 text-primary-700\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Modal from '@/components/mixins/Modal';\n\nimport LoadingCircle from '@/components/LoadingCircle.vue';\nimport MarkdownContent from '@/components/MarkdownContent.vue';\n\ninterface Data {\n    title: string | null;\n    body: string | null;\n}\n\nexport default Modal.extend({\n    components: {\n        LoadingCircle,\n        MarkdownContent,\n    },\n    props: {\n        file: {\n            type: String,\n            default: null,\n        },\n        content: {\n            type: String,\n            default: null,\n        },\n        replacements: {\n            type: Object,\n            default: () => ({}),\n        },\n        handleCustomTrigger: {\n            type: Function as unknown as () => (trigger: string) => void,\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            default: () => () => {},\n        },\n    },\n    data: (): Data => ({\n        title: null,\n        body: null,\n    }),\n    async created() {\n        const markdown = this.file\n            ? (await import(`@/assets/markdown/${this.file}.md`)).default\n            : (this.content || '');\n\n        this.loadMarkdown(markdown);\n    },\n    methods: {\n        loadMarkdown(markdown: string) {\n            if (markdown.startsWith('# ')) {\n                const secondLineIndex = markdown.indexOf('\\n');\n\n                this.title = markdown.substring(2, secondLineIndex);\n                markdown = markdown.substring(secondLineIndex + 1);\n            }\n\n            for (const [name, value] of Object.entries(this.replacements)) {\n                markdown = markdown.replace(`%${name}%`, value as any);\n            }\n\n            this.body = markdown;\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MarkdownModal.vue?vue&type=template&id=274b5abc&\"\nimport script from \"./MarkdownModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./MarkdownModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M510.371 226.513c-1.088-2.603-2.645-4.971-4.629-6.955l-63.979-63.979c-8.341-8.32-21.824-8.32-30.165 0-8.341 8.341-8.341 21.845 0 30.165l27.584 27.584H320.013c-11.797 0-21.333 9.557-21.333 21.333s9.536 21.333 21.333 21.333h119.168l-27.584 27.584c-8.341 8.341-8.341 21.845 0 30.165 4.16 4.181 9.621 6.251 15.083 6.251s10.923-2.069 15.083-6.251l63.979-63.979c1.984-1.963 3.541-4.331 4.629-6.955a21.356 21.356 0 000-16.296z\"}}),_c('path',{attrs:{\"d\":\"M362.68 298.667c-11.797 0-21.333 9.557-21.333 21.333v106.667h-85.333V85.333c0-9.408-6.187-17.728-15.211-20.437l-74.091-22.229h174.635v106.667c0 11.776 9.536 21.333 21.333 21.333s21.333-9.557 21.333-21.333v-128C384.013 9.557 374.477 0 362.68 0H21.347c-.768 0-1.451.32-2.197.405-1.003.107-1.92.277-2.88.512a21.476 21.476 0 00-6.165 2.645c-.469.299-1.045.32-1.493.661-.172.129-.236.364-.407.492-2.325 1.834-4.266 4.074-5.674 6.741-.299.576-.363 1.195-.597 1.792-.683 1.621-1.429 3.2-1.685 4.992-.107.64.085 1.237.064 1.856-.021.427-.299.811-.299 1.237V448c0 10.176 7.189 18.923 17.152 20.907l213.333 42.667c1.387.299 2.795.427 4.181.427a21.31 21.31 0 0013.525-4.843 21.354 21.354 0 007.808-16.491v-21.333H362.68c11.797 0 21.333-9.557 21.333-21.333V320c0-11.776-9.536-21.333-21.333-21.333z\"}})])\n          )\n        }\n      }\n    ","import { SolidModel, SolidHasManyRelation } from 'soukai-solid';\nimport { urlRoute } from '@noeldemartin/utils';\nimport Soukai, { FieldType, MultiModelRelation } from 'soukai';\n\nimport Str from '@/utils/Str';\nimport TMDBMoviesParser from '@/utils/parsers/TMDBMoviesParser';\nimport TMDBResolver from '@/utils/media/TMDBResolver';\nimport Url from '@/utils/Url';\nimport UUID from '@/utils/UUID';\n\nimport TheMovieDBApi, { TMDBMovie } from '@/api/TheMovieDBApi';\n\nimport WatchAction from '@/models/soukai/WatchAction';\n\nexport default class Movie extends SolidModel {\n\n    public static rdfContexts = {\n        'schema': 'https://schema.org/',\n    };\n\n    public static rdfsClasses = ['schema:Movie'];\n\n    public static fields = {\n        title: {\n            type: FieldType.String,\n            rdfProperty: 'schema:name',\n            required: true,\n        },\n        description: {\n            type: FieldType.String,\n            rdfProperty: 'schema:description',\n        },\n        releaseDate: {\n            type: FieldType.Date,\n            rdfProperty: 'schema:datePublished',\n        },\n        posterUrl: {\n            type: FieldType.Key,\n            rdfProperty: 'schema:image',\n        },\n        externalUrls: {\n            type: FieldType.Array,\n            rdfProperty: 'schema:sameAs',\n            items: { type: FieldType.Key },\n        },\n    };\n\n    public title!: string;\n    public description?: string;\n    public releaseDate?: Date;\n    public posterUrl?: string;\n    public externalUrls!: string[];\n    public createdAt!: Date;\n    public updatedAt!: Date;\n\n    public actions?: WatchAction[];\n    public relatedActions!: SolidHasManyRelation<Movie, WatchAction, typeof WatchAction>;\n\n    public get watched(): boolean {\n        return !!this.actions && this.actions.length > 0;\n    }\n\n    public get pending(): boolean {\n        return !this.watched;\n    }\n\n    public get watchedAt(): Date | null {\n        return this.watched ? this.actions![0].createdAt : null;\n    }\n\n    public get uuid(): string | null {\n        if (!this.url)\n            return null;\n\n        return this.url.match(/([^/#]+)(#.*)?$/)[1] ?? null;\n    }\n\n    public get slug(): string {\n        let slug = Str.slug(this.title);\n\n        if (this.releaseDate?.getFullYear())\n            slug += '-' + this.releaseDate.getFullYear();\n\n        return slug;\n    }\n\n    public get imdbUrl(): string | null {\n        return this.externalUrls.find(url => url.includes('imdb.com')) || null;\n    }\n\n    public get tmdbUrl(): string | null {\n        return this.externalUrls.find(url => url.includes('themoviedb.org')) || null;\n    }\n\n    public get imdbId(): string | null {\n        if (!this.imdbUrl)\n            return null;\n\n        const matches = this.imdbUrl.match(/https:\\/\\/www\\.imdb\\.com\\/title\\/([^/]+)/);\n\n        return matches ? matches[1] : null;\n    }\n\n    public get tmdbId(): number | null {\n        if (!this.tmdbUrl)\n            return null;\n\n        const matches = this.tmdbUrl.match(/https:\\/\\/www\\.themoviedb\\.org\\/movie\\/(\\d+)/);\n\n        return matches ? parseInt(matches[1]) : null;\n    }\n\n    public is(movie: Movie): boolean {\n        return this.slug === movie.slug\n            || !!this.externalUrls.find(url => movie.externalUrls.includes(url));\n    }\n\n    // TODO remove when this is fixed in soukai-solid.\n    public getSourceDocumentUrl(): string | null {\n        const originalSourceDocumentUrl = super.getSourceDocumentUrl();\n\n        return originalSourceDocumentUrl\n            ? urlRoute(originalSourceDocumentUrl)\n            : null;\n    }\n\n    public actionsRelationship(): MultiModelRelation {\n        return this\n            .hasMany(WatchAction, 'object')\n            .usingSameDocument()\n            .onDelete('cascade');\n    }\n\n    public async fetchMissingAttributes(): Promise<void> {\n        if (this.imdbId && this.tmdbId)\n            return;\n\n        const tmdbMovie = await this.resolveTMDBMovie();\n\n        if (!tmdbMovie)\n            return;\n\n        const movie = await TMDBMoviesParser.parse(tmdbMovie);\n\n        this.setAttributes(movie.getAttributes());\n        this.regenerateUrls();\n    }\n\n    public async watch(date?: Date): Promise<WatchAction> {\n        date = date || new Date();\n\n        return this.relatedActions.create({ startTime: date, endTime: date });\n    }\n\n    public hasLegacySchema(): boolean {\n        if (!this.exists() || this.wasRecentlyCreated())\n            return false;\n\n        const documentUrl = this.getDocumentUrl();\n        const sourceDocumentUrl = this.getSourceDocumentUrl();\n\n        return (documentUrl !== null && sourceDocumentUrl !== null && documentUrl !== sourceDocumentUrl)\n            || !this.url.includes('#');\n    }\n\n    public async migrateSchema(): Promise<void> {\n        if (!this.exists() || this.wasRecentlyCreated())\n            return;\n\n        const sourceDocumentUrl = this.getSourceDocumentUrl()!;\n        const resourceHash = Url.parse(this.url)?.fragment ?? this.modelClass.defaultResourceHash;\n        const fixedUrl = `${sourceDocumentUrl}#${resourceHash}`;\n\n        const legacyActions = this.relatedActions.getLoadedModels().filter(\n            action => action.getSourceDocumentUrl() === sourceDocumentUrl,\n        );\n        const fixedActionUrls = legacyActions.reduce(\n            (fixedActionUrls, action) => {\n                const actionResourceHash = Url.parse(action.url)?.fragment ?? UUID.generate();\n\n                fixedActionUrls[action.url] = `${sourceDocumentUrl}#${actionResourceHash}`;\n\n                return fixedActionUrls;\n            },\n            {} as Record<string, string>,\n        );\n\n        await Soukai.requireEngine().update(\n            this.getSourceContainerUrl()!,\n            this.getSourceDocumentUrl()!,\n            {\n                '@graph': {\n                    $updateItems: [\n                        {\n                            $where: { '@id': this.url },\n                            $update: { '@id': fixedUrl },\n                        },\n                        ...legacyActions.map(action => ({\n                            $where: { '@id': action.url },\n                            $update: {\n                                '@id': fixedActionUrls[action.url],\n                                'https://schema.org/object': { '@id': fixedUrl },\n                            },\n                        })),\n                    ],\n                },\n            },\n        );\n\n        this.fixLegacyAttributes(fixedUrl);\n        legacyActions.forEach(action => action.fixLegacyAttributes(fixedActionUrls[action.url], fixedUrl));\n    }\n\n    protected newUrl(documentUrl?: string, resourceHash?: string): string {\n        documentUrl = documentUrl ?? Url.resolve(this.modelClass.collection, this.slug);\n        resourceHash = resourceHash ?? this.modelClass.defaultResourceHash;\n\n        return `${documentUrl}#${resourceHash}`;\n    }\n\n    private async resolveTMDBMovie(): Promise<TMDBMovie | null> {\n        if (this.tmdbId)\n            return TheMovieDBApi.getMovie(this.tmdbId);\n\n        if (this.imdbId) {\n            const model = await TMDBResolver.resolveImdbId(this.imdbId);\n\n            if (model === null || !TheMovieDBApi.isMovie(model))\n                return null;\n\n            model.imdb_id = this.imdbId;\n\n            return model;\n        }\n\n        return null;\n    }\n\n    private regenerateUrls(): void {\n        if (!this.url || this.exists() || !this.isDocumentRoot())\n            return;\n\n        const documentActions = (this.actions || [])\n            .filter(action => action.url && action.url.startsWith(this.url));\n\n        this.mintUrl();\n        documentActions.forEach(action => action.mintUrl(this.url));\n    }\n\n    private fixLegacyAttributes(url: string): void {\n        this._attributes.url = url;\n    }\n\n}\n","import { SolidEngine } from 'soukai-solid';\nimport Soukai from 'soukai';\n\nimport MediaContainer from '@/models/soukai/MediaContainer';\nimport Movie from '@/models/soukai/Movie';\n\nimport { SearchIndex } from '@/services/Media';\nimport Service, { ComputedStateDefinitions } from '@/services/Service';\n\ninterface State {\n    collectionUrl: string | null;\n    movie: Movie | null;\n    moviesContainer: MediaContainer | null;\n}\n\ninterface ComputedState {\n    searchIndex: SearchIndex;\n}\n\nconst MOVIES_CHUNK_SIZE = 10;\n\nexport default class Viewer extends Service<State, ComputedState> {\n\n    public readonly isActive: boolean;\n    protected readonly storeNamespace: string = 'viewer';\n\n    constructor(isActive: boolean = false) {\n        super();\n\n        this.isActive = isActive;\n    }\n\n    public get collectionUrl(): string | null {\n        return this.state.collectionUrl;\n    }\n\n    public get movie(): Movie | null {\n        return this.state.movie;\n    }\n\n    public get moviesContainer(): MediaContainer | null {\n        return this.state.moviesContainer;\n    }\n\n    public get loaded(): boolean {\n        return !!this.state.moviesContainer;\n    }\n\n    public get searchIndex(): SearchIndex {\n        return this.getComputedState('searchIndex');\n    }\n\n    public async view(collectionUrl: string): Promise<void> {\n        await this.updateMoviesContainer(collectionUrl);\n\n        const url = new URL(location.href);\n        url.searchParams.set('c', collectionUrl);\n        history.replaceState(\n            { collectionUrl },\n            document.title,\n            url.href,\n        );\n    }\n\n    public setMovie(movie: Movie | null): void {\n        this.setState({ movie });\n\n        const url = new URL(location.href);\n        movie ? url.searchParams.set('m', movie.url) : url.searchParams.delete('m');\n        history.pushState(\n            {\n                collectionUrl: this.moviesContainer?.url,\n                movieUrl: movie?.url || null,\n            },\n            document.title,\n            url.href,\n        );\n    }\n\n    protected async boot(): Promise<void> {\n        if (!this.isActive)\n            return;\n\n        await super.boot();\n\n        Soukai.useEngine(new SolidEngine(window.fetch.bind(window), { globbingBatchSize: null }));\n\n        await this.load();\n\n        this.watchWindowHistory();\n    }\n\n    protected getInitialState(): State {\n        return {\n            collectionUrl: null,\n            movie: null,\n            moviesContainer: null,\n        };\n    }\n\n    protected getComputedStateDefinitions(): ComputedStateDefinitions<State, ComputedState> {\n        return {\n            searchIndex({ moviesContainer }: State) {\n                if (!moviesContainer)\n                    return [];\n\n                const movies = moviesContainer.movies || [];\n                const now = Date.now();\n\n                return movies\n                    .slice(0)\n                    .sort((a, b) => b.createdAt?.getTime() ?? now - a.createdAt?.getTime() ?? now)\n                    .map(movie => ({ movie, searchableText: movie.uuid!.replace(/-/g, '') }));\n            },\n        };\n    }\n\n    private async load(): Promise<void> {\n        const url = new URL(location.href);\n        const collectionUrl = url.searchParams.get('c') || null;\n        const movieUrl = url.searchParams.get('m') || null;\n\n        if (collectionUrl)\n            await this.updateMoviesContainer(collectionUrl);\n\n        if (movieUrl)\n            await this.updateMovie(movieUrl);\n\n        history.replaceState(\n            { collectionUrl, movieUrl },\n            document.title,\n            url.href,\n        );\n    }\n\n    private watchWindowHistory(): void {\n        window.onpopstate = async (event: PopStateEvent) => {\n            const state = event.state ?? {};\n\n            if (Object.keys(state).length === 0)\n                return;\n\n            const collectionUrl = state.collectionUrl ?? null;\n            const movieUrl = state.movieUrl ?? null;\n\n            if (collectionUrl !== this.moviesContainer?.url ?? null)\n                await this.updateMoviesContainer(collectionUrl);\n\n            if (movieUrl !== this.movie?.url ?? null)\n                this.updateMovie(movieUrl);\n        };\n    }\n\n    private async updateMoviesContainer(collectionUrl: string | null): Promise<void> {\n        if (!collectionUrl) {\n            this.setState({ collectionUrl: null, moviesContainer: null, movie: null });\n\n            return;\n        }\n\n        const moviesContainer = await this.loadMoviesContainer(collectionUrl);\n\n        this.setState({\n            collectionUrl,\n            moviesContainer,\n        });\n    }\n\n    private updateMovie(movieUrl: string | null): void {\n        if (!movieUrl || !this.moviesContainer) {\n            this.setState({ movie: null });\n\n            return;\n        }\n\n        const movie = this.moviesContainer.movies?.find(movie => movie.url === movieUrl) || null;\n\n        this.setState({ movie });\n    }\n\n    private async loadMoviesContainer(collectionUrl: string): Promise<MediaContainer | null> {\n        const moviesContainer = await MediaContainer.find<MediaContainer>(collectionUrl);\n\n        if (!moviesContainer)\n            return null;\n\n        const movies = [];\n        const resourceUrls = moviesContainer.resourceUrls;\n\n        while (resourceUrls.length > 0 && movies.length < 30) {\n            const chunkMovies = await Movie.from(moviesContainer.url).all({\n                $in: resourceUrls.splice(0, MOVIES_CHUNK_SIZE),\n            });\n\n            movies.push(...chunkMovies);\n        }\n\n        if (movies.length === 0)\n            return null;\n\n        moviesContainer.setRelationModels('movies', movies);\n\n        return moviesContainer;\n    }\n\n}\n","var map = {\n\t\"./add.svg\": \"76a4\",\n\t\"./bookmark.svg\": \"7253\",\n\t\"./browser.svg\": \"9dca\",\n\t\"./bug.svg\": \"52b2\",\n\t\"./checkmark.svg\": \"1ec3\",\n\t\"./cheveron-down.svg\": \"fbe6\",\n\t\"./cheveron-up.svg\": \"4612\",\n\t\"./close.svg\": \"8b1b\",\n\t\"./cog.svg\": \"038c\",\n\t\"./copy.svg\": \"8aac\",\n\t\"./download.svg\": \"f28e\",\n\t\"./error.svg\": \"28c3\",\n\t\"./github.svg\": \"14f6\",\n\t\"./halloween.svg\": \"8efc\",\n\t\"./hot.svg\": \"abee\",\n\t\"./hour-glass.svg\": \"961e\",\n\t\"./imdb.svg\": \"f8da\",\n\t\"./info.svg\": \"76ed\",\n\t\"./jsonld.svg\": \"f94c\",\n\t\"./logout.svg\": \"69e3\",\n\t\"./media-kraken-confused.svg\": \"7b90\",\n\t\"./media-kraken.svg\": \"8f87\",\n\t\"./menu.svg\": \"d17f\",\n\t\"./more.svg\": \"0f4c\",\n\t\"./netflix.svg\": \"a429\",\n\t\"./photo.svg\": \"7e86\",\n\t\"./question.svg\": \"9872\",\n\t\"./reload.svg\": \"b9c2\",\n\t\"./search-empty.svg\": \"32fa\",\n\t\"./search.svg\": \"d103\",\n\t\"./solid-emblem.svg\": \"a18e\",\n\t\"./terminal.svg\": \"e7bd\",\n\t\"./time.svg\": \"79aa\",\n\t\"./tmdb.svg\": \"fb60\",\n\t\"./trash.svg\": \"af22\",\n\t\"./tviso.svg\": \"018e\",\n\t\"./upload.svg\": \"5a96\",\n\t\"./view-list.svg\": \"641c\",\n\t\"./wrench.svg\": \"0cd0\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"6f32\";","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"isolation\":\"isolate\"},style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"style\":\"isolation:isolate\",\"viewBox\":\"476 478 16 25\",\"width\":\"16pt\",\"height\":\"25pt\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M476 480c0-1.1.9-2 2-2h12a2 2 0 012 2v23l-8-4-8 4v-23z\"}})])\n          )\n        }\n      }\n    ","type GetMovieResponse = TMDBMovie;\n\ninterface FindResponse {\n    movie_results: TMDBMovie[];\n    person_results: TMDBPerson[];\n    tv_results: TMDBTV[];\n}\n\ninterface SearchMoviesResponse {\n    page: number;\n    total_results: number;\n    total_pages: number;\n    results: TMDBMovie[];\n}\n\nexport type TMDBModel = TMDBMovie | TMDBTV | TMDBPerson;\n\nexport interface TMDBMovie {\n    id: number;\n    title: string;\n    overview?: string | null;\n    release_date?: string;\n    poster_path?: string | null;\n    imdb_id?: string | null;\n}\n\nexport interface TMDBTV {\n    id: number;\n}\n\nexport interface TMDBPerson {\n    id: number;\n}\n\nclass TheMovieDBApi {\n\n    public getMovie(id: number): Promise<GetMovieResponse> {\n        return this.request(`movie/${id}`);\n    }\n\n    public find(externalId: string, options: object = {}): Promise<FindResponse> {\n        return this.request(`find/${externalId}`, options);\n    }\n\n    public searchMovies(query: string): Promise<SearchMoviesResponse> {\n        return this.request('search/movie', { query });\n    }\n\n    public isMovie(model: TMDBModel): model is TMDBMovie {\n        return 'release_date' in model;\n    }\n\n    private async request<Response=any>(path: string, parameters: object = {}): Promise<Response> {\n        const url = new URL('https://api.themoviedb.org/3/' + path);\n\n        Object\n            .entries({\n                ...parameters,\n                api_key: process.env.VUE_APP_TMDB_API_KEY as string,\n            })\n            .forEach(([key, value]) => url.searchParams.append(key, value));\n\n        return (await fetch(url.href)).json();\n    }\n\n}\n\nexport default new TheMovieDBApi();\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"32\",\"height\":\"32\",\"viewBox\":\"0 0 24 24\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M2.93 17.07A10 10 0 1117.07 2.93 10 10 0 012.93 17.07zM9 11v4h2V9H9v2zm0-6v2h2V5H9z\"}})])\n          )\n        }\n      }\n    ","import mixins from 'vue-typed-mixins';\nimport Vue from 'vue';\n\nimport Services from '@/services';\n\nenum Animation {\n    Fade = 'fade',\n    Scale = 'scale',\n    ResizeWidth = 'resize-width',\n    ResizeHeight = 'resize-height',\n    SlideUp = 'slide-up',\n}\n\ninterface Data {\n    animationsEnabled: boolean;\n}\n\ninterface TransitionClasses {\n    enterActive: string;\n    enter: string;\n    enterTo: string;\n    leaveActive: string;\n    leave: string;\n    leaveTo: string;\n}\n\ninterface VueTransitionProps {\n    appear: boolean;\n    duration: number | { enter: number; leave: number };\n    enterActiveClass: string;\n    enterClass: string;\n    enterToClass: string;\n    leaveActiveClass: string;\n    leaveClass: string;\n    leaveToClass: string;\n}\n\ninterface ComponentListeners {\n    [key: string]: Function | Function[];\n}\n\ninterface VueTransitionListeners extends ComponentListeners {\n    beforeLeave(el: HTMLElement): void;\n}\n\ntype TransitionClassesArrays = { [entry in keyof TransitionClasses]?: string[] };\n\nexport default mixins(Vue.extend({\n    props: {\n        enabled: {\n            type: Boolean,\n            default: true,\n        },\n        appear: {\n            type: Boolean,\n            default: false,\n        },\n        duration: {\n            type: Number,\n            default: 300,\n        },\n        enterDuration: {\n            type: Number,\n            default: null,\n        },\n        leaveDuration: {\n            type: Number,\n            default: null,\n        },\n        animations: {\n            type: String,\n            default: null,\n        },\n        animation: {\n            type: String as () => Animation,\n            default: null,\n        },\n        enterActiveClass: {\n            type: String,\n            default: '',\n        },\n        enterClass: {\n            type: String,\n            default: '',\n        },\n        enterToClass: {\n            type: String,\n            default: '',\n        },\n        leaveActiveClass: {\n            type: String,\n            default: '',\n        },\n        leaveClass: {\n            type: String,\n            default: '',\n        },\n        leaveToClass: {\n            type: String,\n            default: '',\n        },\n    },\n    data: (): Data => ({\n        // This is necessary because animations that get disabled once they've started get broken,\n        // so this can only be changed on component initialization.\n        animationsEnabled: Services.$ui.animationsEnabled,\n    }),\n    computed: {\n        durations(): { enter: number; leave: number} {\n            return {\n                enter: this.enterDuration || this.duration,\n                leave: this.leaveDuration || this.duration,\n            };\n        },\n        transitionClasses(): TransitionClasses {\n            const animations = (this.animations\n                ? this.animations.split(' ')\n                : (this.animation ? [this.animation] : [])) as Animation[];\n\n            const transitionClassesArrays = animations.reduce(this.mergeAnimationClasses, {\n                enterActive: [\n                    'transition-all',\n                    'ease-out',\n                    'duration-' + this.durations.enter,\n                    ...this.enterActiveClass.split(' '),\n                ],\n                enter: this.enterClass.split(' '),\n                enterTo: this.enterToClass.split(' '),\n                leaveActive: [\n                    'transition-all',\n                    'ease-in',\n                    'duration-' + this.durations.leave,\n                    ...this.leaveActiveClass.split(' '),\n                ],\n                leave: this.leaveClass.split(' '),\n                leaveTo: this.leaveToClass.split(' '),\n            });\n\n            return Object.entries(transitionClassesArrays).reduce((transitionClasses, [phase, classes]) => {\n                transitionClasses[phase] = classes!.join(' ');\n\n                return transitionClasses;\n            }, {} as any) as TransitionClasses;\n        },\n        vueTransitionProps(): VueTransitionProps {\n            return {\n                appear: this.appear,\n                duration: this.durations,\n                enterActiveClass: this.transitionClasses.enterActive,\n                enterClass: this.transitionClasses.enter,\n                enterToClass: this.transitionClasses.enterTo,\n                leaveActiveClass: this.transitionClasses.leaveActive,\n                leaveClass: this.transitionClasses.leave,\n                leaveToClass: this.transitionClasses.leaveTo,\n            };\n        },\n        vueTransitionListeners(): VueTransitionListeners {\n            return {\n                beforeLeave: el => this.$emit('before-leave', el),\n            };\n        },\n    },\n    methods: {\n        mergeAnimationClasses(classes: TransitionClassesArrays, animation: Animation): TransitionClassesArrays {\n            const animationClasses = this.resolveAnimationClasses(animation) || {};\n\n            for (const p in animationClasses) {\n                const phase = p as keyof TransitionClassesArrays;\n\n                classes[phase]!.push(...animationClasses[phase]!);\n            }\n\n            return classes;\n        },\n        resolveAnimationClasses(animation: Animation): TransitionClassesArrays {\n            switch (animation) {\n                case Animation.Fade:\n                    return {\n                        enter: ['opacity-0'],\n                        leaveTo: ['opacity-0'],\n                    };\n                case Animation.Scale:\n                    return {\n                        enterActive: ['transform'],\n                        enter: ['scale-90'],\n                        leaveActive: ['transform'],\n                        leaveTo: ['scale-90'],\n                    };\n                case Animation.ResizeWidth:\n                    return {\n                        enter: ['max-w-0'],\n                        enterTo: ['max-w-full'],\n                        leave: ['max-w-full'],\n                        leaveTo: ['max-w-0'],\n                    };\n                case Animation.ResizeHeight:\n                    return {\n                        enter: ['max-h-0'],\n                        leaveTo: ['max-h-0'],\n                    };\n                case Animation.SlideUp:\n                    return {\n                        enterActive: ['transform'],\n                        enter: ['translate-y-full'],\n                        leaveActive: ['transform'],\n                        leaveTo: ['translate-y-full'],\n                    };\n            }\n        },\n    },\n}));\n","import TheMovieDBApi, { TMDBModel } from '@/api/TheMovieDBApi';\n\nclass TMDBResolver {\n\n    private cache: Record<string, TMDBModel | null> = {};\n\n    public async resolveImdbId(imdbId: string): Promise<TMDBModel | null> {\n        return this.fromCache(`imdb-${imdbId}`, async () => {\n            const results = await TheMovieDBApi.find(imdbId, { external_source: 'imdb_id' });\n            const models = [...results.movie_results, ...results.person_results, ...results.tv_results];\n\n            return models[0] ?? null;\n        });\n    }\n\n    private async fromCache(key: string, resolveModel: () => Promise<TMDBModel | null>): Promise<TMDBModel | null> {\n        if (!(key in this.cache))\n            this.cache[key] = await resolveModel();\n\n        return this.cache[key];\n    }\n\n}\n\nexport default new TMDBResolver();\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M10 20a10 10 0 110-20 10 10 0 010 20zm0-2a8 8 0 100-16 8 8 0 000 16zm-1-7.59V4h2v5.59l3.95 3.95-1.41 1.41L9 10.41z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"isolation\":\"isolate\"},style,staticStyle],\n              attrs: Object.assign({\"width\":\"500pt\",\"height\":\"892.813\",\"style\":\"isolation:isolate\",\"viewBox\":\"0.588 0 500 669.61\",\"xmlns\":\"http://www.w3.org/2000/svg\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{staticClass:\"light-color-fill\",attrs:{\"d\":\"M318.732 372.11c-28.861 13.939-84.306 113.21-48.898 127.05 31.836 12.446 40.597 70.995 28.598 102.4-12 31.409-25.508 27.902-21.218 7.053 4.29-20.849-1.617-58.873-47.255-81.405q-45.638-22.533-31.805-95.682c18.845-84.524 108.94-75.096 125.63-65.863q13.214-11.471 45.508-.412 82.916 37.602 83.88 103.16.964 65.562 40.494 84.845 15.426 12.533-6.749 13.498c-22.175.964-61.705-46.279-66.526-83.881q-4.821-37.601-101.24-58.812-8.827-36.149-.428-51.957l.009.006zm-188.03-6.856q-82.916 37.602-83.88 103.16-.964 65.562-40.494 84.845-15.426 12.533 6.749 13.498c22.175.964 61.705-46.279 66.526-83.881q4.821-37.601 101.24-58.812 20.247-82.916-50.136-58.813l-.005.003z\",\"fill-rule\":\"evenodd\",\"fill\":\"#f79e9e\"}}),_c('path',{staticClass:\"dark-color-fill\",attrs:{\"d\":\"M151.582 312.54q-83.979-4.067-73.785-69.818c6.023-38.853 2.626-84.508-9.889-121.66C55.04 82.857 32.532 53.64.712 50.046c-1.283-.14-1.219 1.796 3.445 5.202 42.478 33.455 54.466 79.151 29.732 137.73-41.506 98.303-43.004 227.48 50.789 219.62 17.83-1.492 35.767-4.255 50.558-3.518q-12.518 29.403-29.669 54.738c-42.422 62.669-15.185 170.17 7.714 196.68 22.898 26.514 11.087-11.811 8.677-26.996-2.411-15.185-1.138-120.17 46.279-149.44 35.245-21.76 44.286-58.48 58.397-82.493q21.109-16.57 45.827 1.153l.014.009c13.743 24.008 23.049 59.915 57.737 81.331 47.417 29.275 48.689 134.26 46.279 149.44-2.41 15.18-14.221 53.51 8.677 26.996s50.135-134.02 7.713-196.68q-17.15-25.335-29.668-54.738c14.791-.737 32.728 2.026 50.558 3.518 93.793 7.851 92.295-121.32 50.789-219.62-24.734-58.581-12.747-104.28 29.732-137.73 4.664-3.406 4.727-5.342 3.445-5.202-31.82 3.594-54.329 32.811-67.197 71.016-12.514 37.155-15.911 82.81-9.888 121.66q9.849 63.526-68.21 69.472 72.08-182.71 29.931-255.59c-43.241-74.772-206.33-76.167-260.32 0q-52.667 74.3 29.527 255.94l.002-.004z\",\"fill\":\"#f05252\"}}),_c('path',{staticClass:\"light-color-fill\",attrs:{\"d\":\"M105.567 312.194c0-32.764 26.6-59.365 59.365-59.365 32.764 0 59.364 26.601 59.364 59.365s-26.6 59.365-59.364 59.365c-32.765 0-59.365-26.601-59.365-59.365zm168.585 0c0-32.764 26.6-59.365 59.364-59.365 32.765 0 59.365 26.601 59.365 59.365s-26.6 59.365-59.365 59.365c-32.764 0-59.364-26.601-59.364-59.365z\",\"fill-rule\":\"evenodd\",\"fill\":\"#f79e9e\"}}),_c('path',{staticClass:\"dark-color-fill\",attrs:{\"d\":\"M195.291 291.93l-20.264 20.264 20.264 20.264-10.096 10.096-20.263-20.264-20.264 20.264-10.096-10.096 20.264-20.264-20.264-20.264 10.096-10.096 20.264 20.264 20.263-20.264 10.096 10.096zm168.585 0l-20.264 20.264 20.264 20.264-10.096 10.096-20.264-20.264-20.263 20.264-10.096-10.096 20.264-20.264-20.264-20.264 10.096-10.096 20.263 20.264 20.264-20.264 10.096 10.096z\",\"fill-rule\":\"evenodd\",\"fill\":\"#f05252\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M0 4c0-1.1.9-2 2-2h16a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V4zm11 9l-3-3-6 6h16l-5-5-2 2zm4-4a2 2 0 100-4 2 2 0 000 4z\"}})])\n          )\n        }\n      }\n    ","var map = {\n\t\"./halloween-1.png\": [\n\t\t\"9dea\",\n\t\t\"chunk-2d0f0e1d\"\n\t],\n\t\"./halloween-2.png\": [\n\t\t\"c363\",\n\t\t\"chunk-2d2167e3\"\n\t],\n\t\"./halloween-3.png\": [\n\t\t\"8ca6\",\n\t\t\"chunk-2d0e9556\"\n\t],\n\t\"./halloween-4.png\": [\n\t\t\"5a87\",\n\t\t\"chunk-2d0d2bc1\"\n\t],\n\t\"./halloween-5.png\": [\n\t\t\"104a\",\n\t\t\"chunk-2d0aa202\"\n\t],\n\t\"./halloween.png\": [\n\t\t\"e803\",\n\t\t\"chunk-2d2262ac\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"7f4e\";\nmodule.exports = webpackAsyncContext;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{staticClass:\"bg-red-600 text-white\",attrs:{\"id\":_vm.id,\"fullscreen\":_vm.$ui.mobile,\"options\":_vm.options,\"scrollable\":false}},[_c('div',{staticClass:\"flex mb-4 items-center\"},[_c('h2',{staticClass:\"font-semibold text-xl text-red-200\"},[_vm._v(\" \"+_vm._s(_vm.errorName)+\" \")]),_c('div',{staticClass:\"flex-grow\"}),_c('button',{staticClass:\"p-2 ml-2 -my-2 rounded-lg hover:bg-red-700\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.close(true)}}},[_c('BaseIcon',{staticClass:\"w-4 h-4 text-red-200\",attrs:{\"name\":\"close\"}})],1)]),_c('div',{staticClass:\"flex flex-col relative -mx-4 -mb-4 bg-red-200 flex-grow overflow-hidden\"},[_c('div',{staticClass:\"flex flex-col relative p-4 desktop:flex-row\"},[_c('p',{staticClass:\"text-gray-700 leading-relaxed mb-3 desktop:mr-3 desktop:mb-0\"},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]),(_vm.$ui.desktop)?_c('div',{staticClass:\"flex-shrink-0 w-40\"}):_vm._e(),_c('div',{staticClass:\"\\n                    flex flex-col\\n                    desktop:absolute desktop:right-0 desktop:top-0 desktop:m-4\\n                    desktop:flex-row-reverse\\n                \"},[_c('ErrorInfoModalButton',{staticClass:\"bg-red-200 text-red-800 mb-2 desktop:mb-0\",attrs:{\"icon\":\"terminal\",\"action\":\"inspect in console\"},on:{\"click\":_vm.inspect}}),_c('ErrorInfoModalButton',{staticClass:\"bg-red-200 text-red-800 mb-2 desktop:mr-2 desktop:mb-0\",attrs:{\"icon\":\"copy\",\"action\":\"copy to clipboard\"},on:{\"click\":_vm.copy}}),(_vm.$app.isErrorReportingAvailable)?_c('ErrorInfoModalButton',{staticClass:\"bg-red-200 text-red-800 mb-2 desktop:mr-2 desktop:mb-0\",attrs:{\"icon\":\"bug\",\"action\":_vm.sentryId ? 'View report ID' : 'Send error report'},on:{\"click\":_vm.report}}):_vm._e(),_c('ErrorInfoModalButton',{staticClass:\"bg-red-200 text-red-800 desktop:mr-2\",attrs:{\"icon\":\"github\",\"action\":\"report in GitHub\",\"url\":_vm.githubReportUrl}})],1)]),_c('pre',{staticClass:\"p-4 h-full text-xs text-red-900 bg-white-overlay overflow-auto\",domProps:{\"textContent\":_vm._s(_vm.stackTrace)}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.isLink ? 'a' : 'button',_vm._b({tag:\"component\",staticClass:\"relative flex items-center rounded px-2 group h-10 text-sm overflow-hidden desktop:h-8\",attrs:{\"title\":_vm.action},on:{\"click\":function($event){return _vm.$emit('click')}}},'component',\n        _vm.isLink\n            ? { target: '_blank', href: _vm.url }\n            : { type: 'button' }\n    ,false),[_c('div',{staticClass:\"absolute bg-black-overlay inset-0\"}),_c('BaseIcon',{staticClass:\"w-4 h-4\",attrs:{\"name\":_vm.icon}}),_c('div',{staticClass:\"\\n            text-left w-40 truncate duration-300 transition-all\\n            group-hover:w-40 desktop:w-0\\n        \"},[_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.actionText))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Str from '@/utils/Str';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    props: {\n        icon: {\n            type: String,\n            required: true,\n        },\n        action: {\n            type: String,\n            required: true,\n        },\n        url: {\n            type: String,\n            default: null,\n        },\n    },\n    computed: {\n        isLink(): boolean {\n            return !!this.url;\n        },\n        actionText(): string {\n            return this.$ui.desktop ? this.action : Str.capitalize(this.action);\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorInfoModalButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorInfoModalButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ErrorInfoModalButton.vue?vue&type=template&id=d3efc6fc&\"\nimport script from \"./ErrorInfoModalButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./ErrorInfoModalButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Errors from '@/utils/Errors';\n\nimport ErrorInfoModalButton from '@/components/modals/ErrorInfoModalButton.vue';\nimport MarkdownContent from '@/components/MarkdownContent.vue';\nimport Modal from '@/components/mixins/Modal';\n\ninterface Data {\n    sentryId?: string;\n}\n\nexport default Modal.extend({\n    components: {\n        ErrorInfoModalButton,\n        MarkdownContent,\n    },\n    props: {\n        error: {\n            type: Error,\n            required: true,\n        },\n    },\n    data(): Data {\n        return { sentryId: this.error.sentryId };\n    },\n    computed: {\n        errorName(): string {\n            return this.error.name || 'Error';\n        },\n        errorMessage(): string {\n            return this.error.message || 'Unknown error';\n        },\n        stackTrace(): string {\n            // TODO without sourcemaps this may not be so useful...\n            const stack = this.error.stack || 'Stacktrace not found';\n\n            return stack + '\\n';\n        },\n        githubReportUrl(): string {\n            const title = encodeURIComponent(`${this.errorName}: ${this.errorMessage}`);\n            const body = encodeURIComponent(\n                '[Please explain what you were trying to do when this error appeared.]\\n\\n' +\n                'Stack trace:\\n' +\n                '```' + this.stackTrace + '```',\n            );\n\n            return `${this.$app.sourceUrl}/issues/new?title=${title}&body=${body}`;\n        },\n    },\n    methods: {\n        report() {\n            if (this.sentryId) {\n                this.$ui.showSnackbar('Sentry.io ID: ' + this.sentryId, { transient: true });\n\n                return;\n            }\n\n            Errors.report(this.error);\n\n            this.sentryId = this.error.sentryId;\n            this.$ui.showSnackbar('Error reported to Sentry.io: ' + this.sentryId, { transient: true });\n        },\n        inspect() {\n            (window as any).error = this.error;\n\n            this.$ui.showSnackbar('You can now use the **error** variable in the console', { transient: true });\n        },\n        copy() {\n            const textarea = document.createElement('textarea');\n            textarea.value = `${this.errorName}: ${this.errorMessage}\\n\\n${this.stackTrace}`;\n            textarea.style.position = 'fixed';\n            textarea.style.top = '-9999px';\n            document.body.appendChild(textarea);\n            textarea.focus();\n            textarea.select();\n            document.execCommand('copy');\n            textarea.remove();\n\n            this.$ui.showSnackbar('Debug information copied to clipboard', { transient: true });\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorInfoModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorInfoModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ErrorInfoModal.vue?vue&type=template&id=0b078814&\"\nimport script from \"./ErrorInfoModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ErrorInfoModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\n\nconst requireComponent = require.context('@/components/base', false, /\\.vue$/);\n\nfor (const fileName of requireComponent.keys()) {\n    const name = fileName.match(/^(?:\\.\\/)?(.+)\\.vue$/)![1];\n\n    if (typeof name !== 'undefined')\n        Vue.component(name, requireComponent(fileName).default);\n}\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}}),_c('path',{attrs:{\"d\":\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"32\",\"height\":\"32\",\"viewBox\":\"0 0 36 36\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"fill\":\"#F4900C\",\"d\":\"M32.664 8.519C29.364 5.134 23.42 4.75 18 4.75S6.636 5.134 3.336 8.519C.582 11.344 0 15.751 0 19.791c0 5.263 1.982 11.311 6.357 14.244C9.364 36.051 13.95 35.871 18 35.871s8.636.18 11.643-1.836C34.018 31.101 36 25.054 36 19.791c0-4.04-.582-8.447-3.336-11.272z\"}}),_c('path',{attrs:{\"fill\":\"#3F7123\",\"d\":\"M20.783 5.444a.637.637 0 01-.647.764h-4.451a.636.636 0 01-.647-.764l.745-4.472a.948.948 0 01.902-.764h2.451c.426 0 .832.344.901.764l.746 4.472z\"}}),_c('path',{attrs:{\"fill\":\"#642116\",\"d\":\"M20.654 21.159l-1.598-2.596c-.291-.542-.673-.813-1.057-.817-.383.004-.766.275-1.057.817l-1.598 2.596c-.587 1.093.873 1.716 2.654 1.716s3.243-.624 2.656-1.716zm9.508 3.192a.25.25 0 00-.214-.121h-.841a.252.252 0 00-.181.077l-2.231 2.334-2.698-2.169a.262.262 0 00-.185-.053.246.246 0 00-.168.094l-2.408 3.062-3.054-3.266c-.013-.014-.033-.017-.048-.028-.015-.01-.025-.027-.043-.034-.006-.002-.013 0-.019-.002-.024-.007-.047-.005-.072-.005-.025 0-.048-.002-.072.006-.006.002-.013-.001-.02.002-.018.007-.027.024-.043.034-.016.01-.035.013-.048.027l-3.053 3.266-2.409-3.062a.246.246 0 00-.168-.094.26.26 0 00-.185.053l-2.698 2.169-2.23-2.334a.25.25 0 00-.181-.077h-.841a.25.25 0 00-.221.366l2.754 5.219a.251.251 0 00.367.087l2.034-1.458 3.004 3.633a.247.247 0 00.174.09l.019.001a.25.25 0 00.167-.063L18 28.836l3.65 3.268a.25.25 0 00.167.063l.019-.001a.247.247 0 00.174-.09l3.005-3.633 2.034 1.458c.06.043.133.06.203.04a.248.248 0 00.163-.126l2.755-5.219a.249.249 0 00-.008-.245zm-2.186-8.93c.129 2.127-.784 3.806-3.205 3.953-2.42.146-3.529-1.411-3.658-3.537s1.232-5.12 3.127-5.234c1.896-.116 3.608 2.691 3.736 4.818zm-19.952 0c-.129 2.127.784 3.806 3.205 3.953 2.42.146 3.529-1.411 3.658-3.537s-1.232-5.12-3.127-5.234-3.608 2.691-3.736 4.818z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"isolation\":\"isolate\"},style,staticStyle],\n              attrs: Object.assign({\"width\":\"500pt\",\"height\":\"892.813\",\"style\":\"isolation:isolate\",\"viewBox\":\"0.588 0 500 669.61\",\"xmlns\":\"http://www.w3.org/2000/svg\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{staticClass:\"light-color-fill\",attrs:{\"d\":\"M319.32 372.11c-28.861 13.939-84.306 113.21-48.898 127.05 31.836 12.446 40.597 70.995 28.598 102.4-12 31.409-25.508 27.902-21.218 7.053s-1.617-58.873-47.255-81.405q-45.638-22.533-31.805-95.682c18.845-84.524 108.94-75.096 125.63-65.863q13.214-11.471 45.508-.412 82.916 37.602 83.88 103.16.964 65.562 40.494 84.845 15.426 12.533-6.749 13.498c-22.175.964-61.705-46.279-66.526-83.881q-4.821-37.601-101.24-58.812-8.827-36.149-.428-51.957zm-188.03-6.856q-82.916 37.602-83.88 103.16-.964 65.562-40.494 84.845-15.426 12.533 6.749 13.498c22.175.964 61.705-46.279 66.526-83.881q4.821-37.601 101.24-58.812 20.247-82.916-50.136-58.813z\",\"fill\":\"#f79e9e\",\"fill-rule\":\"evenodd\"}}),_c('path',{staticClass:\"dark-color-fill\",attrs:{\"d\":\"M152.17 312.54q-83.979-4.067-73.785-69.818c6.023-38.853 2.626-84.508-9.889-121.66C55.628 82.857 33.12 53.64 1.3 50.046c-1.283-.14-1.219 1.796 3.445 5.202 42.478 33.455 54.466 79.151 29.732 137.73-41.506 98.303-43.004 227.48 50.789 219.62 17.83-1.492 35.767-4.255 50.558-3.518q-12.518 29.403-29.669 54.738c-42.422 62.669-15.185 170.17 7.714 196.68 22.898 26.514 11.087-11.811 8.677-26.996-2.411-15.185-1.138-120.17 46.279-149.44 35.245-21.76 44.286-58.48 58.397-82.493q21.109-16.57 45.827 1.153l.014.009c13.743 24.008 23.049 59.915 57.737 81.331 47.417 29.275 48.689 134.26 46.279 149.44s-14.221 53.51 8.677 26.996 50.135-134.02 7.713-196.68q-17.15-25.335-29.668-54.738c14.791-.737 32.728 2.026 50.558 3.518 93.793 7.851 92.295-121.32 50.789-219.62-24.734-58.581-12.747-104.28 29.732-137.73 4.664-3.406 4.727-5.342 3.445-5.202-31.82 3.594-54.329 32.811-67.197 71.016-12.514 37.155-15.911 82.81-9.888 121.66q9.849 63.526-68.21 69.472 72.08-182.71 29.931-255.59c-43.241-74.772-206.33-76.167-260.32 0q-52.667 74.3 29.527 255.94z\",\"fill\":\"#f05252\"}}),_c('path',{staticClass:\"light-color-fill\",attrs:{\"d\":\"M276.91 316.68c0-23.812 27.656-43.145 61.722-43.145 34.065 0 61.721 19.333 61.721 43.145 0 23.813-27.656 43.146-61.721 43.146-34.066 0-61.722-19.333-61.722-43.146zm-175.47 0c0-23.812 27.657-43.145 61.722-43.145s61.722 19.333 61.722 43.145c0 23.813-27.657 43.146-61.722 43.146s-61.722-19.333-61.722-43.146z\",\"fill\":\"#f79e9e\",\"fill-rule\":\"evenodd\"}}),_c('path',{staticClass:\"dark-color-fill\",attrs:{\"d\":\"M300.56 327.08c2.092-6.366 10.637-35.7 38.348-35.016 27.275.673 35.942 27.13 37.65 31.71 1.707 4.58 1.735 10.393-.872 13.101-2.736 2.842-6.981 2.645-9.761-1.959-4.801-7.953-5.982-24.648-27.017-24.487-19.868.153-20.865 17.088-24.839 24.487-2.678 4.986-6.88 7.583-10.72 5.877-3.84-1.707-4.881-7.346-2.789-13.713zm-175.47 0c2.091-6.366 10.637-35.7 38.347-35.016 27.275.673 35.943 27.13 37.65 31.71 1.708 4.58 1.736 10.393-.871 13.101-2.736 2.842-6.982 2.645-9.762-1.959-4.801-7.953-5.981-24.648-27.017-24.487-19.868.153-20.865 17.088-24.839 24.487-2.678 4.986-6.88 7.583-10.72 5.877-3.84-1.707-4.88-7.346-2.788-13.713z\",\"fill\":\"#f05252\",\"fill-rule\":\"evenodd\"}})])\n          )\n        }\n      }\n    ","var map = {\n\t\"./BaseButton.vue\": \"0ed6\",\n\t\"./BaseIcon.vue\": \"2d6f\",\n\t\"./BaseLink.vue\": \"2cb5\",\n\t\"./BaseMenu.vue\": \"c15b\",\n\t\"./BasePageHeader.vue\": \"6789\",\n\t\"./BaseToggle.vue\": \"ba8c\",\n\t\"./BaseTransition.vue\": \"f16f\",\n\t\"./BaseTransitionGroup.vue\": \"248a\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"917b\";","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M3 18a7 7 0 014-6.33V8.33A7 7 0 013 2H1V0h18v2h-2a7 7 0 01-4 6.33v3.34A7 7 0 0117 18h2v2H1v-2h2zM5 2a5 5 0 004 4.9V10h2V6.9A5 5 0 0015 2H5z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M10 20a10 10 0 110-20 10 10 0 010 20zm2-13c0 .28-.21.8-.42 1L10 9.58c-.57.58-1 1.6-1 2.42v1h2v-1c0-.29.21-.8.42-1L13 9.42c.57-.58 1-1.6 1-2.42a4 4 0 10-8 0h2a2 2 0 114 0zm-3 8v2h2v-2H9z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M10 20a10 10 0 110-20 10 10 0 010 20zm2-2.25a8 8 0 004-2.46V9a2 2 0 01-2-2V3.07a7.95 7.95 0 00-3-1V3a2 2 0 01-2 2v1a2 2 0 01-2 2v2h3a2 2 0 012 2v5.75zm-4 0V15a2 2 0 01-2-2v-1h-.5A1.5 1.5 0 014 10.5V8H2.25A8.01 8.01 0 008 17.75z\"}})])\n          )\n        }\n      }\n    ","module.exports = \"data:image/png;base64,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\"","import Service from '@/services/Service';\n\nimport ModelsCache from '@/models/ModelsCache';\n\nimport Storage from '@/utils/Storage';\n\ninterface BrowserCapabilities {\n    supportsIndexedDB: boolean;\n}\n\nexport default class Browser extends Service {\n\n    private capabilities!: BrowserCapabilities;\n\n    public get supported(): boolean {\n        return this.capabilities.supportsIndexedDB;\n    }\n\n    protected async boot(): Promise<void> {\n        await super.boot();\n\n        if (!Storage.has('media-kraken-browser-capabilities'))\n            Storage.set('media-kraken-browser-capabilities', {\n                supportsIndexedDB: await this.isIndexedDBSupported(),\n            });\n\n        this.capabilities = Storage.get('media-kraken-browser-capabilities');\n    }\n\n    private async isIndexedDBSupported(): Promise<boolean> {\n        try {\n            const stubUrl = 'browser-storage://capabilities-check';\n\n            await ModelsCache.rememberDocument(stubUrl, new Date());\n            await ModelsCache.forgetDocument(stubUrl);\n\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n}\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"viewBox\":\"0 0 352 322\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('g',{attrs:{\"fill\":\"none\"}},[_c('path',{attrs:{\"d\":\"M87.973 282.353l-60.732-105.33a31.6 31.6 0 010-31.538L87.973 40.233c5.646-9.784 16.08-15.795 27.321-15.795H236.68c11.266 0 21.727 6.011 27.321 15.795l60.758 105.304a31.6 31.6 0 010 31.537l-60.732 105.33c-5.646 9.784-16.08 15.795-27.321 15.795H115.372a31.846 31.846 0 01-27.4-15.846z\",\"fill\":\"#FFF\"}}),_c('path',{attrs:{\"d\":\"M93.151 275.197l-57.115-99.06c-5.308-9.185-5.308-20.504 0-29.663l57.115-99.086a29.742 29.742 0 0125.734-14.857h114.23c10.59 0 20.426 5.646 25.734 14.857l57.167 99.034c5.308 9.185 5.308 20.504 0 29.663l-57.141 99.138a29.742 29.742 0 01-25.734 14.858H118.937a29.787 29.787 0 01-25.786-14.884z\",\"fill\":\"#7C4DFF\"}}),_c('path',{attrs:{\"d\":\"M118.469 142.233h117.534a2.649 2.649 0 002.654-2.654v-22.04c0-14.65-11.891-26.54-26.54-26.54h-70.568c-20.53-.026-37.157 16.6-37.157 37.13-.026 7.833 6.27 14.104 14.077 14.104zm11.527 97.368h70.229c21.207 0 38.432-17.225 38.432-38.432 0-7.078-5.724-12.828-12.828-12.828H106.942a2.537 2.537 0 00-2.55 2.55v23.054c-.026 14.181 11.475 25.656 25.604 25.656z\",\"fill\":\"#F7F7F7\"}}),_c('path',{attrs:{\"d\":\"M109.596 139.319l87.663 87.662c5.802 5.803 15.196 5.803 20.998 0l15.196-15.196c5.803-5.802 5.803-15.196 0-20.998l-87.637-87.663c-5.802-5.802-15.196-5.802-20.998 0l-15.196 15.196c-5.855 5.803-5.855 15.222-.026 20.999z\",\"fill\":\"#F7F7F7\"}}),_c('path',{attrs:{\"fill\":\"#444\",\"opacity\":\".3\",\"d\":\"M198.69 228.464l-51.495-40.123h11.397zm-54.33-126.797l40.565 40.566h13.765z\"}})])])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 2400 1006.667\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M1515.267 247.736h-80.12V695.83a6768.104 6768.104 0 01217.533 10.994v-78.946a6864.694 6864.694 0 00-137.413-7.768zm636.733.045h-88.013l-58.014 134.468-52.12-134.468h-86.693l93.16 240.276-101.693 235.719a6665.556 6665.556 0 0184.213 8.765l59.147-137.054 58.573 151.082c30.507 3.923 60.933 8.016 91.307 12.351l.133-.052-104.373-269.188zm-991.884 444.132l80.124-.017V509.624h108.613v-78.945H1240.24V327.44h143.547v-79.656h-223.671zM860.917 327.436h83.858v369.17a6929.062 6929.062 0 0180.121-2.535V327.436h83.853v-79.655H860.917zm-273.92 392.116a6743.075 6743.075 0 01222.558-16.533v-78.955a6883.616 6883.616 0 00-142.436 9.733V514.276c31.062-.31 71.965-1.257 108.201-.807v-78.952c-28.95-.07-75.477.404-108.201.823V327.441h142.436v-79.656H586.997zM429.83 537.042l-104.353-289.26H249.33V758.93a6803.385 6803.385 0 0180.122-10.914v-277.96l92.788 266.548c29.184-3.384 58.42-6.59 87.713-9.603v-479.22H429.83zm1288.904 174.534a6509.884 6509.884 0 0180.134 6.616v-470.41h-80.134v463.794\",\"fill\":\"#ed1c24\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.html)?_c('div',{staticClass:\"markdown-content\",domProps:{\"innerHTML\":_vm._s(_vm.html)},on:{\"click\":_vm.contentClicked}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport Markdown from '@/utils/Markdown';\n\nexport default Vue.extend({\n    props: {\n        content: {\n            type: String,\n            required: true,\n        },\n    },\n    computed: {\n        html(): string {\n            return Markdown.render(this.content);\n        },\n    },\n    methods: {\n        contentClicked(e: Event) {\n            if (!(e.target instanceof HTMLElement))\n                return;\n\n            const trigger = this.getEventTrigger(e.target);\n\n            if (!trigger || trigger.startsWith('http'))\n                return;\n\n            e.preventDefault();\n\n            const [action, ...args] = trigger.split(':');\n\n            switch (action) {\n                case 'show-markdown':\n                    this.$ui.openFileMarkdownModal(args[0]);\n                    return;\n                case 'route':\n                    this.$router.push(args[0]);\n                    return;\n                case 'custom':\n                    this.$emit('custom-trigger', args.join(':'));\n                    return;\n            }\n        },\n        getEventTrigger(element: HTMLElement | null): string | null {\n            if (!element || element === this.$el)\n                return null;\n\n            const trigger = element instanceof HTMLAnchorElement\n                ? element.href\n                : element.dataset.trigger;\n\n            return trigger || this.getEventTrigger(element.parentElement);\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MarkdownContent.vue?vue&type=template&id=2ca6c361&\"\nimport script from \"./MarkdownContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./MarkdownContent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MarkdownContent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport EventBus from '@/utils/EventBus';\nimport Storage from '@/utils/Storage';\n\nimport { MenuOption } from '@/components/base/BaseMenu.vue';\nimport ImportMediaModal from '@/components/modals/ImportMediaModal.vue';\nimport MoviesGrid from '@/components/MoviesGrid.vue';\nimport SeedCollectionModal from '@/components/modals/SeedCollectionModal.vue';\n\nconst MAX_MOVIES = 10;\nconst MAX_ROWS = 3;\n\nconst enum Sorting {\n    MostRecent = 'most-recent',\n    Oldest = 'oldest',\n}\n\ninterface SortMenuOption extends MenuOption {\n    sorting: Sorting;\n}\n\ninterface Data {\n    sorting: Sorting;\n    gridColumns: number | null;\n    resizeListener: (() => void) | null;\n}\n\nexport default Vue.extend({\n    components: {\n        MoviesGrid,\n    },\n    data: (): Data => ({\n        sorting: Storage.get('media-kraken-home-sorting', Sorting.MostRecent),\n        gridColumns: null,\n        resizeListener: null,\n    }),\n    computed: {\n        sortingOptions(): SortMenuOption[] {\n            const handle = ({ sorting }: SortMenuOption) => {\n                this.sorting = sorting;\n\n                Storage.set('media-kraken-home-sorting', sorting);\n            };\n\n            return [\n                { sorting: Sorting.MostRecent, text: 'Most recent first', icon: 'hot', handle },\n                { sorting: Sorting.Oldest, text: 'Oldest first', icon: 'hour-glass', handle },\n            ];\n        },\n        sortingText(): string {\n            return this.sortingOptions.find(option => option.sorting === this.sorting)!.text;\n        },\n        pendingMovies(): Movie[] {\n            const pendingMovies = this.$media.movies.filter(movie => movie.pending);\n\n            pendingMovies.sort((a: Movie, b: Movie) => a.createdAt.getTime() - b.createdAt.getTime());\n\n            if (this.sorting === Sorting.MostRecent) {\n                pendingMovies.reverse();\n            }\n\n            return pendingMovies;\n        },\n        pendingMoviesSummary(): Movie[] {\n            const gridColumns = this.gridColumns || MAX_MOVIES;\n            const moviesCount = Math.min(MAX_MOVIES - (MAX_MOVIES % gridColumns), MAX_ROWS * gridColumns);\n\n            return this.pendingMovies.slice(0, moviesCount);\n        },\n    },\n    mounted() {\n        this.gridColumns = this.measureGridColumns();\n\n        window.addEventListener('resize', this.resizeListener = () => this.gridColumns = this.measureGridColumns());\n\n        if (this.$media.loaded) {\n            this.$app.showHalloweenRecommendations();\n        } else {\n            EventBus.once('media-loaded', () => this.$app.showHalloweenRecommendations());\n        }\n    },\n    destroyed() {\n        if (!this.resizeListener)\n            return;\n\n        window.removeEventListener('resize', this.resizeListener);\n    },\n    methods: {\n        importMedia() {\n            this.$ui.openModal(ImportMediaModal);\n        },\n        seedCollection() {\n            this.$ui.openModal(SeedCollectionModal);\n        },\n        measureGridColumns(): number | null {\n            const gridElement = (this.$refs['movies-grid'] as Vue)?.$el.querySelector('.grid');\n            const movieElement = gridElement?.firstElementChild;\n\n            return gridElement && movieElement\n                ? Math.floor(gridElement.clientWidth / movieElement.clientWidth)\n                : null;\n        },\n    },\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"font-montserrat antialiased font-normal text-base text-gray-900 leading-tight bg-gray-100 max-h-screen\"},[(_vm.ready)?_c('div',{staticClass:\"flex flex-col min-h-screen\"},[(_vm.$media.loaded && !_vm.$ui.headerHidden)?_c('AppHeader'):_vm._e(),_c('main',{staticClass:\"flex flex-col flex-grow mx-auto max-w-content w-full px-4\"},[(_vm.$app.isCrashed)?_c('CrashReport'):(!_vm.$auth.refreshing)?_c('router-view'):_vm._e()],1),_c('AppFooter')],1):_vm._e(),_c('AppOverlay'),_c('AppModals'),_c('AppSnackbars'),_c('input',{ref:\"file-picker\",staticClass:\"fixed left-full\",attrs:{\"id\":\"file-picker\",\"type\":\"file\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('div',{staticClass:\"mx-auto max-w-content p-4 desktop:pt-12\"},[_c('div',{staticClass:\"relative flex items-center w-full justify-end h-16\"},[_c('BaseTransition',{attrs:{\"enter-duration\":300,\"leave-duration\":100,\"animation\":\"fade\",\"enter-active-class\":\"delay-200\"}},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$search.open),expression:\"!$search.open\"}],ref:\"menu-button\",staticClass:\"absolute left-0 p-4 rounded text-black z-10 hover:bg-gray-300 desktop:hidden\",attrs:{\"type\":\"button\",\"aria-label\":\"Open menu\"},on:{\"click\":function($event){return _vm.$ui.toggleMenu()}}},[_c('BaseIcon',{staticClass:\"w-6 h-6\",attrs:{\"name\":\"menu\"}})],1)]),_c('BaseTransition',{attrs:{\"enter-duration\":300,\"leave-duration\":100,\"animation\":\"fade\",\"enter-active-class\":\"delay-200\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$ui.desktop || !_vm.$search.open),expression:\"$ui.desktop || !$search.open\"}],staticClass:\"\\n                        absolute inset-x-16 inset-y-0 z-10 flex justify-center\\n                        desktop:relative desktop:inset-auto\\n                    \"},[_c('router-link',{staticClass:\"mr-4\",attrs:{\"to\":{ name: 'home' },\"title\":'Media Kraken' + (\n                                _vm.$route.name !== 'home'\n                                    ? ' - press \"h\" to go home'\n                                    : ''\n                            )}},[_c('BaseIcon',{staticClass:\"w-auto h-16\",attrs:{\"name\":\"media-kraken\"}})],1)],1)]),_c('AppHeaderSearch'),_c('AppHeaderProfile')],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseTransition',{attrs:{\"enabled\":_vm.$ui.desktop,\"leave-duration\":200,\"enter-duration\":300,\"enter-active-class\":\"delay-100\",\"animation\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$ui.mobile || !_vm.$search.open),expression:\"$ui.mobile || !$search.open\"}],staticClass:\"inset-y-0 z-50\",class:{\n            'fixed w-screen pr-10 transition-all duration-300': _vm.$ui.mobile,\n            'absolute right-0': _vm.$ui.desktop,\n            'right-full': _vm.$ui.mobile && !_vm.$ui.menuOpen,\n            'right-0': _vm.$ui.mobile && _vm.$ui.menuOpen,\n        }},[_c('div',{ref:\"mobile-menu\",staticClass:\"\\n                h-full p-6 flex flex-col bg-white shadow\\n                desktop:p-0 desktop:flex-row desktop:items-center desktop:bg-transparent desktop:shadow-none\\n            \"},[(_vm.$ui.mobile && !_vm.$auth.isOffline)?_c('div',{staticClass:\"flex items-center\"},[(_vm.user.avatarUrl)?_c('UserAvatar',{staticClass:\"w-16 h-16 mr-4 flex-shrink-0 rounded-full text-primary-900 outline-none shadow-solid\"}):_vm._e(),_c('div',{staticClass:\"flex flex-col overflow-hidden\"},[_c('span',{staticClass:\"truncate text-lg font-bold\"},[_vm._v(\" \"+_vm._s(_vm.user.name)+\" \")]),(_vm.userWebId)?_c('a',{staticClass:\"truncate text-sm text-gray-700 hover:underline\",attrs:{\"href\":_vm.userWebId,\"target\":\"blank\"}},[_vm._v(\" \"+_vm._s(_vm.userWebId)+\" \")]):_vm._e()])],1):_vm._e(),_c('nav',{staticClass:\"desktop:mt-0\",class:{ 'mt-4': _vm.$ui.mobile && !_vm.$auth.isOffline }},[_c('BaseLink',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$media.empty),expression:\"!$media.empty\"},{name:\"close-menu\",rawName:\"v-close-menu\"}],ref:\"my-collection\",staticClass:\"\\n                        flex items-center h-8 font-semibold text-lg mb-2\\n                        desktop:text-sm desktop:mr-4 desktop:mb-0\\n                    \",class:{ 'underline': _vm.$route.name === 'collection' },attrs:{\"route\":\"collection\",\"title\":_vm.$route.name !== 'collection' ? 'Press \"c\" to open your collection' : null}},[_vm._v(\" My Collection \")])],1),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$ui.desktop),expression:\"$ui.desktop\"}],ref:\"button\",class:{\n                    'rounded-full text-primary-900 focus:outline-none focus:shadow-solid': _vm.user.avatarUrl,\n                    'flex w-8 h-8 text-gray-700 items-center justify-center hover:text-gray-800':\n                        !_vm.user.avatarUrl,\n                },style:(_vm.user.avatarUrl ? '' : 'margin-left:-.375rem;margin-right:-.375rem'),attrs:{\"type\":\"button\",\"aria-label\":\"Application options\"},on:{\"click\":function($event){return _vm.$ui.toggleMenu()}}},[(_vm.user.avatarUrl)?_c('UserAvatar',{staticClass:\"w-12 h-12 rounded-full\"}):_c('BaseIcon',{staticClass:\"w-5 h-5\",attrs:{\"name\":\"cog\"}})],1),_c('BaseTransition',{attrs:{\"enabled\":_vm.$ui.desktop,\"duration\":100,\"animations\":\"fade scale\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$ui.menuOpen || _vm.$ui.mobile),expression:\"$ui.menuOpen || $ui.mobile\"}],ref:\"desktop-menu\",staticClass:\"\\n                        right-0 top-full mt-2 origin-top-right\\n                        rounded-md\\n                        desktop:absolute desktop:shadow-lg\\n                    \",class:{\n                        'pb-1 rounded-lg bg-white border border-gray-300 overflow-hidden': _vm.$ui.desktop,\n                        '-mt-4': _vm.$ui.desktop && !_vm.user.avatarUrl,\n                    },staticStyle:{\"width\":\"270px\"}},[(_vm.$ui.desktop && !_vm.$auth.isOffline)?_c('div',{staticClass:\"flex flex-col p-4 overflow-hidden bg-gray-200 border-b border-gray-300\"},[_c('span',{staticClass:\"truncate font-bold mb-1\"},[_vm._v(\" \"+_vm._s(_vm.user.name)+\" \")]),(_vm.userWebId)?_c('a',{staticClass:\"truncate text-sm text-gray-700 hover:underline\",attrs:{\"href\":_vm.userWebId,\"target\":\"blank\"}},[_vm._v(\" \"+_vm._s(_vm.userWebId)+\" \")]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"-mt-4 desktop:mt-0\"},_vm._l((_vm.menuOptions),function(menuOption){return _c('button',{directives:[{name:\"close-menu\",rawName:\"v-close-menu\"}],key:menuOption.name,staticClass:\"flex items-center text-gray-700\",class:{\n                                'text-lg mt-4 focus:underline hover:underline': _vm.$ui.mobile,\n                                'px-4 py-2 w-full text-sm hover:bg-gray-100 hover:text-gray-900': _vm.$ui.desktop,\n                            },attrs:{\"type\":\"button\"},on:{\"click\":menuOption.handler}},[(menuOption.icon === 'halloween')?_c('BaseIcon',{staticClass:\"w-5 h-5 mr-1\",attrs:{\"name\":menuOption.icon}}):_c('BaseIcon',{staticClass:\"mr-2\",class:{\n                                    'w-3 h-3': _vm.$ui.desktop,\n                                    'w-5 h-5': _vm.$ui.mobile,\n                                },attrs:{\"name\":menuOption.icon}}),_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(menuOption.name))])],1)}),0)])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options,\"title\":\"Settings\"}},[_c('div',{staticClass:\"mb-2 -mx-4 px-4 pt-4 border-t max-w-readable\",class:{ 'border-b pb-4': _vm.$app.isErrorReportingAvailable }},[_c('div',{staticClass:\"flex justify-between\"},[_c('h3',{staticClass:\"text-lg font-medium\"},[_vm._v(\" Animations \")]),_c('BaseToggle',{model:{value:(_vm.animations),callback:function ($$v) {_vm.animations=$$v},expression:\"animations\"}})],1),_c('p',{staticClass:\"text-sm text-gray-700 mt-2 leading-relaxed\"},[_vm._v(\" Animations are cool, but it's also cool to have a long battery life. If you want to save battery or your device is struggling to keep up, turn off the animations for a simpler experience. \")])]),(_vm.$app.isErrorReportingAvailable)?_c('div',{staticClass:\"mb-2 -mx-4 px-4 pt-4 max-w-readable\"},[_c('div',{staticClass:\"flex justify-between\"},[_c('h3',{staticClass:\"text-lg font-medium\"},[_vm._v(\" Error Reporting \")]),_c('BaseToggle',{model:{value:(_vm.errorReporting),callback:function ($$v) {_vm.errorReporting=$$v},expression:\"errorReporting\"}})],1),_c('p',{staticClass:\"text-sm text-gray-700 mt-2 leading-relaxed\"},[_vm._v(\" If you are experiencing errors, you can turn on error reporting to send them to \"),_c('BaseLink',{attrs:{\"url\":\"https://sentry.io\"}},[_vm._v(\" Sentry \")]),_vm._v(\". Make sure that trackers are not blocking the reports. If things are so bad that you can't even get to this modal, you can always force error reporting appending \"),_c('code',[_vm._v(\"?error_reporting=on\")]),_vm._v(\" in the address bar. \")],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Services from '@/services';\n\nimport Errors from '@/utils/Errors';\n\nimport Modal from '@/components/mixins/Modal';\n\nexport default Modal.extend({\n    data: () => ({\n        animations: Services.$ui.animationsEnabled,\n        errorReporting: Services.$app.isErrorReportingEnabled,\n    }),\n    watch: {\n        animations(enabled: boolean) { this.$ui.setAnimationsEnabled(enabled); },\n        errorReporting(enabled: boolean) { Errors.setReportingEnabled(enabled); },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SettingsModal.vue?vue&type=template&id=6a6898e8&\"\nimport script from \"./SettingsModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./SettingsModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.user.avatarUrl)?_c('img',{staticClass:\"object-cover\",attrs:{\"src\":_vm.user.avatarUrl}}):_c('div',{staticClass:\"overflow-hidden\"},[_c('span',{staticClass:\"w-full h-full text-xl flex items-center justify-center text-white bg-primary-500\"},[_vm._v(\" \"+_vm._s((_vm.user.name || '?').substr(0, 1))+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport User from '@/models/users/User';\n\nexport default Vue.extend({\n    computed: {\n        user(): User {\n            return this.$auth.user!;\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAvatar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAvatar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserAvatar.vue?vue&type=template&id=06fcd1e7&\"\nimport script from \"./UserAvatar.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserAvatar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport Services from '@/services';\n\nimport Time from '@/utils/Time';\n\nimport SolidUser from '@/models/users/SolidUser';\nimport User from '@/models/users/User';\n\nimport SettingsModal from '@/components/modals/SettingsModal.vue';\nimport UserAvatar from '@/components/UserAvatar.vue';\n\ninterface MenuOption {\n    name: string;\n    icon: string;\n    handler: Function;\n}\n\nexport default Vue.extend({\n    components: {\n        UserAvatar,\n    },\n    directives: {\n        closeMenu: {\n            bind: el => el.addEventListener('click', () => Services.$ui.closeMenu()),\n        },\n    },\n    computed: {\n        user(): User {\n            return this.$auth.user!;\n        },\n        menuOptions(): MenuOption[] {\n            const optionHandler = (handler: Function) => async () => {\n                // If this isn't done, logging out in offline mode causes a weird UI\n                // interaction with the appearance animation of the confirmation modal.\n                // TODO this shouldn't be necessary, debug further.\n                await Time.wait(0);\n\n                handler();\n            };\n\n            return [\n                {\n                    name: 'Halloween recommendations',\n                    icon: 'halloween',\n                    handler: optionHandler(() => this.$app.showHalloweenRecommendations(true)),\n                },\n                { name: 'Settings', icon: 'wrench', handler: optionHandler(() => this.$ui.openModal(SettingsModal)) },\n                { name: 'Log out', icon: 'logout', handler: optionHandler(() => this.$auth.logout()) },\n            ];\n        },\n        userWebId(): string | null {\n            return this.$auth.user instanceof SolidUser\n                ? this.$auth.user.id\n                : null;\n        },\n    },\n    mounted() {\n        this.$ui.setMobileMenu(this.$refs['mobile-menu'] as HTMLElement);\n        this.$ui.setDesktopMenu(this.$refs['desktop-menu'] as HTMLElement);\n        this.$ui.addMenuTrigger(this.$refs['button'] as HTMLButtonElement);\n        this.$ui.setMyCollection((this.$refs['my-collection'] as Vue).$el as HTMLElement);\n    },\n    beforeDestroy() {\n        this.$ui.setMobileMenu(null);\n        this.$ui.setDesktopMenu(null);\n        this.$ui.removeMenuTrigger(this.$refs['button'] as HTMLButtonElement);\n        this.$ui.setMyCollection(null);\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeaderProfile.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeaderProfile.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppHeaderProfile.vue?vue&type=template&id=148b35d0&\"\nimport script from \"./AppHeaderProfile.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppHeaderProfile.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center h-full\",class:{\n        'absolute inset-0 justify-end': _vm.$ui.mobile,\n        'relative justify-start flex-grow mr-4 z-20': _vm.$ui.desktop,\n    },attrs:{\"role\":\"search\"}},[_c('BaseTransition',{attrs:{\"animation\":\"fade\"}},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$search.open),expression:\"!$search.open\"}],staticClass:\"\\n                flex items-center p-4\\n                rounded text-black hover:bg-gray-300\\n                transform\\n                desktop:text-gray-600\\n                desktop:absolute desktop:-translate-y-1/2 desktop:top-1/2 desktop:py-2\\n            \",attrs:{\"type\":\"button\",\"title\":\"You can also press \\\"/\\\" to start searching within your collection!\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$search.start()}}},[_c('BaseIcon',{staticClass:\"w-6 h-6 p-1 desktop:w-4 desktop:h-4 desktop:p-0 desktop:mr-2\",attrs:{\"name\":\"search\"}}),_c('span',{staticClass:\"text-sm hidden desktop:block\"},[_vm._v(\"Press \\\"s\\\" to start searching\")])],1)]),_c('BaseTransition',{attrs:{\"animations\":\"fade resize-width\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$search.open),expression:\"$search.open\"}],staticClass:\"absolute w-full desktop:mt-0 desktop:relative\",staticStyle:{\"min-width\":\"58px\"}},[_c('input',{ref:\"search-input\",staticClass:\"\\n                    block w-full py-2 pr-4 pl-10\\n                    bg-white shadow rounded-lg appearance-none border border-primary-200 focus:border-primary-300\\n                \",attrs:{\"type\":\"text\",\"autocomplete\":\"off\",\"spellcheck\":\"false\",\"aria-label\":\"Search box\",\"placeholder\":\"Search movies\"},domProps:{\"value\":_vm.$search.query},on:{\"input\":function($event){return _vm.$search.update($event.target.value)},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$search.stop()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$search.submit()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }return _vm.$search.highlightResultAbove()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }return _vm.$search.highlightResultBelow()}]}}),_c('div',{staticClass:\"pointer-events-none absolute inset-y-0 left-0 pl-4 flex items-center\"},[_c('BaseIcon',{staticClass:\"w-4 h-4 pointer-events-none text-gray-600\",attrs:{\"name\":\"search\"}})],1)])]),_c('AppHeaderSearchResults',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$search.open && _vm.$search.query.length > 0),expression:\"$search.open && $search.query.length > 0\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"absolute top-full inset-x-0 -mt-2 bg-white border shadow rounded-lg overflow-hidden z-20\",attrs:{\"role\":\"region\",\"aria-label\":\"Search results\",\"aria-live\":\"polite\"}},[_c('ul',[_vm._l((_vm.$search.results),function(result){return _c('li',{key:result.id},[_c('button',{directives:[{name:\"stop-search\",rawName:\"v-stop-search\"}],staticClass:\"w-full flex px-4 py-2 items-center border-b\",class:{\n                    'bg-gray-300': _vm.$search.highlightedResult === result,\n                },attrs:{\"type\":\"button\",\"title\":_vm.resultButtonTitle(result)},on:{\"click\":function($event){return _vm.$search.openResult(result)},\"mouseenter\":function($event){return _vm.$search.highlightResult(result)}}},[_c('div',{staticClass:\"\\n                        relative flex-shrink-0\\n                        w-12 h-12 mr-2 flex items-center justify-center\\n                        bg-gray-400 border border-gray-400\\n                    \"},[_c('BaseIcon',{staticClass:\"w-5 h-5 text-gray-600\",attrs:{\"name\":\"photo\"}}),(result.posterUrl)?_c('div',{staticClass:\"bg-cover bg-center absolute inset-0 w-full h-full\",style:({ backgroundImage: (\"url('\" + (result.posterUrl) + \"')\") })}):_vm._e()],1),_c('div',{staticClass:\"flex flex-col items-start overflow-hidden\"},[_c('div',{staticClass:\"flex items-center max-w-full mb-1\"},[_c('span',{staticClass:\"text-base font-semibold tracking-wide mr-2 truncate\"},[_vm._v(\" \"+_vm._s(result.title)+\" \")]),(result.exists())?_c('BaseIcon',{staticClass:\"flex-shrink-0 w-4 h-4\",class:{\n                                'text-green-600': result.watched,\n                                'text-blue-600': !result.watched,\n                            },attrs:{\"name\":result.watched ? 'checkmark' : 'time'}}):_vm._e()],1),_c('span',{staticClass:\"text-sm text-gray-700\"},[_vm._v(\" \"+_vm._s(result.releaseDate ? result.releaseDate.getFullYear() : '-')+\" \")])])])])}),(_vm.$search.searching)?_c('li',{staticClass:\"flex items-center justify-center h-16 text-primary-500\"},[_c('LoadingDots')],1):(_vm.$search.results.length === 0)?_c('li',{staticClass:\"flex items-center justify-center h-16\"},[_c('span',[_vm._v(\"Not results found.\")])]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"loading-dots fill-current\",attrs:{\"width\":\"60\",\"height\":\"15\",\"viewBox\":\"0 0 120 30\"}},[_c('circle',{attrs:{\"cx\":\"15\",\"cy\":\"15\",\"r\":\"15\"}}),_c('circle',{attrs:{\"cx\":\"60\",\"cy\":\"15\",\"r\":\"15\"}}),_c('circle',{attrs:{\"cx\":\"105\",\"cy\":\"15\",\"r\":\"15\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\n// Adapted from https://samherbert.net/svg-loaders/\nexport default Vue.extend({});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingDots.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingDots.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoadingDots.vue?vue&type=template&id=30164c99&\"\nimport script from \"./LoadingDots.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoadingDots.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LoadingDots.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport { SearchResult } from '@/services/Search';\nimport Services from '@/services';\n\nimport LoadingDots from '@/components/LoadingDots.vue';\n\nexport default Vue.extend({\n    components: {\n        LoadingDots,\n    },\n    directives: {\n        stopSearch: {\n            bind: el => el.addEventListener('click', () => Services.$search.stop()),\n        },\n    },\n    mounted() {\n        this.$search.setSearchResultsContainer(this.$el as HTMLElement);\n    },\n    destroyed() {\n        this.$search.setSearchResultsContainer(null);\n    },\n    methods: {\n        resultButtonTitle(result: SearchResult): string {\n            const title = result.title;\n\n            if (!result.exists())\n                return title;\n\n            const status = result.watched ? 'Watched' : 'Watch later';\n\n            return `${title} (${status})`;\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeaderSearchResults.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeaderSearchResults.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppHeaderSearchResults.vue?vue&type=template&id=001aa8f2&\"\nimport script from \"./AppHeaderSearchResults.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppHeaderSearchResults.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport AppHeaderSearchResults from '@/components/AppHeaderSearchResults.vue';\n\nexport default Vue.extend({\n    components: {\n        AppHeaderSearchResults,\n    },\n    mounted() {\n        this.$search.setSearchInput(this.$refs['search-input'] as HTMLInputElement);\n    },\n    beforeDestroy() {\n        this.$search.setSearchInput(null);\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeaderSearch.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeaderSearch.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppHeaderSearch.vue?vue&type=template&id=0479a736&\"\nimport script from \"./AppHeaderSearch.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppHeaderSearch.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport DOM from '@/utils/DOM';\n\nimport AppHeaderProfile from '@/components/AppHeaderProfile.vue';\nimport AppHeaderSearch from '@/components/AppHeaderSearch.vue';\n\ninterface Data {\n    keyboardListener: any | null;\n}\n\nconst ROUTE_HOT_KEYS: Record<string, string> = {\n    'c': 'collection',\n    'h': 'home',\n};\n\nexport default Vue.extend({\n    components: {\n        AppHeaderProfile,\n        AppHeaderSearch,\n    },\n    data: (): Data => ({ keyboardListener: null }),\n    mounted() {\n        this.$ui.addMenuTrigger(this.$refs['menu-button'] as HTMLButtonElement);\n\n        document.addEventListener('keydown', this.keyboardListener = (event: KeyboardEvent) => {\n            if (!this.captureHotKey(event))\n                return;\n\n            event.preventDefault();\n        });\n    },\n    beforeDestroy() {\n        this.$ui.removeMenuTrigger(this.$refs['menu-button'] as HTMLButtonElement);\n    },\n    destroyed() {\n        if (!this.keyboardListener)\n            return;\n\n        document.removeEventListener('keydown', this.keyboardListener);\n        this.keyboardListener = null;\n    },\n    methods: {\n        captureHotKey({ target, key }: KeyboardEvent): boolean {\n            const route: string | undefined = ROUTE_HOT_KEYS[key.toLowerCase()];\n\n            if (!route || DOM.isWritable(target))\n                return false;\n\n            if (this.$router.currentRoute.name !== route)\n                this.$router.push({ name: route });\n\n            return true;\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppHeader.vue?vue&type=template&id=fe5b8dd6&\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseTransitionGroup',{staticClass:\"\\n        fixed bottom-0 inset-x-0 p-4\\n        flex flex-col items-end justify-center\\n        pointer-events-none z-50\\n    \",attrs:{\"tag\":\"aside\",\"animations\":\"slide-up fade\"}},_vm._l((_vm.$ui.snackbars),function(snackbar){return _c('AppSnackbar',{key:snackbar.id,staticClass:\"mb-2 last:mb-0\",attrs:{\"id\":snackbar.id,\"message\":snackbar.message,\"options\":snackbar.options}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center justify-center shadow-lg rounded-lg overflow-hidden pointer-events-auto\",class:{\n        'bg-gray-800 text-white': !_vm.options.error,\n        'bg-red-200 text-red-700 font-medium': _vm.options.error,\n    }},[_c('div',{staticClass:\"flex items-center justify-center p-4 rounded-l-lg\",class:{ 'border border-r-0 border-red-300': _vm.options.error }},[(_vm.options.loading)?_c('LoadingCircle',{staticClass:\"mr-3 w-6 h-6\"}):_vm._e(),_c('MarkdownContent',{attrs:{\"content\":_vm.message}})],1),(_vm.options.action)?_c('button',{staticClass:\"relative flex p-4 font-bold uppercase text-sm group self-stretch items-center\",class:{ 'bg-red-500 text-white': _vm.options.error },attrs:{\"type\":\"button\"},on:{\"click\":_vm.clickAction}},[_c('div',{staticClass:\"absolute inset-0 opacity-15 bg-black group-hover:opacity-30\"}),_c('span',{staticClass:\"z-10\"},[_vm._v(_vm._s(_vm.options.action.text))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport { SnackbarOptions } from '@/services/UI';\n\nimport LoadingCircle from '@/components/LoadingCircle.vue';\nimport MarkdownContent from '@/components/MarkdownContent.vue';\n\nconst DEFAULT_LIFETIME = 5000;\n\nexport default Vue.extend({\n    components: {\n        LoadingCircle,\n        MarkdownContent,\n    },\n    props: {\n        id: {\n            type: String,\n            required: true,\n        },\n        message: {\n            type: String,\n            required: true,\n        },\n        options: {\n            type: Object as () => SnackbarOptions,\n            required: true,\n        },\n    },\n    mounted() {\n        if (!this.options.transient)\n            return;\n\n        setTimeout(() => this.$ui.hideSnackbar(this.id), this.options.lifetime || DEFAULT_LIFETIME);\n    },\n    methods: {\n        clickAction() {\n            if (!this.options.action?.handler)\n                return;\n\n            this.options.action.handler();\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSnackbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSnackbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppSnackbar.vue?vue&type=template&id=095540ea&\"\nimport script from \"./AppSnackbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppSnackbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport AppSnackbar from '@/components/AppSnackbar.vue';\n\nexport default Vue.extend({\n    components: {\n        AppSnackbar,\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSnackbars.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSnackbars.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppSnackbars.vue?vue&type=template&id=35884e0e&\"\nimport script from \"./AppSnackbars.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppSnackbars.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-grow flex-col items-center justify-center w-full h-full\"},[_c('BaseIcon',{staticClass:\"w-48 h-48 mb-4\",attrs:{\"name\":\"media-kraken-confused\"}}),_c('h2',{staticClass:\"text-2xl text-center font-semibold\"},[_vm._v(\" \"+_vm._s(_vm.crashReport.title)+\" \")]),(_vm.crashReport.subtitle)?_c('p',{staticClass:\"mt-1 text-sm text-gray-700 text-center\"},[_vm._v(\" \"+_vm._s(_vm.crashReport.subtitle)+\" \")]):_vm._e(),_c('p',{staticClass:\"my-4\"},[_vm._v(\" Here are some things you can do: \")]),_c('div',{staticClass:\"flex flex-col\"},_vm._l((_vm.actions),function(action,i){return _c('BaseButton',{key:i,staticClass:\"border border-primary-500 text-sm text-primary-700 justify-center mb-2 hover:bg-black-overlay\",on:{\"click\":action.handle}},[_vm._v(\" \"+_vm._s(action.label)+\" \")])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport { CrashReport, CrashReportAction } from '@/services/App';\n\nimport ErrorInfoModal from '@/components/modals/ErrorInfoModal.vue';\n\nexport default Vue.extend({\n    computed: {\n        crashReport(): CrashReport {\n            return this.$app.crashReport!;\n        },\n        actions(): CrashReportAction[] {\n            const actions: CrashReportAction[] = [\n                {\n                    label: 'Reload the page',\n                    priority: 1,\n                    handle: () => location.reload(),\n                },\n                {\n                    label: 'View error details',\n                    priority: 1,\n                    handle: () => this.$ui.openModal(ErrorInfoModal, { error: this.crashReport.error }),\n                },\n            ];\n\n            if (this.$auth.loggedIn) {\n                actions.push({\n                    label: 'Logout',\n                    priority: 1,\n                    handle: async () => {\n                        await this.$auth.logout();\n\n                        this.$app.clearCrashReport();\n                    },\n                });\n            }\n\n            actions.push(\n                ...this.crashReport.actions.map(\n                    action => ({\n                        priority: 2,\n                        ...action,\n                    }),\n                ),\n            );\n\n            actions.sort((a, b) => b.priority! - a.priority!);\n\n            return actions;\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrashReport.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrashReport.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CrashReport.vue?vue&type=template&id=ddd95030&\"\nimport script from \"./CrashReport.vue?vue&type=script&lang=ts&\"\nexport * from \"./CrashReport.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport EventBus from '@/utils/EventBus';\nimport Files from '@/utils/Files';\n\nimport AppFooter from '@/components/AppFooter.vue';\nimport AppHeader from '@/components/AppHeader.vue';\nimport AppModals from '@/components/AppModals.vue';\nimport AppOverlay from '@/components/AppOverlay.vue';\nimport AppSnackbars from '@/components/AppSnackbars.vue';\nimport CrashReport from '@/components/CrashReport.vue';\n\nexport default Vue.extend({\n    components: {\n        AppFooter,\n        AppHeader,\n        AppModals,\n        AppOverlay,\n        AppSnackbars,\n        CrashReport,\n    },\n    data: () => ({ ready: false }),\n    created() {\n        EventBus.once('application-ready', () => this.ready = true);\n    },\n    mounted() {\n        Files.setInput(this.$refs['file-picker'] as HTMLInputElement);\n    },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=ace03a24&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"@/assets/styles/main.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CollectionBrowser',{attrs:{\"title\":\"Collection\",\"search-index\":_vm.$media.searchIndex}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from 'vue';\n\nimport CollectionBrowser from '@/components/CollectionBrowser.vue';\n\nexport default Vue.extend({\n    components: {\n        CollectionBrowser,\n    },\n    created() {\n        if (!this.$media.empty)\n            return;\n\n        this.$router.replace({ name: 'home' });\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CollectionPage.vue?vue&type=template&id=91fe9b1c&\"\nimport script from \"./CollectionPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./CollectionPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('NotFound')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-grow flex-col items-center justify-center w-full h-full\"},[_c('BaseIcon',{staticClass:\"w-48 h-48 mb-4\",attrs:{\"name\":\"media-kraken-confused\"}}),_c('h2',{staticClass:\"text-2xl font-semibold\"},[_vm._v(\" 404: Not Found \")]),_c('BaseLink',{staticClass:\"mt-2\",attrs:{\"route\":\"home\"}},[_vm._v(\" go home \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    mounted() {\n        this.$ui.hideHeader();\n    },\n    destroyed() {\n        this.$ui.showHeader();\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NotFound.vue?vue&type=template&id=131dcb71&\"\nimport script from \"./NotFound.vue?vue&type=script&lang=ts&\"\nexport * from \"./NotFound.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\nimport Vue from 'vue';\n\nimport NotFound from '@/components/NotFound.vue';\n\nexport default Vue.extend({\n    components: {\n        NotFound,\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error404Page.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error404Page.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Error404Page.vue?vue&type=template&id=3dcd9d70&\"\nimport script from \"./Error404Page.vue?vue&type=script&lang=ts&\"\nexport * from \"./Error404Page.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.$media.loaded)?_c('div'):(_vm.pendingMovies.length > 0)?_c('div',[_c('div',{staticClass:\"flex justify-between items-center\"},[_c('BasePageHeader',[_vm._v(\"Watch next:\")]),_c('BaseMenu',{attrs:{\"direction\":\"top-right\",\"options\":_vm.sortingOptions},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar toggleSortingMenu = ref.toggle;\nreturn [_c('button',{staticClass:\"flex items-center h-8\",on:{\"click\":toggleSortingMenu}},[_c('span',{staticClass:\"mr-1 text-sm\"},[_vm._v(_vm._s(_vm.sortingText))]),_c('BaseIcon',{staticClass:\"w-5 h-5\",attrs:{\"name\":\"cheveron-down\"}})],1)]}}])})],1),_c('MoviesGrid',{ref:\"movies-grid\",attrs:{\"movies\":_vm.pendingMoviesSummary}}),(_vm.pendingMovies.length > _vm.pendingMoviesSummary.length)?_c('p',{staticClass:\"mt-3 leading-relaxed max-w-readable text-center desktop:text-left\"},[_vm._v(\" You can find more movies in \"),_c('BaseLink',{attrs:{\"route\":\"collection\"}},[_vm._v(\" your collection \")]),_vm._v(\". \")],1):_vm._e()],1):(!_vm.$media.empty)?_c('div',{staticClass:\"max-w-readable mx-auto text-center items-center flex flex-col flex-grow justify-center -mt-10\"},[_c('BasePageHeader',[_vm._v(\" All done! \")]),_c('div',{staticClass:\"bg-green-300 rounded-full p-3 mb-4\"},[_c('BaseIcon',{staticClass:\"w-12 h-12 text-green-600\",attrs:{\"name\":\"checkmark\"}})],1),_c('p',{staticClass:\"leading-relaxed\"},[_vm._v(\" You don't have anything pending to watch! Check \"),_c('BaseLink',{attrs:{\"route\":\"collection\"}},[_vm._v(\" your collection \")]),_vm._v(\" to rewatch some of your favourites or \"),_c('span',{staticClass:\"hidden desktop:inline-block\"},[_vm._v(\"press \\\"s\\\" to find something new\")]),_c('BaseLink',{staticClass:\"desktop:hidden\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$search.start()}}},[_vm._v(\" find something new \")]),_vm._v(\". \")],1)],1):_c('div',{staticClass:\"flex flex-col flex-grow w-full max-w-readable mx-auto mb-4\"},[_c('BasePageHeader',[_vm._v(\"Welcome to Media Kraken!\")]),_vm._m(0),_c('p',{staticClass:\"text-gray-800 mb-3 leading-relaxed\"},[_vm._v(\" Let's get started. Do you have any movies that you would like to add to your collection? \")]),_c('BaseButton',{staticClass:\"\\n            border border-primary-500 text-sm text-primary-700 justify-center my-4\\n            hover:bg-black-overlay\\n        \",on:{\"click\":_vm.importMedia}},[_vm._v(\" Yes, I have some movies I'd like to import \")]),_c('BaseButton',{staticClass:\"\\n            border border-primary-500 text-sm text-primary-700 justify-center\\n            hover:bg-black-overlay\\n        \",on:{\"click\":_vm.seedCollection}},[_vm._v(\" No, just give me something to watch \")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"text-gray-800 mb-3 leading-relaxed\"},[_vm._v(\" I will help you keep track of your movies so that you don't miss a beat. But there's a catch, you'll only find \"),_c('span',{staticClass:\"font-medium\"},[_vm._v(\"your movies\")]),_vm._v(\" here. And only you can put movies in your collection! \")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options,\"title\":\"Kickstart\"}},[_c('p',{staticClass:\"text-gray-700 leading-relaxed mb-3\"},[_vm._v(\" Ok, if you really don't know where to start I can help you. I understand how intimidating a blank canvas can be! \")]),_c('p',{staticClass:\"text-gray-700 leading-relaxed mb-4\"},[_vm._v(\" Using the button below, I'll add the top 100 rated movies from IMDb to your collection. But after this, you're not getting any more suggestions from me! Ask your friends for recommendations, and every time that you come accross something you like, come back to save it. Never forget a movie again! \")]),_c('BaseButton',{staticClass:\"\\n            border border-primary-500 text-sm text-primary-700 justify-center\\n            hover:bg-black-overlay\\n        \",on:{\"click\":_vm.importImdbTop100RatedMovies}},[_vm._v(\" Add the top 100 rated movies from IMDb to my collection \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Modal from '@/components/mixins/Modal';\n\nimport { MediaSource } from '@/services/Media';\n\nimport imdbTop100RatedMovies from '@/assets/data/imdb-top-100-rated-movies.json';\n\nexport default Modal.extend({\n    methods: {\n        async importImdbTop100RatedMovies() {\n            await this.$media.importMovies(imdbTop100RatedMovies, MediaSource.JSONLD);\n\n            this.close();\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeedCollectionModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeedCollectionModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SeedCollectionModal.vue?vue&type=template&id=723ea1d2&\"\nimport script from \"./SeedCollectionModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./SeedCollectionModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HomePage.vue?vue&type=template&id=ba15623c&\"\nimport script from \"./HomePage.vue?vue&type=script&lang=ts&\"\nexport * from \"./HomePage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col flex-grow items-center justify-center py-8\"},[(!_vm.$auth.isLoggedIn())?[_c('BaseIcon',{staticClass:\"w-48 h-48\",attrs:{\"name\":\"media-kraken\"}}),_c('h1',{staticClass:\"mt-4 text-3xl font-semibold\"},[_vm._v(\" Media Kraken \")]),_c('div',{staticClass:\"flex flex-col items-center mt-1 max-w-md\"},[_c('p',{staticClass:\"text-sm text-gray-800 text-center leading-relaxed mb-6\"},[_vm._v(\" Keep track of your movies and create your own collection! \")]),(_vm.previousLoginUrl)?_c('LoginPrevious',{attrs:{\"login-url\":_vm.previousLoginUrl},on:{\"login\":_vm.loginWithPreviousLogin,\"forget\":_vm.forgetPreviousLogin}}):(_vm.loginUrl !== null)?_c('LoginSolid',{attrs:{\"login-url\":_vm.loginUrl},on:{\"updateLoginUrl\":function($event){_vm.loginUrl = $event},\"submit\":_vm.submitLoginWithSolid}}):_c('div',{staticClass:\"flex flex-col items-center\"},[_c('p',{staticClass:\"self-start text-gray-800 mb-3 text-sm\"},[_vm._v(\" Where do you want to store your data? \")]),_c('BaseButton',{staticClass:\"\\n                        w-64 h-10 mb-3 text-sm font-medium tracking-wide shadow\\n                        bg-brand-solid-500 text-white hover:bg-brand-solid-700\\n                    \",attrs:{\"icon\":\"solid-emblem\"},on:{\"click\":_vm.loginWithSolid}},[_vm._v(\" Use Solid \")]),_c('BaseButton',{staticClass:\"\\n                        w-64 h-10 text-sm font-medium tracking-wide shadow\\n                        text-white bg-blue-500 hover:bg-blue-700\\n                    \",attrs:{\"icon\":\"browser\",\"icon-class\":\"w-6 h-4 mr-2\"},on:{\"click\":_vm.loginOffline}},[_vm._v(\" Use browser storage \")]),_c('BaseLink',{staticClass:\"self-center mt-4 text-sm\",on:{\"click\":function($event){return _vm.$ui.openFileMarkdownModal('application-storage')}}},[_vm._v(\" Help me decide what to use \")])],1)],1)]:_c('p',{staticClass:\"font-medium\"},[_vm._v(\" You are logged in! Please \"),_c('BaseLink',{staticClass:\"underline\",attrs:{\"route\":\"home\"}},[_vm._v(\" go home \")]),_vm._v(\" or \"),_c('button',{staticClass:\"font-medium text-primary-700 underline inline-block hover:text-primary-900\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$auth.logout()}}},[_vm._v(\" logout \")]),_vm._v(\" first. \")],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-primary-100 p-4 rounded text-sm text-center desktop:text-left\"},[_c('p',{staticClass:\"text-gray-800\"},[_vm._v(\" You were logged in with \"),_c('a',{staticClass:\"font-medium hover:underline\",attrs:{\"href\":_vm.loginUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.loginUrl))])]),_c('div',{staticClass:\"flex flex-col-reverse items-center mt-4 desktop:flex-row desktop:justify-end\"},[_c('BaseLink',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.$emit('forget')}}},[_vm._v(\" Forget it \")]),_c('BaseButton',{staticClass:\"\\n                border border-primary-500 text-sm text-primary-700 justify-center mb-4\\n                hover:bg-black-overlay desktop:mb-0\\n            \",on:{\"click\":function($event){return _vm.$emit('login')}}},[_vm._v(\" Log in again \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    props: {\n        loginUrl: {\n            type: String,\n            required: true,\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPrevious.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPrevious.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoginPrevious.vue?vue&type=template&id=2300db44&\"\nimport script from \"./LoginPrevious.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoginPrevious.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"self-stretch flex flex-col\",on:{\"submit\":function($event){$event.preventDefault();return _vm.$emit('submit', _vm.authenticationMethod)}}},[_c('input',{ref:\"login-url-input\",staticClass:\"\\n            flex-grow shadow p-2 rounded-lg border border-gray-300\\n            focus:border-primary-500\\n        \",attrs:{\"placeholder\":\"Solid POD url\"},domProps:{\"value\":_vm.loginUrl},on:{\"input\":function($event){return _vm.$emit('updateLoginUrl', $event.target.value)}}}),(_vm.authenticationMethod)?_c('div',[_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"authentication-method\"}},[_vm._v(\"Authentication method\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.authenticationMethod),expression:\"authenticationMethod\"}],ref:\"authentication-method-select\",staticClass:\"\\n                w-full p-2 mt-4 truncate bg-white border border-gray-300 rounded-md shadow-sm\\n                focus:border-primary-500\\n            \",attrs:{\"id\":\"authentication-method\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.authenticationMethod=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.authenticationMethods),function(method){return _c('option',{key:method,domProps:{\"value\":method}},[_vm._v(\" Log in using \"+_vm._s(_vm.authenticationMethodNames[method])+\" \")])}),0),_c('p',{staticClass:\"text-sm text-gray-700 mt-1 leading-relaxed\"},[_vm._v(\" \"+_vm._s(_vm.authenticationMethodDescription)+\" \"),_c('a',{staticClass:\"text-gray-700 underline hover:text-gray-800\",attrs:{\"href\":_vm.authenticationMethodUrl,\"target\":\"_blank\"}},[_vm._v(\" Learn more \")])]),_c('div',{staticClass:\"h-2\"})]):_vm._e(),_c('BaseButton',{staticClass:\"\\n            bg-brand-solid-500 h-10 shadow text-white mt-4\\n            text-sm justify-center font-medium tracking-wide hover:bg-brand-solid-700\\n        \",attrs:{\"submit\":\"\",\"icon\":\"solid-emblem\"}},[_vm._v(\" Log in with Solid \")]),(!_vm.authenticationMethod)?_c('BaseLink',{staticClass:\"text-sm self-center mt-4 leading-normal\",on:{\"click\":_vm.showAuthenticationMethods}},[_vm._v(\" Can't log in? try using a different authentication method \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport { AuthenticationMethod, defaultAuthenticationMethod } from '@/authentication';\n\ninterface Data {\n    authenticationMethod: AuthenticationMethod | null;\n}\n\nexport default Vue.extend({\n    props: {\n        loginUrl: {\n            type: String,\n            required: true,\n        },\n    },\n    data: (): Data => ({\n        authenticationMethod: null,\n    }),\n    computed: {\n        authenticationMethods(): AuthenticationMethod[] {\n            return Object.values(AuthenticationMethod) as AuthenticationMethod[];\n        },\n        authenticationMethodNames(): Record<AuthenticationMethod, string> {\n            return {\n                [AuthenticationMethod.Inrupt]: 'Inrupt\\'s authentication library',\n                [AuthenticationMethod.Legacy]: 'the legacy authentication library',\n            };\n        },\n        authenticationMethodDescriptions(): Record<AuthenticationMethod, string> {\n            return {\n                [AuthenticationMethod.Inrupt]:\n                    'Inrupt\\'s authentication library uses DPoP, and most servers should work using this method.',\n                [AuthenticationMethod.Legacy]:\n                    'This authentication method is no longer recommended, but some old servers may need to use it.',\n            };\n        },\n        authenticationMethodUrls(): Record<AuthenticationMethod, string> {\n            return {\n                [AuthenticationMethod.Inrupt]: 'https://github.com/inrupt/solid-client-authn-js',\n                [AuthenticationMethod.Legacy]: 'https://github.com/solid/solid-auth-client',\n            };\n        },\n        authenticationMethodDescription(): string | null {\n            return this.authenticationMethod && this.authenticationMethodDescriptions[this.authenticationMethod];\n        },\n        authenticationMethodUrl(): string | null {\n            return this.authenticationMethod && this.authenticationMethodUrls[this.authenticationMethod];\n        },\n    },\n    mounted() {\n        (this.$refs['login-url-input'] as HTMLInputElement).focus();\n    },\n    methods: {\n        showAuthenticationMethods(): void {\n            this.authenticationMethod = defaultAuthenticationMethod;\n\n            this.$nextTick(() => (this.$refs['authentication-method-select'] as HTMLSelectElement).focus());\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginSolid.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginSolid.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoginSolid.vue?vue&type=template&id=626ee007&\"\nimport script from \"./LoginSolid.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoginSolid.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport { AuthenticationMethod } from '@/authentication';\nimport SolidAuth from '@/authentication/SolidAuth';\n\nimport LoginPrevious from '@/components/LoginPrevious.vue';\nimport LoginSolid from '@/components/LoginSolid.vue';\n\ninterface Data {\n    loginUrl: string | null;\n    previousLoginUrl: string | undefined;\n}\n\nexport default Vue.extend({\n    components: {\n        LoginPrevious,\n        LoginSolid,\n    },\n    data: (): Data => ({\n        loginUrl: null,\n        previousLoginUrl: undefined,\n    }),\n    created() {\n        this.previousLoginUrl = SolidAuth.previousLogin?.loginUrl;\n    },\n    methods: {\n        loginWithSolid() {\n            this.loginUrl = 'https://';\n        },\n        loginOffline() {\n            this.$auth.loginOffline();\n        },\n        async loginWithPreviousLogin() {\n            const previousLogin = SolidAuth.previousLogin;\n\n            if (!previousLogin)\n                return;\n\n            try {\n                await this.$auth.loginWithSolid(previousLogin.loginUrl, previousLogin.authenticationMethod);\n            } catch (error) {\n                this.$ui.showError(error);\n            }\n        },\n        async submitLoginWithSolid(authenticationMethod?: AuthenticationMethod) {\n            if (!this.loginUrl)\n                return;\n\n            try {\n                await this.replaceLegacyDomains();\n                await this.$auth.loginWithSolid(this.loginUrl, authenticationMethod);\n            } catch (error) {\n                this.$ui.showError(error);\n            }\n        },\n        async forgetPreviousLogin() {\n            if (!this.previousLoginUrl)\n                return;\n\n            await SolidAuth.logout();\n\n            this.previousLoginUrl = undefined;\n        },\n        async replaceLegacyDomains() {\n            if (!this.isUsingLegacySolidCommunity())\n                return;\n\n            const replaceDomain = await this.replaceLegacySolidCommunity();\n            if (!replaceDomain)\n                return;\n\n            this.loginUrl = this.loginUrl!.replace('solid.community', 'solidcommunity.net');\n        },\n        isUsingLegacySolidCommunity(): boolean {\n            return this.loginUrl!.includes('solid.community');\n        },\n        replaceLegacySolidCommunity(): Promise<boolean> {\n            return this.$ui.confirm(\n                [\n                    'The `solid.community` domain has been moved to `solidcommunity.net`, ' +\n                    'do you want to use that instead?\\n',\n                    '[learn more](https://gitlab.com/solid.community/proposals/-/issues/16)',\n                ].join('\\n'),\n                { markdown: true },\n            );\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoginPage.vue?vue&type=template&id=665288c4&\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.movie)?_c('MovieDetails',{attrs:{\"movie\":_vm.movie}}):_c('NotFound')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\nimport Vue from 'vue';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport MovieDetails from '@/components/MovieDetails.vue';\nimport NotFound from '@/components/NotFound.vue';\n\nexport default Vue.extend({\n    components: {\n        MovieDetails,\n        NotFound,\n    },\n    props: {\n        movieUuid: {\n            type: String,\n            required: true,\n        },\n    },\n    computed: {\n        movie(): Movie | null {\n            return this.$media.movies.find(movie => movie.uuid === this.movieUuid) || null;\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviePage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviePage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MoviePage.vue?vue&type=template&id=f3ce1bf2&\"\nimport script from \"./MoviePage.vue?vue&type=script&lang=ts&\"\nexport * from \"./MoviePage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-grow items-center justify-center py-8\"},[_c('div',{staticClass:\"flex flex-col items-center max-w-xs\"},[_c('BaseIcon',{staticClass:\"w-32 h-32\",attrs:{\"name\":_vm.forbidden ? 'media-kraken-confused' : 'media-kraken'}}),(_vm.forbidden)?[_c('h1',{staticClass:\"mt-4 text-2xl font-semibold\"},[_vm._v(\" Unauthorized \")]),_c('p',{staticClass:\"text-sm text-gray-800 text-center leading-relaxed mt-3\"},[_vm._v(\" I could not access your Solid POD, did you accept the permissions to modify and delete data? If the problem persists, you can try clearing this site's cache from your history or using a different browser. \")])]:_c('p',{staticClass:\"text-sm text-gray-800 text-center leading-relaxed mt-2\"},[_vm._v(\" Your login credentials have expired, you need to log in again in order to continue using the application. \")]),_c('div',{staticClass:\"flex flex-col w-full mt-4\"},[(!_vm.forbidden)?_c('BaseButton',{staticClass:\"\\n                    justify-center\\n                    bg-brand-solid-500 h-10 shadow text-white mt-4\\n                    text-sm font-medium tracking-wide\\n                    hover:bg-brand-solid-700\\n                    desktop:mt-0\\n                \",attrs:{\"icon\":\"solid-emblem\"},on:{\"click\":_vm.refreshCredentials}},[_vm._v(\" Refresh credentials \")]):_vm._e(),_vm._l((_vm.actions),function(action,index){return _c('BaseButton',{key:index,staticClass:\"\\n                    border border-primary-500 mt-4 text-sm text-primary-700 justify-center\\n                    hover:bg-black-overlay desktop:mt-2\\n                \",attrs:{\"href\":action.url},on:{\"click\":function($event){action.handle && action.handle()}}},[_vm._v(\" \"+_vm._s(action.label)+\" \")])})],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { arrayFilter } from '@noeldemartin/utils';\nimport Vue from 'vue';\n\nimport ErrorInfoModal from '@/components/modals/ErrorInfoModal.vue';\nimport SolidAuth from '@/authentication/SolidAuth';\n\ninterface Data {\n    forbidden: boolean;\n}\n\ninterface Action {\n    label: string;\n    url?: string;\n    handle?: Function;\n}\n\nexport default Vue.extend({\n    data: (): Data => ({ forbidden: false }),\n    computed: {\n        actions(): Action[] {\n            const githubIssueTitle = 'Login unauthorized';\n            const githubIssueBody = 'Please explain how you tried to log in when the error occurred.';\n\n            return arrayFilter([\n                this.forbidden && {\n                    label: 'Try again',\n                    handle: () => this.refreshCredentials(),\n                },\n                this.forbidden && {\n                    label: 'Get help',\n                    url: `${this.$app.sourceUrl}/issues/new?title=${githubIssueTitle}&body=${githubIssueBody}`,\n                },\n                this.$auth.unauthorizedError && {\n                    label: this.forbidden ? 'View error details' : 'View details',\n                    handle: () => this.$ui.openModal(ErrorInfoModal, { error: this.$auth.unauthorizedError }),\n                },\n                {\n                    label: 'Logout',\n                    handle: () => this.$auth.logout(),\n                },\n            ]);\n        },\n    },\n    created() {\n        if (this.$auth.isLoggedIn() && this.$media.loaded)\n            this.$router.replace({ name: 'home' });\n\n        if (SolidAuth.previousLogin === null)\n            this.$router.replace({ name: 'login' });\n\n        this.forbidden = !!this.$route.query.forbidden;\n    },\n    methods: {\n        async refreshCredentials() {\n            const loginUrl =  SolidAuth.previousLogin!.loginUrl;\n            const authenticator = SolidAuth.previousLogin!.authenticationMethod;\n\n            try {\n                this.$auth.setRefreshing(true);\n\n                await this.$auth.user?.logout();\n                await this.$auth.loginWithSolid(loginUrl, authenticator);\n            } catch (error) {\n                this.$auth.setRefreshing(false);\n                this.$ui.showError(error);\n            }\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnauthorizedPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnauthorizedPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UnauthorizedPage.vue?vue&type=template&id=7a521b7b&\"\nimport script from \"./UnauthorizedPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./UnauthorizedPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-grow flex-col items-center justify-center w-full h-full\"},[_c('BaseIcon',{staticClass:\"w-48 h-48 mb-4\",attrs:{\"name\":\"media-kraken-confused\"}}),_c('h2',{staticClass:\"text-2xl font-semibold mb-4\"},[_vm._v(\" Unsupported Browser \")]),_c('p',{staticClass:\"text-gray-800 text-center leading-relaxed mb-1\"},[_vm._v(\" Unfortunately, this browser doesn't support IndexedDB which is necessary for Media Kraken to run. \")]),(_vm.isFirefox)?_c('p',{staticClass:\"text-gray-800 text-center leading-relaxed mb-2\"},[_vm._v(\" Are you using Firefox in private browsing mode? This is a \"),_c('BaseLink',{attrs:{\"url\":\"https://bugzilla.mozilla.org/show_bug.cgi?id=1639542\"}},[_vm._v(\" known bug \")]),_vm._v(\". \")],1):_vm._e(),_c('BaseLink',{attrs:{\"url\":\"https://caniuse.com/#feat=indexeddb\"}},[_vm._v(\" Find a compatible browser \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    data: () => ({\n        isFirefox: navigator && navigator.userAgent && /firefox/i.test(navigator.userAgent),\n    }),\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnsupportedBrowserPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnsupportedBrowserPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UnsupportedBrowserPage.vue?vue&type=template&id=5f025a26&\"\nimport script from \"./UnsupportedBrowserPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./UnsupportedBrowserPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter, { RouteConfig } from 'vue-router';\n\nimport CollectionPage from '@/routing/pages/CollectionPage.vue';\nimport Error404Page from '@/routing/pages/Error404Page.vue';\nimport HomePage from '@/routing/pages/HomePage.vue';\nimport LoginPage from '@/routing/pages/LoginPage.vue';\nimport MoviePage from '@/routing/pages/MoviePage.vue';\nimport UnauthorizedPage from '@/routing/pages/UnauthorizedPage.vue';\nimport UnsupportedBrowserPage from '@/routing/pages/UnsupportedBrowserPage.vue';\n\nimport Storage from '@/utils/Storage';\n\nexport const routes = [\n    { name: 'login', path: '/login', component: LoginPage },\n    { name: 'home', path: '/', component: HomePage },\n    { name: 'unauthorized', path: '/unauthorized', component: UnauthorizedPage },\n    { name: 'unsupported-browser', path: '/unsupported-browser', component: UnsupportedBrowserPage },\n    { name: 'collection', path: '/collection', component: CollectionPage },\n    {\n        path: '/movies',\n        component: { render: h => h('router-view') },\n        children: [\n            { path: '/', redirect: { name: 'collection' } },\n            {\n                name: 'movie',\n                path: ':uuid',\n                component: MoviePage,\n                props: route => ({ movieUuid: route.params.uuid }),\n            },\n        ],\n    },\n    { path: '*', component: Error404Page },\n] as RouteConfig[];\n\nexport function getForcedRoute(): string | null {\n    if (!Vue.instance)\n        return null;\n\n    const { $auth, $browser } = Vue.instance;\n\n    if (!$browser.supported)\n        return 'unsupported-browser';\n\n    if (!$auth.loggedIn)\n        return 'login';\n\n    return null;\n}\n\nexport function initRouter(router: VueRouter) {\n    router.onReady(() => {\n        const githubPagesRedirect = Storage.pull('github-pages-redirect');\n\n        if (!githubPagesRedirect)\n            return;\n\n        router.replace(githubPagesRedirect);\n    });\n\n    router.beforeEach((to, _, next) => {\n        const forcedRoute = getForcedRoute();\n\n        if (forcedRoute !== null && to.name !== forcedRoute) {\n            next({ name: forcedRoute });\n            return;\n        }\n\n        next();\n    });\n}\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker';\n\nif (process.env.NODE_ENV === 'production') {\n    register(`${process.env.BASE_URL}service-worker.js`, {\n        ready() {\n            console.log(\n                'App is being served from cache by a service worker.\\n' +\n                'For more details, visit https://goo.gl/AFskqB',\n            );\n        },\n        registered() {\n            console.log('Service worker has been registered.');\n        },\n        cached() {\n            console.log('Content has been cached for offline use.');\n        },\n        updatefound() {\n            console.log('New content is downloading.');\n        },\n        updated() {\n            console.log('New content is available; please refresh.');\n        },\n        offline() {\n            console.log('No internet connection found. App is running in offline mode.');\n        },\n        error(error) {\n            console.error('Error during service worker registration:', error);\n        },\n    });\n}\n","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nimport { routes, initRouter } from '@/routing';\n\nVue.use(VueRouter);\n\nconst router = new VueRouter({\n    mode: 'history',\n    base: process.env.VUE_APP_PUBLIC_PATH,\n    routes,\n});\n\ninitRouter(router);\n\nexport default router;\n","import '@/plugins/registerServiceWorker';\nimport '@/plugins/soukai';\n\nimport router from '@/plugins/router';\nimport store from '@/plugins/vuex';\n\nexport default {\n    router,\n    store,\n};\n","import Vue from 'vue';\n\nimport App from '@/App.vue';\n\nimport { setUpPolyfills } from '@/utils/polyfills';\nimport Errors from '@/utils/Errors';\nimport EventBus from '@/utils/EventBus';\nimport Time from '@/utils/Time';\n\nimport '@/components/base';\n\nimport Services, { bootServices } from '@/services';\nimport { getForcedRoute } from '@/routing';\nimport plugins from '@/plugins';\n\nsetUpPolyfills(window);\n\nVue.config.productionTip = false;\nVue.instance = new Vue({\n    ...plugins,\n    render: h => h(App),\n});\n\nfunction setErrorHandler(handler: (error: any) => void) {\n    Vue.config.errorHandler = handler;\n    window.onunhandledrejection = (event: PromiseRejectionEvent) => handler(event.reason);\n    window.onerror = handler;\n}\n\nfunction prepareInitialRoute() {\n    const { $router } = Vue.instance;\n    const initialRoute = getForcedRoute();\n\n    if (initialRoute === null || $router.currentRoute.name === initialRoute)\n        return;\n\n    $router.replace({ name: initialRoute });\n}\n\nexport async function removeBootupOverlay() {\n    document.body.classList.remove('booting-up');\n\n    if (!window.impatientKrakenTimeout)\n        await Time.wait(1000);\n\n    else {\n        clearTimeout(window.impatientKrakenTimeout);\n        delete window.impatientKrakenTimeout;\n    }\n\n    document.getElementById('bootup-overlay')?.remove();\n}\n\nexport async function start(): Promise<void> {\n    Errors.init();\n    setErrorHandler(error => Errors.handle(error));\n\n    const servicesBooted = bootServices(Vue.instance).catch(error => {\n        Errors.handle(error);\n\n        Services.$app.setCrashReport(error);\n    });\n\n    Vue.instance.$mount('#app');\n\n    await servicesBooted;\n\n    setErrorHandler(error => Services.$ui.showError(error));\n    prepareInitialRoute();\n    EventBus.emit('application-ready');\n\n    removeBootupOverlay();\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col bg-white\",class:{\n        'fixed inset-0': _vm.fullscreen,\n        'relative rounded-lg shadow-xl max-w-content max-h-full overflow-hidden overflow-y-auto': !_vm.fullscreen,\n    },attrs:{\"role\":\"dialog\",\"aria-labelledby\":_vm.title && (\"modal-\" + _vm.id + \"-title\"),\"aria-describedby\":(\"modal-\" + _vm.id + \"-body\")}},[(_vm.title)?_c('div',{staticClass:\"flex p-4 items-center\"},[_c('h2',{staticClass:\"font-semibold text-xl\",attrs:{\"id\":(\"modal-\" + _vm.id + \"-title\")}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('div',{staticClass:\"flex-grow\"}),(_vm.options.cancellable)?_c('button',{staticClass:\"p-2 ml-2 -my-2 rounded-lg hover:bg-gray-300\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$ui.closeModal(_vm.id)}}},[_c('BaseIcon',{staticClass:\"w-4 h-4 text-gray-800\",attrs:{\"name\":\"close\"}})],1):_vm._e()]):_vm._e(),_c('div',{staticClass:\"flex flex-col flex-grow px-4\",class:{\n            'overflow-hidden': !_vm.scrollable,\n            'pt-4': !_vm.title,\n            'pb-4': !_vm.fullscreen,\n            'pb-0': _vm.fullscreen,\n            'overflow-y-scroll': _vm.fullscreen && _vm.scrollable,\n        },attrs:{\"id\":(\"modal-\" + _vm.id + \"-body\")}},[_vm._t(\"default\"),(_vm.fullscreen)?_c('div',{staticClass:\"flex-shrink-0 h-4\"}):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport { ModalOptions } from '@/services/UI';\n\nexport default Vue.extend({\n    props: {\n        id: {\n            type: String,\n            required: true,\n        },\n        options: {\n            type: Object as () => ModalOptions,\n            required: true,\n        },\n        title: {\n            type: String,\n            default: null,\n        },\n        fullscreen: {\n            type: Boolean,\n            default: false,\n        },\n        scrollable: {\n            type: Boolean,\n            default: true,\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppModal.vue?vue&type=template&id=d22948bc&\"\nimport script from \"./AppModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mixins from 'vue-typed-mixins';\nimport Vue from 'vue';\n\nimport { ModalOptions } from '@/services/UI';\n\nimport AppModal from '@/components/AppModal.vue';\n\nexport default mixins(Vue.extend({\n    components: {\n        AppModal,\n    },\n    props: {\n        id: {\n            type: String,\n            required: true,\n        },\n        options: {\n            type: Object as () => ModalOptions,\n            required: true,\n        },\n    },\n    methods: {\n        close(force: boolean = false) {\n            this.$ui.closeModal(this.id, force);\n        },\n    },\n}));\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col flex-grow w-full\"},[(_vm.description)?_c('MarkdownContent',{staticClass:\"markdown-content--typography max-w-readable self-center\",attrs:{\"content\":_vm.description}}):_vm._e(),_c('BaseTransition',{attrs:{\"duration\":100,\"animations\":\"resize-height\",\"enter-to-class\":\"max-h-41px\",\"leave-class\":\"max-h-41px\"}},[(_vm.$ui.mobile && _vm.searching)?_c('div',[(_vm.$ui.mobile && _vm.searching)?_c('BasePageHeader',{staticClass:\"mt-4 flex\",attrs:{\"no-margin\":\"\"}},[_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(_vm.title))]),_c('span',{staticClass:\"pl-1\"},[_vm._v(\"(\"+_vm._s(_vm.filteredMovies.length)+\")\")])]):_vm._e()],1):_vm._e()]),_c('div',{staticClass:\"movies-browser__header relative flex items-center -mx-2\"},[_c('BaseTransition',{attrs:{\"enter-duration\":150,\"leave-duration\":75,\"animation\":\"fade\",\"enter-active-class\":\"delay-75\"}},[(!_vm.$ui.mobile || !_vm.searching)?_c('div',{staticClass:\"flex items-center\",class:{\n                    'ml-2': _vm.$viewer.isActive,\n                    'overflow-hidden hover:overflow-visible': !_vm.actionsMenuOpen,\n                }},[(!_vm.$viewer.isActive)?_c('BaseMenu',{attrs:{\"options\":[\n                        { text: 'Import to collection', icon: 'upload', handle: _vm.importMedia },\n                        { text: 'Export collection', icon: 'download', handle: _vm.exportCollection } ]},on:{\"opened\":function($event){_vm.actionsMenuOpen = true},\"closed\":function($event){_vm.actionsMenuOpen = false}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                    var toggleActionsMenu = ref.toggle;\nreturn [_c('BaseButton',{staticClass:\"w-8 h-8 -ml-1 hover:bg-black-overlay\",staticStyle:{\"padding-left\":\".4375rem\",\"padding-right\":\".4375rem\"},attrs:{\"icon\":\"more\",\"aria-label\":\"Open actions menu\"},on:{\"click\":toggleActionsMenu}})]}}],null,false,1585090554)}):_vm._e(),_c('BasePageHeader',{staticClass:\"flex\"},[_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(_vm.title))]),_c('span',{staticClass:\"pl-1\"},[_vm._v(\"(\"+_vm._s(_vm.filteredMovies.length)+\")\")])])],1):_vm._e()]),_c('div',{staticClass:\"flex-grow\"}),(!_vm.$viewer.isActive)?_c('BaseMenu',{attrs:{\"direction\":_vm.searching ? 'top-left' : 'top-right',\"options\":_vm.watchedFilterOptions},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                    var toggleWatchedFilterMenu = ref.toggle;\nreturn [_c('button',{staticClass:\"flex items-center h-8 ml-2\",on:{\"click\":toggleWatchedFilterMenu}},[_c('span',{staticClass:\"mr-1 text-sm hidden whitespace-no-wrap desktop:block\"},[_vm._v(_vm._s(_vm.watchedFilterText))]),_c('span',{staticClass:\"mr-1 text-sm whitespace-no-wrap desktop:hidden\"},[_vm._v(_vm._s(_vm.watchedFilterMobileText))]),_c('BaseIcon',{staticClass:\"w-5 h-5\",attrs:{\"name\":\"cheveron-down\"}})],1)]}}],null,false,1460169976)}):_vm._e(),_c('div',{staticClass:\"relative transition-all duration-150\",class:{\n                'w-full mx-2 desktop:w-64': _vm.searching,\n                'w-8 flex-shrink-0': !_vm.searching,\n            }},[_c('BaseTransition',{attrs:{\"duration\":100,\"animation\":\"fade\"}},[_c('BaseButton',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.searching),expression:\"!searching\"}],ref:\"filtersTrigger\",staticClass:\"\\n                        absolute right-0 top-1/2 transform -translate-y-1/2 w-8 h-8 justify-center rounded-full\\n                        hover:bg-black-overlay\\n                    \",staticStyle:{\"padding\":\"0\"},attrs:{\"icon\":\"search\",\"icon-class\":\"w-4 h-4\",\"aria-label\":\"Filter collection\",\"title\":(\"Press \\\"f\\\" to filter \" + _vm.collectionQualifier + \" collection\")},on:{\"click\":_vm.showFilters}})],1),_c('BaseTransition',{attrs:{\"duration\":150,\"animations\":\"fade resize-width\"}},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searching),expression:\"searching\"},{name:\"model\",rawName:\"v-model\",value:(_vm.searchFilter),expression:\"searchFilter\"}],ref:\"searchFilter\",staticClass:\"\\n                        absolute w-full right-0 top-1/2 transform -translate-y-1/2\\n                        text-sm py-1 bg-transparent appearance-none border-b-2 border-primary-200\\n                        focus:border-primary-300\\n                    \",attrs:{\"placeholder\":(\"Search in \" + _vm.collectionQualifier + \" collection...\"),\"aria-label\":\"Collection filter\"},domProps:{\"value\":(_vm.searchFilter)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.hideFilters($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchFilter=$event.target.value}}})])],1)],1),(_vm.filteredMovies.length > 0)?_c('MoviesGrid',{key:\"movies\",attrs:{\"within-collection\":\"\",\"movies\":_vm.filteredMovies}}):_c('div',{staticClass:\"flex flex-col flex-grow items-center justify-center h-24 top-0 inset-x-0\"},[_c('BaseIcon',{staticClass:\"w-16 h-16 text-gray-700 mb-4\",attrs:{\"name\":\"search-empty\"}}),_c('span',{staticClass:\"text-lg\"},[_vm._v(\"No movies found matching these filters.\")])],1),(_vm.showGoTop)?_c('button',{staticClass:\"\\n            fixed flex items-center justify-center bottom-0 right-0 mr-4 mb-8 z-30\\n            bg-primary-500 text-white rounded-full w-10 h-10 shadow-lg hover:bg-red-700\\n        \",attrs:{\"type\":\"button\",\"title\":\"Go top\",\"aria-label\":\"Go top\"},on:{\"click\":_vm.goToTop}},[_c('BaseIcon',{staticClass:\"w-8 h-8\",attrs:{\"name\":\"cheveron-up\"}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// TODO replace with @noeldemartin/utils on update\n\nexport function updateQueryParameters(parameters: Record<string, string | undefined>): void {\n    const url = Object.entries(parameters).reduce(\n        (_url, [parameter, value]) => {\n            value\n                ? _url.searchParams.set(parameter, value)\n                : _url.searchParams.delete(parameter);\n\n            return _url;\n        },\n        new URL(location.href),\n    );\n\n    history.replaceState(null, document.title, url.href);\n}\n\nexport function getQueryParameter<T extends string = string>(parameter: string): string | null {\n    const url = new URL(location.href);\n    const queryParameters = {} as Record<string, string>;\n\n    url.searchParams.forEach((value, key) => (queryParameters[key] = value));\n\n    return queryParameters[parameter] ?? null;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport DOM from '@/utils/DOM';\nimport Str from '@/utils/Str';\nimport { getQueryParameter, updateQueryParameters } from '@/utils/location';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport { SearchIndex } from '@/services/Media';\n\nimport { MenuOption } from '@/components/base/BaseMenu.vue';\nimport MarkdownContent from '@/components/MarkdownContent.vue';\nimport ImportMediaModal from '@/components/modals/ImportMediaModal.vue';\nimport MoviesGrid from '@/components/MoviesGrid.vue';\n\nconst enum WatchedFilter {\n    All = 'all',\n    Watched = 'watched',\n    WatchLater = 'watch-later',\n}\n\ninterface WatchFilterMenuOptions extends MenuOption {\n    watchedFilter: WatchedFilter;\n    mobileText: string;\n}\n\ninterface Data {\n    actionsMenuOpen: boolean;\n    watchedFilter: WatchedFilter;\n    searchFilter: string | null;\n    showGoTop: boolean;\n    removeClickAwayListener: Function | true | null;\n    scrollListener: any | null;\n    keyboardListener: any | null;\n}\n\nfunction hasScrolled(): boolean {\n    return document.body.scrollTop > 370 || document.documentElement.scrollTop > 370;\n}\n\nexport default Vue.extend({\n    components: {\n        MoviesGrid,\n        MarkdownContent,\n    },\n    props: {\n        title: {\n            type: String,\n            required: true,\n        },\n        description: {\n            type: String,\n            default: null,\n        },\n        searchIndex: {\n            type: Array as () => SearchIndex,\n            required: true,\n        },\n    },\n    data: (): Data => ({\n        actionsMenuOpen: false,\n        showGoTop: hasScrolled(),\n        watchedFilter: WatchedFilter.All,\n        searchFilter: null,\n        removeClickAwayListener: null,\n        scrollListener: null,\n        keyboardListener: null,\n    }),\n    computed: {\n        watchedFilterOptions(): WatchFilterMenuOptions[] {\n            const handle = ({ watchedFilter }: WatchFilterMenuOptions) => {\n                this.watchedFilter = watchedFilter;\n            };\n\n            return [\n                {\n                    watchedFilter: WatchedFilter.All,\n                    text: 'All movies',\n                    mobileText: 'All',\n                    icon: 'view-list',\n                    handle,\n                },\n                {\n                    watchedFilter: WatchedFilter.Watched,\n                    text: 'Watched movies',\n                    mobileText: 'Watched',\n                    icon: 'checkmark',\n                    handle,\n                },\n                {\n                    watchedFilter: WatchedFilter.WatchLater,\n                    text: 'Movies to watch later',\n                    mobileText: 'Watch later',\n                    icon: 'time',\n                    handle,\n                },\n            ];\n        },\n        watchedFilterText(): string {\n            return this.watchedFilterOptions.find(option => option.watchedFilter === this.watchedFilter)!.text;\n        },\n        watchedFilterMobileText(): string {\n            return this.watchedFilterOptions.find(option => option.watchedFilter === this.watchedFilter)!.mobileText;\n        },\n        searching(): boolean {\n            return this.removeClickAwayListener !== null;\n        },\n        filteredMovies(): Movie[] {\n            let filteredIndex = this.searchIndex;\n\n            switch (this.watchedFilter) {\n                case WatchedFilter.Watched:\n                    filteredIndex = filteredIndex.filter(entry => entry.movie.watched);\n                    break;\n                case WatchedFilter.WatchLater:\n                    filteredIndex = filteredIndex.filter(entry => !entry.movie.watched);\n                    break;\n            }\n\n            if (this.searching) {\n                const filterText = Str.slug(this.searchFilter!, '');\n\n                filteredIndex = filteredIndex.filter(entry => entry.searchableText.includes(filterText));\n            }\n\n            return filteredIndex.map(entry => entry.movie);\n        },\n        collectionQualifier(): string {\n            return this.$viewer.isActive ? 'the' : 'your';\n        },\n    },\n    watch: {\n        searchFilter(searchFilter: string) {\n            updateQueryParameters({ search: searchFilter && searchFilter.length > 0 ? searchFilter : undefined });\n        },\n        watchedFilter(watchedFilter: WatchedFilter) {\n            updateQueryParameters({ status: watchedFilter === WatchedFilter.All ? undefined : watchedFilter });\n        },\n    },\n    created() {\n        this.searchFilter = getQueryParameter('search');\n        this.watchedFilter = getQueryParameter('status') as WatchedFilter ?? WatchedFilter.All;\n\n        if (this.searchFilter) {\n            this.removeClickAwayListener = true;\n        }\n    },\n    mounted() {\n        if (this.removeClickAwayListener === true) {\n            const input = this.$refs.searchFilter as HTMLInputElement;\n            const trigger = (this.$refs.filtersTrigger as Vue).$el as HTMLButtonElement;\n\n            this.removeClickAwayListener = this.$ui.onClickAway(\n                [input, trigger],\n                () => this.searchFilter!.length === 0 && this.hideFilters(),\n            );\n        }\n\n        document.addEventListener('scroll', this.scrollListener = () => this.showGoTop = hasScrolled());\n        document.addEventListener('keydown', this.keyboardListener = (event: KeyboardEvent) => {\n            if (!this.captureHotKey(event))\n                return;\n\n            event.preventDefault();\n        });\n    },\n    destroyed() {\n        if (this.scrollListener) {\n            document.removeEventListener('scroll', this.scrollListener);\n            this.scrollListener = null;\n        }\n\n        if (this.keyboardListener) {\n            document.removeEventListener('keydown', this.keyboardListener);\n            this.keyboardListener = null;\n        }\n    },\n    methods: {\n        captureHotKey({ target, key }: KeyboardEvent): boolean {\n            if (key.toLowerCase() !== 'f' || DOM.isWritable(target))\n                return false;\n\n            this.showFilters();\n\n            return true;\n        },\n        showFilters() {\n            const input = this.$refs.searchFilter as HTMLInputElement;\n            const trigger = (this.$refs.filtersTrigger as Vue).$el as HTMLButtonElement;\n\n            if (this.removeClickAwayListener !== null) {\n                input.focus();\n\n                return;\n            }\n\n            this.searchFilter = '';\n            this.removeClickAwayListener = this.$ui.onClickAway(\n                [input, trigger],\n                () => this.searchFilter!.length === 0 && this.hideFilters(),\n            );\n\n            this.$nextTick(() => input.focus());\n        },\n        hideFilters() {\n            if (this.removeClickAwayListener === null) {\n                return;\n            }\n\n            if (typeof this.removeClickAwayListener === 'function') {\n                this.removeClickAwayListener();\n            }\n\n            this.searchFilter = null;\n            this.removeClickAwayListener = null;\n        },\n        importMedia() {\n            this.$ui.openModal(ImportMediaModal);\n        },\n        exportCollection() {\n            this.$media.exportCollection();\n        },\n        goToTop() {\n            document.body.scrollTop = 0;\n            document.documentElement.scrollTop = 0;\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionBrowser.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionBrowser.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CollectionBrowser.vue?vue&type=template&id=738043fa&\"\nimport script from \"./CollectionBrowser.vue?vue&type=script&lang=ts&\"\nexport * from \"./CollectionBrowser.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CollectionBrowser.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { DocumentFormat, MalformedDocumentError } from 'soukai-solid';\nimport { init, captureException } from '@sentry/browser';\nimport { UnauthorizedError } from '@noeldemartin/solid-utils';\n\nimport Storage from '@/utils/Storage';\n\nconst STORAGE_ENABLED_KEY = 'media-kraken-error-reporting';\n\nexport interface ErrorsListener {\n    onReportingEnabled?(): void;\n    onReportingDisabled?(): void;\n}\n\ninterface SerializedError extends Error {\n    errorClass?: 'unauthorized' | 'malformed-document';\n    errorData?: any;\n}\n\ninterface MalformedDocumentErrorData {\n    documentUrl: string;\n    documentFormat: DocumentFormat;\n    malformationDetails: string;\n}\n\ninterface UnauthorizedErrorData {\n    url: string;\n    responseStatus?: number;\n}\n\nclass Errors {\n\n    private sentryInitialized: boolean = false;\n    private reportingEnabled: boolean = false;\n    private listeners: ErrorsListener[] = [];\n\n    public get isReportingEnabled(): boolean {\n        return this.reportingEnabled;\n    }\n\n    public get isReportingAvailable(): boolean {\n        return !!process.env.VUE_APP_SENTRY_DSN;\n    }\n\n    public init(): void {\n        if (!this.userWantsReportingEnabled())\n            return;\n\n        this.initializeSentry();\n        this.reportingEnabled = true;\n    }\n\n    public setReportingEnabled(enabled: boolean): void {\n        if (this.reportingEnabled === enabled)\n            return;\n\n        this.reportingEnabled = enabled;\n        Storage.set(STORAGE_ENABLED_KEY, enabled);\n\n        if (enabled && !this.sentryInitialized)\n            this.initializeSentry();\n\n        this.listeners.forEach(listener => {\n            if (listener.onReportingEnabled && enabled)\n                listener.onReportingEnabled();\n\n            if (listener.onReportingDisabled && !enabled)\n                listener.onReportingDisabled();\n        });\n    }\n\n    public handle(error: any): void {\n        if (!this.reportingEnabled || !this.sentryInitialized) {\n            // eslint-disable-next-line no-console\n            console.error(error);\n\n            return;\n        }\n\n        this.report(error);\n    }\n\n    public report(error: any): void {\n        try {\n            error.sentryId = captureException(error);\n\n            // eslint-disable-next-line no-console\n            console.error('Error reported to Sentry', error);\n        } catch (reportingError) {\n            // eslint-disable-next-line no-console\n            console.error('Failed reporting an error to Sentry', error, reportingError);\n        }\n    }\n\n    public registerListener(listener: ErrorsListener): void {\n        this.listeners.push(listener);\n    }\n\n    public serialize(error: Error): SerializedError {\n        const serializedError: SerializedError = {\n            name: error.name,\n            message: error.message,\n            stack: error.stack,\n        };\n\n        if (error instanceof UnauthorizedError) {\n            const data: UnauthorizedErrorData = {\n                url: error.url,\n                responseStatus: error.responseStatus,\n            };\n\n            serializedError.errorClass = 'unauthorized';\n            serializedError.errorData = data;\n        } else if (error instanceof MalformedDocumentError) {\n            const data: MalformedDocumentErrorData = {\n                documentUrl: error.documentUrl,\n                documentFormat: error.documentFormat,\n                malformationDetails: error.malformationDetails,\n            };\n\n            serializedError.errorClass = 'malformed-document';\n            serializedError.errorData = data;\n        }\n\n        return serializedError;\n    }\n\n    public parse(serializedError: SerializedError): Error {\n        const resolveError = () => {\n            switch (serializedError.errorClass) {\n                case 'unauthorized': {\n                    const data = serializedError.errorData as UnauthorizedErrorData;\n\n                    return new UnauthorizedError(data.url, data.responseStatus);\n                }\n                case 'malformed-document': {\n                    const data = serializedError.errorData as MalformedDocumentErrorData;\n\n                    return new MalformedDocumentError(\n                        data.documentUrl,\n                        data.documentFormat,\n                        data.malformationDetails,\n                    );\n                }\n                default:\n                    return new Error(serializedError.message);\n            }\n        };\n        const error = resolveError();\n\n        error.name = serializedError.name;\n        error.stack = serializedError.stack;\n\n        return error;\n    }\n\n    private userWantsReportingEnabled(): boolean {\n        if (Storage.get(STORAGE_ENABLED_KEY, false))\n            return true;\n\n        const url = new URL(location.href);\n\n        return ['1', 'true', 'on', 'yes'].includes(url.searchParams.get('error_reporting')!!);\n    }\n\n    private initializeSentry(): void {\n        if (this.sentryInitialized || !this.isReportingAvailable)\n            return;\n\n        try {\n            init({ dsn: process.env.VUE_APP_SENTRY_DSN });\n\n            this.sentryInitialized = true;\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.error('Failed initializing Sentry', error);\n        }\n    }\n\n}\n\nexport default new Errors();\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M327.422 490.31c18.552-37.104 40.66-100.284 9.776-127.528-28.468 4.275-51.488 4.301-70.218.096-47.164-10.59-62.093-47.957-49.108-95.81-63.456 57.989-66.135 143.494-42.611 225.83 3.821 13.375-11.15 24.33-22.743 16.602-3.948-2.632-96.68-65.567-96.68-162.481 0-158.769 180-165.6 180-332 0-12.711 14.894-19.668 24.641-11.492 71.928 60.337 202.812 205.378 195.467 338.776-3.641 66.132-39.57 122.385-106.788 167.197-12.714 8.473-28.59-5.483-21.736-19.19z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z\"}})])\n          )\n        }\n      }\n    ","import MediaContainer from '@/models/soukai/MediaContainer';\nimport Movie from '@/models/soukai/Movie';\nimport WatchAction from '@/models/soukai/WatchAction';\n\nimport { MediaContainers } from '@/services/Media';\nimport Services from '@/services';\n\nimport Storage from '@/utils/Storage';\n\nimport { Parameters, Result, SerializedMoviesContainer, SerializedMovie } from './LoadMediaWorker';\nimport WebWorkerRunner from './WebWorkerRunner';\n\nfunction hydrateMovie(data: SerializedMovie): Movie {\n    const movie = new Movie(data.attributes, true);\n\n    movie.setRelationModels(\n        'actions',\n        data.actionsAttributes.map(attributes => new WatchAction(attributes, true)),\n    );\n\n    return movie;\n}\n\nfunction hydrateMoviesContainer(data: SerializedMoviesContainer): MediaContainer {\n    const moviesContainer = new MediaContainer(data.attributes, true);\n\n    moviesContainer.setRelationModels('movies', data.movies.map(hydrateMovie));\n\n    return moviesContainer;\n}\n\nexport async function loadMedia(...params: Parameters): Promise<MediaContainers> {\n    const worker = new Worker('@/workers/LoadMediaWorker.index.ts', { type: 'module' });\n    const runner = new WebWorkerRunner<Parameters, Result>(\n        worker,\n        {\n            updateProgressMessage: message => Services.$ui.updateBootupProgressMessage(message),\n            confirmSchemaMigration: async () => {\n                if (Storage.has('media-kraken-migrate-schema'))\n                    return Storage.get('media-kraken-migrate-schema');\n\n                const migrateSchema = await Services.$ui.confirmMarkdown('confirm-schema-migration', {\n                    acceptLabel: 'Migrate',\n                });\n\n                Storage.set('media-kraken-migrate-schema', migrateSchema);\n\n                return migrateSchema;\n            },\n        },\n    );\n\n    const result = await runner.run(...params);\n\n    return { movies: hydrateMoviesContainer(result.movies) };\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseTransitionGroup',{attrs:{\"animations\":\"fade scale\"}},_vm._l((_vm.$ui.modals),function(modal,index){return _c('aside',{key:modal.id,staticClass:\"\\n            fixed inset-0 p-4 z-50 flex items-center justify-center\\n            transition-all transform ease-in duration-300\\n        \",class:{ 'opacity-0 scale-90': index < _vm.$ui.modals.length - 1 },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.$ui.closeModal(modal.id)}}},[_c(modal.component,_vm._b({tag:\"component\"},'component',modal.props,false))],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModals.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModals.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppModals.vue?vue&type=template&id=13cb1241&\"\nimport script from \"./AppModals.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppModals.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import App from '@/services/App';\n\nimport Storage from '@/utils/Storage';\nimport Str from '@/utils/Str';\n\nexport default class Migration {\n\n    private version: string;\n    private migrationScript: Function;\n\n    constructor(version: string, migrationScript: Function) {\n        this.version = version;\n        this.migrationScript = migrationScript;\n    }\n\n    public isNecessary(storageVersion: string): boolean {\n        const [storageMajor, storageMinor, storagePatch] = Str.parseVersion(storageVersion)!;\n        const [migrationMajor, migrationMinor, migrationPatch] = Str.parseVersion(this.version)!;\n\n        if (migrationMajor !== storageMajor)\n            return migrationMajor > storageMajor;\n\n        if (migrationMinor !== storageMinor)\n            return migrationMinor > storageMinor;\n\n        return migrationPatch > storagePatch;\n    }\n\n    public async apply(): Promise<string> {\n        await this.migrationScript();\n\n        Storage.set(App.VERSION_STORAGE_KEY, this.version);\n\n        return this.version;\n    }\n\n}\n","import Migration from './Migration';\n\nconst requireMigration = require.context('@/migrations/scripts', false, /\\.ts$/);\nconst migrations: Migration[] = [];\n\nfor (const fileName of requireMigration.keys()) {\n    const name = fileName.match(/^(?:\\.\\/)?(.+)\\.ts$/)![1];\n\n    if (typeof name !== 'undefined')\n        migrations.push(new Migration(name, requireMigration(fileName).default));\n}\n\nexport default migrations;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppModal',{attrs:{\"id\":_vm.id,\"options\":_vm.options,\"title\":\"This Is Halloween 🎃\"}},[_c('p',{staticClass:\"text-gray-700 leading-relaxed mb-3\"},[_vm._v(\" Not sure what to watch this Halloween season? Here's some recommendations! \")]),_c('div',{staticClass:\"relative grid grid-cols-fill-32 gap-3\"},_vm._l((_vm.movies),function(movie){return _c('div',{key:movie.id,staticClass:\"relative movies-grid-item\"},[_c('button',{staticClass:\"block w-full h-auto group\",attrs:{\"type\":\"button\",\"title\":movie.title},on:{\"click\":function($event){return _vm.inspect(movie)}}},[_c('MoviePoster',{attrs:{\"url\":movie.posterUrl}}),_c('div',{staticClass:\"absolute inset-0 bg-black opacity-0 group-hover:opacity-25\"})],1),(movie.exists())?_c(movie.watched ? 'div' : 'button',_vm._b({tag:\"component\",staticClass:\"badge absolute top-0 right-0 -mt-1 w-10 h-10 flex items-center justify-center\",staticStyle:{\"margin-right\":\"-.7rem\"},attrs:{\"title\":movie.watched ? null : 'Mark watched',\"aria-label\":movie.watched ? null : (\"Mark \" + (movie.title) + \" as watched\")},on:{\"click\":function($event){movie.pending && _vm.markWatched(movie, $event)}}},'component',movie.watched ? { class: 'watched' } : { type: 'button' },false),[_c('BaseIcon',{staticClass:\"background absolute inset-0 w-10 h-10\",attrs:{\"name\":\"bookmark\"}}),(movie.pending)?_c('BaseIcon',{staticClass:\"icon-pending text-blue-600 w-4 h-4 z-10\",attrs:{\"name\":\"time\"}}):_vm._e(),_c('BaseIcon',{staticClass:\"icon-watched text-green-600 w-4 h-4 z-10\",attrs:{\"name\":\"checkmark\"}})],1):_c('button',{staticClass:\"absolute top-0 right-0 -mt-1 w-10 h-10 flex items-center justify-center\",staticStyle:{\"margin-right\":\"-.7rem\"},attrs:{\"title\":\"Add to collection\",\"type\":\"button\",\"aria-label\":(\"Add \" + (movie.title) + \" to collection\")},on:{\"click\":function($event){return _vm.addToCollection(movie, $event)}}},[_c('BaseIcon',{staticClass:\"text-blue-300 absolute inset-0 w-10 h-10\",attrs:{\"name\":\"bookmark\"}}),_c('BaseIcon',{staticClass:\"icon-pending text-blue-600 w-6 h-6 z-10\",attrs:{\"name\":\"add\"}})],1)],1)}),0),_c('BaseButton',{staticClass:\"\\n            border border-primary-500 text-sm text-primary-700 justify-center mt-4\\n            hover:bg-black-overlay\\n        \",on:{\"click\":function($event){_vm.importHalloweenMovies(), _vm.close()}}},[_vm._v(\" Add all to my collection \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Modal from '@/components/mixins/Modal';\nimport Movie from '@/models/soukai/Movie';\nimport MoviesGrid from '@/components/MoviesGrid.vue';\nimport MoviePoster from '@/components/MoviePoster.vue';\nimport MovieModal from '@/components/modals/MovieModal.vue';\nimport halloweenMovies from '@/assets/data/halloween-movies.json';\nimport JSONLDMoviesParser from '@/utils/parsers/JSONLDMoviesParser';\nimport ModelsCache from '@/models/ModelsCache';\n\nfunction shuffle(array: Movie[]): void {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n}\n\nexport default Modal.extend({\n    components: { MoviesGrid, MoviePoster },\n    data: () => ({ movies: [] as Movie[] }),\n    async mounted() {\n        const movies = (await Promise.all(halloweenMovies.map(json => JSONLDMoviesParser.parse(json)))).map(movie => {\n            const existingMovie = this.$media.movies.find(collectionMovie => collectionMovie.is(movie));\n\n            if (existingMovie) {\n                return existingMovie;\n            }\n\n            movie.mintUrl();\n\n            return movie;\n        });\n\n        shuffle(movies);\n\n        this.movies = movies;\n    },\n    methods: {\n        async inspect(movie: Movie) {\n            this.$ui.openModal(MovieModal, { movie });\n        },\n        async importHalloweenMovies() {\n            await this.$ui.loading(\n                async () => {\n                    await Promise.all(this.movies.map(async movie => {\n                        if (movie.exists()) {\n                            return;\n                        }\n\n                        await movie.fetchMissingAttributes();\n                        await this.$media.moviesContainer!.relatedMovies.save(movie);\n                    }));\n\n                    await ModelsCache.forgetDocument(this.$media.moviesContainer!.url);\n                },\n                'Adding **🎃 Halloween movies** to your collection...',\n            );\n\n            this.$ui.showSnackbar('🎃 Halloween movies added to your collection!', { transient: true });\n        },\n        async markWatched(movie: Movie, e: Event) {\n            if (movie.watched)\n                return;\n\n            e.preventDefault();\n\n            await this.$ui.updateModel(movie, movie => movie.watch());\n        },\n        async addToCollection(movie: Movie, e: Event) {\n            e.preventDefault();\n\n            await this.$ui.loading(\n                async () => {\n                    await movie.fetchMissingAttributes();\n                    await this.$media.moviesContainer!.relatedMovies.save(movie);\n                    await ModelsCache.forgetDocument(this.$media.moviesContainer!.url);\n                },\n                `Adding **${movie.title}** to your collection...`,\n            );\n\n            this.$ui.showSnackbar(\n                `[**${movie.title}**](route:/movies/${movie.uuid}) has been added to your collection!`,\n                { transient: true },\n            );\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HalloweenRecommendationsModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HalloweenRecommendationsModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HalloweenRecommendationsModal.vue?vue&type=template&id=066bc76e&\"\nimport script from \"./HalloweenRecommendationsModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./HalloweenRecommendationsModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Service from '@/services/Service';\nimport Services from '@/services';\n\nimport Errors from '@/utils/Errors';\nimport Storage from '@/utils/Storage';\n\nimport migrations from '@/migrations';\nimport HalloweenRecommendationsModal from '@/components/modals/HalloweenRecommendationsModal.vue';\n\nexport interface CrashReport {\n    error: Error;\n    title: string;\n    subtitle?: string;\n    actions: CrashReportAction[];\n}\n\nexport interface CrashReportAction {\n    label: string;\n    priority?: number;\n    handle: Function;\n}\n\ninterface State {\n    visits: number;\n    costumeImageUrl: string | null;\n    hasSeenHalloweenRecommendations: boolean;\n    crashReport: CrashReport | null;\n    isErrorReportingAvailable: boolean;\n    isErrorReportingEnabled: boolean;\n}\n\nexport default class App extends Service<State> {\n\n    public static readonly VISITS_STORAGE_KEY = 'media-kraken-visits';\n    public static readonly HALLOWEEN_RECOMMENDATIONS_STORAGE_KEY = 'media-kraken-halloween-recommendations';\n    public static readonly VERSION_STORAGE_KEY = 'media-kraken-version';\n\n    public environment!: string;\n    public sourceUrl!: string;\n    public releaseNotesUrl!: string;\n    public version!: string;\n    public versionName!: string;\n\n    protected readonly storeNamespace: string = 'app';\n\n    private runMigrations: boolean;\n\n    constructor(runMigrations: boolean = true) {\n        super();\n\n        this.runMigrations = runMigrations;\n    }\n\n    public get isDevelopment(): boolean {\n        return this.environment === 'development';\n    }\n\n    public get crashReport(): CrashReport | null {\n        return this.state.crashReport;\n    }\n\n    public get isCrashed(): boolean {\n        return this.crashReport !== null;\n    }\n\n    public get costumeImageUrl(): string | null {\n        return this.state.costumeImageUrl;\n    }\n\n    public get isErrorReportingAvailable(): boolean {\n        return this.state.isErrorReportingAvailable;\n    }\n\n    public get isErrorReportingEnabled(): boolean {\n        return this.state.isErrorReportingEnabled;\n    }\n\n    public setCrashReport(error: Error, options: Partial<Omit<CrashReport,'error'>> = {}): void {\n        const crashReport: CrashReport = {\n            error,\n            title: 'An unexpected problem crashed the application',\n            actions: [],\n            ...options,\n        };\n\n        this.setState({ crashReport });\n    }\n\n    public clearCrashReport(): void {\n        this.setState({ crashReport: null });\n    }\n\n    public showHalloweenRecommendations(force: boolean = false): void {\n        if ((Services.$media.movies.length === 0 || this.state.hasSeenHalloweenRecommendations) && !force) {\n            return;\n        }\n\n        Storage.set(App.HALLOWEEN_RECOMMENDATIONS_STORAGE_KEY, true);\n        this.setState({ hasSeenHalloweenRecommendations: true });\n        Services.$ui.openModal(HalloweenRecommendationsModal);\n    }\n\n    protected async boot(): Promise<void> {\n        await super.boot();\n        await this.increaseVisits();\n        await this.prepareHalloweenCostume();\n\n        Errors.registerListener({\n            onReportingDisabled: () => this.setState({ isErrorReportingEnabled: false }),\n            onReportingEnabled: () => this.setState({ isErrorReportingEnabled: true }),\n        });\n\n        this.environment = process.env.NODE_ENV as string;\n        this.sourceUrl = process.env.VUE_APP_SOURCE_URL as string;\n        this.releaseNotesUrl = process.env.VUE_APP_RELEASE_NOTES_URL as string;\n        this.version = process.env.VUE_APP_VERSION as string;\n        this.versionName = process.env.VUE_APP_VERSION_NAME as string;\n\n        if (this.runMigrations)\n            await this.upgradeStorage();\n    }\n\n    protected getInitialState(): State {\n        return {\n            visits: Storage.get(App.VISITS_STORAGE_KEY, 0),\n            hasSeenHalloweenRecommendations: Storage.get(App.HALLOWEEN_RECOMMENDATIONS_STORAGE_KEY, false),\n            costumeImageUrl: null,\n            crashReport: null,\n            isErrorReportingAvailable: Errors.isReportingAvailable,\n            isErrorReportingEnabled: Errors.isReportingEnabled,\n        };\n    }\n\n    private async increaseVisits() {\n        this.setState({ visits: this.state.visits + 1 });\n\n        Storage.set(App.VISITS_STORAGE_KEY, this.state.visits);\n    }\n\n    private async prepareHalloweenCostume() {\n        const costume = this.state.visits < 5 || Math.random() < 0.33\n            ? 'halloween'\n            : `halloween-${Math.round(Math.random() * 4) + 1}`;\n        const img = document.createElement('img');\n        const image = await import(`@/assets/img/costumes/${costume}.png`);\n\n        img.src = image.default;\n        img.alt = '';\n        img.classList.add('logo');\n\n        document.querySelector('svg.logo')?.replaceWith(img);\n\n        this.setState({ costumeImageUrl: image.default });\n    }\n\n    private async upgradeStorage() {\n        const previousVersion = Storage.get(App.VERSION_STORAGE_KEY);\n\n        if (previousVersion === this.version)\n            return;\n\n        if (previousVersion !== null)\n            await this.runStorageMigrations(previousVersion);\n\n        Storage.set(App.VERSION_STORAGE_KEY, this.version);\n    }\n\n    private async runStorageMigrations(storageVersion: string): Promise<void> {\n        Services.$ui.updateBootupProgressMessage('Running storage migrations...');\n\n        for (const migration of migrations) {\n            if (!migration.isNecessary(storageVersion))\n                continue;\n\n            storageVersion = await migration.apply();\n        }\n    }\n\n}\n","import Soukai, { MultiModelRelation, FieldType, SoukaiError, Attributes } from 'soukai';\nimport { NetworkError, SolidContainerModel, SolidContainsRelation } from 'soukai-solid';\n\nimport Arr from '@/utils/Arr';\nimport Movie from '@/models/soukai/Movie';\nimport SolidAuth from '@/authentication/SolidAuth';\n\nexport default class MediaContainer extends SolidContainerModel {\n\n    public static fields = {\n        name: {\n            type: FieldType.String,\n            rdfProperty: 'rdfs:label',\n            required: true,\n        },\n        description: {\n            type: FieldType.String,\n            rdfProperty: 'rdfs:comment',\n        },\n    };\n\n    public movies?: Movie[];\n    public relatedMovies!: SolidContainsRelation<MediaContainer, Movie, typeof Movie>;\n\n    private fixedUpdatedAt: Date | null = null;\n\n    public moviesRelationship(): MultiModelRelation {\n        return this.contains(Movie);\n    }\n\n    public async hasLegacySchema(): Promise<boolean> {\n        // TODO this previously looked at the container name, but latest versions of CSS don't permit setting\n        // metadata on container creation. So even containers created with the latest version of the app won't have it.\n        // Until that's fixed, this will be commented out.\n        // See https://github.com/CommunitySolidServer/CommunitySolidServer/issues/1027#issuecomment-1022214820\n        // return this.exists() && !this.wasRecentlyCreated() && !this.name;\n\n        return false;\n    }\n\n    public async migrateSchema(name: string, describedBy?: string): Promise<void> {\n        if (!this.exists() || this.wasRecentlyCreated())\n            return;\n\n        const metaDocumentUrl = describedBy || `${this.url}.meta`;\n        const createdAt = await this.getCreatedAtFromMetaDocument(metaDocumentUrl);\n\n        try {\n            const response = await SolidAuth.fetch(metaDocumentUrl, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'text/turtle' },\n                body: [\n                    '@prefix movies: <./> .',\n                    '@prefix purl: <http://purl.org/dc/terms/> .',\n                    '@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .',\n                    '',\n                    'movies:',\n                    `    purl:created ${this.serializeTurtleDate(createdAt)} ;`,\n                    `    rdfs:label \"${name}\" .`,\n                ].join('\\n'),\n            });\n\n            if (response.status !== 201)\n                throw new SoukaiError(`Error migrating ${this.url}, returned ${response.status} status code`);\n\n            this.fixLegacyAttributes(name, this.fixedUpdatedAt || this.updatedAt);\n        } catch (error) {\n            throw new NetworkError(`Error migrating ${this.url}`, error);\n        }\n    }\n\n    protected initializeAttributes(attributes: Attributes, exists: boolean): void {\n        if (exists && 'updatedAt' in attributes && Array.isArray(attributes['updatedAt']))\n            this.fixedUpdatedAt = attributes['updatedAt'].slice(1).reduce(\n                (latest, current) => latest > current ? latest : current,\n                attributes['updatedAt'][0],\n            );\n\n        super.initializeAttributes(attributes, exists);\n    }\n\n    private async getCreatedAtFromMetaDocument(metaDocumentUrl: string): Promise<Date> {\n        const document = await Soukai.requireEngine().readOne(this.getContainerUrl()!, metaDocumentUrl);\n\n        if (!this.isLegacyMetaDocument(document))\n            throw new SoukaiError(\n                `The document at ${metaDocumentUrl} was not created with Media Kraken so it isn't safe to migrate, ` +\n                'you can migrate it yourself by adding rdfs:label property',\n            );\n\n        return new Date(document['@graph'][0]['http://purl.org/dc/terms/created']['@value']);\n    }\n\n    private isLegacyMetaDocument(document: any): document is {\n        '@graph': [{\n            'http://purl.org/dc/terms/created': { '@value': string };\n        }];\n    } {\n        if (document['@graph'].length > 1)\n            return false;\n\n        const containerResource = document['@graph'][0];\n        const properties = Object.keys(containerResource);\n        const expectedProperties = [\n            '@id',\n            '@type',\n            'http://purl.org/dc/terms/created',\n            'http://purl.org/dc/terms/modified',\n            'http://www.w3.org/2000/01/rdf-schema#label',\n        ];\n\n        return properties.length !== expectedProperties.length\n            || expectedProperties.some(property => !properties.includes(property))\n            || Arr.create(containerResource['@type']).some((type: string) => ![\n                'https://www.w3.org/ns/ldp#Resource',\n                'https://www.w3.org/ns/ldp#Container',\n            ].includes(type));\n    }\n\n    private fixLegacyAttributes(name: string, updatedAt: Date): void {\n        this._attributes.name = name;\n        this._attributes.updatedAt = updatedAt;\n    }\n\n    private serializeTurtleDate(value: Date): string {\n        const digits = (...numbers: number[]) => numbers.map(number => number.toString().padStart(2, '0'));\n        const date = digits(value.getUTCFullYear(), value.getUTCMonth() + 1, value.getUTCDate()).join('-');\n        const time = digits(value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds()).join(':');\n\n        return `\"${date}T${time}Z\"^^<http://www.w3.org/2001/XMLSchema#dateTime>`;\n    }\n\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviesGrid.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviesGrid.vue?vue&type=style&index=0&lang=scss&\"","class Arr {\n\n    public create<T>(item: T | T[]): T[] {\n        return Array.isArray(item) ? item : [item];\n    }\n\n    public flatten<T>(items: T[][]): T[] {\n        return items.reduce((flattenedItems, nestedItems) => [...flattenedItems, ...nestedItems], []);\n    }\n\n    public removeItem<T>(items: T[], item: T): T {\n        const index = items.indexOf(item);\n\n        if (index !== -1)\n            items.splice(index, 1);\n\n        return item;\n    }\n\n    public unique<T>(arr: T[]): T[] {\n        return arr.filter((item, index) => arr.indexOf(item) === index);\n    }\n\n    public withoutItem<T>(arr: T[], item: T): T[] {\n        const index = arr.indexOf(item);\n\n        return index !== -1 ? this.withoutIndex(arr, index) : arr;\n    }\n\n    public withoutIndex<T>(arr: T[], index: number): T[] {\n        return [...arr.slice(0, index), ...arr.slice(index + 1)];\n    }\n\n}\n\nexport default new Arr();\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M14.66 15.66A8 8 0 1117 10h-2a6 6 0 10-1.76 4.24l1.42 1.42zM12 10h8l-4 4-4-4z\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inline-flex items-center cursor-pointer\",attrs:{\"aria-checked\":_vm.checked ? 'true' : 'false',\"role\":\"checkbox\",\"tabindex\":\"0\"},on:{\"click\":_vm.toggle}},[_c('span',{staticClass:\"text-sm mr-1 w-16\",class:{\n            'text-gray-700 font-medium': _vm.checked,\n            'text-gray-500': !_vm.checked,\n        },domProps:{\"textContent\":_vm._s(_vm.checked ? 'Enabled' : 'Disabled')}}),_c('span',{staticClass:\"relative w-12 h-6\"},[_c('span',{staticClass:\"\\n                absolute rounded-full w-10 h-4 mt-1 ml-1 top-0 left-0\\n                border border-primary-300 text-primary-900\\n                transition-colors duration-200\\n            \",class:{\n                'bg-primary-300': _vm.checked,\n            },attrs:{\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"\\n                absolute rounded-full w-6 h-6 left-0 top-1/2 -translate-y-1/2\\n                bg-primary-800 transform transition-transform duration-200\\n            \",class:{\n                'translate-x-6': _vm.checked,\n                'translate-x-0': !_vm.checked,\n            },attrs:{\"aria-hidden\":\"true\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    model: {\n        prop: 'checked',\n        event: 'change',\n    },\n    props: {\n        checked: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    methods: {\n        toggle() {\n            this.$emit('change', !this.checked);\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseToggle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseToggle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BaseToggle.vue?vue&type=template&id=0952e4d2&\"\nimport script from \"./BaseToggle.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseToggle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export enum AuthenticationStatus {\n    LoggedIn = 'logged-in',\n    LoggingIn = 'logging-in',\n    Failed = 'failed',\n}\n\nexport enum AuthenticationMethod {\n    Inrupt = 'inrupt',\n    Legacy = 'legacy',\n}\n\nexport const defaultAuthenticationMethod = AuthenticationMethod.Inrupt;\n","export interface UrlParts {\n    protocol?: string;\n    domain?: string;\n    port?: string;\n    path?: string;\n    query?: string;\n    fragment?: string;\n}\n\nclass Url {\n\n    public resolve(...parts: string[]): string {\n        let url = parts.shift() as string;\n\n        while (parts.length > 0) {\n            const fragment = parts.shift() as string;\n\n            if (fragment.startsWith('/')) {\n                url = this.base(url) + fragment;\n            } else if (fragment.startsWith('http://') || fragment.startsWith('https://')) {\n                url = fragment;\n            } else if (url.endsWith('/')) {\n                url += fragment;\n            } else {\n                url += '/' + fragment;\n            }\n        }\n\n        return url;\n    }\n\n    public resolveDirectory(...parts: string[]): string {\n        const url = this.resolve(...parts);\n\n        return url.endsWith('/') ? url : (url + '/');\n    }\n\n    public base(url: string): string {\n        const protocolIndex = url.indexOf('://');\n        const pathIndex = url.substr(protocolIndex + 3).indexOf('/');\n\n        return pathIndex !== -1\n            ? url.substring(0, protocolIndex + 3 + pathIndex)\n            : url;\n    }\n\n    public filename(url: string): string {\n        const pathIndex = url.lastIndexOf('/');\n\n        return pathIndex !== -1 ? url.substr(pathIndex + 1) : '';\n    }\n\n    public parseRootDomain(url: string): string | null {\n\n        return this.parse(url)?.domain?.replace(/^www\\./, '') ?? null;\n    }\n\n    public parse(url: string): UrlParts | null {\n        const match = url.trim().match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/);\n\n        if (!match)\n            return null;\n\n        const host = match[4] || '';\n        const [domain, port]: string[] = host.indexOf(':') === -1 ? [host] : host.split(':');\n\n        return {\n            protocol: match[2] || undefined,\n            domain: domain || undefined,\n            port: port || undefined,\n            path: match[5] || undefined,\n            query: match[7] || undefined,\n            fragment: match[9] || undefined,\n        };\n    }\n\n}\n\nexport default new Url();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative\"},[_c('div',{ref:\"trigger\"},[_vm._t(\"default\",null,{\"toggle\":_vm.toggleMenu})],2),_c('BaseTransition',{attrs:{\"duration\":100,\"animations\":\"fade scale\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.open),expression:\"open\"}],ref:\"menu\",staticClass:\"absolute mt-2 w-56 rounded-md shadow-lg z-20\",class:{\n                'origin-top-left left-0': _vm.direction === 'top-left',\n                'origin-top-right right-0': _vm.direction === 'top-right',\n            }},[_c('div',{staticClass:\"rounded-md bg-white shadow-xs\"},_vm._l((_vm.options),function(option,index){return _c('div',{key:index,staticClass:\"py-1\"},[_c('button',{staticClass:\"\\n                            flex items-center\\n                            block px-4 py-2 text-sm leading-5 text-gray-700 w-full\\n                            hover:bg-gray-100 hover:text-gray-900\\n                            focus:outline-none focus:bg-gray-100 focus:text-gray-900\\n                        \",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.triggerOption(option)}}},[(option.icon)?_c('BaseIcon',{staticClass:\"w-3 h-3 mr-2\",attrs:{\"name\":option.icon}}):_vm._e(),_c('span',[_vm._v(_vm._s(option.text))])],1)])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { after } from '@noeldemartin/utils';\nimport Vue from 'vue';\n\ninterface Data {\n    removeClickAwayListener: Function | null;\n}\n\nexport interface MenuOption {\n    text: string;\n    icon?: string;\n    handle(option: MenuOption): void;\n}\n\nexport default Vue.extend({\n    props: {\n        options: {\n            type: Array as () => MenuOption[],\n            required: true,\n        },\n        direction: {\n            type: String,\n            default: 'top-left',\n        },\n    },\n    data: (): Data => ({\n        removeClickAwayListener: null,\n    }),\n    computed: {\n        open(): boolean {\n            return !!this.removeClickAwayListener;\n        },\n    },\n    methods: {\n        toggleMenu() {\n            this.open ? this.closeMenu() : this.openMenu();\n        },\n        openMenu() {\n            if (this.removeClickAwayListener)\n                return;\n\n            this.removeClickAwayListener = this.$ui.onClickAway(\n                [\n                    this.$refs.trigger as HTMLElement,\n                    this.$refs.menu as HTMLElement,\n                ],\n                () => this.closeMenu(),\n            );\n\n            this.$emit('opened');\n        },\n        closeMenu() {\n            if (!this.removeClickAwayListener)\n                return;\n\n            this.removeClickAwayListener();\n            this.removeClickAwayListener = null;\n\n            after({ milliseconds: 100 }).then(() => this.$emit('closed'));\n        },\n        triggerOption(option: MenuOption) {\n            this.closeMenu();\n\n            option.handle(option);\n        },\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BaseMenu.vue?vue&type=template&id=21018310&\"\nimport script from \"./BaseMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","class Str {\n\n    public capitalize(text: string): string {\n        return text.substr(0, 1).toUpperCase() + text.substr(1);\n    }\n\n    public camel(str: string): string {\n        return str.split(/_|-|\\s|(?=[A-Z])/)\n            .map(\n                (word, index) => {\n                    if (word.length === 0) {\n                        return word;\n                    }\n\n                    if (index === 0) {\n                        return word.toLowerCase();\n                    }\n\n                    return word.substr(0, 1).toUpperCase() + word.substr(1).toLowerCase();\n                },\n            )\n            .join('');\n    }\n\n    public parseVersion(version: string): [number, number, number, string?] | null {\n        const matches = version.match(/(\\d+)\\.(\\d+)\\.(\\d+)(-(.*))?/);\n\n        if (!matches)\n            return null;\n\n        return matches[5]\n            ? [parseInt(matches[1]), parseInt(matches[2]), parseInt(matches[3]), matches[5]]\n            : [parseInt(matches[1]), parseInt(matches[2]), parseInt(matches[3])];\n    }\n\n    public slug(text: string, separator: string = '-'): string {\n        text = text\n            .trim()\n            .normalize('NFD')\n            .replace(/[\\u0300-\\u036f]/g, '')\n            .replace(/[^\\d\\w\\s]/g, '')\n            .toLowerCase()\n            .replace(/\\s+/g, separator);\n\n        if (separator.length > 0)\n            text = text.replace(new RegExp(`${separator}+`, 'g'), separator);\n\n        return text;\n    }\n\n    public studly(text: string): string {\n        return text.split(/_|-|\\s/)\n            .map(\n                word =>\n                    word.length > 0\n                        ? word.substr(0, 1).toUpperCase() + word.substr(1)\n                        : word,\n            )\n            .join('');\n    }\n\n}\n\nexport default new Str();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingDots.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingDots.vue?vue&type=style&index=0&lang=scss&\"","export function setUpPolyfills(globalObject: any) {\n    globalObject.setImmediate = (callback: Function, ...params: any[]) => setTimeout(() => callback(...params), 0);\n    globalObject.clearImmediate = (...params: any[]) => clearTimeout(...params);\n}\n","import ModelsCache from '@/models/ModelsCache';\n\nexport default async function migrate(): Promise<void> {\n    await ModelsCache.clear();\n}\n","import MediaContainer from '@/models/soukai/MediaContainer';\n\nimport { MediaContainers } from '@/services/Media';\n\nexport default abstract class User<JSON extends object=object> {\n\n    public name: string;\n    public avatarUrl: string | null;\n\n    protected constructor(name: string, avatarUrl: string | null) {\n        this.name = name;\n        this.avatarUrl = avatarUrl;\n    }\n\n    public async resolveMediaContainers(): Promise<MediaContainers> {\n        const cachedMoviesContainer = await this.getCachedMoviesContainer();\n\n        return { movies: cachedMoviesContainer || await this.initMoviesContainer() };\n    }\n\n    public async login(): Promise<void> {\n        //\n    }\n\n    public async logout(): Promise<void> {\n        //\n    }\n\n    public abstract initSoukaiEngine(): void;\n\n    public abstract toJSON(): JSON;\n\n    protected abstract getCachedMoviesContainer(): Promise<MediaContainer | null>;\n\n    protected abstract initMoviesContainer(): Promise<MediaContainer>;\n\n}\n","const NON_WRITABLE_INPUT_TYPES = ['submit', 'reset', 'checkbox', 'radio'];\n\nclass DOM {\n\n    public isWritable(element: any): boolean {\n        if (!(element instanceof HTMLElement))\n            return false;\n\n        const name = element.nodeName.toLowerCase();\n\n        return name === 'select'\n            || (\n                name === 'input' &&\n                !NON_WRITABLE_INPUT_TYPES.includes((element.getAttribute('type') || 'text').toLowerCase())\n            )\n            || name === 'textarea'\n            || element.isContentEditable;\n    }\n\n    public measurePixels(css: string, parent?: Element): number {\n        const ruler = document.createElement('div');\n        ruler.style.position = 'fixed';\n        ruler.style.width = css;\n\n        (parent || document.body).append(ruler);\n\n        const size = ruler.clientWidth;\n\n        ruler.remove();\n\n        return size;\n    }\n\n}\n\nexport default new DOM();\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M12.9 14.32a8 8 0 111.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 108 2a6 6 0 000 12z\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseTransition',{attrs:{\"animation\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$ui.showOverlay),expression:\"$ui.showOverlay\"}],staticClass:\"fixed inset-0 z-40\"},[_c('div',{staticClass:\"absolute inset-0 bg-gray-500 opacity-75\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppOverlay.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppOverlay.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppOverlay.vue?vue&type=template&id=324dd214&\"\nimport script from \"./AppOverlay.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppOverlay.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\"}})])\n          )\n        }\n      }\n    ","import MediaValidationError from '@/errors/MediaValidationError';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport { MediaParser } from '@/utils/parsers';\n\nclass JSONLDMoviesParser implements MediaParser<object, Movie> {\n\n    public async validate(data: any): Promise<void> {\n        const types = data['@type'];\n        const contexts = data['@context'] || {};\n\n        if (!types)\n            throw new MediaValidationError(['Invalid format, @type missing']);\n\n        const movieType = (Array.isArray(types) ? types : [types]).find((type: string) => {\n            if (type.startsWith('http'))\n                return type === 'https://schema.org/Movie';\n\n            const [prefix, name] = type.split(':');\n\n            return name\n                ? (contexts[prefix] === 'https://schema.org' && name === 'Movie')\n                : (contexts['@vocab'] === 'https://schema.org/' && prefix === 'Movie');\n        });\n\n        if (!movieType)\n            throw new MediaValidationError(['Invalid format, schema:Movie type is missing']);\n\n        // TODO validate that schema:name is not missing\n    }\n\n    public parse(data: object): Promise<Movie> {\n        return Movie.newFromJsonLD<Movie>(data);\n    }\n\n}\n\nexport default new JSONLDMoviesParser();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"width\":\"38\",\"height\":\"38\",\"viewBox\":\"0 0 38 38\",\"stroke\":\"currentColor\"}},[_c('g',{attrs:{\"fill\":\"none\",\"fill-rule\":\"evenodd\"}},[_c('g',{attrs:{\"transform\":\"translate(1 1)\",\"stroke-width\":\"2\"}},[_c('circle',{attrs:{\"stroke-opacity\":\".5\",\"cx\":\"18\",\"cy\":\"18\",\"r\":\"18\"}}),_c('path',{attrs:{\"d\":\"M36 18c0-9.94-8.06-18-18-18\"}},[_c('animateTransform',{attrs:{\"attributeName\":\"transform\",\"type\":\"rotate\",\"from\":\"0 18 18\",\"to\":\"360 18 18\",\"dur\":\"1s\",\"repeatCount\":\"indefinite\"}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\n// Adapted from https://samherbert.net/svg-loaders/\nexport default Vue.extend({});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingCircle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingCircle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoadingCircle.vue?vue&type=template&id=7d4bfd58&\"\nimport script from \"./LoadingCircle.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoadingCircle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.movieChunks),function(chunk,chunkIndex){return _c('LazyArea',{key:chunkIndex,class:chunk.wrapperClass,attrs:{\"force-visible\":chunk.forceVisible}},[_c('div',{style:(chunk.placeholderStyle),attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"}),_c('BaseTransitionGroup',{staticClass:\"relative grid grid-cols-fill-32 gap-3 desktop:grid-cols-fill-40\",attrs:{\"animation\":\"fade\"},on:{\"before-leave\":_vm.sendMovieToCollection}},_vm._l((chunk.movies),function(movie){return _c('MoviesGridItem',{key:movie.id,staticClass:\"list-complete-item\",attrs:{\"movie\":movie}})}),1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.forceVisible || _vm.visible)?_vm._t(\"default\"):_vm._t(\"placeholder\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\ninterface Data {\n    visible: boolean;\n    $_observer?: IntersectionObserver;\n}\n\nexport default Vue.extend({\n    props: {\n        forceVisible: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    data: (): Data => ({ visible: false }),\n    mounted() {\n        this.$_observer = new IntersectionObserver(([entry]) => this.visible = entry.isIntersecting);\n        this.$_observer.observe(this.$el);\n    },\n    destroyed() {\n        if (!this.$_observer)\n            return;\n\n        this.$_observer.disconnect();\n        delete this.$_observer;\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LazyArea.vue?vue&type=template&id=140235e6&\"\nimport script from \"./LazyArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./LazyArea.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"movies-grid-item relative\"},[(_vm.$viewer.isActive)?_c('button',{staticClass:\"block w-full h-auto group\",attrs:{\"title\":_vm.linkTitle},on:{\"click\":function($event){return _vm.$viewer.setMovie(_vm.movie)}}},[_c('MoviePoster',{attrs:{\"url\":_vm.movie.posterUrl,\"title\":_vm.movie.title}}),_c('div',{staticClass:\"absolute inset-0 bg-black opacity-0 group-hover:opacity-25\"})],1):[_c('router-link',{staticClass:\"block group\",attrs:{\"to\":{ name: 'movie', params: { uuid: _vm.movie.uuid } },\"title\":_vm.linkTitle,\"aria-label\":_vm.linkTitle}},[_c('MoviePoster',{attrs:{\"url\":_vm.movie.posterUrl,\"title\":_vm.movie.title}}),_c('div',{staticClass:\"absolute inset-0 bg-black opacity-0 group-hover:opacity-25\"})],1),(!_vm.$viewer.isActive)?_c(_vm.movie.watched ? 'div' : 'button',_vm._b({tag:\"component\",staticClass:\"badge absolute top-0 right-0 -mt-1 w-10 h-10 flex items-center justify-center\",staticStyle:{\"margin-right\":\"-.7rem\"},attrs:{\"title\":_vm.movie.watched ? null : 'Mark watched',\"aria-label\":_vm.movie.watched ? null : (\"Mark \" + (_vm.movie.title) + \" as watched\")},on:{\"click\":function($event){_vm.movie.pending && _vm.markWatched($event)}}},'component',_vm.movie.watched ? { class: 'watched' } : { type: 'button' },false),[_c('BaseIcon',{staticClass:\"background absolute inset-0 w-10 h-10\",attrs:{\"name\":\"bookmark\"}}),(_vm.movie.pending)?_c('BaseIcon',{staticClass:\"icon-pending text-blue-600 w-4 h-4 z-10\",attrs:{\"name\":\"time\"}}):_vm._e(),_c('BaseIcon',{staticClass:\"icon-watched text-green-600 w-4 h-4 z-10\",attrs:{\"name\":\"checkmark\"}})],1):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport MoviePoster from '@/components/MoviePoster.vue';\n\nexport default Vue.extend({\n    components: {\n        MoviePoster,\n    },\n    props: {\n        movie: {\n            type: Movie,\n            required: true,\n        },\n    },\n    computed: {\n        linkTitle(): string {\n            if (this.$viewer.isActive)\n                return this.movie.title;\n\n            const status = this.movie.watched ? 'Watched' : 'Watch later';\n\n            return `${this.movie.title} (${status})`;\n        },\n    },\n    methods: {\n        async markWatched(e: Event) {\n            if (this.movie.watched)\n                return;\n\n            e.preventDefault();\n\n            await this.$ui.updateModel(this.movie, movie => movie.watch());\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviesGridItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviesGridItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MoviesGridItem.vue?vue&type=template&id=2a29351f&\"\nimport script from \"./MoviesGridItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./MoviesGridItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MoviesGridItem.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport DOM from '@/utils/DOM';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport { screenBreakpoints } from '@/services/UI';\n\nimport LazyArea from '@/components/LazyArea.vue';\nimport MoviesGridItem from '@/components/MoviesGridItem.vue';\n\ninterface Data {\n    grid: GridMeasurements;\n    $_resizeListener?: any;\n}\n\ninterface MoviesChunk {\n    movies: Movie[];\n    forceVisible: boolean;\n    wrapperClass: string;\n    placeholderStyle: string;\n}\n\ninterface GridMeasurements {\n    cellsHeight: number;\n    gapSize: number;\n    columns: number;\n}\n\nconst CHUNK_ROWS = 4;\n\nfunction measureGrid(parent: Element, desktop: boolean, addPadding: boolean = false): GridMeasurements {\n    const tailwindMeasures = {\n        'gap-3': DOM.measurePixels('.75rem', parent),\n        'px-4': DOM.measurePixels('1rem', parent),\n        'grid-cols-fill-32': DOM.measurePixels('8rem', parent),\n        'grid-cols-fill-40': DOM.measurePixels('10rem', parent),\n        'max-w-content': 900,\n        'border': 1,\n    };\n\n    const maxGridWidth = tailwindMeasures['max-w-content'];\n    const minCellWidth = tailwindMeasures[desktop ? 'grid-cols-fill-40' : 'grid-cols-fill-32'];\n    const gapSize = tailwindMeasures['gap-3'];\n    const gridWidth = Math.min(parent.clientWidth, maxGridWidth) - (addPadding ? (tailwindMeasures['px-4'] * 2) : 0);\n    const columns = Math.floor((gridWidth + gapSize) / (minCellWidth + gapSize));\n    const cellsWidth = (gridWidth - (columns - 1) * gapSize) / columns;\n    const imageBorders = tailwindMeasures['border'] * 2;\n    const cellsHeight = (cellsWidth - imageBorders) * 3 / 2 + imageBorders;\n\n    return { cellsHeight, gapSize, columns };\n}\n\nexport default Vue.extend({\n    components: {\n        LazyArea,\n        MoviesGridItem,\n    },\n    props: {\n        movies: {\n            type: Array as () => Movie[],\n            required: true,\n        },\n        withinCollection: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    data(): Data {\n        return {\n            grid: measureGrid(\n                document.body,\n                window.matchMedia(`(min-width: ${screenBreakpoints.desktop}px)`).matches,\n                true,\n            ),\n        };\n    },\n    computed: {\n        movieChunks(): MoviesChunk[] {\n            const chunks = [];\n            const totalMovies = this.movies.length;\n            const chunkSize = this.grid.columns * CHUNK_ROWS;\n\n            for (let offset = 0; totalMovies > offset; offset += chunkSize) {\n                const movies = this.movies.slice(offset, offset + chunkSize);\n                const rows = Math.ceil(movies.length / this.grid.columns);\n                const placeholderHeight = this.grid.cellsHeight * rows + this.grid.gapSize * (rows-1);\n\n                chunks.push({\n                    movies,\n                    forceVisible: offset === 0,\n                    wrapperClass: offset === 0 ? '' : 'mt-3',\n                    placeholderStyle: `height:${placeholderHeight}px`,\n                });\n            }\n\n            return chunks;\n        },\n    },\n    mounted() {\n        this.$_resizeListener = () => this.grid = measureGrid(this.$el, this.$ui.desktop);\n        this.$_resizeListener();\n\n        window.addEventListener('resize', this.$_resizeListener);\n    },\n    destroyed() {\n        if (!this.$_resizeListener)\n            return;\n\n        window.removeEventListener('resize', this.$_resizeListener);\n\n        delete this.$_resizeListener;\n    },\n    methods: {\n        sendMovieToCollection(el: HTMLElement) {\n            const { clientWidth, offsetTop, offsetLeft } = el;\n\n            el.style.position = 'absolute';\n            el.style.width = `${clientWidth}px`;\n\n            if (!this.withinCollection && !this.$ui.mobile) {\n                this.positionAtMyCollection(el);\n                el.classList.add('sending-to-collection');\n\n                return;\n            }\n\n            el.style.top = `${offsetTop}px`;\n            el.style.left = `${offsetLeft}px`;\n        },\n        positionAtMyCollection(el: HTMLElement) {\n            const myCollection = this.$ui.myCollectionElement;\n\n            if (myCollection === null)\n                return;\n\n            const myCollectionRect = myCollection.getBoundingClientRect();\n            const gridRect = this.$el.getBoundingClientRect();\n            const top = myCollectionRect.top - gridRect.top + myCollection.clientHeight/2;\n            const left = myCollectionRect.left - gridRect.left + myCollection.clientWidth/2;\n\n            el.style.top = `${top}px`;\n            el.style.left = `${left}px`;\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviesGrid.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoviesGrid.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MoviesGrid.vue?vue&type=template&id=0a5026b6&\"\nimport script from \"./MoviesGrid.vue?vue&type=script&lang=ts&\"\nexport * from \"./MoviesGrid.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MoviesGrid.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { FieldType, SingleModelRelation } from 'soukai';\nimport { SolidModel } from 'soukai-solid';\n\nimport Movie from '@/models/soukai/Movie';\n\nexport default class WatchAction extends SolidModel {\n\n    public static ldpResource = false;\n\n    public static rdfContexts = {\n        'schema': 'https://schema.org/',\n    };\n\n    public static rdfsClasses = ['schema:WatchAction'];\n\n    public static timestamps = ['createdAt'];\n\n    public static fields = {\n        object: {\n            type: FieldType.Key,\n            rdfProperty: 'schema:object',\n            required: true,\n        },\n        startTime: FieldType.Date,\n        endTime: FieldType.Date,\n    };\n\n    public movieRelationship(): SingleModelRelation {\n        return this.belongsToOne(Movie, 'object');\n    }\n\n    public fixLegacyAttributes(url: string, object: string): void {\n        this._attributes.url = url;\n        this._attributes.object = object;\n    }\n\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionBrowser.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionBrowser.vue?vue&type=style&index=0&lang=scss&\"","import { Storage } from '@noeldemartin/utils';\n\nexport default async function migrate(): Promise<void> {\n    if (!Storage.has('solid-auth-client'))\n        return;\n\n    const { default: client } = await import(\n        /* webpackChunkName: 'authentication-legacy' */\n        '@/authentication/LegacyAuthenticator.chunk');\n    const session = await client.currentSession() || null;\n\n    if (!session?.idp)\n        return;\n\n    Storage.set('media-kraken-solid-auth', {\n        loginUrl: session.idp,\n        authenticationMethod: 'legacy',\n    });\n}\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"viewBox\":\"0 0 34.083 34.083\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M2.501 29.572a2.497 2.497 0 01-1.768-4.266l8.264-8.264L.733 8.779a2.498 2.498 0 010-3.535 2.498 2.498 0 013.535 0l10.031 10.031c.469.469.731 1.104.731 1.768s-.264 1.298-.731 1.769l-10.03 10.03a2.502 2.502 0 01-1.768.73zm31.582-2.5a2.5 2.5 0 00-2.5-2.5H16.946a2.5 2.5 0 100 5h14.637a2.5 2.5 0 002.5-2.5z\"}})])\n          )\n        }\n      }\n    ","import { TMDBMovie } from '@/api/TheMovieDBApi';\n\nimport Movie from '@/models/soukai/Movie';\n\nimport { MediaParser } from '@/utils/parsers';\n\ntype Data = TMDBMovie;\n\nclass TMDBMoviesParser implements MediaParser<Data, Movie> {\n\n    public async validate(_: any): Promise<void> {\n        throw new Error('TMDB movies validation is not implemented');\n    }\n\n    public async parse(data: Data): Promise<Movie> {\n        const movie = new Movie({\n            title: data.title,\n            externalUrls: [`https://www.themoviedb.org/movie/${data.id}`],\n        });\n\n        if (data.overview)\n            movie.description = data.overview;\n\n        if (data.release_date)\n            movie.releaseDate = new Date(data.release_date);\n\n        if (data.poster_path)\n            movie.posterUrl = `https://image.tmdb.org/t/p/w500${data.poster_path}`;\n\n        if (data.imdb_id)\n            movie.externalUrls.push(`https://www.imdb.com/title/${data.imdb_id}`);\n\n        movie.setRelationModels('actions', []);\n\n        return movie;\n    }\n\n}\n\nexport default new TMDBMoviesParser();\n","export interface SerializedResponse {\n    status: number;\n    statusText: string;\n    headers: [string, string][];\n    body: Blob;\n}\n\nclass Http {\n\n    public async serializeResponse(response: Response): Promise<SerializedResponse> {\n        return {\n            status: response.status,\n            statusText: response.statusText,\n            headers: [...response.headers.entries()],\n            body: await response.blob(),\n        };\n    }\n\n    public deserializeResponse(response: SerializedResponse): Response {\n        const body = response.body.size === 0 ? null : response.body;\n\n        return new Response(body, {\n            status: response.status,\n            statusText: response.statusText,\n            headers: response.headers,\n        });\n    }\n\n}\n\nexport default new Http();\n","import SolidAuth from '@/authentication/SolidAuth';\n\nimport Errors from '@/utils/Errors';\nimport Http from '@/utils/Http';\nimport Str from '@/utils/Str';\n\nimport { WebWorkerMessage } from './WebWorker';\n\nexport type WebWorkerRunnerDelegate = Record<string, (...args: any[]) => unknown>;\n\nexport default class WebWorkerRunner<Parameters extends any[], Result> {\n\n    private worker: Worker;\n    private delegate: WebWorkerRunnerDelegate;\n    private workerPromise: Promise<Result>;\n\n    private _resolve!: Function;\n    private _reject!: Function;\n\n    constructor(worker: Worker, delegate: WebWorkerRunnerDelegate = {}) {\n        this.worker = worker;\n        this.delegate = delegate;\n        this.workerPromise = new Promise<Result>((resolve, reject) => {\n            this._resolve = resolve;\n            this._reject = reject;\n        });\n\n        worker.onerror = () => this._reject();\n        worker.onmessage = ({ data: message }: { data: WebWorkerMessage }) => this.onMessage(message);\n    }\n\n    public run(...params: Parameters): Promise<Result> {\n        this.worker.postMessage({ name: 'run', payload: params });\n\n        return this.workerPromise;\n    }\n\n    protected async onMessage({ operationId, name, payload }: WebWorkerMessage): Promise<void> {\n        switch (name) {\n            case 'work-completed':\n                this._resolve(payload);\n                break;\n            case 'work-failed':\n                this._reject(Errors.parse(payload));\n                break;\n            default: {\n                try {\n                    const result = await this.handleOperation(name, payload);\n\n                    this.worker.postMessage({ operationId, name: 'operation-completed', payload: result });\n                } catch (e) {\n                    this.worker.postMessage({ operationId, name: 'operation-failed', payload: Errors.serialize(e) });\n                }\n                break;\n            }\n        }\n    }\n\n    protected async handleOperation(name: string, args: any[]): Promise<any> {\n        if (name in this.delegate)\n            return this.delegate[name](...args);\n\n        const camelCaseName = Str.camel(name);\n        if (camelCaseName in this.delegate)\n            return this.delegate[camelCaseName](...args);\n\n        switch (name) {\n            case 'solid-fetch': {\n                const response = await SolidAuth.fetch(...(args as [string, any]));\n\n                return Http.serializeResponse(response);\n            }\n        }\n\n        throw new Error(`Unknown worker operation: ${name}`);\n    }\n\n}\n","var render, staticRenderFns\nimport script from \"./BaseTransition.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseTransition.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { CreateElement, VNode } from 'vue';\n\nimport Transition from '@/components/mixins/Transition';\n\nexport default Transition.extend({\n    render(h: CreateElement): VNode {\n        if (!this.animationsEnabled || !this.enabled)\n            return this.$slots.default as any as VNode;\n\n        return h(\n            'transition',\n            {\n                props: this.vueTransitionProps,\n                on: this.vueTransitionListeners,\n            },\n            this.$slots.default,\n        );\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTransition.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTransition.vue?vue&type=script&lang=ts&\"","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',{staticClass:\"px-4 py-2 text-xs text-primary-700 text-center\"},[_c('div',{staticClass:\"flex max-w-content mx-auto\",class:_vm.$viewer.isActive || !_vm.$auth.loggedIn ? 'justify-center' : 'justify-end'},[_c('button',{staticClass:\"mr-1 hover:underline hover:text-primary-900\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$ui.openFileMarkdownModal('about')}}},[_vm._v(\" about \")]),_vm._v(\" | \"),_c('BaseLink',{staticClass:\"mx-1\",attrs:{\"title\":\"View application source code\",\"url\":_vm.$app.sourceUrl}},[_vm._v(\" source \")]),_vm._v(\" | \"),_c('BaseLink',{staticClass:\"mx-1\",attrs:{\"title\":\"View application source code\",\"url\":_vm.$app.releaseNotesUrl}},[_vm._v(\" \"+_vm._s(_vm.$app.versionName)+\" \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppFooter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppFooter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppFooter.vue?vue&type=template&id=2022b464&\"\nimport script from \"./AppFooter.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppFooter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import marked from 'marked';\n\nconst CODE_BLOCK = '```';\n\nclass Markdown {\n\n    private renderer: marked.Renderer = new marked.Renderer();\n\n    constructor() {\n        this.renderer.link = function (href, title, text) {\n            const link = marked.Renderer.prototype.link.apply(this, [href, title, text]);\n\n            return link.replace('<a', '<a target=\"_blank\"');\n        };\n    }\n\n    public render(markdown: string): string {\n        if (!markdown)\n            return '';\n\n        return marked(markdown, { renderer: this.renderer });\n    }\n\n    public codeBlock(code: string): string {\n        return `${CODE_BLOCK}\\n${code}\\n${CODE_BLOCK}`;\n    }\n\n}\n\nexport default new Markdown();\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"isolation\":\"isolate\"},style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"style\":\"isolation:isolate\",\"viewBox\":\"792 287 64 32\",\"width\":\"64pt\",\"height\":\"32pt\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M796 287h56c2.208 0 4 1.792 4 4v24c0 2.208-1.792 4-4 4h-56c-2.208 0-4-1.792-4-4v-24c0-2.208 1.792-4 4-4z\",\"fill\":\"#f5c518\"}}),_c('path',{attrs:{\"d\":\"M800 312h5v-18h-5v18zm15.673-18l-1.12 8.408-.695-4.573a124.858 124.858 0 00-.58-3.835H807v18h4.242l.016-11.886L813.044 312h3.019l1.695-12.148.013 12.148H822v-18h-6.327zM824 312v-18h7.805a3.185 3.185 0 013.195 3.177v11.646a3.184 3.184 0 01-3.195 3.177H824zm5.832-14.76c-.198-.108-.577-.159-1.129-.159v11.81c.728 0 1.177-.131 1.345-.404.168-.27.254-1.001.254-2.2v-6.979c0-.814-.03-1.334-.086-1.564a.733.733 0 00-.384-.504zm14.598 1.267h.32c1.795 0 3.25 1.406 3.25 3.138v7.217c0 1.733-1.455 3.138-3.25 3.138h-.32a3.28 3.28 0 01-2.658-1.332l-.288 1.101H837V294h4.784v5.781a3.386 3.386 0 012.646-1.274zm-1.024 8.777v-4.265c0-.705-.046-1.167-.14-1.38-.094-.213-.47-.35-.734-.35s-.671.111-.75.299v7.219c.09.206.478.32.75.32.271 0 .666-.11.749-.32.083-.209.125-.719.125-1.523z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"isolation\":\"isolate\"},style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"style\":\"isolation:isolate\",\"viewBox\":\"773.871 360.954 183.889 179.233\",\"width\":\"245.185\",\"height\":\"238.977\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M810.859 442.024v20.883q0 7.172 4.114 10.407 4.113 3.234 12.058 3.375v9.843q-13.359-.14-20.672-6.117-7.312-5.976-7.312-16.805v-21.304q0-7.313-4.43-10.442-4.429-3.129-12.867-3.129v-9.914q9.141-.14 13.219-3.375 4.078-3.234 4.078-9.984v-21.516q0-10.898 7.594-16.945 7.593-6.047 20.39-6.047v9.774q-16.172.421-16.172 13.992v20.742q0 15.117-15.679 17.859v.844q15.679 2.742 15.679 17.859zM939.664 424.165v-.844q-15.68-2.742-15.68-17.859V384.72q0-13.571-15.96-13.992v-9.774q12.937 0 20.355 6.117 7.418 6.118 7.418 16.875v21.516q0 6.82 4.148 10.019 4.149 3.2 13.289 3.34v9.914q-8.578 0-13.007 3.129-4.43 3.129-4.43 10.442v21.304q0 10.758-7.207 16.77-7.207 6.012-20.566 6.152v-9.843q7.804-.141 11.882-3.375 4.078-3.235 4.078-10.407v-20.883q0-8.015 3.868-12.234 3.867-4.219 11.812-5.625z\"}}),_c('path',{attrs:{\"d\":\"M900.45 437.837a18.554 18.554 0 00-1.936-.879l.466-.038s-4.151-1.838-4.514-15.18c-.359-13.344 3.957-15.62 3.957-15.62l-.62.027a18.47 18.47 0 007.917-7.804c4.823-9.072 1.372-20.341-7.702-25.165-9.078-4.818-20.344-1.375-25.164 7.706-1.982 3.725-2.545 7.817-1.919 11.683l-.212-.326s1.093 4.842-10.258 11.888c-11.349 7.05-16.469 3.54-16.469 3.54l.326.48c-.325-.201-.636-.406-.975-.583-9.078-4.824-20.347-1.377-25.169 7.701-4.82 9.077-1.372 20.341 7.703 25.167 6.766 3.591 14.744 2.59 20.365-1.914l-.122.236s4.132-3.399 16.04 2.994c9.4 5.044 10.796 9.988 10.975 11.846-.246 6.893 3.347 13.654 9.847 17.107 9.075 4.825 20.344 1.375 25.164-7.701 4.824-9.075 1.378-20.345-7.7-25.165zm-20.984 2.446c-1.504.532-5.801 1.121-14.847-3.73-9.797-5.26-11.251-9.654-11.464-10.973.139-1.6.05-3.197-.223-4.755l.06.09s-.798-4.274 10.412-11.235c10.033-6.228 14.594-4.989 15.443-4.664a18.45 18.45 0 001.706 1.033c1.129.6 2.293 1.07 3.472 1.418 1.38 1.314 3.92 5.045 4.184 14.854.27 9.883-2.634 13.694-4.217 15.042a18.46 18.46 0 00-4.526 2.92z\",\"fill\":\"#0C479C\"}}),_c('path',{attrs:{\"d\":\"M878.239 379.101c-5.415 5.923-5.529 14.636-.312 19.566-2.579-2.483-2.523-7.651.083-12.597.335-.443 1.306-1.49 2.725-1.014.143.049.237.062.292.053.321.069.65.11.99.095a3.904 3.904 0 003.725-4.077 3.848 3.848 0 00-1.065-2.48c5.002-3.277 10.742-3.652 13.094-1.504l.09.006c-5.373-4.906-14.156-4.029-19.622 1.952z\",\"fill\":\"#FFF\"}}),_c('g',{attrs:{\"fill\":\"#FFF\"}},[_c('path',{attrs:{\"d\":\"M823.632 433.846c-.046-.047-.093-.102-.141-.148.03.031.059.069.095.102l.046.046zM823.805 414.131c-5.416 5.924-5.529 14.635-.313 19.566-2.578-2.484-2.523-7.652.083-12.598.336-.444 1.308-1.49 2.727-1.014a.709.709 0 00.292.054c.321.069.651.11.99.095a3.905 3.905 0 003.725-4.076 3.859 3.859 0 00-1.063-2.48c4.999-3.276 10.74-3.654 13.092-1.505l.089.008c-5.373-4.909-14.158-4.033-19.622 1.95z\"}})]),_c('g',{attrs:{\"fill\":\"#FFF\"}},[_c('path',{attrs:{\"d\":\"M881.256 463.505c-.047-.048-.094-.102-.141-.148.029.031.059.069.094.101l.047.047zM881.428 443.787c-5.416 5.926-5.529 14.639-.313 19.569-2.58-2.483-2.523-7.653.082-12.597.336-.445 1.307-1.49 2.727-1.014.143.047.235.061.292.053.32.069.651.11.99.096a3.907 3.907 0 003.723-4.08 3.856 3.856 0 00-1.063-2.479c5-3.275 10.739-3.652 13.093-1.504l.088.007c-5.37-4.907-14.156-4.03-19.619 1.949z\"}})]),_c('path',{attrs:{\"d\":\"M788.747 529.904v-22.148h6.591v22.148q0 3.054-1.351 5.395-1.351 2.34-3.812 3.614-2.461 1.275-5.559 1.275-5.076 0-7.91-2.582-2.835-2.582-2.835-7.306h6.636q0 2.351.989 3.471.988 1.121 3.12 1.121 1.889 0 3.01-1.296 1.121-1.297 1.121-3.692zm28.828 1.45q0-1.867-1.319-2.867-1.318-1-4.746-2.109-3.427-1.11-5.427-2.187-5.449-2.944-5.449-7.932 0-2.592 1.461-4.625 1.461-2.032 4.197-3.175 2.735-1.143 6.141-1.143 3.428 0 6.109 1.242 2.68 1.241 4.163 3.505 1.484 2.263 1.484 5.141h-6.592q0-2.197-1.385-3.417-1.384-1.219-3.889-1.219-2.417 0-3.757 1.022-1.34 1.021-1.34 2.691 0 1.56 1.571 2.615 1.571 1.055 4.625 1.978 5.625 1.691 8.196 4.196 2.571 2.505 2.571 6.241 0 4.152-3.143 6.514-3.142 2.363-8.459 2.363-3.691 0-6.724-1.352-3.032-1.351-4.625-3.702t-1.593-5.449h6.614q0 5.295 6.328 5.295 2.351 0 3.669-.956 1.319-.956 1.319-2.67zm37.353-8.305v1.428q0 4.724-1.67 8.284-1.67 3.559-4.779 5.493-3.109 1.934-7.13 1.934-3.977 0-7.097-1.912-3.12-1.912-4.834-5.46-1.714-3.549-1.736-8.163v-1.582q0-4.724 1.703-8.317 1.703-3.592 4.812-5.515 3.109-1.923 7.108-1.923 3.999 0 7.108 1.923 3.11 1.923 4.812 5.515 1.703 3.593 1.703 8.295zm-6.679 1.538v-1.56q0-5.032-1.802-7.647-1.802-2.614-5.142-2.614-3.318 0-5.119 2.581-1.802 2.582-1.824 7.57v1.56q0 4.9 1.802 7.603 1.801 2.702 5.185 2.702 3.318 0 5.098-2.604 1.78-2.603 1.802-7.591zm37.485-16.831v31.992h-6.592l-12.832-21.05v21.05h-6.592v-31.992h6.592l12.854 21.094v-21.094h6.57zm17.688 15.732v5.12h-12.371v-5.12h12.371zm12.107-15.732v26.697h13.996v5.295h-20.588v-31.992h6.592zm27.685 31.992h-9.909v-31.992h9.844q4.218 0 7.547 1.9 3.329 1.901 5.197 5.406 1.867 3.504 1.867 7.965v1.472q0 4.46-1.834 7.932-1.835 3.472-5.175 5.383-3.34 1.912-7.537 1.934zm-.065-26.653h-3.252v21.358h3.186q3.867 0 5.91-2.527 2.044-2.527 2.088-7.229v-1.692q0-4.878-2.022-7.394-2.021-2.516-5.91-2.516z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 190.24 81.52\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('defs',[_c('linearGradient',{attrs:{\"id\":\"a\",\"y1\":\"40.76\",\"x2\":\"190.24\",\"y2\":\"40.76\",\"gradientUnits\":\"userSpaceOnUse\"}},[_c('stop',{attrs:{\"offset\":\"0\",\"stop-color\":\"#90cea1\"}}),_c('stop',{attrs:{\"offset\":\".56\",\"stop-color\":\"#3cbec9\"}}),_c('stop',{attrs:{\"offset\":\"1\",\"stop-color\":\"#00b3e5\"}})])]),_c('g',{attrs:{\"data-name\":\"Layer 2\"}},[_c('path',{attrs:{\"d\":\"M105.67 36.06h66.9a17.67 17.67 0 0017.67-17.66A17.67 17.67 0 00172.57.73h-66.9A17.67 17.67 0 0088 18.4a17.67 17.67 0 0017.67 17.66zm-88 45h76.9a17.67 17.67 0 0017.67-17.66 17.67 17.67 0 00-17.67-17.67h-76.9A17.67 17.67 0 000 63.4a17.67 17.67 0 0017.67 17.66zm-7.26-45.64h7.8V6.92h10.1V0h-28v6.9h10.1zm28.1 0h7.8V8.25h.1l9 27.15h6l9.3-27.15h.1V35.4h7.8V0H66.76l-8.2 23.1h-.1L50.31 0h-11.8zm113.92 20.25a15.07 15.07 0 00-4.52-5.52 18.57 18.57 0 00-6.68-3.08 33.54 33.54 0 00-8.07-1h-11.7v35.4h12.75a24.58 24.58 0 007.55-1.15 19.34 19.34 0 006.35-3.32 16.27 16.27 0 004.37-5.5 16.91 16.91 0 001.63-7.58 18.5 18.5 0 00-1.68-8.25zM145 68.6a8.8 8.8 0 01-2.64 3.4 10.7 10.7 0 01-4 1.82 21.57 21.57 0 01-5 .55h-4.05v-21h4.6a17 17 0 014.67.63 11.66 11.66 0 013.88 1.87A9.14 9.14 0 01145 59a9.87 9.87 0 011 4.52 11.89 11.89 0 01-1 5.08zm44.63-.13a8 8 0 00-1.58-2.62 8.38 8.38 0 00-2.42-1.85 10.31 10.31 0 00-3.17-1v-.1a9.22 9.22 0 004.42-2.82 7.43 7.43 0 001.68-5 8.42 8.42 0 00-1.15-4.65 8.09 8.09 0 00-3-2.72 12.56 12.56 0 00-4.18-1.3 32.84 32.84 0 00-4.62-.33h-13.2v35.4h14.5a22.41 22.41 0 004.72-.5 13.53 13.53 0 004.28-1.65 9.42 9.42 0 003.1-3 8.52 8.52 0 001.2-4.68 9.39 9.39 0 00-.55-3.18zm-19.42-15.75h5.3a10 10 0 011.85.18 6.18 6.18 0 011.7.57 3.39 3.39 0 011.22 1.13 3.22 3.22 0 01.48 1.82 3.63 3.63 0 01-.43 1.8 3.4 3.4 0 01-1.12 1.2 4.92 4.92 0 01-1.58.65 7.51 7.51 0 01-1.77.2h-5.65zm11.72 20a3.9 3.9 0 01-1.22 1.3 4.64 4.64 0 01-1.68.7 8.18 8.18 0 01-1.82.2h-7v-8h5.9a15.35 15.35 0 012 .15 8.47 8.47 0 012.05.55 4 4 0 011.57 1.18 3.11 3.11 0 01.63 2 3.71 3.71 0 01-.43 1.92z\",\"fill\":\"url(#a)\",\"data-name\":\"Layer 1\"}})])])\n          )\n        }\n      }\n    ","import { createPrivateTypeIndex, fetchSolidDocument, SolidUserProfile } from '@noeldemartin/solid-utils';\nimport { objectWithoutEmpty, requireUrlParentDirectory, urlParentDirectory, uuid } from '@noeldemartin/utils';\nimport { SolidDocument, SolidEngine } from 'soukai-solid';\nimport Soukai from 'soukai';\n\nimport MediaContainer from '@/models/soukai/MediaContainer';\nimport ModelsCache from '@/models/ModelsCache';\nimport TypeRegistration from '@/models/soukai/TypeRegistration';\nimport User from '@/models/users/User';\n\nimport SolidAuth from '@/authentication/SolidAuth';\n\nexport type SolidUserJSON = SolidUserProfile;\n\nexport default class SolidUser extends User<SolidUserJSON> {\n\n    public static isSolidUserJSON(json: object): json is SolidUserJSON {\n        return 'webId' in json;\n    }\n\n    public static async fromJSON(json: SolidUserJSON): Promise<SolidUser> {\n        return new SolidUser(json);\n    }\n\n    private profile: SolidUserProfile;\n\n    private moviesContainerUrl?: string | null;\n\n    constructor(profile: SolidUserProfile) {\n        super(profile.name ?? 'Unknown', profile.avatarUrl ?? null);\n\n        this.profile = profile;\n    }\n\n    public initSoukaiEngine(): void {\n        // TODO implement maxGlobbingSize config option\n        Soukai.useEngine(new SolidEngine(SolidAuth.fetch, {\n            globbingBatchSize: null,\n        }));\n    }\n\n    public async logout(): Promise<void> {\n        await SolidAuth.logout();\n    }\n\n    public toJSON(): SolidUserJSON {\n        return this.profile;\n    }\n\n    protected async getCachedMoviesContainer(): Promise<MediaContainer | null> {\n        const moviesContainerDocument = await this.getMoviesContainerDocument();\n\n        if (!moviesContainerDocument)\n            return null;\n\n        // Given that we've set the date in the client after receiving a response, there may be some\n        // difference in the modified date used in the server depending on the network latency.\n        // We will use a 10 seconds threshold to consider models valid.\n        const models = await ModelsCache.getFromDocument(moviesContainerDocument, 10000);\n        const [moviesContainer] = (models || []).filter(model => model.modelClass === MediaContainer);\n\n        return moviesContainer as MediaContainer || null;\n    }\n\n    protected async initMoviesContainer(): Promise<MediaContainer> {\n        const now = new Date();\n        const url = await this.getMoviesContainerUrl();\n        const existingContainer = url ? await MediaContainer.find<MediaContainer>(url) : null;\n        const moviesContainer = existingContainer || await this.createMoviesContainer();\n\n        // Reading containers causes their modified date to be updated in node-solid-server, so\n        // we will set the modified date of this document in the cache to now.\n        ModelsCache.rememberDocument(moviesContainer.url, now);\n        ModelsCache.remember(moviesContainer, objectWithoutEmpty({ documents: moviesContainer.documents }));\n\n        return moviesContainer;\n    }\n\n    private async getMoviesContainerDocument(): Promise<SolidDocument | null> {\n        const url = await this.getMoviesContainerUrl() ?? '';\n        const parentUrl = urlParentDirectory(url);\n\n        if (!parentUrl)\n            return null;\n\n        try {\n            const document = await fetchSolidDocument(parentUrl, SolidAuth.fetch);\n            const modified = document.statement(url, 'purl:modified');\n\n            return modified\n                ? new SolidDocument({ url, updatedAt: new Date(modified.object.value) }, true)\n                : null;\n        } catch (error) {\n            return null;\n        }\n    }\n\n    private async getMoviesContainerUrl(): Promise<string | null> {\n        if (typeof this.moviesContainerUrl === 'undefined')\n            this.moviesContainerUrl = await this.fetchMoviesContainerUrl();\n\n        return this.moviesContainerUrl;\n    }\n\n    private async fetchMoviesContainerUrl(): Promise<string | null> {\n        try {\n            const typeIndexUrl = this.profile.privateTypeIndexUrl ?? await this.createTypeIndex();\n            const document = await fetchSolidDocument(typeIndexUrl, SolidAuth.fetch);\n            const moviesContainerType = document\n                .statements(undefined, 'rdf:type', 'solid:TypeRegistration')\n                .find(statement =>\n                    document.contains(statement.subject.value, 'solid:forClass', 'schema:Movie')  &&\n                    document.contains(statement.subject.value, 'solid:instanceContainer'),\n                );\n\n            return moviesContainerType\n                ? document.statement(moviesContainerType.subject.value, 'solid:instanceContainer')?.object.value ?? null\n                : null;\n        } catch (error) {\n            return null;\n        }\n    }\n\n    private async createMoviesContainer(): Promise<MediaContainer> {\n        // TODO ask for preferred storage\n        const typeIndexUrl = this.profile.privateTypeIndexUrl ?? await this.createTypeIndex();\n        const storage = this.profile.storageUrls[0];\n        const moviesContainer = new MediaContainer({ name: 'Movies' });\n        const rdfsClasses = [\n            'https://schema.org/Movie',\n            'https://schema.org/WatchAction',\n        ];\n\n        moviesContainer.setRelationModels('movies', []);\n        moviesContainer.setRelationModels('documents', []);\n\n        await moviesContainer.save(storage);\n        await Promise.all(rdfsClasses.map(rdfsClass => {\n            const typeRegistration = new TypeRegistration({\n                forClass: rdfsClass,\n                instanceContainer: moviesContainer.url,\n            });\n\n            typeRegistration.mintUrl(this.profile.privateTypeIndexUrl, true, uuid());\n\n            return typeRegistration.save(requireUrlParentDirectory(typeIndexUrl));\n        }));\n\n        return moviesContainer;\n    }\n\n    private async createTypeIndex(): Promise<string> {\n        const typeIndexUrl = await createPrivateTypeIndex(this.profile, SolidAuth.fetch);\n\n        this.profile.privateTypeIndexUrl = typeIndexUrl;\n\n        return typeIndexUrl;\n    }\n\n}\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"}})])\n          )\n        }\n      }\n    "],"sourceRoot":""}